(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function wU(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var pn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ct(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function jU(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var A4={exports:{}},pt={};/**
* @license React
* react.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Ap=Symbol.for("react.element"),NU=Symbol.for("react.portal"),_U=Symbol.for("react.fragment"),kU=Symbol.for("react.strict_mode"),SU=Symbol.for("react.profiler"),CU=Symbol.for("react.provider"),EU=Symbol.for("react.context"),OU=Symbol.for("react.forward_ref"),AU=Symbol.for("react.suspense"),PU=Symbol.for("react.memo"),TU=Symbol.for("react.lazy"),WC=Symbol.iterator;function $U(e){return e===null||typeof e!="object"?null:(e=WC&&e[WC]||e["@@iterator"],typeof e=="function"?e:null)}var P4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T4=Object.assign,$4={};function xf(e,t,r){this.props=e,this.context=t,this.refs=$4,this.updater=r||P4}xf.prototype.isReactComponent={};xf.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};xf.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function M4(){}M4.prototype=xf.prototype;function u2(e,t,r){this.props=e,this.context=t,this.refs=$4,this.updater=r||P4}var d2=u2.prototype=new M4;d2.constructor=u2;T4(d2,xf.prototype);d2.isPureReactComponent=!0;var KC=Array.isArray,R4=Object.prototype.hasOwnProperty,f2={current:null},I4={key:!0,ref:!0,__self:!0,__source:!0};function D4(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)R4.call(t,n)&&!I4.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Ap,type:e,key:i,ref:o,props:a,_owner:f2.current}}function MU(e,t){return{$$typeof:Ap,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function h2(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ap}function RU(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var HC=/\/+/g;function K0(e,t){return typeof e=="object"&&e!==null&&e.key!=null?RU(""+e.key):t.toString(36)}function fv(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ap:case NU:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+K0(o,0):n,KC(a)?(r="",e!=null&&(r=e.replace(HC,"$&/")+"/"),fv(a,t,r,"",function(u){return u})):a!=null&&(h2(a)&&(a=MU(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(HC,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",KC(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+K0(i,l);o+=fv(i,t,r,c,a)}else if(c=$U(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+K0(i,l++),o+=fv(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function pg(e,t,r){if(e==null)return e;var n=[],a=0;return fv(e,n,"","",function(i){return t.call(r,i,a++)}),n}function IU(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var On={current:null},hv={transition:null},DU={ReactCurrentDispatcher:On,ReactCurrentBatchConfig:hv,ReactCurrentOwner:f2};function z4(){throw Error("act(...) is not supported in production builds of React.")}pt.Children={map:pg,forEach:function(e,t,r){pg(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return pg(e,function(){t++}),t},toArray:function(e){return pg(e,function(t){return t})||[]},only:function(e){if(!h2(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};pt.Component=xf;pt.Fragment=_U;pt.Profiler=SU;pt.PureComponent=u2;pt.StrictMode=kU;pt.Suspense=AU;pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DU;pt.act=z4;pt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=T4({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=f2.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)R4.call(t,c)&&!I4.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Ap,type:e.type,key:a,ref:i,props:n,_owner:o}};pt.createContext=function(e){return e={$$typeof:EU,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:CU,_context:e},e.Consumer=e};pt.createElement=D4;pt.createFactory=function(e){var t=D4.bind(null,e);return t.type=e,t};pt.createRef=function(){return{current:null}};pt.forwardRef=function(e){return{$$typeof:OU,render:e}};pt.isValidElement=h2;pt.lazy=function(e){return{$$typeof:TU,_payload:{_status:-1,_result:e},_init:IU}};pt.memo=function(e,t){return{$$typeof:PU,type:e,compare:t===void 0?null:t}};pt.startTransition=function(e){var t=hv.transition;hv.transition={};try{e()}finally{hv.transition=t}};pt.unstable_act=z4;pt.useCallback=function(e,t){return On.current.useCallback(e,t)};pt.useContext=function(e){return On.current.useContext(e)};pt.useDebugValue=function(){};pt.useDeferredValue=function(e){return On.current.useDeferredValue(e)};pt.useEffect=function(e,t){return On.current.useEffect(e,t)};pt.useId=function(){return On.current.useId()};pt.useImperativeHandle=function(e,t,r){return On.current.useImperativeHandle(e,t,r)};pt.useInsertionEffect=function(e,t){return On.current.useInsertionEffect(e,t)};pt.useLayoutEffect=function(e,t){return On.current.useLayoutEffect(e,t)};pt.useMemo=function(e,t){return On.current.useMemo(e,t)};pt.useReducer=function(e,t,r){return On.current.useReducer(e,t,r)};pt.useRef=function(e){return On.current.useRef(e)};pt.useState=function(e){return On.current.useState(e)};pt.useSyncExternalStore=function(e,t,r){return On.current.useSyncExternalStore(e,t,r)};pt.useTransition=function(){return On.current.useTransition()};pt.version="18.3.1";A4.exports=pt;var g=A4.exports;const E=Ct(g),m2=wU({__proto__:null,default:E},[g]);var L4={exports:{}},Sa={},F4={exports:{}},B4={};/**
* @license React
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/(function(e){function t(z,R){var G=z.length;z.push(R);e:for(;0<G;){var D=G-1>>>1,F=z[D];if(0<a(F,R))z[D]=R,z[G]=F,G=D;else break e}}function r(z){return z.length===0?null:z[0]}function n(z){if(z.length===0)return null;var R=z[0],G=z.pop();if(G!==R){z[0]=G;e:for(var D=0,F=z.length,J=F>>>1;D<J;){var H=2*(D+1)-1,I=z[H],oe=H+1,V=z[oe];if(0>a(I,G))oe<F&&0>a(V,I)?(z[D]=V,z[oe]=G,D=oe):(z[D]=I,z[H]=G,D=H);else if(oe<F&&0>a(V,G))z[D]=V,z[oe]=G,D=oe;else break e}}return R}function a(z,R){var G=z.sortIndex-R.sortIndex;return G!==0?G:z.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,v=!1,p=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(z){for(var R=r(u);R!==null;){if(R.callback===null)n(u);else if(R.startTime<=z)n(u),R.sortIndex=R.expirationTime,t(c,R);else break;R=r(u)}}function j(z){if(p=!1,w(z),!v)if(r(c)!==null)v=!0,U(N);else{var R=r(u);R!==null&&L(j,R.startTime-z)}}function N(z,R){v=!1,p&&(p=!1,x(C),C=-1),m=!0;var G=h;try{for(w(R),f=r(c);f!==null&&(!(f.expirationTime>R)||z&&!P());){var D=f.callback;if(typeof D=="function"){f.callback=null,h=f.priorityLevel;var F=D(f.expirationTime<=R);R=e.unstable_now(),typeof F=="function"?f.callback=F:f===r(c)&&n(c),w(R)}else n(c);f=r(c)}if(f!==null)var J=!0;else{var H=r(u);H!==null&&L(j,H.startTime-R),J=!1}return J}finally{f=null,h=G,m=!1}}var _=!1,k=null,C=-1,O=5,T=-1;function P(){return!(e.unstable_now()-T<O)}function S(){if(k!==null){var z=e.unstable_now();T=z;var R=!0;try{R=k(!0,z)}finally{R?M():(_=!1,k=null)}}else _=!1}var M;if(typeof y=="function")M=function(){y(S)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,q=$.port2;$.port1.onmessage=S,M=function(){q.postMessage(null)}}else M=function(){b(S,0)};function U(z){k=z,_||(_=!0,M())}function L(z,R){C=b(function(){z(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,U(N))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(z){switch(h){case 1:case 2:case 3:var R=3;break;default:R=h}var G=h;h=R;try{return z()}finally{h=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,R){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var G=h;h=z;try{return R()}finally{h=G}},e.unstable_scheduleCallback=function(z,R,G){var D=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?D+G:D):G=D,z){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=G+F,z={id:d++,callback:R,priorityLevel:z,startTime:G,expirationTime:F,sortIndex:-1},G>D?(z.sortIndex=G,t(u,z),r(c)===null&&z===r(u)&&(p?(x(C),C=-1):p=!0,L(j,G-D))):(z.sortIndex=F,t(c,z),v||m||(v=!0,U(N))),z},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(z){var R=h;return function(){var G=h;h=R;try{return z.apply(this,arguments)}finally{h=G}}}})(B4);F4.exports=B4;var zU=F4.exports;/**
* @license React
* react-dom.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var LU=g,ja=zU;function Ne(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var q4=new Set,fm={};function Uc(e,t){bd(e,t),bd(e+"Capture",t)}function bd(e,t){for(fm[e]=t,e=0;e<t.length;e++)q4.add(t[e])}var Vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tj=Object.prototype.hasOwnProperty,FU=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,GC={},YC={};function BU(e){return Tj.call(YC,e)?!0:Tj.call(GC,e)?!1:FU.test(e)?YC[e]=!0:(GC[e]=!0,!1)}function qU(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function UU(e,t,r,n){if(t===null||typeof t>"u"||qU(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function An(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var on={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){on[e]=new An(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];on[t]=new An(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){on[e]=new An(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){on[e]=new An(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){on[e]=new An(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){on[e]=new An(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){on[e]=new An(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){on[e]=new An(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){on[e]=new An(e,5,!1,e.toLowerCase(),null,!1,!1)});var p2=/[\-:]([a-z])/g;function g2(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(p2,g2);on[t]=new An(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(p2,g2);on[t]=new An(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(p2,g2);on[t]=new An(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){on[e]=new An(e,1,!1,e.toLowerCase(),null,!1,!1)});on.xlinkHref=new An("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){on[e]=new An(e,1,!1,e.toLowerCase(),null,!0,!0)});function v2(e,t,r,n){var a=on.hasOwnProperty(t)?on[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(UU(t,r,a,n)&&(r=null),n||a===null?BU(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ro=LU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gg=Symbol.for("react.element"),Bu=Symbol.for("react.portal"),qu=Symbol.for("react.fragment"),y2=Symbol.for("react.strict_mode"),$j=Symbol.for("react.profiler"),U4=Symbol.for("react.provider"),V4=Symbol.for("react.context"),x2=Symbol.for("react.forward_ref"),Mj=Symbol.for("react.suspense"),Rj=Symbol.for("react.suspense_list"),b2=Symbol.for("react.memo"),_o=Symbol.for("react.lazy"),W4=Symbol.for("react.offscreen"),QC=Symbol.iterator;function Jf(e){return e===null||typeof e!="object"?null:(e=QC&&e[QC]||e["@@iterator"],typeof e=="function"?e:null)}var ur=Object.assign,H0;function Rh(e){if(H0===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);H0=t&&t[1]||""}return`
`+H0+e}var G0=!1;function Y0(e,t){if(!e||G0)return"";G0=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{G0=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Rh(e):""}function VU(e){switch(e.tag){case 5:return Rh(e.type);case 16:return Rh("Lazy");case 13:return Rh("Suspense");case 19:return Rh("SuspenseList");case 0:case 2:case 15:return e=Y0(e.type,!1),e;case 11:return e=Y0(e.type.render,!1),e;case 1:return e=Y0(e.type,!0),e;default:return""}}function Ij(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case qu:return"Fragment";case Bu:return"Portal";case $j:return"Profiler";case y2:return"StrictMode";case Mj:return"Suspense";case Rj:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case V4:return(e.displayName||"Context")+".Consumer";case U4:return(e._context.displayName||"Context")+".Provider";case x2:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case b2:return t=e.displayName||null,t!==null?t:Ij(e.type)||"Memo";case _o:t=e._payload,e=e._init;try{return Ij(e(t))}catch{}}return null}function WU(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ij(t);case 8:return t===y2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function al(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function K4(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function KU(e){var t=K4(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function vg(e){e._valueTracker||(e._valueTracker=KU(e))}function H4(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=K4(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Mv(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Dj(e,t){var r=t.checked;return ur({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function ZC(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=al(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function G4(e,t){t=t.checked,t!=null&&v2(e,"checked",t,!1)}function zj(e,t){G4(e,t);var r=al(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Lj(e,t.type,r):t.hasOwnProperty("defaultValue")&&Lj(e,t.type,al(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function XC(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Lj(e,t,r){(t!=="number"||Mv(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ih=Array.isArray;function ad(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+al(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Fj(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ne(91));return ur({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function JC(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Ne(92));if(Ih(r)){if(1<r.length)throw Error(Ne(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:al(r)}}function Y4(e,t){var r=al(t.value),n=al(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function eE(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Q4(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bj(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Q4(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var yg,Z4=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(yg=yg||document.createElement("div"),yg.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=yg.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function hm(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Uh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},HU=["Webkit","ms","Moz","O"];Object.keys(Uh).forEach(function(e){HU.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Uh[t]=Uh[e]})});function X4(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Uh.hasOwnProperty(e)&&Uh[e]?(""+t).trim():t+"px"}function J4(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=X4(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var GU=ur({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qj(e,t){if(t){if(GU[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ne(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ne(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ne(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ne(62))}}function Uj(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vj=null;function w2(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Wj=null,sd=null,id=null;function tE(e){if(e=$p(e)){if(typeof Wj!="function")throw Error(Ne(280));var t=e.stateNode;t&&(t=Wx(t),Wj(e.stateNode,e.type,t))}}function eR(e){sd?id?id.push(e):id=[e]:sd=e}function tR(){if(sd){var e=sd,t=id;if(id=sd=null,tE(e),t)for(e=0;e<t.length;e++)tE(t[e])}}function rR(e,t){return e(t)}function nR(){}var Q0=!1;function aR(e,t,r){if(Q0)return e(t,r);Q0=!0;try{return rR(e,t,r)}finally{Q0=!1,(sd!==null||id!==null)&&(nR(),tR())}}function mm(e,t){var r=e.stateNode;if(r===null)return null;var n=Wx(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Ne(231,t,typeof r));return r}var Kj=!1;if(Vi)try{var eh={};Object.defineProperty(eh,"passive",{get:function(){Kj=!0}}),window.addEventListener("test",eh,eh),window.removeEventListener("test",eh,eh)}catch{Kj=!1}function YU(e,t,r,n,a,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Vh=!1,Rv=null,Iv=!1,Hj=null,QU={onError:function(e){Vh=!0,Rv=e}};function ZU(e,t,r,n,a,i,o,l,c){Vh=!1,Rv=null,YU.apply(QU,arguments)}function XU(e,t,r,n,a,i,o,l,c){if(ZU.apply(this,arguments),Vh){if(Vh){var u=Rv;Vh=!1,Rv=null}else throw Error(Ne(198));Iv||(Iv=!0,Hj=u)}}function Vc(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function sR(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function rE(e){if(Vc(e)!==e)throw Error(Ne(188))}function JU(e){var t=e.alternate;if(!t){if(t=Vc(e),t===null)throw Error(Ne(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return rE(a),e;if(i===n)return rE(a),t;i=i.sibling}throw Error(Ne(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(Ne(189))}}if(r.alternate!==n)throw Error(Ne(190))}if(r.tag!==3)throw Error(Ne(188));return r.stateNode.current===r?e:t}function iR(e){return e=JU(e),e!==null?oR(e):null}function oR(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=oR(e);if(t!==null)return t;e=e.sibling}return null}var lR=ja.unstable_scheduleCallback,nE=ja.unstable_cancelCallback,e7=ja.unstable_shouldYield,t7=ja.unstable_requestPaint,br=ja.unstable_now,r7=ja.unstable_getCurrentPriorityLevel,j2=ja.unstable_ImmediatePriority,cR=ja.unstable_UserBlockingPriority,Dv=ja.unstable_NormalPriority,n7=ja.unstable_LowPriority,uR=ja.unstable_IdlePriority,Bx=null,Js=null;function a7(e){if(Js&&typeof Js.onCommitFiberRoot=="function")try{Js.onCommitFiberRoot(Bx,e,void 0,(e.current.flags&128)===128)}catch{}}var Ns=Math.clz32?Math.clz32:o7,s7=Math.log,i7=Math.LN2;function o7(e){return e>>>=0,e===0?32:31-(s7(e)/i7|0)|0}var xg=64,bg=4194304;function Dh(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function zv(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=Dh(l):(i&=o,i!==0&&(n=Dh(i)))}else o=r&~a,o!==0?n=Dh(o):i!==0&&(n=Dh(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ns(t),a=1<<r,n|=e[r],t&=~a;return n}function l7(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function c7(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Ns(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=l7(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Gj(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function dR(){var e=xg;return xg<<=1,!(xg&4194240)&&(xg=64),e}function Z0(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Pp(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ns(t),e[t]=r}function u7(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Ns(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function N2(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ns(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Tt=0;function fR(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var hR,_2,mR,pR,gR,Yj=!1,wg=[],Bo=null,qo=null,Uo=null,pm=new Map,gm=new Map,Oo=[],d7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function aE(e,t){switch(e){case"focusin":case"focusout":Bo=null;break;case"dragenter":case"dragleave":qo=null;break;case"mouseover":case"mouseout":Uo=null;break;case"pointerover":case"pointerout":pm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gm.delete(t.pointerId)}}function th(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=$p(t),t!==null&&_2(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function f7(e,t,r,n,a){switch(t){case"focusin":return Bo=th(Bo,e,t,r,n,a),!0;case"dragenter":return qo=th(qo,e,t,r,n,a),!0;case"mouseover":return Uo=th(Uo,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return pm.set(i,th(pm.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,gm.set(i,th(gm.get(i)||null,e,t,r,n,a)),!0}return!1}function vR(e){var t=ac(e.target);if(t!==null){var r=Vc(t);if(r!==null){if(t=r.tag,t===13){if(t=sR(r),t!==null){e.blockedOn=t,gR(e.priority,function(){mR(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function mv(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Qj(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Vj=n,r.target.dispatchEvent(n),Vj=null}else return t=$p(r),t!==null&&_2(t),e.blockedOn=r,!1;t.shift()}return!0}function sE(e,t,r){mv(e)&&r.delete(t)}function h7(){Yj=!1,Bo!==null&&mv(Bo)&&(Bo=null),qo!==null&&mv(qo)&&(qo=null),Uo!==null&&mv(Uo)&&(Uo=null),pm.forEach(sE),gm.forEach(sE)}function rh(e,t){e.blockedOn===t&&(e.blockedOn=null,Yj||(Yj=!0,ja.unstable_scheduleCallback(ja.unstable_NormalPriority,h7)))}function vm(e){function t(a){return rh(a,e)}if(0<wg.length){rh(wg[0],e);for(var r=1;r<wg.length;r++){var n=wg[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Bo!==null&&rh(Bo,e),qo!==null&&rh(qo,e),Uo!==null&&rh(Uo,e),pm.forEach(t),gm.forEach(t),r=0;r<Oo.length;r++)n=Oo[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Oo.length&&(r=Oo[0],r.blockedOn===null);)vR(r),r.blockedOn===null&&Oo.shift()}var od=ro.ReactCurrentBatchConfig,Lv=!0;function m7(e,t,r,n){var a=Tt,i=od.transition;od.transition=null;try{Tt=1,k2(e,t,r,n)}finally{Tt=a,od.transition=i}}function p7(e,t,r,n){var a=Tt,i=od.transition;od.transition=null;try{Tt=4,k2(e,t,r,n)}finally{Tt=a,od.transition=i}}function k2(e,t,r,n){if(Lv){var a=Qj(e,t,r,n);if(a===null)ow(e,t,n,Fv,r),aE(e,n);else if(f7(a,e,t,r,n))n.stopPropagation();else if(aE(e,n),t&4&&-1<d7.indexOf(e)){for(;a!==null;){var i=$p(a);if(i!==null&&hR(i),i=Qj(e,t,r,n),i===null&&ow(e,t,n,Fv,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else ow(e,t,n,null,r)}}var Fv=null;function Qj(e,t,r,n){if(Fv=null,e=w2(n),e=ac(e),e!==null)if(t=Vc(e),t===null)e=null;else if(r=t.tag,r===13){if(e=sR(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Fv=e,null}function yR(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(r7()){case j2:return 1;case cR:return 4;case Dv:case n7:return 16;case uR:return 536870912;default:return 16}default:return 16}}var $o=null,S2=null,pv=null;function xR(){if(pv)return pv;var e,t=S2,r=t.length,n,a="value"in $o?$o.value:$o.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return pv=a.slice(e,1<n?1-n:void 0)}function gv(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function jg(){return!0}function iE(){return!1}function Ca(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?jg:iE,this.isPropagationStopped=iE,this}return ur(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=jg)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=jg)},persist:function(){},isPersistent:jg}),t}var bf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},C2=Ca(bf),Tp=ur({},bf,{view:0,detail:0}),g7=Ca(Tp),X0,J0,nh,qx=ur({},Tp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:E2,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==nh&&(nh&&e.type==="mousemove"?(X0=e.screenX-nh.screenX,J0=e.screenY-nh.screenY):J0=X0=0,nh=e),X0)},movementY:function(e){return"movementY"in e?e.movementY:J0}}),oE=Ca(qx),v7=ur({},qx,{dataTransfer:0}),y7=Ca(v7),x7=ur({},Tp,{relatedTarget:0}),ew=Ca(x7),b7=ur({},bf,{animationName:0,elapsedTime:0,pseudoElement:0}),w7=Ca(b7),j7=ur({},bf,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),N7=Ca(j7),_7=ur({},bf,{data:0}),lE=Ca(_7),k7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},S7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},C7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function E7(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=C7[e])?!!t[e]:!1}function E2(){return E7}var O7=ur({},Tp,{key:function(e){if(e.key){var t=k7[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=gv(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?S7[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:E2,charCode:function(e){return e.type==="keypress"?gv(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gv(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),A7=Ca(O7),P7=ur({},qx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cE=Ca(P7),T7=ur({},Tp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:E2}),$7=Ca(T7),M7=ur({},bf,{propertyName:0,elapsedTime:0,pseudoElement:0}),R7=Ca(M7),I7=ur({},qx,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),D7=Ca(I7),z7=[9,13,27,32],O2=Vi&&"CompositionEvent"in window,Wh=null;Vi&&"documentMode"in document&&(Wh=document.documentMode);var L7=Vi&&"TextEvent"in window&&!Wh,bR=Vi&&(!O2||Wh&&8<Wh&&11>=Wh),uE=" ",dE=!1;function wR(e,t){switch(e){case"keyup":return z7.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jR(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Uu=!1;function F7(e,t){switch(e){case"compositionend":return jR(t);case"keypress":return t.which!==32?null:(dE=!0,uE);case"textInput":return e=t.data,e===uE&&dE?null:e;default:return null}}function B7(e,t){if(Uu)return e==="compositionend"||!O2&&wR(e,t)?(e=xR(),pv=S2=$o=null,Uu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return bR&&t.locale!=="ko"?null:t.data;default:return null}}var q7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fE(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!q7[e.type]:t==="textarea"}function NR(e,t,r,n){eR(n),t=Bv(t,"onChange"),0<t.length&&(r=new C2("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Kh=null,ym=null;function U7(e){MR(e,0)}function Ux(e){var t=Ku(e);if(H4(t))return e}function V7(e,t){if(e==="change")return t}var _R=!1;if(Vi){var tw;if(Vi){var rw="oninput"in document;if(!rw){var hE=document.createElement("div");hE.setAttribute("oninput","return;"),rw=typeof hE.oninput=="function"}tw=rw}else tw=!1;_R=tw&&(!document.documentMode||9<document.documentMode)}function mE(){Kh&&(Kh.detachEvent("onpropertychange",kR),ym=Kh=null)}function kR(e){if(e.propertyName==="value"&&Ux(ym)){var t=[];NR(t,ym,e,w2(e)),aR(U7,t)}}function W7(e,t,r){e==="focusin"?(mE(),Kh=t,ym=r,Kh.attachEvent("onpropertychange",kR)):e==="focusout"&&mE()}function K7(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ux(ym)}function H7(e,t){if(e==="click")return Ux(t)}function G7(e,t){if(e==="input"||e==="change")return Ux(t)}function Y7(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Cs=typeof Object.is=="function"?Object.is:Y7;function xm(e,t){if(Cs(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Tj.call(t,a)||!Cs(e[a],t[a]))return!1}return!0}function pE(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gE(e,t){var r=pE(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=pE(r)}}function SR(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?SR(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function CR(){for(var e=window,t=Mv();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Mv(e.document)}return t}function A2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Q7(e){var t=CR(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&SR(r.ownerDocument.documentElement,r)){if(n!==null&&A2(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=gE(r,i);var o=gE(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Z7=Vi&&"documentMode"in document&&11>=document.documentMode,Vu=null,Zj=null,Hh=null,Xj=!1;function vE(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Xj||Vu==null||Vu!==Mv(n)||(n=Vu,"selectionStart"in n&&A2(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Hh&&xm(Hh,n)||(Hh=n,n=Bv(Zj,"onSelect"),0<n.length&&(t=new C2("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Vu)))}function Ng(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Wu={animationend:Ng("Animation","AnimationEnd"),animationiteration:Ng("Animation","AnimationIteration"),animationstart:Ng("Animation","AnimationStart"),transitionend:Ng("Transition","TransitionEnd")},nw={},ER={};Vi&&(ER=document.createElement("div").style,"AnimationEvent"in window||(delete Wu.animationend.animation,delete Wu.animationiteration.animation,delete Wu.animationstart.animation),"TransitionEvent"in window||delete Wu.transitionend.transition);function Vx(e){if(nw[e])return nw[e];if(!Wu[e])return e;var t=Wu[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in ER)return nw[e]=t[r];return e}var OR=Vx("animationend"),AR=Vx("animationiteration"),PR=Vx("animationstart"),TR=Vx("transitionend"),$R=new Map,yE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vl(e,t){$R.set(e,t),Uc(t,[e])}for(var aw=0;aw<yE.length;aw++){var sw=yE[aw],X7=sw.toLowerCase(),J7=sw[0].toUpperCase()+sw.slice(1);vl(X7,"on"+J7)}vl(OR,"onAnimationEnd");vl(AR,"onAnimationIteration");vl(PR,"onAnimationStart");vl("dblclick","onDoubleClick");vl("focusin","onFocus");vl("focusout","onBlur");vl(TR,"onTransitionEnd");bd("onMouseEnter",["mouseout","mouseover"]);bd("onMouseLeave",["mouseout","mouseover"]);bd("onPointerEnter",["pointerout","pointerover"]);bd("onPointerLeave",["pointerout","pointerover"]);Uc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Uc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Uc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Uc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Uc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Uc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eV=new Set("cancel close invalid load scroll toggle".split(" ").concat(zh));function xE(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,XU(n,t,void 0,e),e.currentTarget=null}function MR(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;xE(a,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;xE(a,l,u),i=c}}}if(Iv)throw e=Hj,Iv=!1,Hj=null,e}function Ht(e,t){var r=t[n1];r===void 0&&(r=t[n1]=new Set);var n=e+"__bubble";r.has(n)||(RR(t,e,2,!1),r.add(n))}function iw(e,t,r){var n=0;t&&(n|=4),RR(r,e,n,t)}var _g="_reactListening"+Math.random().toString(36).slice(2);function bm(e){if(!e[_g]){e[_g]=!0,q4.forEach(function(r){r!=="selectionchange"&&(eV.has(r)||iw(r,!1,e),iw(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[_g]||(t[_g]=!0,iw("selectionchange",!1,t))}}function RR(e,t,r,n){switch(yR(t)){case 1:var a=m7;break;case 4:a=p7;break;default:a=k2}r=a.bind(null,t,r,e),a=void 0,!Kj||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function ow(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=ac(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}aR(function(){var u=i,d=w2(r),f=[];e:{var h=$R.get(e);if(h!==void 0){var m=C2,v=e;switch(e){case"keypress":if(gv(r)===0)break e;case"keydown":case"keyup":m=A7;break;case"focusin":v="focus",m=ew;break;case"focusout":v="blur",m=ew;break;case"beforeblur":case"afterblur":m=ew;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=oE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=y7;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=$7;break;case OR:case AR:case PR:m=w7;break;case TR:m=R7;break;case"scroll":m=g7;break;case"wheel":m=D7;break;case"copy":case"cut":case"paste":m=N7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=cE}var p=(t&4)!==0,b=!p&&e==="scroll",x=p?h!==null?h+"Capture":null:h;p=[];for(var y=u,w;y!==null;){w=y;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,x!==null&&(j=mm(y,x),j!=null&&p.push(wm(y,j,w)))),b)break;y=y.return}0<p.length&&(h=new m(h,v,null,r,d),f.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==Vj&&(v=r.relatedTarget||r.fromElement)&&(ac(v)||v[Wi]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(v=r.relatedTarget||r.toElement,m=u,v=v?ac(v):null,v!==null&&(b=Vc(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(p=oE,j="onMouseLeave",x="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(p=cE,j="onPointerLeave",x="onPointerEnter",y="pointer"),b=m==null?h:Ku(m),w=v==null?h:Ku(v),h=new p(j,y+"leave",m,r,d),h.target=b,h.relatedTarget=w,j=null,ac(d)===u&&(p=new p(x,y+"enter",v,r,d),p.target=w,p.relatedTarget=b,j=p),b=j,m&&v)t:{for(p=m,x=v,y=0,w=p;w;w=ou(w))y++;for(w=0,j=x;j;j=ou(j))w++;for(;0<y-w;)p=ou(p),y--;for(;0<w-y;)x=ou(x),w--;for(;y--;){if(p===x||x!==null&&p===x.alternate)break t;p=ou(p),x=ou(x)}p=null}else p=null;m!==null&&bE(f,h,m,p,!1),v!==null&&b!==null&&bE(f,b,v,p,!0)}}e:{if(h=u?Ku(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var N=V7;else if(fE(h))if(_R)N=G7;else{N=K7;var _=W7}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=H7);if(N&&(N=N(e,u))){NR(f,N,r,d);break e}_&&_(e,h,u),e==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&Lj(h,"number",h.value)}switch(_=u?Ku(u):window,e){case"focusin":(fE(_)||_.contentEditable==="true")&&(Vu=_,Zj=u,Hh=null);break;case"focusout":Hh=Zj=Vu=null;break;case"mousedown":Xj=!0;break;case"contextmenu":case"mouseup":case"dragend":Xj=!1,vE(f,r,d);break;case"selectionchange":if(Z7)break;case"keydown":case"keyup":vE(f,r,d)}var k;if(O2)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Uu?wR(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(bR&&r.locale!=="ko"&&(Uu||C!=="onCompositionStart"?C==="onCompositionEnd"&&Uu&&(k=xR()):($o=d,S2="value"in $o?$o.value:$o.textContent,Uu=!0)),_=Bv(u,C),0<_.length&&(C=new lE(C,e,null,r,d),f.push({event:C,listeners:_}),k?C.data=k:(k=jR(r),k!==null&&(C.data=k)))),(k=L7?F7(e,r):B7(e,r))&&(u=Bv(u,"onBeforeInput"),0<u.length&&(d=new lE("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=k))}MR(f,t)})}function wm(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Bv(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=mm(e,r),i!=null&&n.unshift(wm(e,i,a)),i=mm(e,t),i!=null&&n.push(wm(e,i,a))),e=e.return}return n}function ou(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function bE(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=mm(r,i),c!=null&&o.unshift(wm(r,c,l))):a||(c=mm(r,i),c!=null&&o.push(wm(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var tV=/\r\n?/g,rV=/\u0000|\uFFFD/g;function wE(e){return(typeof e=="string"?e:""+e).replace(tV,`
`).replace(rV,"")}function kg(e,t,r){if(t=wE(t),wE(e)!==t&&r)throw Error(Ne(425))}function qv(){}var Jj=null,e1=null;function t1(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var r1=typeof setTimeout=="function"?setTimeout:void 0,nV=typeof clearTimeout=="function"?clearTimeout:void 0,jE=typeof Promise=="function"?Promise:void 0,aV=typeof queueMicrotask=="function"?queueMicrotask:typeof jE<"u"?function(e){return jE.resolve(null).then(e).catch(sV)}:r1;function sV(e){setTimeout(function(){throw e})}function lw(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),vm(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);vm(t)}function Vo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function NE(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var wf=Math.random().toString(36).slice(2),Ks="__reactFiber$"+wf,jm="__reactProps$"+wf,Wi="__reactContainer$"+wf,n1="__reactEvents$"+wf,iV="__reactListeners$"+wf,oV="__reactHandles$"+wf;function ac(e){var t=e[Ks];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Wi]||r[Ks]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=NE(e);e!==null;){if(r=e[Ks])return r;e=NE(e)}return t}e=r,r=e.parentNode}return null}function $p(e){return e=e[Ks]||e[Wi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ku(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ne(33))}function Wx(e){return e[jm]||null}var a1=[],Hu=-1;function yl(e){return{current:e}}function Zt(e){0>Hu||(e.current=a1[Hu],a1[Hu]=null,Hu--)}function Bt(e,t){Hu++,a1[Hu]=e.current,e.current=t}var sl={},yn=yl(sl),Yn=yl(!1),wc=sl;function wd(e,t){var r=e.type.contextTypes;if(!r)return sl;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Qn(e){return e=e.childContextTypes,e!=null}function Uv(){Zt(Yn),Zt(yn)}function _E(e,t,r){if(yn.current!==sl)throw Error(Ne(168));Bt(yn,t),Bt(Yn,r)}function IR(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(Ne(108,WU(e)||"Unknown",a));return ur({},r,n)}function Vv(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||sl,wc=yn.current,Bt(yn,e),Bt(Yn,Yn.current),!0}function kE(e,t,r){var n=e.stateNode;if(!n)throw Error(Ne(169));r?(e=IR(e,t,wc),n.__reactInternalMemoizedMergedChildContext=e,Zt(Yn),Zt(yn),Bt(yn,e)):Zt(Yn),Bt(Yn,r)}var Ai=null,Kx=!1,cw=!1;function DR(e){Ai===null?Ai=[e]:Ai.push(e)}function lV(e){Kx=!0,DR(e)}function xl(){if(!cw&&Ai!==null){cw=!0;var e=0,t=Tt;try{var r=Ai;for(Tt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ai=null,Kx=!1}catch(a){throw Ai!==null&&(Ai=Ai.slice(e+1)),lR(j2,xl),a}finally{Tt=t,cw=!1}}return null}var Gu=[],Yu=0,Wv=null,Kv=0,Ra=[],Ia=0,jc=null,$i=1,Mi="";function Gl(e,t){Gu[Yu++]=Kv,Gu[Yu++]=Wv,Wv=e,Kv=t}function zR(e,t,r){Ra[Ia++]=$i,Ra[Ia++]=Mi,Ra[Ia++]=jc,jc=e;var n=$i;e=Mi;var a=32-Ns(n)-1;n&=~(1<<a),r+=1;var i=32-Ns(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,$i=1<<32-Ns(t)+a|r<<a|n,Mi=i+e}else $i=1<<i|r<<a|n,Mi=e}function P2(e){e.return!==null&&(Gl(e,1),zR(e,1,0))}function T2(e){for(;e===Wv;)Wv=Gu[--Yu],Gu[Yu]=null,Kv=Gu[--Yu],Gu[Yu]=null;for(;e===jc;)jc=Ra[--Ia],Ra[Ia]=null,Mi=Ra[--Ia],Ra[Ia]=null,$i=Ra[--Ia],Ra[Ia]=null}var xa=null,ya=null,rr=!1,hs=null;function LR(e,t){var r=La(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function SE(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,xa=e,ya=Vo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,xa=e,ya=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=jc!==null?{id:$i,overflow:Mi}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=La(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,xa=e,ya=null,!0):!1;default:return!1}}function s1(e){return(e.mode&1)!==0&&(e.flags&128)===0}function i1(e){if(rr){var t=ya;if(t){var r=t;if(!SE(e,t)){if(s1(e))throw Error(Ne(418));t=Vo(r.nextSibling);var n=xa;t&&SE(e,t)?LR(n,r):(e.flags=e.flags&-4097|2,rr=!1,xa=e)}}else{if(s1(e))throw Error(Ne(418));e.flags=e.flags&-4097|2,rr=!1,xa=e}}}function CE(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xa=e}function Sg(e){if(e!==xa)return!1;if(!rr)return CE(e),rr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!t1(e.type,e.memoizedProps)),t&&(t=ya)){if(s1(e))throw FR(),Error(Ne(418));for(;t;)LR(e,t),t=Vo(t.nextSibling)}if(CE(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ne(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ya=Vo(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ya=null}}else ya=xa?Vo(e.stateNode.nextSibling):null;return!0}function FR(){for(var e=ya;e;)e=Vo(e.nextSibling)}function jd(){ya=xa=null,rr=!1}function $2(e){hs===null?hs=[e]:hs.push(e)}var cV=ro.ReactCurrentBatchConfig;function ah(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ne(309));var n=r.stateNode}if(!n)throw Error(Ne(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Ne(284));if(!r._owner)throw Error(Ne(290,e))}return e}function Cg(e,t){throw e=Object.prototype.toString.call(t),Error(Ne(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function EE(e){var t=e._init;return t(e._payload)}function BR(e){function t(x,y){if(e){var w=x.deletions;w===null?(x.deletions=[y],x.flags|=16):w.push(y)}}function r(x,y){if(!e)return null;for(;y!==null;)t(x,y),y=y.sibling;return null}function n(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function a(x,y){return x=Go(x,y),x.index=0,x.sibling=null,x}function i(x,y,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<y?(x.flags|=2,y):w):(x.flags|=2,y)):(x.flags|=1048576,y)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,y,w,j){return y===null||y.tag!==6?(y=gw(w,x.mode,j),y.return=x,y):(y=a(y,w),y.return=x,y)}function c(x,y,w,j){var N=w.type;return N===qu?d(x,y,w.props.children,j,w.key):y!==null&&(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===_o&&EE(N)===y.type)?(j=a(y,w.props),j.ref=ah(x,y,w),j.return=x,j):(j=Nv(w.type,w.key,w.props,null,x.mode,j),j.ref=ah(x,y,w),j.return=x,j)}function u(x,y,w,j){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=vw(w,x.mode,j),y.return=x,y):(y=a(y,w.children||[]),y.return=x,y)}function d(x,y,w,j,N){return y===null||y.tag!==7?(y=gc(w,x.mode,j,N),y.return=x,y):(y=a(y,w),y.return=x,y)}function f(x,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=gw(""+y,x.mode,w),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case gg:return w=Nv(y.type,y.key,y.props,null,x.mode,w),w.ref=ah(x,null,y),w.return=x,w;case Bu:return y=vw(y,x.mode,w),y.return=x,y;case _o:var j=y._init;return f(x,j(y._payload),w)}if(Ih(y)||Jf(y))return y=gc(y,x.mode,w,null),y.return=x,y;Cg(x,y)}return null}function h(x,y,w,j){var N=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return N!==null?null:l(x,y,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case gg:return w.key===N?c(x,y,w,j):null;case Bu:return w.key===N?u(x,y,w,j):null;case _o:return N=w._init,h(x,y,N(w._payload),j)}if(Ih(w)||Jf(w))return N!==null?null:d(x,y,w,j,null);Cg(x,w)}return null}function m(x,y,w,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return x=x.get(w)||null,l(y,x,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case gg:return x=x.get(j.key===null?w:j.key)||null,c(y,x,j,N);case Bu:return x=x.get(j.key===null?w:j.key)||null,u(y,x,j,N);case _o:var _=j._init;return m(x,y,w,_(j._payload),N)}if(Ih(j)||Jf(j))return x=x.get(w)||null,d(y,x,j,N,null);Cg(y,j)}return null}function v(x,y,w,j){for(var N=null,_=null,k=y,C=y=0,O=null;k!==null&&C<w.length;C++){k.index>C?(O=k,k=null):O=k.sibling;var T=h(x,k,w[C],j);if(T===null){k===null&&(k=O);break}e&&k&&T.alternate===null&&t(x,k),y=i(T,y,C),_===null?N=T:_.sibling=T,_=T,k=O}if(C===w.length)return r(x,k),rr&&Gl(x,C),N;if(k===null){for(;C<w.length;C++)k=f(x,w[C],j),k!==null&&(y=i(k,y,C),_===null?N=k:_.sibling=k,_=k);return rr&&Gl(x,C),N}for(k=n(x,k);C<w.length;C++)O=m(k,x,C,w[C],j),O!==null&&(e&&O.alternate!==null&&k.delete(O.key===null?C:O.key),y=i(O,y,C),_===null?N=O:_.sibling=O,_=O);return e&&k.forEach(function(P){return t(x,P)}),rr&&Gl(x,C),N}function p(x,y,w,j){var N=Jf(w);if(typeof N!="function")throw Error(Ne(150));if(w=N.call(w),w==null)throw Error(Ne(151));for(var _=N=null,k=y,C=y=0,O=null,T=w.next();k!==null&&!T.done;C++,T=w.next()){k.index>C?(O=k,k=null):O=k.sibling;var P=h(x,k,T.value,j);if(P===null){k===null&&(k=O);break}e&&k&&P.alternate===null&&t(x,k),y=i(P,y,C),_===null?N=P:_.sibling=P,_=P,k=O}if(T.done)return r(x,k),rr&&Gl(x,C),N;if(k===null){for(;!T.done;C++,T=w.next())T=f(x,T.value,j),T!==null&&(y=i(T,y,C),_===null?N=T:_.sibling=T,_=T);return rr&&Gl(x,C),N}for(k=n(x,k);!T.done;C++,T=w.next())T=m(k,x,C,T.value,j),T!==null&&(e&&T.alternate!==null&&k.delete(T.key===null?C:T.key),y=i(T,y,C),_===null?N=T:_.sibling=T,_=T);return e&&k.forEach(function(S){return t(x,S)}),rr&&Gl(x,C),N}function b(x,y,w,j){if(typeof w=="object"&&w!==null&&w.type===qu&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case gg:e:{for(var N=w.key,_=y;_!==null;){if(_.key===N){if(N=w.type,N===qu){if(_.tag===7){r(x,_.sibling),y=a(_,w.props.children),y.return=x,x=y;break e}}else if(_.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===_o&&EE(N)===_.type){r(x,_.sibling),y=a(_,w.props),y.ref=ah(x,_,w),y.return=x,x=y;break e}r(x,_);break}else t(x,_);_=_.sibling}w.type===qu?(y=gc(w.props.children,x.mode,j,w.key),y.return=x,x=y):(j=Nv(w.type,w.key,w.props,null,x.mode,j),j.ref=ah(x,y,w),j.return=x,x=j)}return o(x);case Bu:e:{for(_=w.key;y!==null;){if(y.key===_)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){r(x,y.sibling),y=a(y,w.children||[]),y.return=x,x=y;break e}else{r(x,y);break}else t(x,y);y=y.sibling}y=vw(w,x.mode,j),y.return=x,x=y}return o(x);case _o:return _=w._init,b(x,y,_(w._payload),j)}if(Ih(w))return v(x,y,w,j);if(Jf(w))return p(x,y,w,j);Cg(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(r(x,y.sibling),y=a(y,w),y.return=x,x=y):(r(x,y),y=gw(w,x.mode,j),y.return=x,x=y),o(x)):r(x,y)}return b}var Nd=BR(!0),qR=BR(!1),Hv=yl(null),Gv=null,Qu=null,M2=null;function R2(){M2=Qu=Gv=null}function I2(e){var t=Hv.current;Zt(Hv),e._currentValue=t}function o1(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ld(e,t){Gv=e,M2=Qu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Wn=!0),e.firstContext=null)}function Ka(e){var t=e._currentValue;if(M2!==e)if(e={context:e,memoizedValue:t,next:null},Qu===null){if(Gv===null)throw Error(Ne(308));Qu=e,Gv.dependencies={lanes:0,firstContext:e}}else Qu=Qu.next=e;return t}var sc=null;function D2(e){sc===null?sc=[e]:sc.push(e)}function UR(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,D2(t)):(r.next=a.next,a.next=r),t.interleaved=r,Ki(e,n)}function Ki(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ko=!1;function z2(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function VR(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Li(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Wo(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,wt&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Ki(e,r)}return a=n.interleaved,a===null?(t.next=t,D2(n)):(t.next=a.next,a.next=t),n.interleaved=t,Ki(e,r)}function vv(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,N2(e,r)}}function OE(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Yv(e,t,r,n){var a=e.updateQueue;ko=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,p=l;switch(h=t,m=r,p.tag){case 1:if(v=p.payload,typeof v=="function"){f=v.call(m,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=p.payload,h=typeof v=="function"?v.call(m,f,h):v,h==null)break e;f=ur({},f,h);break e;case 2:ko=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);_c|=o,e.lanes=o,e.memoizedState=f}}function AE(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(Ne(191,a));a.call(n)}}}var Mp={},ei=yl(Mp),Nm=yl(Mp),_m=yl(Mp);function ic(e){if(e===Mp)throw Error(Ne(174));return e}function L2(e,t){switch(Bt(_m,t),Bt(Nm,e),Bt(ei,Mp),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Bj(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Bj(t,e)}Zt(ei),Bt(ei,t)}function _d(){Zt(ei),Zt(Nm),Zt(_m)}function WR(e){ic(_m.current);var t=ic(ei.current),r=Bj(t,e.type);t!==r&&(Bt(Nm,e),Bt(ei,r))}function F2(e){Nm.current===e&&(Zt(ei),Zt(Nm))}var sr=yl(0);function Qv(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var uw=[];function B2(){for(var e=0;e<uw.length;e++)uw[e]._workInProgressVersionPrimary=null;uw.length=0}var yv=ro.ReactCurrentDispatcher,dw=ro.ReactCurrentBatchConfig,Nc=0,lr=null,Lr=null,Gr=null,Zv=!1,Gh=!1,km=0,uV=0;function cn(){throw Error(Ne(321))}function q2(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Cs(e[r],t[r]))return!1;return!0}function U2(e,t,r,n,a,i){if(Nc=i,lr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,yv.current=e===null||e.memoizedState===null?mV:pV,e=r(n,a),Gh){i=0;do{if(Gh=!1,km=0,25<=i)throw Error(Ne(301));i+=1,Gr=Lr=null,t.updateQueue=null,yv.current=gV,e=r(n,a)}while(Gh)}if(yv.current=Xv,t=Lr!==null&&Lr.next!==null,Nc=0,Gr=Lr=lr=null,Zv=!1,t)throw Error(Ne(300));return e}function V2(){var e=km!==0;return km=0,e}function Us(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gr===null?lr.memoizedState=Gr=e:Gr=Gr.next=e,Gr}function Ha(){if(Lr===null){var e=lr.alternate;e=e!==null?e.memoizedState:null}else e=Lr.next;var t=Gr===null?lr.memoizedState:Gr.next;if(t!==null)Gr=t,Lr=e;else{if(e===null)throw Error(Ne(310));Lr=e,e={memoizedState:Lr.memoizedState,baseState:Lr.baseState,baseQueue:Lr.baseQueue,queue:Lr.queue,next:null},Gr===null?lr.memoizedState=Gr=e:Gr=Gr.next=e}return Gr}function Sm(e,t){return typeof t=="function"?t(e):t}function fw(e){var t=Ha(),r=t.queue;if(r===null)throw Error(Ne(311));r.lastRenderedReducer=e;var n=Lr,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Nc&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,lr.lanes|=d,_c|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,Cs(n,t.memoizedState)||(Wn=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,lr.lanes|=i,_c|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function hw(e){var t=Ha(),r=t.queue;if(r===null)throw Error(Ne(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Cs(i,t.memoizedState)||(Wn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function KR(){}function HR(e,t){var r=lr,n=Ha(),a=t(),i=!Cs(n.memoizedState,a);if(i&&(n.memoizedState=a,Wn=!0),n=n.queue,W2(QR.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Gr!==null&&Gr.memoizedState.tag&1){if(r.flags|=2048,Cm(9,YR.bind(null,r,n,a,t),void 0,null),Zr===null)throw Error(Ne(349));Nc&30||GR(r,t,a)}return a}function GR(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=lr.updateQueue,t===null?(t={lastEffect:null,stores:null},lr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function YR(e,t,r,n){t.value=r,t.getSnapshot=n,ZR(t)&&XR(e)}function QR(e,t,r){return r(function(){ZR(t)&&XR(e)})}function ZR(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Cs(e,r)}catch{return!0}}function XR(e){var t=Ki(e,1);t!==null&&_s(t,e,1,-1)}function PE(e){var t=Us();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sm,lastRenderedState:e},t.queue=e,e=e.dispatch=hV.bind(null,lr,e),[t.memoizedState,e]}function Cm(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=lr.updateQueue,t===null?(t={lastEffect:null,stores:null},lr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function JR(){return Ha().memoizedState}function xv(e,t,r,n){var a=Us();lr.flags|=e,a.memoizedState=Cm(1|t,r,void 0,n===void 0?null:n)}function Hx(e,t,r,n){var a=Ha();n=n===void 0?null:n;var i=void 0;if(Lr!==null){var o=Lr.memoizedState;if(i=o.destroy,n!==null&&q2(n,o.deps)){a.memoizedState=Cm(t,r,i,n);return}}lr.flags|=e,a.memoizedState=Cm(1|t,r,i,n)}function TE(e,t){return xv(8390656,8,e,t)}function W2(e,t){return Hx(2048,8,e,t)}function e5(e,t){return Hx(4,2,e,t)}function t5(e,t){return Hx(4,4,e,t)}function r5(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function n5(e,t,r){return r=r!=null?r.concat([e]):null,Hx(4,4,r5.bind(null,t,e),r)}function K2(){}function a5(e,t){var r=Ha();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&q2(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function s5(e,t){var r=Ha();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&q2(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function i5(e,t,r){return Nc&21?(Cs(r,t)||(r=dR(),lr.lanes|=r,_c|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Wn=!0),e.memoizedState=r)}function dV(e,t){var r=Tt;Tt=r!==0&&4>r?r:4,e(!0);var n=dw.transition;dw.transition={};try{e(!1),t()}finally{Tt=r,dw.transition=n}}function o5(){return Ha().memoizedState}function fV(e,t,r){var n=Ho(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},l5(e))c5(t,r);else if(r=UR(e,t,r,n),r!==null){var a=En();_s(r,e,n,a),u5(r,t,n)}}function hV(e,t,r){var n=Ho(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(l5(e))c5(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,Cs(l,o)){var c=t.interleaved;c===null?(a.next=a,D2(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=UR(e,t,a,n),r!==null&&(a=En(),_s(r,e,n,a),u5(r,t,n))}}function l5(e){var t=e.alternate;return e===lr||t!==null&&t===lr}function c5(e,t){Gh=Zv=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function u5(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,N2(e,r)}}var Xv={readContext:Ka,useCallback:cn,useContext:cn,useEffect:cn,useImperativeHandle:cn,useInsertionEffect:cn,useLayoutEffect:cn,useMemo:cn,useReducer:cn,useRef:cn,useState:cn,useDebugValue:cn,useDeferredValue:cn,useTransition:cn,useMutableSource:cn,useSyncExternalStore:cn,useId:cn,unstable_isNewReconciler:!1},mV={readContext:Ka,useCallback:function(e,t){return Us().memoizedState=[e,t===void 0?null:t],e},useContext:Ka,useEffect:TE,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,xv(4194308,4,r5.bind(null,t,e),r)},useLayoutEffect:function(e,t){return xv(4194308,4,e,t)},useInsertionEffect:function(e,t){return xv(4,2,e,t)},useMemo:function(e,t){var r=Us();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Us();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=fV.bind(null,lr,e),[n.memoizedState,e]},useRef:function(e){var t=Us();return e={current:e},t.memoizedState=e},useState:PE,useDebugValue:K2,useDeferredValue:function(e){return Us().memoizedState=e},useTransition:function(){var e=PE(!1),t=e[0];return e=dV.bind(null,e[1]),Us().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=lr,a=Us();if(rr){if(r===void 0)throw Error(Ne(407));r=r()}else{if(r=t(),Zr===null)throw Error(Ne(349));Nc&30||GR(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,TE(QR.bind(null,n,i,e),[e]),n.flags|=2048,Cm(9,YR.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Us(),t=Zr.identifierPrefix;if(rr){var r=Mi,n=$i;r=(n&~(1<<32-Ns(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=km++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=uV++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},pV={readContext:Ka,useCallback:a5,useContext:Ka,useEffect:W2,useImperativeHandle:n5,useInsertionEffect:e5,useLayoutEffect:t5,useMemo:s5,useReducer:fw,useRef:JR,useState:function(){return fw(Sm)},useDebugValue:K2,useDeferredValue:function(e){var t=Ha();return i5(t,Lr.memoizedState,e)},useTransition:function(){var e=fw(Sm)[0],t=Ha().memoizedState;return[e,t]},useMutableSource:KR,useSyncExternalStore:HR,useId:o5,unstable_isNewReconciler:!1},gV={readContext:Ka,useCallback:a5,useContext:Ka,useEffect:W2,useImperativeHandle:n5,useInsertionEffect:e5,useLayoutEffect:t5,useMemo:s5,useReducer:hw,useRef:JR,useState:function(){return hw(Sm)},useDebugValue:K2,useDeferredValue:function(e){var t=Ha();return Lr===null?t.memoizedState=e:i5(t,Lr.memoizedState,e)},useTransition:function(){var e=hw(Sm)[0],t=Ha().memoizedState;return[e,t]},useMutableSource:KR,useSyncExternalStore:HR,useId:o5,unstable_isNewReconciler:!1};function ls(e,t){if(e&&e.defaultProps){t=ur({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function l1(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ur({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Gx={isMounted:function(e){return(e=e._reactInternals)?Vc(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=En(),a=Ho(e),i=Li(n,a);i.payload=t,r!=null&&(i.callback=r),t=Wo(e,i,a),t!==null&&(_s(t,e,a,n),vv(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=En(),a=Ho(e),i=Li(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Wo(e,i,a),t!==null&&(_s(t,e,a,n),vv(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=En(),n=Ho(e),a=Li(r,n);a.tag=2,t!=null&&(a.callback=t),t=Wo(e,a,n),t!==null&&(_s(t,e,n,r),vv(t,e,n))}};function $E(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!xm(r,n)||!xm(a,i):!0}function d5(e,t,r){var n=!1,a=sl,i=t.contextType;return typeof i=="object"&&i!==null?i=Ka(i):(a=Qn(t)?wc:yn.current,n=t.contextTypes,i=(n=n!=null)?wd(e,a):sl),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Gx,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function ME(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Gx.enqueueReplaceState(t,t.state,null)}function c1(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},z2(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Ka(i):(i=Qn(t)?wc:yn.current,a.context=wd(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(l1(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Gx.enqueueReplaceState(a,a.state,null),Yv(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function kd(e,t){try{var r="",n=t;do r+=VU(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function mw(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function u1(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var vV=typeof WeakMap=="function"?WeakMap:Map;function f5(e,t,r){r=Li(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ey||(ey=!0,x1=n),u1(e,t)},r}function h5(e,t,r){r=Li(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){u1(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){u1(e,t),typeof n!="function"&&(Ko===null?Ko=new Set([this]):Ko.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function RE(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new vV;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=PV.bind(null,e,t,r),t.then(e,e))}function IE(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function DE(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Li(-1,1),t.tag=2,Wo(r,t,1))),r.lanes|=1),e)}var yV=ro.ReactCurrentOwner,Wn=!1;function jn(e,t,r,n){t.child=e===null?qR(t,null,r,n):Nd(t,e.child,r,n)}function zE(e,t,r,n,a){r=r.render;var i=t.ref;return ld(t,a),n=U2(e,t,r,n,i,a),r=V2(),e!==null&&!Wn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hi(e,t,a)):(rr&&r&&P2(t),t.flags|=1,jn(e,t,n,a),t.child)}function LE(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!ek(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,m5(e,t,i,n,a)):(e=Nv(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:xm,r(o,n)&&e.ref===t.ref)return Hi(e,t,a)}return t.flags|=1,e=Go(i,n),e.ref=t.ref,e.return=t,t.child=e}function m5(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(xm(i,n)&&e.ref===t.ref)if(Wn=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(Wn=!0);else return t.lanes=e.lanes,Hi(e,t,a)}return d1(e,t,r,n,a)}function p5(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Bt(Xu,la),la|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Bt(Xu,la),la|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Bt(Xu,la),la|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Bt(Xu,la),la|=n;return jn(e,t,a,r),t.child}function g5(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function d1(e,t,r,n,a){var i=Qn(r)?wc:yn.current;return i=wd(t,i),ld(t,a),r=U2(e,t,r,n,i,a),n=V2(),e!==null&&!Wn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hi(e,t,a)):(rr&&n&&P2(t),t.flags|=1,jn(e,t,r,a),t.child)}function FE(e,t,r,n,a){if(Qn(r)){var i=!0;Vv(t)}else i=!1;if(ld(t,a),t.stateNode===null)bv(e,t),d5(t,r,n),c1(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ka(u):(u=Qn(r)?wc:yn.current,u=wd(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&ME(t,o,n,u),ko=!1;var h=t.memoizedState;o.state=h,Yv(t,n,o,a),c=t.memoizedState,l!==n||h!==c||Yn.current||ko?(typeof d=="function"&&(l1(t,r,d,n),c=t.memoizedState),(l=ko||$E(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,VR(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:ls(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Ka(c):(c=Qn(r)?wc:yn.current,c=wd(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&ME(t,o,n,c),ko=!1,h=t.memoizedState,o.state=h,Yv(t,n,o,a);var v=t.memoizedState;l!==f||h!==v||Yn.current||ko?(typeof m=="function"&&(l1(t,r,m,n),v=t.memoizedState),(u=ko||$E(t,r,u,n,h,v,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),o.props=n,o.state=v,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return f1(e,t,r,n,i,a)}function f1(e,t,r,n,a,i){g5(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&kE(t,r,!1),Hi(e,t,i);n=t.stateNode,yV.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Nd(t,e.child,null,i),t.child=Nd(t,null,l,i)):jn(e,t,l,i),t.memoizedState=n.state,a&&kE(t,r,!0),t.child}function v5(e){var t=e.stateNode;t.pendingContext?_E(e,t.pendingContext,t.pendingContext!==t.context):t.context&&_E(e,t.context,!1),L2(e,t.containerInfo)}function BE(e,t,r,n,a){return jd(),$2(a),t.flags|=256,jn(e,t,r,n),t.child}var h1={dehydrated:null,treeContext:null,retryLane:0};function m1(e){return{baseLanes:e,cachePool:null,transitions:null}}function y5(e,t,r){var n=t.pendingProps,a=sr.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Bt(sr,a&1),e===null)return i1(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Zx(o,n,0,null),e=gc(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=m1(r),t.memoizedState=h1,e):H2(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return xV(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Go(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Go(l,i):(i=gc(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?m1(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=h1,n}return i=e.child,e=i.sibling,n=Go(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function H2(e,t){return t=Zx({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Eg(e,t,r,n){return n!==null&&$2(n),Nd(t,e.child,null,r),e=H2(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function xV(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=mw(Error(Ne(422))),Eg(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Zx({mode:"visible",children:n.children},a,0,null),i=gc(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Nd(t,e.child,null,o),t.child.memoizedState=m1(o),t.memoizedState=h1,i);if(!(t.mode&1))return Eg(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(Ne(419)),n=mw(i,n,void 0),Eg(e,t,o,n)}if(l=(o&e.childLanes)!==0,Wn||l){if(n=Zr,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Ki(e,a),_s(n,e,a,-1))}return J2(),n=mw(Error(Ne(421))),Eg(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=TV.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,ya=Vo(a.nextSibling),xa=t,rr=!0,hs=null,e!==null&&(Ra[Ia++]=$i,Ra[Ia++]=Mi,Ra[Ia++]=jc,$i=e.id,Mi=e.overflow,jc=t),t=H2(t,n.children),t.flags|=4096,t)}function qE(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),o1(e.return,t,r)}function pw(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function x5(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(jn(e,t,n.children,r),n=sr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&qE(e,r,t);else if(e.tag===19)qE(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Bt(sr,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Qv(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),pw(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Qv(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}pw(t,!0,r,null,i);break;case"together":pw(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function bv(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hi(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),_c|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ne(153));if(t.child!==null){for(e=t.child,r=Go(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Go(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function bV(e,t,r){switch(t.tag){case 3:v5(t),jd();break;case 5:WR(t);break;case 1:Qn(t.type)&&Vv(t);break;case 4:L2(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Bt(Hv,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Bt(sr,sr.current&1),t.flags|=128,null):r&t.child.childLanes?y5(e,t,r):(Bt(sr,sr.current&1),e=Hi(e,t,r),e!==null?e.sibling:null);Bt(sr,sr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return x5(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Bt(sr,sr.current),n)break;return null;case 22:case 23:return t.lanes=0,p5(e,t,r)}return Hi(e,t,r)}var b5,p1,w5,j5;b5=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};p1=function(){};w5=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,ic(ei.current);var i=null;switch(r){case"input":a=Dj(e,a),n=Dj(e,n),i=[];break;case"select":a=ur({},a,{value:void 0}),n=ur({},n,{value:void 0}),i=[];break;case"textarea":a=Fj(e,a),n=Fj(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=qv)}qj(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(fm.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(fm.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ht("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};j5=function(e,t,r,n){r!==n&&(t.flags|=4)};function sh(e,t){if(!rr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function un(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function wV(e,t,r){var n=t.pendingProps;switch(T2(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return un(t),null;case 1:return Qn(t.type)&&Uv(),un(t),null;case 3:return n=t.stateNode,_d(),Zt(Yn),Zt(yn),B2(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Sg(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,hs!==null&&(j1(hs),hs=null))),p1(e,t),un(t),null;case 5:F2(t);var a=ic(_m.current);if(r=t.type,e!==null&&t.stateNode!=null)w5(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Ne(166));return un(t),null}if(e=ic(ei.current),Sg(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Ks]=t,n[jm]=i,e=(t.mode&1)!==0,r){case"dialog":Ht("cancel",n),Ht("close",n);break;case"iframe":case"object":case"embed":Ht("load",n);break;case"video":case"audio":for(a=0;a<zh.length;a++)Ht(zh[a],n);break;case"source":Ht("error",n);break;case"img":case"image":case"link":Ht("error",n),Ht("load",n);break;case"details":Ht("toggle",n);break;case"input":ZC(n,i),Ht("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ht("invalid",n);break;case"textarea":JC(n,i),Ht("invalid",n)}qj(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&kg(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&kg(n.textContent,l,e),a=["children",""+l]):fm.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ht("scroll",n)}switch(r){case"input":vg(n),XC(n,i,!0);break;case"textarea":vg(n),eE(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=qv)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Q4(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Ks]=t,e[jm]=n,b5(e,t,!1,!1),t.stateNode=e;e:{switch(o=Uj(r,n),r){case"dialog":Ht("cancel",e),Ht("close",e),a=n;break;case"iframe":case"object":case"embed":Ht("load",e),a=n;break;case"video":case"audio":for(a=0;a<zh.length;a++)Ht(zh[a],e);a=n;break;case"source":Ht("error",e),a=n;break;case"img":case"image":case"link":Ht("error",e),Ht("load",e),a=n;break;case"details":Ht("toggle",e),a=n;break;case"input":ZC(e,n),a=Dj(e,n),Ht("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=ur({},n,{value:void 0}),Ht("invalid",e);break;case"textarea":JC(e,n),a=Fj(e,n),Ht("invalid",e);break;default:a=n}qj(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?J4(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Z4(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&hm(e,c):typeof c=="number"&&hm(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(fm.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ht("scroll",e):c!=null&&v2(e,i,c,o))}switch(r){case"input":vg(e),XC(e,n,!1);break;case"textarea":vg(e),eE(e);break;case"option":n.value!=null&&e.setAttribute("value",""+al(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?ad(e,!!n.multiple,i,!1):n.defaultValue!=null&&ad(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=qv)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return un(t),null;case 6:if(e&&t.stateNode!=null)j5(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Ne(166));if(r=ic(_m.current),ic(ei.current),Sg(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ks]=t,(i=n.nodeValue!==r)&&(e=xa,e!==null))switch(e.tag){case 3:kg(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&kg(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ks]=t,t.stateNode=n}return un(t),null;case 13:if(Zt(sr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(rr&&ya!==null&&t.mode&1&&!(t.flags&128))FR(),jd(),t.flags|=98560,i=!1;else if(i=Sg(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(Ne(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Ne(317));i[Ks]=t}else jd(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;un(t),i=!1}else hs!==null&&(j1(hs),hs=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||sr.current&1?qr===0&&(qr=3):J2())),t.updateQueue!==null&&(t.flags|=4),un(t),null);case 4:return _d(),p1(e,t),e===null&&bm(t.stateNode.containerInfo),un(t),null;case 10:return I2(t.type._context),un(t),null;case 17:return Qn(t.type)&&Uv(),un(t),null;case 19:if(Zt(sr),i=t.memoizedState,i===null)return un(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)sh(i,!1);else{if(qr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Qv(e),o!==null){for(t.flags|=128,sh(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Bt(sr,sr.current&1|2),t.child}e=e.sibling}i.tail!==null&&br()>Sd&&(t.flags|=128,n=!0,sh(i,!1),t.lanes=4194304)}else{if(!n)if(e=Qv(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),sh(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!rr)return un(t),null}else 2*br()-i.renderingStartTime>Sd&&r!==1073741824&&(t.flags|=128,n=!0,sh(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=br(),t.sibling=null,r=sr.current,Bt(sr,n?r&1|2:r&1),t):(un(t),null);case 22:case 23:return X2(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?la&1073741824&&(un(t),t.subtreeFlags&6&&(t.flags|=8192)):un(t),null;case 24:return null;case 25:return null}throw Error(Ne(156,t.tag))}function jV(e,t){switch(T2(t),t.tag){case 1:return Qn(t.type)&&Uv(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _d(),Zt(Yn),Zt(yn),B2(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return F2(t),null;case 13:if(Zt(sr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ne(340));jd()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Zt(sr),null;case 4:return _d(),null;case 10:return I2(t.type._context),null;case 22:case 23:return X2(),null;case 24:return null;default:return null}}var Og=!1,fn=!1,NV=typeof WeakSet=="function"?WeakSet:Set,$e=null;function Zu(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){fr(e,t,n)}else r.current=null}function N5(e,t,r){try{r()}catch(n){fr(e,t,n)}}var UE=!1;function _V(e,t){if(Jj=Lv,e=CR(),A2(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=o),h===i&&++d===n&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(e1={focusedElem:e,selectionRange:r},Lv=!1,$e=t;$e!==null;)if(t=$e,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$e=e;else for(;$e!==null;){t=$e;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var p=v.memoizedProps,b=v.memoizedState,x=t.stateNode,y=x.getSnapshotBeforeUpdate(t.elementType===t.type?p:ls(t.type,p),b);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ne(163))}}catch(j){fr(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,$e=e;break}$e=t.return}return v=UE,UE=!1,v}function Yh(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&N5(t,r,i)}a=a.next}while(a!==n)}}function Yx(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function g1(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function _5(e){var t=e.alternate;t!==null&&(e.alternate=null,_5(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ks],delete t[jm],delete t[n1],delete t[iV],delete t[oV])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function k5(e){return e.tag===5||e.tag===3||e.tag===4}function VE(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||k5(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function v1(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=qv));else if(n!==4&&(e=e.child,e!==null))for(v1(e,t,r),e=e.sibling;e!==null;)v1(e,t,r),e=e.sibling}function y1(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(y1(e,t,r),e=e.sibling;e!==null;)y1(e,t,r),e=e.sibling}var an=null,cs=!1;function co(e,t,r){for(r=r.child;r!==null;)S5(e,t,r),r=r.sibling}function S5(e,t,r){if(Js&&typeof Js.onCommitFiberUnmount=="function")try{Js.onCommitFiberUnmount(Bx,r)}catch{}switch(r.tag){case 5:fn||Zu(r,t);case 6:var n=an,a=cs;an=null,co(e,t,r),an=n,cs=a,an!==null&&(cs?(e=an,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):an.removeChild(r.stateNode));break;case 18:an!==null&&(cs?(e=an,r=r.stateNode,e.nodeType===8?lw(e.parentNode,r):e.nodeType===1&&lw(e,r),vm(e)):lw(an,r.stateNode));break;case 4:n=an,a=cs,an=r.stateNode.containerInfo,cs=!0,co(e,t,r),an=n,cs=a;break;case 0:case 11:case 14:case 15:if(!fn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&N5(r,t,o),a=a.next}while(a!==n)}co(e,t,r);break;case 1:if(!fn&&(Zu(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){fr(r,t,l)}co(e,t,r);break;case 21:co(e,t,r);break;case 22:r.mode&1?(fn=(n=fn)||r.memoizedState!==null,co(e,t,r),fn=n):co(e,t,r);break;default:co(e,t,r)}}function WE(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new NV),t.forEach(function(n){var a=$V.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function rs(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:an=l.stateNode,cs=!1;break e;case 3:an=l.stateNode.containerInfo,cs=!0;break e;case 4:an=l.stateNode.containerInfo,cs=!0;break e}l=l.return}if(an===null)throw Error(Ne(160));S5(i,o,a),an=null,cs=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){fr(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)C5(t,e),t=t.sibling}function C5(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(rs(t,e),Ms(e),n&4){try{Yh(3,e,e.return),Yx(3,e)}catch(p){fr(e,e.return,p)}try{Yh(5,e,e.return)}catch(p){fr(e,e.return,p)}}break;case 1:rs(t,e),Ms(e),n&512&&r!==null&&Zu(r,r.return);break;case 5:if(rs(t,e),Ms(e),n&512&&r!==null&&Zu(r,r.return),e.flags&32){var a=e.stateNode;try{hm(a,"")}catch(p){fr(e,e.return,p)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&G4(a,i),Uj(l,o);var u=Uj(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?J4(a,f):d==="dangerouslySetInnerHTML"?Z4(a,f):d==="children"?hm(a,f):v2(a,d,f,u)}switch(l){case"input":zj(a,i);break;case"textarea":Y4(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?ad(a,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?ad(a,!!i.multiple,i.defaultValue,!0):ad(a,!!i.multiple,i.multiple?[]:"",!1))}a[jm]=i}catch(p){fr(e,e.return,p)}}break;case 6:if(rs(t,e),Ms(e),n&4){if(e.stateNode===null)throw Error(Ne(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(p){fr(e,e.return,p)}}break;case 3:if(rs(t,e),Ms(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{vm(t.containerInfo)}catch(p){fr(e,e.return,p)}break;case 4:rs(t,e),Ms(e);break;case 13:rs(t,e),Ms(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Q2=br())),n&4&&WE(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(fn=(u=fn)||d,rs(t,e),fn=u):rs(t,e),Ms(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for($e=e,d=e.child;d!==null;){for(f=$e=d;$e!==null;){switch(h=$e,m=h.child,h.tag){case 0:case 11:case 14:case 15:Yh(4,h,h.return);break;case 1:Zu(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(p){fr(n,r,p)}}break;case 5:Zu(h,h.return);break;case 22:if(h.memoizedState!==null){HE(f);continue}}m!==null?(m.return=h,$e=m):HE(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=X4("display",o))}catch(p){fr(e,e.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){fr(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:rs(t,e),Ms(e),n&4&&WE(e);break;case 21:break;default:rs(t,e),Ms(e)}}function Ms(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(k5(r)){var n=r;break e}r=r.return}throw Error(Ne(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(hm(a,""),n.flags&=-33);var i=VE(e);y1(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=VE(e);v1(e,l,o);break;default:throw Error(Ne(161))}}catch(c){fr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function kV(e,t,r){$e=e,E5(e)}function E5(e,t,r){for(var n=(e.mode&1)!==0;$e!==null;){var a=$e,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||Og;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||fn;l=Og;var u=fn;if(Og=o,(fn=c)&&!u)for($e=a;$e!==null;)o=$e,c=o.child,o.tag===22&&o.memoizedState!==null?GE(a):c!==null?(c.return=o,$e=c):GE(a);for(;i!==null;)$e=i,E5(i),i=i.sibling;$e=a,Og=l,fn=u}KE(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,$e=i):KE(e)}}function KE(e){for(;$e!==null;){var t=$e;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:fn||Yx(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!fn)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:ls(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&AE(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}AE(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&vm(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ne(163))}fn||t.flags&512&&g1(t)}catch(h){fr(t,t.return,h)}}if(t===e){$e=null;break}if(r=t.sibling,r!==null){r.return=t.return,$e=r;break}$e=t.return}}function HE(e){for(;$e!==null;){var t=$e;if(t===e){$e=null;break}var r=t.sibling;if(r!==null){r.return=t.return,$e=r;break}$e=t.return}}function GE(e){for(;$e!==null;){var t=$e;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Yx(4,t)}catch(c){fr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){fr(t,a,c)}}var i=t.return;try{g1(t)}catch(c){fr(t,i,c)}break;case 5:var o=t.return;try{g1(t)}catch(c){fr(t,o,c)}}}catch(c){fr(t,t.return,c)}if(t===e){$e=null;break}var l=t.sibling;if(l!==null){l.return=t.return,$e=l;break}$e=t.return}}var SV=Math.ceil,Jv=ro.ReactCurrentDispatcher,G2=ro.ReactCurrentOwner,Ua=ro.ReactCurrentBatchConfig,wt=0,Zr=null,Or=null,sn=0,la=0,Xu=yl(0),qr=0,Em=null,_c=0,Qx=0,Y2=0,Qh=null,Un=null,Q2=0,Sd=1/0,Ci=null,ey=!1,x1=null,Ko=null,Ag=!1,Mo=null,ty=0,Zh=0,b1=null,wv=-1,jv=0;function En(){return wt&6?br():wv!==-1?wv:wv=br()}function Ho(e){return e.mode&1?wt&2&&sn!==0?sn&-sn:cV.transition!==null?(jv===0&&(jv=dR()),jv):(e=Tt,e!==0||(e=window.event,e=e===void 0?16:yR(e.type)),e):1}function _s(e,t,r,n){if(50<Zh)throw Zh=0,b1=null,Error(Ne(185));Pp(e,r,n),(!(wt&2)||e!==Zr)&&(e===Zr&&(!(wt&2)&&(Qx|=r),qr===4&&Ao(e,sn)),Zn(e,n),r===1&&wt===0&&!(t.mode&1)&&(Sd=br()+500,Kx&&xl()))}function Zn(e,t){var r=e.callbackNode;c7(e,t);var n=zv(e,e===Zr?sn:0);if(n===0)r!==null&&nE(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&nE(r),t===1)e.tag===0?lV(YE.bind(null,e)):DR(YE.bind(null,e)),aV(function(){!(wt&6)&&xl()}),r=null;else{switch(fR(n)){case 1:r=j2;break;case 4:r=cR;break;case 16:r=Dv;break;case 536870912:r=uR;break;default:r=Dv}r=I5(r,O5.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function O5(e,t){if(wv=-1,jv=0,wt&6)throw Error(Ne(327));var r=e.callbackNode;if(cd()&&e.callbackNode!==r)return null;var n=zv(e,e===Zr?sn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ry(e,n);else{t=n;var a=wt;wt|=2;var i=P5();(Zr!==e||sn!==t)&&(Ci=null,Sd=br()+500,pc(e,t));do try{OV();break}catch(l){A5(e,l)}while(!0);R2(),Jv.current=i,wt=a,Or!==null?t=0:(Zr=null,sn=0,t=qr)}if(t!==0){if(t===2&&(a=Gj(e),a!==0&&(n=a,t=w1(e,a))),t===1)throw r=Em,pc(e,0),Ao(e,n),Zn(e,br()),r;if(t===6)Ao(e,n);else{if(a=e.current.alternate,!(n&30)&&!CV(a)&&(t=ry(e,n),t===2&&(i=Gj(e),i!==0&&(n=i,t=w1(e,i))),t===1))throw r=Em,pc(e,0),Ao(e,n),Zn(e,br()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(Ne(345));case 2:Yl(e,Un,Ci);break;case 3:if(Ao(e,n),(n&130023424)===n&&(t=Q2+500-br(),10<t)){if(zv(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){En(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=r1(Yl.bind(null,e,Un,Ci),t);break}Yl(e,Un,Ci);break;case 4:if(Ao(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-Ns(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=br()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*SV(n/1960))-n,10<n){e.timeoutHandle=r1(Yl.bind(null,e,Un,Ci),n);break}Yl(e,Un,Ci);break;case 5:Yl(e,Un,Ci);break;default:throw Error(Ne(329))}}}return Zn(e,br()),e.callbackNode===r?O5.bind(null,e):null}function w1(e,t){var r=Qh;return e.current.memoizedState.isDehydrated&&(pc(e,t).flags|=256),e=ry(e,t),e!==2&&(t=Un,Un=r,t!==null&&j1(t)),e}function j1(e){Un===null?Un=e:Un.push.apply(Un,e)}function CV(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Cs(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ao(e,t){for(t&=~Y2,t&=~Qx,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ns(t),n=1<<r;e[r]=-1,t&=~n}}function YE(e){if(wt&6)throw Error(Ne(327));cd();var t=zv(e,0);if(!(t&1))return Zn(e,br()),null;var r=ry(e,t);if(e.tag!==0&&r===2){var n=Gj(e);n!==0&&(t=n,r=w1(e,n))}if(r===1)throw r=Em,pc(e,0),Ao(e,t),Zn(e,br()),r;if(r===6)throw Error(Ne(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Yl(e,Un,Ci),Zn(e,br()),null}function Z2(e,t){var r=wt;wt|=1;try{return e(t)}finally{wt=r,wt===0&&(Sd=br()+500,Kx&&xl())}}function kc(e){Mo!==null&&Mo.tag===0&&!(wt&6)&&cd();var t=wt;wt|=1;var r=Ua.transition,n=Tt;try{if(Ua.transition=null,Tt=1,e)return e()}finally{Tt=n,Ua.transition=r,wt=t,!(wt&6)&&xl()}}function X2(){la=Xu.current,Zt(Xu)}function pc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,nV(r)),Or!==null)for(r=Or.return;r!==null;){var n=r;switch(T2(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Uv();break;case 3:_d(),Zt(Yn),Zt(yn),B2();break;case 5:F2(n);break;case 4:_d();break;case 13:Zt(sr);break;case 19:Zt(sr);break;case 10:I2(n.type._context);break;case 22:case 23:X2()}r=r.return}if(Zr=e,Or=e=Go(e.current,null),sn=la=t,qr=0,Em=null,Y2=Qx=_c=0,Un=Qh=null,sc!==null){for(t=0;t<sc.length;t++)if(r=sc[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}sc=null}return e}function A5(e,t){do{var r=Or;try{if(R2(),yv.current=Xv,Zv){for(var n=lr.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Zv=!1}if(Nc=0,Gr=Lr=lr=null,Gh=!1,km=0,G2.current=null,r===null||r.return===null){qr=1,Em=t,Or=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=sn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=IE(o);if(m!==null){m.flags&=-257,DE(m,o,l,i,t),m.mode&1&&RE(i,u,t),t=m,c=u;var v=t.updateQueue;if(v===null){var p=new Set;p.add(c),t.updateQueue=p}else v.add(c);break e}else{if(!(t&1)){RE(i,u,t),J2();break e}c=Error(Ne(426))}}else if(rr&&l.mode&1){var b=IE(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),DE(b,o,l,i,t),$2(kd(c,l));break e}}i=c=kd(c,l),qr!==4&&(qr=2),Qh===null?Qh=[i]:Qh.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=f5(i,c,t);OE(i,x);break e;case 1:l=c;var y=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ko===null||!Ko.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=h5(i,l,t);OE(i,j);break e}}i=i.return}while(i!==null)}$5(r)}catch(N){t=N,Or===r&&r!==null&&(Or=r=r.return);continue}break}while(!0)}function P5(){var e=Jv.current;return Jv.current=Xv,e===null?Xv:e}function J2(){(qr===0||qr===3||qr===2)&&(qr=4),Zr===null||!(_c&268435455)&&!(Qx&268435455)||Ao(Zr,sn)}function ry(e,t){var r=wt;wt|=2;var n=P5();(Zr!==e||sn!==t)&&(Ci=null,pc(e,t));do try{EV();break}catch(a){A5(e,a)}while(!0);if(R2(),wt=r,Jv.current=n,Or!==null)throw Error(Ne(261));return Zr=null,sn=0,qr}function EV(){for(;Or!==null;)T5(Or)}function OV(){for(;Or!==null&&!e7();)T5(Or)}function T5(e){var t=R5(e.alternate,e,la);e.memoizedProps=e.pendingProps,t===null?$5(e):Or=t,G2.current=null}function $5(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=jV(r,t),r!==null){r.flags&=32767,Or=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{qr=6,Or=null;return}}else if(r=wV(r,t,la),r!==null){Or=r;return}if(t=t.sibling,t!==null){Or=t;return}Or=t=e}while(t!==null);qr===0&&(qr=5)}function Yl(e,t,r){var n=Tt,a=Ua.transition;try{Ua.transition=null,Tt=1,AV(e,t,r,n)}finally{Ua.transition=a,Tt=n}return null}function AV(e,t,r,n){do cd();while(Mo!==null);if(wt&6)throw Error(Ne(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Ne(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(u7(e,i),e===Zr&&(Or=Zr=null,sn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ag||(Ag=!0,I5(Dv,function(){return cd(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ua.transition,Ua.transition=null;var o=Tt;Tt=1;var l=wt;wt|=4,G2.current=null,_V(e,r),C5(r,e),Q7(e1),Lv=!!Jj,e1=Jj=null,e.current=r,kV(r),t7(),wt=l,Tt=o,Ua.transition=i}else e.current=r;if(Ag&&(Ag=!1,Mo=e,ty=a),i=e.pendingLanes,i===0&&(Ko=null),a7(r.stateNode),Zn(e,br()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(ey)throw ey=!1,e=x1,x1=null,e;return ty&1&&e.tag!==0&&cd(),i=e.pendingLanes,i&1?e===b1?Zh++:(Zh=0,b1=e):Zh=0,xl(),null}function cd(){if(Mo!==null){var e=fR(ty),t=Ua.transition,r=Tt;try{if(Ua.transition=null,Tt=16>e?16:e,Mo===null)var n=!1;else{if(e=Mo,Mo=null,ty=0,wt&6)throw Error(Ne(331));var a=wt;for(wt|=4,$e=e.current;$e!==null;){var i=$e,o=i.child;if($e.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for($e=u;$e!==null;){var d=$e;switch(d.tag){case 0:case 11:case 15:Yh(8,d,i)}var f=d.child;if(f!==null)f.return=d,$e=f;else for(;$e!==null;){d=$e;var h=d.sibling,m=d.return;if(_5(d),d===u){$e=null;break}if(h!==null){h.return=m,$e=h;break}$e=m}}}var v=i.alternate;if(v!==null){var p=v.child;if(p!==null){v.child=null;do{var b=p.sibling;p.sibling=null,p=b}while(p!==null)}}$e=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,$e=o;else e:for(;$e!==null;){if(i=$e,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Yh(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,$e=x;break e}$e=i.return}}var y=e.current;for($e=y;$e!==null;){o=$e;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,$e=w;else e:for(o=y;$e!==null;){if(l=$e,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Yx(9,l)}}catch(N){fr(l,l.return,N)}if(l===o){$e=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,$e=j;break e}$e=l.return}}if(wt=a,xl(),Js&&typeof Js.onPostCommitFiberRoot=="function")try{Js.onPostCommitFiberRoot(Bx,e)}catch{}n=!0}return n}finally{Tt=r,Ua.transition=t}}return!1}function QE(e,t,r){t=kd(r,t),t=f5(e,t,1),e=Wo(e,t,1),t=En(),e!==null&&(Pp(e,1,t),Zn(e,t))}function fr(e,t,r){if(e.tag===3)QE(e,e,r);else for(;t!==null;){if(t.tag===3){QE(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ko===null||!Ko.has(n))){e=kd(r,e),e=h5(t,e,1),t=Wo(t,e,1),e=En(),t!==null&&(Pp(t,1,e),Zn(t,e));break}}t=t.return}}function PV(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=En(),e.pingedLanes|=e.suspendedLanes&r,Zr===e&&(sn&r)===r&&(qr===4||qr===3&&(sn&130023424)===sn&&500>br()-Q2?pc(e,0):Y2|=r),Zn(e,t)}function M5(e,t){t===0&&(e.mode&1?(t=bg,bg<<=1,!(bg&130023424)&&(bg=4194304)):t=1);var r=En();e=Ki(e,t),e!==null&&(Pp(e,t,r),Zn(e,r))}function TV(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),M5(e,r)}function $V(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Ne(314))}n!==null&&n.delete(t),M5(e,r)}var R5;R5=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Yn.current)Wn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Wn=!1,bV(e,t,r);Wn=!!(e.flags&131072)}else Wn=!1,rr&&t.flags&1048576&&zR(t,Kv,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;bv(e,t),e=t.pendingProps;var a=wd(t,yn.current);ld(t,r),a=U2(null,t,n,e,a,r);var i=V2();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Qn(n)?(i=!0,Vv(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,z2(t),a.updater=Gx,t.stateNode=a,a._reactInternals=t,c1(t,n,e,r),t=f1(null,t,n,!0,i,r)):(t.tag=0,rr&&i&&P2(t),jn(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(bv(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=RV(n),e=ls(n,e),a){case 0:t=d1(null,t,n,e,r);break e;case 1:t=FE(null,t,n,e,r);break e;case 11:t=zE(null,t,n,e,r);break e;case 14:t=LE(null,t,n,ls(n.type,e),r);break e}throw Error(Ne(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ls(n,a),d1(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ls(n,a),FE(e,t,n,a,r);case 3:e:{if(v5(t),e===null)throw Error(Ne(387));n=t.pendingProps,i=t.memoizedState,a=i.element,VR(e,t),Yv(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=kd(Error(Ne(423)),t),t=BE(e,t,n,r,a);break e}else if(n!==a){a=kd(Error(Ne(424)),t),t=BE(e,t,n,r,a);break e}else for(ya=Vo(t.stateNode.containerInfo.firstChild),xa=t,rr=!0,hs=null,r=qR(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(jd(),n===a){t=Hi(e,t,r);break e}jn(e,t,n,r)}t=t.child}return t;case 5:return WR(t),e===null&&i1(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,t1(n,a)?o=null:i!==null&&t1(n,i)&&(t.flags|=32),g5(e,t),jn(e,t,o,r),t.child;case 6:return e===null&&i1(t),null;case 13:return y5(e,t,r);case 4:return L2(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Nd(t,null,n,r):jn(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ls(n,a),zE(e,t,n,a,r);case 7:return jn(e,t,t.pendingProps,r),t.child;case 8:return jn(e,t,t.pendingProps.children,r),t.child;case 12:return jn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Bt(Hv,n._currentValue),n._currentValue=o,i!==null)if(Cs(i.value,o)){if(i.children===a.children&&!Yn.current){t=Hi(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Li(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),o1(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Ne(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),o1(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}jn(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,ld(t,r),a=Ka(a),n=n(a),t.flags|=1,jn(e,t,n,r),t.child;case 14:return n=t.type,a=ls(n,t.pendingProps),a=ls(n.type,a),LE(e,t,n,a,r);case 15:return m5(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ls(n,a),bv(e,t),t.tag=1,Qn(n)?(e=!0,Vv(t)):e=!1,ld(t,r),d5(t,n,a),c1(t,n,a,r),f1(null,t,n,!0,e,r);case 19:return x5(e,t,r);case 22:return p5(e,t,r)}throw Error(Ne(156,t.tag))};function I5(e,t){return lR(e,t)}function MV(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function La(e,t,r,n){return new MV(e,t,r,n)}function ek(e){return e=e.prototype,!(!e||!e.isReactComponent)}function RV(e){if(typeof e=="function")return ek(e)?1:0;if(e!=null){if(e=e.$$typeof,e===x2)return 11;if(e===b2)return 14}return 2}function Go(e,t){var r=e.alternate;return r===null?(r=La(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Nv(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")ek(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case qu:return gc(r.children,a,i,t);case y2:o=8,a|=8;break;case $j:return e=La(12,r,t,a|2),e.elementType=$j,e.lanes=i,e;case Mj:return e=La(13,r,t,a),e.elementType=Mj,e.lanes=i,e;case Rj:return e=La(19,r,t,a),e.elementType=Rj,e.lanes=i,e;case W4:return Zx(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case U4:o=10;break e;case V4:o=9;break e;case x2:o=11;break e;case b2:o=14;break e;case _o:o=16,n=null;break e}throw Error(Ne(130,e==null?e:typeof e,""))}return t=La(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function gc(e,t,r,n){return e=La(7,e,n,t),e.lanes=r,e}function Zx(e,t,r,n){return e=La(22,e,n,t),e.elementType=W4,e.lanes=r,e.stateNode={isHidden:!1},e}function gw(e,t,r){return e=La(6,e,null,t),e.lanes=r,e}function vw(e,t,r){return t=La(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function IV(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Z0(0),this.expirationTimes=Z0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Z0(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function tk(e,t,r,n,a,i,o,l,c){return e=new IV(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=La(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},z2(i),e}function DV(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bu,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function D5(e){if(!e)return sl;e=e._reactInternals;e:{if(Vc(e)!==e||e.tag!==1)throw Error(Ne(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Qn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ne(171))}if(e.tag===1){var r=e.type;if(Qn(r))return IR(e,r,t)}return t}function z5(e,t,r,n,a,i,o,l,c){return e=tk(r,n,!0,e,a,i,o,l,c),e.context=D5(null),r=e.current,n=En(),a=Ho(r),i=Li(n,a),i.callback=t??null,Wo(r,i,a),e.current.lanes=a,Pp(e,a,n),Zn(e,n),e}function Xx(e,t,r,n){var a=t.current,i=En(),o=Ho(a);return r=D5(r),t.context===null?t.context=r:t.pendingContext=r,t=Li(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Wo(a,t,o),e!==null&&(_s(e,a,o,i),vv(e,a,o)),o}function ny(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ZE(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function rk(e,t){ZE(e,t),(e=e.alternate)&&ZE(e,t)}function zV(){return null}var L5=typeof reportError=="function"?reportError:function(e){console.error(e)};function nk(e){this._internalRoot=e}Jx.prototype.render=nk.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ne(409));Xx(e,t,null,null)};Jx.prototype.unmount=nk.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;kc(function(){Xx(null,e,null,null)}),t[Wi]=null}};function Jx(e){this._internalRoot=e}Jx.prototype.unstable_scheduleHydration=function(e){if(e){var t=pR();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Oo.length&&t!==0&&t<Oo[r].priority;r++);Oo.splice(r,0,e),r===0&&vR(e)}};function ak(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function eb(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function XE(){}function LV(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=ny(o);i.call(u)}}var o=z5(t,n,e,0,null,!1,!1,"",XE);return e._reactRootContainer=o,e[Wi]=o.current,bm(e.nodeType===8?e.parentNode:e),kc(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=ny(c);l.call(u)}}var c=tk(e,0,!1,null,null,!1,!1,"",XE);return e._reactRootContainer=c,e[Wi]=c.current,bm(e.nodeType===8?e.parentNode:e),kc(function(){Xx(t,c,r,n)}),c}function tb(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=ny(o);l.call(c)}}Xx(t,o,e,a)}else o=LV(r,t,e,a,n);return ny(o)}hR=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Dh(t.pendingLanes);r!==0&&(N2(t,r|1),Zn(t,br()),!(wt&6)&&(Sd=br()+500,xl()))}break;case 13:kc(function(){var n=Ki(e,1);if(n!==null){var a=En();_s(n,e,1,a)}}),rk(e,1)}};_2=function(e){if(e.tag===13){var t=Ki(e,134217728);if(t!==null){var r=En();_s(t,e,134217728,r)}rk(e,134217728)}};mR=function(e){if(e.tag===13){var t=Ho(e),r=Ki(e,t);if(r!==null){var n=En();_s(r,e,t,n)}rk(e,t)}};pR=function(){return Tt};gR=function(e,t){var r=Tt;try{return Tt=e,t()}finally{Tt=r}};Wj=function(e,t,r){switch(t){case"input":if(zj(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Wx(n);if(!a)throw Error(Ne(90));H4(n),zj(n,a)}}}break;case"textarea":Y4(e,r);break;case"select":t=r.value,t!=null&&ad(e,!!r.multiple,t,!1)}};rR=Z2;nR=kc;var FV={usingClientEntryPoint:!1,Events:[$p,Ku,Wx,eR,tR,Z2]},ih={findFiberByHostInstance:ac,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},BV={bundleType:ih.bundleType,version:ih.version,rendererPackageName:ih.rendererPackageName,rendererConfig:ih.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ro.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=iR(e),e===null?null:e.stateNode},findFiberByHostInstance:ih.findFiberByHostInstance||zV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pg.isDisabled&&Pg.supportsFiber)try{Bx=Pg.inject(BV),Js=Pg}catch{}}Sa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FV;Sa.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ak(t))throw Error(Ne(200));return DV(e,t,null,r)};Sa.createRoot=function(e,t){if(!ak(e))throw Error(Ne(299));var r=!1,n="",a=L5;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=tk(e,1,!1,null,null,r,!1,n,a),e[Wi]=t.current,bm(e.nodeType===8?e.parentNode:e),new nk(t)};Sa.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ne(188)):(e=Object.keys(e).join(","),Error(Ne(268,e)));return e=iR(t),e=e===null?null:e.stateNode,e};Sa.flushSync=function(e){return kc(e)};Sa.hydrate=function(e,t,r){if(!eb(t))throw Error(Ne(200));return tb(null,e,t,!0,r)};Sa.hydrateRoot=function(e,t,r){if(!ak(e))throw Error(Ne(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=L5;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=z5(t,null,e,1,r??null,a,!1,i,o),e[Wi]=t.current,bm(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Jx(t)};Sa.render=function(e,t,r){if(!eb(t))throw Error(Ne(200));return tb(null,e,t,!1,r)};Sa.unmountComponentAtNode=function(e){if(!eb(e))throw Error(Ne(40));return e._reactRootContainer?(kc(function(){tb(null,null,e,!1,function(){e._reactRootContainer=null,e[Wi]=null})}),!0):!1};Sa.unstable_batchedUpdates=Z2;Sa.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!eb(r))throw Error(Ne(200));if(e==null||e._reactInternals===void 0)throw Error(Ne(38));return tb(e,t,r,!1,n)};Sa.version="18.3.1-next-f1338f8080-20240426";function F5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(F5)}catch(e){console.error(e)}}F5(),L4.exports=Sa;var Wc=L4.exports;const B5=Ct(Wc);var q5={exports:{}},rb={};/**
* @license React
* react-jsx-runtime.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var qV=g,UV=Symbol.for("react.element"),VV=Symbol.for("react.fragment"),WV=Object.prototype.hasOwnProperty,KV=qV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,HV={key:!0,ref:!0,__self:!0,__source:!0};function U5(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)WV.call(t,n)&&!HV.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:UV,type:e,key:i,ref:o,props:a,_owner:KV.current}}rb.Fragment=VV;rb.jsx=U5;rb.jsxs=U5;q5.exports=rb;var s=q5.exports;function be(e,t,{checkForDefaultPrevented:r=!0}={}){return function(n){if(e==null||e(n),r===!1||!n.defaultPrevented)return t==null?void 0:t(n)}}function JE(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Gi(...e){return t=>{let r=!1;const n=e.map(a=>{const i=JE(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():JE(e[a],null)}}}}function Ye(...e){return g.useCallback(Gi(...e),e)}function GV(e,t){const r=g.createContext(t),n=i=>{const{children:o,...l}=i,c=g.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(i){const o=g.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function xn(e,t=[]){let r=[];function n(i,o){const l=g.createContext(o),c=r.length;r=[...r,o];const u=f=>{var h;const{scope:m,children:v,...p}=f,b=((h=m==null?void 0:m[e])==null?void 0:h[c])||l,x=g.useMemo(()=>p,Object.values(p));return s.jsx(b.Provider,{value:x,children:v})};u.displayName=i+"Provider";function d(f,h){var m;const v=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,p=g.useContext(v);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(o=>g.createContext(o));return function(o){const l=(o==null?void 0:o[e])||i;return g.useMemo(()=>({[`__scope${e}`]:{...o,[e]:l}}),[o,l])}};return a.scopeName=e,[n,YV(a,...t)]}function YV(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(a){const i=n.reduce((o,{useScope:l,scopeName:c})=>{const u=l(a)[`__scope${c}`];return{...o,...u}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function il(e){const t=QV(e),r=g.forwardRef((n,a)=>{const{children:i,...o}=n,l=g.Children.toArray(i),c=l.find(XV);if(c){const u=c.props.children,d=l.map(f=>f===c?g.Children.count(u)>1?g.Children.only(null):g.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:g.isValidElement(u)?g.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var Kc=il("Slot");function QV(e){const t=g.forwardRef((r,n)=>{const{children:a,...i}=r;if(g.isValidElement(a)){const o=eW(a),l=JV(i,a.props);return a.type!==g.Fragment&&(l.ref=n?Gi(n,o):o),g.cloneElement(a,l)}return g.Children.count(a)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var V5=Symbol("radix.slottable");function ZV(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=V5,t}function XV(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===V5}function JV(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...o)=>{const l=i(...o);return a(...o),l}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function eW(e){var t,r;let n=(t=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:t.get,a=n&&"isReactWarning"in n&&n.isReactWarning;return a?e.ref:(n=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,a=n&&"isReactWarning"in n&&n.isReactWarning,a?e.props.ref:e.props.ref||e.ref)}function Rp(e){const t=e+"CollectionProvider",[r,n]=xn(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:b,children:x}=p,y=E.useRef(null),w=E.useRef(new Map).current;return s.jsx(a,{scope:b,itemMap:w,collectionRef:y,children:x})};o.displayName=t;const l=e+"CollectionSlot",c=il(l),u=E.forwardRef((p,b)=>{const{scope:x,children:y}=p,w=i(l,x),j=Ye(b,w.collectionRef);return s.jsx(c,{ref:j,children:y})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=il(d),m=E.forwardRef((p,b)=>{const{scope:x,children:y,...w}=p,j=E.useRef(null),N=Ye(b,j),_=i(d,x);return E.useEffect(()=>(_.itemMap.set(j,{ref:j,...w}),()=>void _.itemMap.delete(j))),s.jsx(h,{[f]:"",ref:N,children:y})});m.displayName=d;function v(p){const b=i(e+"CollectionConsumer",p);return E.useCallback(()=>{const x=b.collectionRef.current;if(!x)return[];const y=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((w,j)=>y.indexOf(w.ref.current)-y.indexOf(j.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},v,n]}var tW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ae=tW.reduce((e,t)=>{const r=il(`Primitive.${t}`),n=g.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function sk(e,t){e&&Wc.flushSync(()=>e.dispatchEvent(t))}function pr(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e}),g.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function rW(e,t=globalThis==null?void 0:globalThis.document){const r=pr(e);g.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var nW="DismissableLayer",N1="dismissableLayer.update",aW="dismissableLayer.pointerDownOutside",sW="dismissableLayer.focusOutside",eO,W5=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Hc=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=g.useContext(W5),[d,f]=g.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=g.useState({}),v=Ye(t,k=>f(k)),p=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=p.indexOf(b),y=d?p.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,j=y>=x,N=oW(k=>{const C=k.target,O=[...u.branches].some(T=>T.contains(C));!j||O||(a==null||a(k),o==null||o(k),k.defaultPrevented||l==null||l())},h),_=lW(k=>{const C=k.target;[...u.branches].some(O=>O.contains(C))||(i==null||i(k),o==null||o(k),k.defaultPrevented||l==null||l())},h);return rW(k=>{y===u.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},h),g.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(eO=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),tO(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=eO)}},[d,h,r,u]),g.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),tO())},[d,u]),g.useEffect(()=>{const k=()=>m({});return document.addEventListener(N1,k),()=>document.removeEventListener(N1,k)},[]),s.jsx(Ae.div,{...c,ref:v,style:{pointerEvents:w?j?"auto":"none":void 0,...e.style},onFocusCapture:be(e.onFocusCapture,_.onFocusCapture),onBlurCapture:be(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:be(e.onPointerDownCapture,N.onPointerDownCapture)})});Hc.displayName=nW;var iW="DismissableLayerBranch",K5=g.forwardRef((e,t)=>{const r=g.useContext(W5),n=g.useRef(null),a=Ye(t,n);return g.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(Ae.div,{...e,ref:a})});K5.displayName=iW;function oW(e,t=globalThis==null?void 0:globalThis.document){const r=pr(e),n=g.useRef(!1),a=g.useRef(()=>{});return g.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){H5(aW,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function lW(e,t=globalThis==null?void 0:globalThis.document){const r=pr(e),n=g.useRef(!1);return g.useEffect(()=>{const a=i=>{i.target&&!n.current&&H5(sW,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function tO(){const e=new CustomEvent(N1);document.dispatchEvent(e)}function H5(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?sk(a,i):a.dispatchEvent(i)}var cW=Hc,uW=K5,jr=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},dW="Portal",jf=g.forwardRef((e,t)=>{var r;const{container:n,...a}=e,[i,o]=g.useState(!1);jr(()=>o(!0),[]);const l=n||i&&((r=globalThis==null?void 0:globalThis.document)==null?void 0:r.body);return l?B5.createPortal(s.jsx(Ae.div,{...a,ref:t}),l):null});jf.displayName=dW;function fW(e,t){return g.useReducer((r,n)=>t[r][n]??r,e)}var Jr=e=>{const{present:t,children:r}=e,n=hW(t),a=typeof r=="function"?r({present:n.isPresent}):g.Children.only(r),i=Ye(n.ref,mW(a));return typeof r=="function"||n.isPresent?g.cloneElement(a,{ref:i}):null};Jr.displayName="Presence";function hW(e){const[t,r]=g.useState(),n=g.useRef(null),a=g.useRef(e),i=g.useRef("none"),o=e?"mounted":"unmounted",[l,c]=fW(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=Tg(n.current);i.current=l==="mounted"?u:"none"},[l]),jr(()=>{const u=n.current,d=a.current;if(d!==e){const f=i.current,h=Tg(u);e?c("MOUNT"):h==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==h?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),jr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const v=Tg(n.current).includes(CSS.escape(m.animationName));if(m.target===t&&v&&(c("ANIMATION_END"),!a.current)){const p=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=p)})}},h=m=>{m.target===t&&(i.current=Tg(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:g.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Tg(e){return(e==null?void 0:e.animationName)||"none"}function mW(e){var t,r;let n=(t=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:t.get,a=n&&"isReactWarning"in n&&n.isReactWarning;return a?e.ref:(n=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,a=n&&"isReactWarning"in n&&n.isReactWarning,a?e.props.ref:e.props.ref||e.ref)}var pW=m2[" useInsertionEffect ".trim().toString()]||jr;function Ga({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,o]=gW({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const d=g.useRef(e!==void 0);g.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=g.useCallback(d=>{var f;if(l){const h=vW(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else i(d)},[l,e,i,o]);return[c,u]}function gW({defaultProp:e,onChange:t}){const[r,n]=g.useState(e),a=g.useRef(r),i=g.useRef(t);return pW(()=>{i.current=t},[t]),g.useEffect(()=>{var o;a.current!==r&&((o=i.current)==null||o.call(i,r),a.current=r)},[r,a]),[r,n,i]}function vW(e){return typeof e=="function"}var yW=m2[" useId ".trim().toString()]||(()=>{}),xW=0;function Xr(e){const[t,r]=g.useState(yW());return jr(()=>{r(n=>n??String(xW++))},[e]),t?`radix-${t}`:""}const bW=["top","right","bottom","left"],ol=Math.min,fa=Math.max,ay=Math.round,$g=Math.floor,ti=e=>({x:e,y:e}),wW={left:"right",right:"left",bottom:"top",top:"bottom"},jW={start:"end",end:"start"};function _1(e,t,r){return fa(e,ol(t,r))}function Yi(e,t){return typeof e=="function"?e(t):e}function Qi(e){return e.split("-")[0]}function Nf(e){return e.split("-")[1]}function ik(e){return e==="x"?"y":"x"}function ok(e){return e==="y"?"height":"width"}const NW=new Set(["top","bottom"]);function Qs(e){return NW.has(Qi(e))?"y":"x"}function lk(e){return ik(Qs(e))}function _W(e,t,r){r===void 0&&(r=!1);const n=Nf(e),a=lk(e),i=ok(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=sy(o)),[o,sy(o)]}function kW(e){const t=sy(e);return[k1(e),t,k1(t)]}function k1(e){return e.replace(/start|end/g,t=>jW[t])}const rO=["left","right"],nO=["right","left"],SW=["top","bottom"],CW=["bottom","top"];function EW(e,t,r){switch(e){case"top":case"bottom":return r?t?nO:rO:t?rO:nO;case"left":case"right":return t?SW:CW;default:return[]}}function OW(e,t,r,n){const a=Nf(e);let i=EW(Qi(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(k1)))),i}function sy(e){return e.replace(/left|right|bottom|top/g,t=>wW[t])}function AW(e){return{top:0,right:0,bottom:0,left:0,...e}}function G5(e){return typeof e!="number"?AW(e):{top:e,right:e,bottom:e,left:e}}function iy(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function aO(e,t,r){let{reference:n,floating:a}=e;const i=Qs(t),o=lk(t),l=ok(o),c=Qi(t),u=i==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let m;switch(c){case"top":m={x:d,y:n.y-a.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-a.width,y:f};break;default:m={x:n.x,y:n.y}}switch(Nf(t)){case"start":m[o]-=h*(r&&u?-1:1);break;case"end":m[o]+=h*(r&&u?-1:1);break}return m}const PW=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=aO(u,n,c),h=n,m={},v=0;for(let p=0;p<l.length;p++){const{name:b,fn:x}=l[p],{x:y,y:w,data:j,reset:N}=await x({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=y??d,f=w??f,m={...m,[b]:{...m[b],...j}},N&&v<=50&&(v++,typeof N=="object"&&(N.placement&&(h=N.placement),N.rects&&(u=N.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):N.rects),{x:d,y:f}=aO(u,h,c)),p=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:m}};async function Om(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=Yi(t,e),v=G5(m),p=l[h?f==="floating"?"reference":"floating":f],b=iy(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(p)))==null||r?p:p.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),x=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,y=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),w=await(i.isElement==null?void 0:i.isElement(y))?await(i.getScale==null?void 0:i.getScale(y))||{x:1,y:1}:{x:1,y:1},j=iy(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:y,strategy:c}):x);return{top:(b.top-j.top+v.top)/w.y,bottom:(j.bottom-b.bottom+v.bottom)/w.y,left:(b.left-j.left+v.left)/w.x,right:(j.right-b.right+v.right)/w.x}}const TW=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Yi(e,t)||{};if(u==null)return{};const f=G5(d),h={x:r,y:n},m=lk(a),v=ok(m),p=await o.getDimensions(u),b=m==="y",x=b?"top":"left",y=b?"bottom":"right",w=b?"clientHeight":"clientWidth",j=i.reference[v]+i.reference[m]-h[m]-i.floating[v],N=h[m]-i.reference[m],_=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let k=_?_[w]:0;(!k||!await(o.isElement==null?void 0:o.isElement(_)))&&(k=l.floating[w]||i.floating[v]);const C=j/2-N/2,O=k/2-p[v]/2-1,T=ol(f[x],O),P=ol(f[y],O),S=T,M=k-p[v]-P,$=k/2-p[v]/2+C,q=_1(S,$,M),U=!c.arrow&&Nf(a)!=null&&$!==q&&i.reference[v]/2-($<S?T:P)-p[v]/2<0,L=U?$<S?$-S:$-M:0;return{[m]:h[m]+L,data:{[m]:q,centerOffset:$-q-L,...U&&{alignmentOffset:L}},reset:U}}}),$W=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:p=!0,...b}=Yi(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const x=Qi(a),y=Qs(l),w=Qi(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=h||(w||!p?[sy(l)]:kW(l)),_=v!=="none";!h&&_&&N.push(...OW(l,p,v,j));const k=[l,...N],C=await Om(t,b),O=[];let T=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&O.push(C[x]),f){const $=_W(a,o,j);O.push(C[$[0]],C[$[1]])}if(T=[...T,{placement:a,overflows:O}],!O.every($=>$<=0)){var P,S;const $=(((P=i.flip)==null?void 0:P.index)||0)+1,q=k[$];if(q&&(!(f==="alignment"&&y!==Qs(q))||T.every(L=>Qs(L.placement)===y?L.overflows[0]>0:!0)))return{data:{index:$,overflows:T},reset:{placement:q}};let U=(S=T.filter(L=>L.overflows[0]<=0).sort((L,z)=>L.overflows[1]-z.overflows[1])[0])==null?void 0:S.placement;if(!U)switch(m){case"bestFit":{var M;const L=(M=T.filter(z=>{if(_){const R=Qs(z.placement);return R===y||R==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(R=>R>0).reduce((R,G)=>R+G,0)]).sort((z,R)=>z[1]-R[1])[0])==null?void 0:M[0];L&&(U=L);break}case"initialPlacement":U=l;break}if(a!==U)return{reset:{placement:U}}}return{}}}};function sO(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function iO(e){return bW.some(t=>e[t]>=0)}const MW=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=Yi(e,t);switch(n){case"referenceHidden":{const i=await Om(t,{...a,elementContext:"reference"}),o=sO(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:iO(o)}}}case"escaped":{const i=await Om(t,{...a,altBoundary:!0}),o=sO(i,r.floating);return{data:{escapedOffsets:o,escaped:iO(o)}}}default:return{}}}}},Y5=new Set(["left","top"]);async function RW(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=Qi(r),l=Nf(r),c=Qs(r)==="y",u=Y5.has(o)?-1:1,d=i&&c?-1:1,f=Yi(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof v=="number"&&(m=l==="end"?v*-1:v),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const IW=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await RW(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},DW=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:b=>{let{x,y}=b;return{x,y}}},...c}=Yi(e,t),u={x:r,y:n},d=await Om(t,c),f=Qs(Qi(a)),h=ik(f);let m=u[h],v=u[f];if(i){const b=h==="y"?"top":"left",x=h==="y"?"bottom":"right",y=m+d[b],w=m-d[x];m=_1(y,m,w)}if(o){const b=f==="y"?"top":"left",x=f==="y"?"bottom":"right",y=v+d[b],w=v-d[x];v=_1(y,v,w)}const p=l.fn({...t,[h]:m,[f]:v});return{...p,data:{x:p.x-r,y:p.y-n,enabled:{[h]:i,[f]:o}}}}}},zW=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Yi(e,t),d={x:r,y:n},f=Qs(a),h=ik(f);let m=d[h],v=d[f];const p=Yi(l,t),b=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const w=h==="y"?"height":"width",j=i.reference[h]-i.floating[w]+b.mainAxis,N=i.reference[h]+i.reference[w]-b.mainAxis;m<j?m=j:m>N&&(m=N)}if(u){var x,y;const w=h==="y"?"width":"height",j=Y5.has(Qi(a)),N=i.reference[f]-i.floating[w]+(j&&((x=o.offset)==null?void 0:x[f])||0)+(j?0:b.crossAxis),_=i.reference[f]+i.reference[w]+(j?0:((y=o.offset)==null?void 0:y[f])||0)-(j?b.crossAxis:0);v<N?v=N:v>_&&(v=_)}return{[h]:m,[f]:v}}}},LW=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Yi(e,t),d=await Om(t,u),f=Qi(a),h=Nf(a),m=Qs(a)==="y",{width:v,height:p}=i.floating;let b,x;f==="top"||f==="bottom"?(b=f,x=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(x=f,b=h==="end"?"top":"bottom");const y=p-d.top-d.bottom,w=v-d.left-d.right,j=ol(p-d[b],y),N=ol(v-d[x],w),_=!t.middlewareData.shift;let k=j,C=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(C=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(k=y),_&&!h){const T=fa(d.left,0),P=fa(d.right,0),S=fa(d.top,0),M=fa(d.bottom,0);m?C=v-2*(T!==0||P!==0?T+P:fa(d.left,d.right)):k=p-2*(S!==0||M!==0?S+M:fa(d.top,d.bottom))}await c({...t,availableWidth:C,availableHeight:k});const O=await o.getDimensions(l.floating);return v!==O.width||p!==O.height?{reset:{rects:!0}}:{}}}};function nb(){return typeof window<"u"}function _f(e){return Q5(e)?(e.nodeName||"").toLowerCase():"#document"}function ba(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function fi(e){var t;return(t=(Q5(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Q5(e){return nb()?e instanceof Node||e instanceof ba(e).Node:!1}function Es(e){return nb()?e instanceof Element||e instanceof ba(e).Element:!1}function li(e){return nb()?e instanceof HTMLElement||e instanceof ba(e).HTMLElement:!1}function oO(e){return!nb()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ba(e).ShadowRoot}const FW=new Set(["inline","contents"]);function Ip(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Os(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!FW.has(a)}const BW=new Set(["table","td","th"]);function qW(e){return BW.has(_f(e))}const UW=[":popover-open",":modal"];function ab(e){return UW.some(t=>{try{return e.matches(t)}catch{return!1}})}const VW=["transform","translate","scale","rotate","perspective"],WW=["transform","translate","scale","rotate","perspective","filter"],KW=["paint","layout","strict","content"];function ck(e){const t=uk(),r=Es(e)?Os(e):e;return VW.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||WW.some(n=>(r.willChange||"").includes(n))||KW.some(n=>(r.contain||"").includes(n))}function HW(e){let t=ll(e);for(;li(t)&&!Cd(t);){if(ck(t))return t;if(ab(t))return null;t=ll(t)}return null}function uk(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const GW=new Set(["html","body","#document"]);function Cd(e){return GW.has(_f(e))}function Os(e){return ba(e).getComputedStyle(e)}function sb(e){return Es(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ll(e){if(_f(e)==="html")return e;const t=e.assignedSlot||e.parentNode||oO(e)&&e.host||fi(e);return oO(t)?t.host:t}function Z5(e){const t=ll(e);return Cd(t)?e.ownerDocument?e.ownerDocument.body:e.body:li(t)&&Ip(t)?t:Z5(t)}function Am(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=Z5(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=ba(a);if(i){const l=S1(o);return t.concat(o,o.visualViewport||[],Ip(a)?a:[],l&&r?Am(l):[])}return t.concat(a,Am(a,[],r))}function S1(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function X5(e){const t=Os(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=li(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=ay(r)!==i||ay(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function dk(e){return Es(e)?e:e.contextElement}function ud(e){const t=dk(e);if(!li(t))return ti(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=X5(t);let o=(i?ay(r.width):r.width)/n,l=(i?ay(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const YW=ti(0);function J5(e){const t=ba(e);return!uk()||!t.visualViewport?YW:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function QW(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==ba(e)?!1:t}function Sc(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=dk(e);let o=ti(1);t&&(n?Es(n)&&(o=ud(n)):o=ud(e));const l=QW(i,r,n)?J5(i):ti(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,f=a.height/o.y;if(i){const h=ba(i),m=n&&Es(n)?ba(n):n;let v=h,p=S1(v);for(;p&&n&&m!==v;){const b=ud(p),x=p.getBoundingClientRect(),y=Os(p),w=x.left+(p.clientLeft+parseFloat(y.paddingLeft))*b.x,j=x.top+(p.clientTop+parseFloat(y.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,f*=b.y,c+=w,u+=j,v=ba(p),p=S1(v)}}return iy({width:d,height:f,x:c,y:u})}function ib(e,t){const r=sb(e).scrollLeft;return t?t.left+r:Sc(fi(e)).left+r}function eI(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-ib(e,r),a=r.top+t.scrollTop;return{x:n,y:a}}function ZW(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=fi(n),l=t?ab(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=ti(1);const d=ti(0),f=li(n);if((f||!f&&!i)&&((_f(n)!=="body"||Ip(o))&&(c=sb(n)),li(n))){const m=Sc(n);u=ud(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const h=o&&!f&&!i?eI(o,c):ti(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function XW(e){return Array.from(e.getClientRects())}function JW(e){const t=fi(e),r=sb(e),n=e.ownerDocument.body,a=fa(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=fa(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+ib(e);const l=-r.scrollTop;return Os(n).direction==="rtl"&&(o+=fa(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}const lO=25;function eK(e,t){const r=ba(e),n=fi(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=uk();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const u=ib(n);if(u<=0){const d=n.ownerDocument,f=d.body,h=getComputedStyle(f),m=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,v=Math.abs(n.clientWidth-f.clientWidth-m);v<=lO&&(i-=v)}else u<=lO&&(i+=u);return{width:i,height:o,x:l,y:c}}const tK=new Set(["absolute","fixed"]);function rK(e,t){const r=Sc(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=li(e)?ud(e):ti(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function cO(e,t,r){let n;if(t==="viewport")n=eK(e,r);else if(t==="document")n=JW(fi(e));else if(Es(t))n=rK(t,r);else{const a=J5(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return iy(n)}function tI(e,t){const r=ll(e);return r===t||!Es(r)||Cd(r)?!1:Os(r).position==="fixed"||tI(r,t)}function nK(e,t){const r=t.get(e);if(r)return r;let n=Am(e,[],!1).filter(l=>Es(l)&&_f(l)!=="body"),a=null;const i=Os(e).position==="fixed";let o=i?ll(e):e;for(;Es(o)&&!Cd(o);){const l=Os(o),c=ck(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&a&&tK.has(a.position)||Ip(o)&&!c&&tI(e,o))?n=n.filter(u=>u!==o):a=l,o=ll(o)}return t.set(e,n),n}function aK(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const i=[...r==="clippingAncestors"?ab(t)?[]:nK(t,this._c):[].concat(r),n],o=i[0],l=i.reduce((c,u)=>{const d=cO(t,u,a);return c.top=fa(d.top,c.top),c.right=ol(d.right,c.right),c.bottom=ol(d.bottom,c.bottom),c.left=fa(d.left,c.left),c},cO(t,o,a));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function sK(e){const{width:t,height:r}=X5(e);return{width:t,height:r}}function iK(e,t,r){const n=li(t),a=fi(t),i=r==="fixed",o=Sc(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=ti(0);function u(){c.x=ib(a)}if(n||!n&&!i)if((_f(t)!=="body"||Ip(a))&&(l=sb(t)),n){const m=Sc(t,!0,i,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else a&&u();i&&!n&&a&&u();const d=a&&!n&&!i?eI(a,l):ti(0),f=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function yw(e){return Os(e).position==="static"}function uO(e,t){if(!li(e)||Os(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return fi(e)===r&&(r=r.ownerDocument.body),r}function rI(e,t){const r=ba(e);if(ab(e))return r;if(!li(e)){let a=ll(e);for(;a&&!Cd(a);){if(Es(a)&&!yw(a))return a;a=ll(a)}return r}let n=uO(e,t);for(;n&&qW(n)&&yw(n);)n=uO(n,t);return n&&Cd(n)&&yw(n)&&!ck(n)?r:n||HW(e)||r}const oK=async function(e){const t=this.getOffsetParent||rI,r=this.getDimensions,n=await r(e.floating);return{reference:iK(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function lK(e){return Os(e).direction==="rtl"}const cK={convertOffsetParentRelativeRectToViewportRelativeRect:ZW,getDocumentElement:fi,getClippingRect:aK,getOffsetParent:rI,getElementRects:oK,getClientRects:XW,getDimensions:sK,getScale:ud,isElement:Es,isRTL:lK};function nI(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function uK(e,t){let r=null,n;const a=fi(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(l||t(),!h||!m)return;const v=$g(f),p=$g(a.clientWidth-(d+h)),b=$g(a.clientHeight-(f+m)),x=$g(d),y={rootMargin:-v+"px "+-p+"px "+-b+"px "+-x+"px",threshold:fa(0,ol(1,c))||1};let w=!0;function j(N){const _=N[0].intersectionRatio;if(_!==c){if(!w)return o();_?o(!1,_):n=setTimeout(()=>{o(!1,1e-7)},1e3)}_===1&&!nI(u,e.getBoundingClientRect())&&o(),w=!1}try{r=new IntersectionObserver(j,{...y,root:a.ownerDocument})}catch{r=new IntersectionObserver(j,y)}r.observe(e)}return o(!0),i}function dK(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=dk(e),d=a||i?[...u?Am(u):[],...Am(t)]:[];d.forEach(x=>{a&&x.addEventListener("scroll",r,{passive:!0}),i&&x.addEventListener("resize",r)});const f=u&&l?uK(u,r):null;let h=-1,m=null;o&&(m=new ResizeObserver(x=>{let[y]=x;y&&y.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let v,p=c?Sc(e):null;c&&b();function b(){const x=Sc(e);p&&!nI(p,x)&&r(),p=x,v=requestAnimationFrame(b)}return r(),()=>{var x;d.forEach(y=>{a&&y.removeEventListener("scroll",r),i&&y.removeEventListener("resize",r)}),f==null||f(),(x=m)==null||x.disconnect(),m=null,c&&cancelAnimationFrame(v)}}const fK=IW,hK=DW,mK=$W,pK=LW,gK=MW,dO=TW,vK=zW,yK=(e,t,r)=>{const n=new Map,a={platform:cK,...r},i={...a.platform,_c:n};return PW(e,t,{...a,platform:i})};var xK=typeof document<"u",bK=function(){},_v=xK?g.useLayoutEffect:bK;function oy(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!oy(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!oy(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function aI(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function fO(e,t){const r=aI(e);return Math.round(t*r)/r}function xw(e){const t=g.useRef(e);return _v(()=>{t.current=e}),t}function wK(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=g.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=g.useState(n);oy(h,n)||m(n);const[v,p]=g.useState(null),[b,x]=g.useState(null),y=g.useCallback(z=>{z!==_.current&&(_.current=z,p(z))},[]),w=g.useCallback(z=>{z!==k.current&&(k.current=z,x(z))},[]),j=i||v,N=o||b,_=g.useRef(null),k=g.useRef(null),C=g.useRef(d),O=c!=null,T=xw(c),P=xw(a),S=xw(u),M=g.useCallback(()=>{if(!_.current||!k.current)return;const z={placement:t,strategy:r,middleware:h};P.current&&(z.platform=P.current),yK(_.current,k.current,z).then(R=>{const G={...R,isPositioned:S.current!==!1};$.current&&!oy(C.current,G)&&(C.current=G,Wc.flushSync(()=>{f(G)}))})},[h,t,r,P,S]);_v(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(z=>({...z,isPositioned:!1})))},[u]);const $=g.useRef(!1);_v(()=>($.current=!0,()=>{$.current=!1}),[]),_v(()=>{if(j&&(_.current=j),N&&(k.current=N),j&&N){if(T.current)return T.current(j,N,M);M()}},[j,N,M,T,O]);const q=g.useMemo(()=>({reference:_,floating:k,setReference:y,setFloating:w}),[y,w]),U=g.useMemo(()=>({reference:j,floating:N}),[j,N]),L=g.useMemo(()=>{const z={position:r,left:0,top:0};if(!U.floating)return z;const R=fO(U.floating,d.x),G=fO(U.floating,d.y);return l?{...z,transform:"translate("+R+"px, "+G+"px)",...aI(U.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:R,top:G}},[r,l,U.floating,d.x,d.y]);return g.useMemo(()=>({...d,update:M,refs:q,elements:U,floatingStyles:L}),[d,M,q,U,L])}const jK=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?dO({element:n.current,padding:a}).fn(r):{}:n?dO({element:n,padding:a}).fn(r):{}}}},NK=(e,t)=>({...fK(e),options:[e,t]}),_K=(e,t)=>({...hK(e),options:[e,t]}),kK=(e,t)=>({...vK(e),options:[e,t]}),SK=(e,t)=>({...mK(e),options:[e,t]}),CK=(e,t)=>({...pK(e),options:[e,t]}),EK=(e,t)=>({...gK(e),options:[e,t]}),OK=(e,t)=>({...jK(e),options:[e,t]});var AK="Arrow",sI=g.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx(Ae.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});sI.displayName=AK;var PK=sI;function ob(e){const[t,r]=g.useState(void 0);return jr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var fk="Popper",[iI,bl]=xn(fk),[TK,oI]=iI(fk),lI=e=>{const{__scopePopper:t,children:r}=e,[n,a]=g.useState(null);return s.jsx(TK,{scope:t,anchor:n,onAnchorChange:a,children:r})};lI.displayName=fk;var cI="PopperAnchor",uI=g.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=oI(cI,r),o=g.useRef(null),l=Ye(t,o),c=g.useRef(null);return g.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||o.current,u!==c.current&&i.onAnchorChange(c.current)}),n?null:s.jsx(Ae.div,{...a,ref:l})});uI.displayName=cI;var hk="PopperContent",[$K,MK]=iI(hk),dI=g.forwardRef((e,t)=>{var r,n,a,i,o,l;const{__scopePopper:c,side:u="bottom",sideOffset:d=0,align:f="center",alignOffset:h=0,arrowPadding:m=0,avoidCollisions:v=!0,collisionBoundary:p=[],collisionPadding:b=0,sticky:x="partial",hideWhenDetached:y=!1,updatePositionStrategy:w="optimized",onPlaced:j,...N}=e,_=oI(hk,c),[k,C]=g.useState(null),O=Ye(t,qe=>C(qe)),[T,P]=g.useState(null),S=ob(T),M=(S==null?void 0:S.width)??0,$=(S==null?void 0:S.height)??0,q=u+(f!=="center"?"-"+f:""),U=typeof b=="number"?b:{top:0,right:0,bottom:0,left:0,...b},L=Array.isArray(p)?p:[p],z=L.length>0,R={padding:U,boundary:L.filter(IK),altBoundary:z},{refs:G,floatingStyles:D,placement:F,isPositioned:J,middlewareData:H}=wK({strategy:"fixed",placement:q,whileElementsMounted:(...qe)=>dK(...qe,{animationFrame:w==="always"}),elements:{reference:_.anchor},middleware:[NK({mainAxis:d+$,alignmentAxis:h}),v&&_K({mainAxis:!0,crossAxis:!1,limiter:x==="partial"?kK():void 0,...R}),v&&SK({...R}),CK({...R,apply:({elements:qe,rects:Re,availableWidth:ut,availableHeight:it})=>{const{width:Qe,height:Z}=Re.reference,B=qe.floating.style;B.setProperty("--radix-popper-available-width",`${ut}px`),B.setProperty("--radix-popper-available-height",`${it}px`),B.setProperty("--radix-popper-anchor-width",`${Qe}px`),B.setProperty("--radix-popper-anchor-height",`${Z}px`)}}),T&&OK({element:T,padding:m}),DK({arrowWidth:M,arrowHeight:$}),y&&EK({strategy:"referenceHidden",...R})]}),[I,oe]=mI(F),V=pr(j);jr(()=>{J&&(V==null||V())},[J,V]);const de=(r=H.arrow)==null?void 0:r.x,te=(n=H.arrow)==null?void 0:n.y,ce=((a=H.arrow)==null?void 0:a.centerOffset)!==0,[ne,ee]=g.useState();return jr(()=>{k&&ee(window.getComputedStyle(k).zIndex)},[k]),s.jsx("div",{ref:G.setFloating,"data-radix-popper-content-wrapper":"",style:{...D,transform:J?D.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ne,"--radix-popper-transform-origin":[(i=H.transformOrigin)==null?void 0:i.x,(o=H.transformOrigin)==null?void 0:o.y].join(" "),...((l=H.hide)==null?void 0:l.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx($K,{scope:c,placedSide:I,onArrowChange:P,arrowX:de,arrowY:te,shouldHideArrow:ce,children:s.jsx(Ae.div,{"data-side":I,"data-align":oe,...N,ref:O,style:{...N.style,animation:J?void 0:"none"}})})})});dI.displayName=hk;var fI="PopperArrow",RK={top:"bottom",right:"left",bottom:"top",left:"right"},hI=g.forwardRef(function(e,t){const{__scopePopper:r,...n}=e,a=MK(fI,r),i=RK[a.placedSide];return s.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:s.jsx(PK,{...n,ref:t,style:{...n.style,display:"block"}})})});hI.displayName=fI;function IK(e){return e!==null}var DK=e=>({name:"transformOrigin",options:e,fn(t){var r,n,a;const{placement:i,rects:o,middlewareData:l}=t,c=((r=l.arrow)==null?void 0:r.centerOffset)!==0,u=c?0:e.arrowWidth,d=c?0:e.arrowHeight,[f,h]=mI(i),m={start:"0%",center:"50%",end:"100%"}[h],v=(((n=l.arrow)==null?void 0:n.x)??0)+u/2,p=(((a=l.arrow)==null?void 0:a.y)??0)+d/2;let b="",x="";return f==="bottom"?(b=c?m:`${v}px`,x=`${-d}px`):f==="top"?(b=c?m:`${v}px`,x=`${o.floating.height+d}px`):f==="right"?(b=`${-d}px`,x=c?m:`${p}px`):f==="left"&&(b=`${o.floating.width+d}px`,x=c?m:`${p}px`),{data:{x:b,y:x}}}});function mI(e){const[t,r="center"]=e.split("-");return[t,r]}var lb=lI,Dp=uI,cb=dI,ub=hI,bw="focusScope.autoFocusOnMount",ww="focusScope.autoFocusOnUnmount",hO={bubbles:!1,cancelable:!0},zK="FocusScope",zp=g.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=g.useState(null),u=pr(a),d=pr(i),f=g.useRef(null),h=Ye(t,p=>c(p)),m=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(n){let p=function(w){if(m.paused||!l)return;const j=w.target;l.contains(j)?f.current=j:wo(f.current,{select:!0})},b=function(w){if(m.paused||!l)return;const j=w.relatedTarget;j!==null&&(l.contains(j)||wo(f.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const j of w)j.removedNodes.length>0&&wo(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",b);const y=new MutationObserver(x);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",b),y.disconnect()}}},[n,l,m.paused]),g.useEffect(()=>{if(l){pO.add(m);const p=document.activeElement;if(!l.contains(p)){const b=new CustomEvent(bw,hO);l.addEventListener(bw,u),l.dispatchEvent(b),b.defaultPrevented||(LK(VK(pI(l)),{select:!0}),document.activeElement===p&&wo(l))}return()=>{l.removeEventListener(bw,u),setTimeout(()=>{const b=new CustomEvent(ww,hO);l.addEventListener(ww,d),l.dispatchEvent(b),b.defaultPrevented||wo(p??document.body,{select:!0}),l.removeEventListener(ww,d),pO.remove(m)},0)}}},[l,u,d,m]);const v=g.useCallback(p=>{if(!r&&!n||m.paused)return;const b=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,x=document.activeElement;if(b&&x){const y=p.currentTarget,[w,j]=FK(y);w&&j?!p.shiftKey&&x===j?(p.preventDefault(),r&&wo(w,{select:!0})):p.shiftKey&&x===w&&(p.preventDefault(),r&&wo(j,{select:!0})):x===y&&p.preventDefault()}},[r,n,m.paused]);return s.jsx(Ae.div,{tabIndex:-1,...o,ref:h,onKeyDown:v})});zp.displayName=zK;function LK(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(wo(n,{select:t}),document.activeElement!==r)return}function FK(e){const t=pI(e),r=mO(t,e),n=mO(t.reverse(),e);return[r,n]}function pI(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function mO(e,t){for(const r of e)if(!BK(r,{upTo:t}))return r}function BK(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function qK(e){return e instanceof HTMLInputElement&&"select"in e}function wo(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&qK(e)&&t&&e.select()}}var pO=UK();function UK(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=gO(e,t),e.unshift(t)},remove(t){var r;e=gO(e,t),(r=e[0])==null||r.resume()}}}function gO(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function VK(e){return e.filter(t=>t.tagName!=="A")}var jw=0;function db(){g.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??vO()),document.body.insertAdjacentElement("beforeend",e[1]??vO()),jw++,()=>{jw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),jw--}},[])}function vO(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Hs=function(){return Hs=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Hs.apply(this,arguments)};function gI(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function WK(e,t,r){for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var kv="right-scroll-bar-position",Sv="width-before-scroll-bar",KK="with-scroll-bars-hidden",HK="--removed-body-scroll-bar-size";function Nw(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function GK(e,t){var r=g.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var YK=typeof window<"u"?g.useLayoutEffect:g.useEffect,yO=new WeakMap;function QK(e,t){var r=GK(null,function(n){return e.forEach(function(a){return Nw(a,n)})});return YK(function(){var n=yO.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||Nw(l,null)}),i.forEach(function(l){a.has(l)||Nw(l,o)})}yO.set(r,e)},[e]),r}function ZK(e){return e}function XK(e,t){t===void 0&&(t=ZK);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return a}function JK(e){e===void 0&&(e={});var t=XK(null);return t.options=Hs({async:!0,ssr:!1},e),t}var vI=function(e){var t=e.sideCar,r=gI(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return g.createElement(n,Hs({},r))};vI.isSideCarExport=!0;function eH(e,t){return e.useMedium(t),vI}var yI=JK(),_w=function(){},fb=g.forwardRef(function(e,t){var r=g.useRef(null),n=g.useState({onScrollCapture:_w,onWheelCapture:_w,onTouchMoveCapture:_w}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noRelative,v=e.noIsolation,p=e.inert,b=e.allowPinchZoom,x=e.as,y=x===void 0?"div":x,w=e.gapMode,j=gI(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=h,_=QK([r,t]),k=Hs(Hs({},j),a);return g.createElement(g.Fragment,null,d&&g.createElement(N,{sideCar:yI,removeScrollBar:u,shards:f,noRelative:m,noIsolation:v,inert:p,setCallbacks:i,allowPinchZoom:!!b,lockRef:r,gapMode:w}),o?g.cloneElement(g.Children.only(l),Hs(Hs({},k),{ref:_})):g.createElement(y,Hs({},k,{className:c,ref:_}),l))});fb.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};fb.classNames={fullWidth:Sv,zeroRight:kv};var tH=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function rH(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=tH();return t&&e.setAttribute("nonce",t),e}function nH(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function aH(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var sH=function(){var e=0,t=null;return{add:function(r){e==0&&(t=rH())&&(nH(t,r),aH(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},iH=function(){var e=sH();return function(t,r){g.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},xI=function(){var e=iH(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},oH={left:0,top:0,right:0,gap:0},kw=function(e){return parseInt(e||"",10)||0},lH=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[kw(r),kw(n),kw(a)]},cH=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return oH;var t=lH(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},uH=xI(),dd="data-scroll-locked",dH=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(KK,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(dd,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(kv,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Sv,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(kv," .").concat(kv,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Sv," .").concat(Sv,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(dd,`] {
    `).concat(HK,": ").concat(l,`px;
  }
`)},xO=function(){var e=parseInt(document.body.getAttribute(dd)||"0",10);return isFinite(e)?e:0},fH=function(){g.useEffect(function(){return document.body.setAttribute(dd,(xO()+1).toString()),function(){var e=xO()-1;e<=0?document.body.removeAttribute(dd):document.body.setAttribute(dd,e.toString())}},[])},hH=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;fH();var i=g.useMemo(function(){return cH(a)},[a]);return g.createElement(uH,{styles:dH(i,!t,a,r?"":"!important")})},C1=!1;if(typeof window<"u")try{var Mg=Object.defineProperty({},"passive",{get:function(){return C1=!0,!0}});window.addEventListener("test",Mg,Mg),window.removeEventListener("test",Mg,Mg)}catch{C1=!1}var lu=C1?{passive:!1}:!1,mH=function(e){return e.tagName==="TEXTAREA"},bI=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!mH(e)&&r[t]==="visible")},pH=function(e){return bI(e,"overflowY")},gH=function(e){return bI(e,"overflowX")},bO=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=wI(e,n);if(a){var i=jI(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},vH=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},yH=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},wI=function(e,t){return e==="v"?pH(t):gH(t)},jI=function(e,t){return e==="v"?vH(t):yH(t)},xH=function(e,t){return e==="h"&&t==="rtl"?-1:1},bH=function(e,t,r,n,a){var i=xH(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{if(!l)break;var m=jI(e,l),v=m[0],p=m[1],b=m[2],x=p-b-i*v;(v||x)&&wI(e,l)&&(f+=x,h+=v);var y=l.parentNode;l=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},Rg=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},wO=function(e){return[e.deltaX,e.deltaY]},jO=function(e){return e&&"current"in e?e.current:e},wH=function(e,t){return e[0]===t[0]&&e[1]===t[1]},jH=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},NH=0,cu=[];function _H(e){var t=g.useRef([]),r=g.useRef([0,0]),n=g.useRef(),a=g.useState(NH++)[0],i=g.useState(xI)[0],o=g.useRef(e);g.useEffect(function(){o.current=e},[e]),g.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=WK([e.lockRef.current],(e.shards||[]).map(jO)).filter(Boolean);return p.forEach(function(b){return b.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=g.useCallback(function(p,b){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var x=Rg(p),y=r.current,w="deltaX"in p?p.deltaX:y[0]-x[0],j="deltaY"in p?p.deltaY:y[1]-x[1],N,_=p.target,k=Math.abs(w)>Math.abs(j)?"h":"v";if("touches"in p&&k==="h"&&_.type==="range")return!1;var C=bO(k,_);if(!C)return!0;if(C?N=k:(N=k==="v"?"h":"v",C=bO(k,_)),!C)return!1;if(!n.current&&"changedTouches"in p&&(w||j)&&(n.current=N),!N)return!0;var O=n.current||N;return bH(O,b,p,O==="h"?w:j)},[]),c=g.useCallback(function(p){var b=p;if(!(!cu.length||cu[cu.length-1]!==i)){var x="deltaY"in b?wO(b):Rg(b),y=t.current.filter(function(N){return N.name===b.type&&(N.target===b.target||b.target===N.shadowParent)&&wH(N.delta,x)})[0];if(y&&y.should){b.cancelable&&b.preventDefault();return}if(!y){var w=(o.current.shards||[]).map(jO).filter(Boolean).filter(function(N){return N.contains(b.target)}),j=w.length>0?l(b,w[0]):!o.current.noIsolation;j&&b.cancelable&&b.preventDefault()}}},[]),u=g.useCallback(function(p,b,x,y){var w={name:p,delta:b,target:x,should:y,shadowParent:kH(x)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(j){return j!==w})},1)},[]),d=g.useCallback(function(p){r.current=Rg(p),n.current=void 0},[]),f=g.useCallback(function(p){u(p.type,wO(p),p.target,l(p,e.lockRef.current))},[]),h=g.useCallback(function(p){u(p.type,Rg(p),p.target,l(p,e.lockRef.current))},[]);g.useEffect(function(){return cu.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,lu),document.addEventListener("touchmove",c,lu),document.addEventListener("touchstart",d,lu),function(){cu=cu.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,lu),document.removeEventListener("touchmove",c,lu),document.removeEventListener("touchstart",d,lu)}},[]);var m=e.removeScrollBar,v=e.inert;return g.createElement(g.Fragment,null,v?g.createElement(i,{styles:jH(a)}):null,m?g.createElement(hH,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function kH(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const SH=eH(yI,_H);var Lp=g.forwardRef(function(e,t){return g.createElement(fb,Hs({},e,{ref:t,sideCar:SH}))});Lp.classNames=fb.classNames;var CH=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},uu=new WeakMap,Ig=new WeakMap,Dg={},Sw=0,NI=function(e){return e&&(e.host||NI(e.parentNode))},EH=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=NI(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},OH=function(e,t,r,n){var a=EH(t,Array.isArray(e)?e:[e]);Dg[r]||(Dg[r]=new WeakMap);var i=Dg[r],o=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var m=h.getAttribute(n),v=m!==null&&m!=="false",p=(uu.get(h)||0)+1,b=(i.get(h)||0)+1;uu.set(h,p),i.set(h,b),o.push(h),p===1&&v&&Ig.set(h,!0),b===1&&h.setAttribute(r,"true"),v||h.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return d(t),l.clear(),Sw++,function(){o.forEach(function(f){var h=uu.get(f)-1,m=i.get(f)-1;uu.set(f,h),i.set(f,m),h||(Ig.has(f)||f.removeAttribute(n),Ig.delete(f)),m||f.removeAttribute(r)}),Sw--,Sw||(uu=new WeakMap,uu=new WeakMap,Ig=new WeakMap,Dg={})}},hb=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=CH(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),OH(n,a,r,"aria-hidden")):function(){return null}},mb="Dialog",[_I]=xn(mb),[AH,Ps]=_I(mb),kI=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=g.useRef(null),c=g.useRef(null),[u,d]=Ga({prop:n,defaultProp:a??!1,onChange:i,caller:mb});return s.jsx(AH,{scope:t,triggerRef:l,contentRef:c,contentId:Xr(),titleId:Xr(),descriptionId:Xr(),open:u,onOpenChange:d,onOpenToggle:g.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};kI.displayName=mb;var SI="DialogTrigger",CI=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ps(SI,r),i=Ye(t,a.triggerRef);return s.jsx(Ae.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":gk(a.open),...n,ref:i,onClick:be(e.onClick,a.onOpenToggle)})});CI.displayName=SI;var mk="DialogPortal",[PH,EI]=_I(mk,{forceMount:void 0}),OI=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=Ps(mk,t);return s.jsx(PH,{scope:t,forceMount:r,children:g.Children.map(n,o=>s.jsx(Jr,{present:r||i.open,children:s.jsx(jf,{asChild:!0,container:a,children:o})}))})};OI.displayName=mk;var ly="DialogOverlay",AI=g.forwardRef((e,t)=>{const r=EI(ly,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Ps(ly,e.__scopeDialog);return i.modal?s.jsx(Jr,{present:n||i.open,children:s.jsx($H,{...a,ref:t})}):null});AI.displayName=ly;var TH=il("DialogOverlay.RemoveScroll"),$H=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ps(ly,r);return s.jsx(Lp,{as:TH,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(Ae.div,{"data-state":gk(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Cc="DialogContent",PI=g.forwardRef((e,t)=>{const r=EI(Cc,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Ps(Cc,e.__scopeDialog);return s.jsx(Jr,{present:n||i.open,children:i.modal?s.jsx(MH,{...a,ref:t}):s.jsx(RH,{...a,ref:t})})});PI.displayName=Cc;var MH=g.forwardRef((e,t)=>{const r=Ps(Cc,e.__scopeDialog),n=g.useRef(null),a=Ye(t,r.contentRef,n);return g.useEffect(()=>{const i=n.current;if(i)return hb(i)},[]),s.jsx(TI,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:be(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:be(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:be(e.onFocusOutside,i=>i.preventDefault())})}),RH=g.forwardRef((e,t)=>{const r=Ps(Cc,e.__scopeDialog),n=g.useRef(!1),a=g.useRef(!1);return s.jsx(TI,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var o,l;(o=e.onInteractOutside)==null||o.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=i.target;(l=r.triggerRef.current)!=null&&l.contains(c)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),TI=g.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=Ps(Cc,r),c=g.useRef(null),u=Ye(t,c);return db(),s.jsxs(s.Fragment,{children:[s.jsx(zp,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Hc,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":gk(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(IH,{titleId:l.titleId}),s.jsx(zH,{contentRef:c,descriptionId:l.descriptionId})]})]})}),pk="DialogTitle",$I=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ps(pk,r);return s.jsx(Ae.h2,{id:a.titleId,...n,ref:t})});$I.displayName=pk;var MI="DialogDescription",RI=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ps(MI,r);return s.jsx(Ae.p,{id:a.descriptionId,...n,ref:t})});RI.displayName=MI;var II="DialogClose",DI=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ps(II,r);return s.jsx(Ae.button,{type:"button",...n,ref:t,onClick:be(e.onClick,()=>a.onOpenChange(!1))})});DI.displayName=II;function gk(e){return e?"open":"closed"}var zI="DialogTitleWarning",[g4e,LI]=GV(zI,{contentName:Cc,titleName:pk,docsSlug:"dialog"}),IH=({titleId:e})=>{const t=LI(zI),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return g.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},DH="DialogDescriptionWarning",zH=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${LI(DH).contentName}}.`;return g.useEffect(()=>{var n;const a=(n=e.current)==null?void 0:n.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},vk=kI,LH=CI,yk=OI,Fp=AI,Bp=PI,pb=$I,gb=RI,FI=DI,FH=g.createContext(void 0);function kf(e){const t=g.useContext(FH);return e||t||"ltr"}var Cw="rovingFocusGroup.onEntryFocus",BH={bubbles:!1,cancelable:!0},qp="RovingFocusGroup",[E1,BI,qH]=Rp(qp),[UH,vb]=xn(qp,[qH]),[VH,WH]=UH(qp),qI=g.forwardRef((e,t)=>s.jsx(E1.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(E1.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(KH,{...e,ref:t})})}));qI.displayName=qp;var KH=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=g.useRef(null),m=Ye(t,h),v=kf(i),[p,b]=Ga({prop:o,defaultProp:l??null,onChange:c,caller:qp}),[x,y]=g.useState(!1),w=pr(u),j=BI(r),N=g.useRef(!1),[_,k]=g.useState(0);return g.useEffect(()=>{const C=h.current;if(C)return C.addEventListener(Cw,w),()=>C.removeEventListener(Cw,w)},[w]),s.jsx(VH,{scope:r,orientation:n,dir:v,loop:a,currentTabStopId:p,onItemFocus:g.useCallback(C=>b(C),[b]),onItemShiftTab:g.useCallback(()=>y(!0),[]),onFocusableItemAdd:g.useCallback(()=>k(C=>C+1),[]),onFocusableItemRemove:g.useCallback(()=>k(C=>C-1),[]),children:s.jsx(Ae.div,{tabIndex:x||_===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:be(e.onMouseDown,()=>{N.current=!0}),onFocus:be(e.onFocus,C=>{const O=!N.current;if(C.target===C.currentTarget&&O&&!x){const T=new CustomEvent(Cw,BH);if(C.currentTarget.dispatchEvent(T),!T.defaultPrevented){const P=j().filter(q=>q.focusable),S=P.find(q=>q.active),M=P.find(q=>q.id===p),$=[S,M,...P].filter(Boolean).map(q=>q.ref.current);WI($,d)}}N.current=!1}),onBlur:be(e.onBlur,()=>y(!1))})})}),UI="RovingFocusGroupItem",VI=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=Xr(),u=i||c,d=WH(UI,r),f=d.currentTabStopId===u,h=BI(r),{onFocusableItemAdd:m,onFocusableItemRemove:v,currentTabStopId:p}=d;return g.useEffect(()=>{if(n)return m(),()=>v()},[n,m,v]),s.jsx(E1.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:s.jsx(Ae.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:be(e.onMouseDown,b=>{n?d.onItemFocus(u):b.preventDefault()}),onFocus:be(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:be(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const x=YH(b,d.orientation,d.dir);if(x!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let y=h().filter(w=>w.focusable).map(w=>w.ref.current);if(x==="last")y.reverse();else if(x==="prev"||x==="next"){x==="prev"&&y.reverse();const w=y.indexOf(b.currentTarget);y=d.loop?QH(y,w+1):y.slice(w+1)}setTimeout(()=>WI(y))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:p!=null}):o})})});VI.displayName=UI;var HH={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function GH(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function YH(e,t,r){const n=GH(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return HH[n]}function WI(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function QH(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var KI=qI,HI=VI,yb="Tabs",[ZH]=xn(yb,[vb]),GI=vb(),[XH,xk]=ZH(yb),YI=g.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=kf(l),[f,h]=Ga({prop:n,onChange:a,defaultProp:i??"",caller:yb});return s.jsx(XH,{scope:r,baseId:Xr(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:s.jsx(Ae.div,{dir:d,"data-orientation":o,...u,ref:t})})});YI.displayName=yb;var QI="TabsList",ZI=g.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=xk(QI,r),o=GI(r);return s.jsx(KI,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(Ae.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});ZI.displayName=QI;var XI="TabsTrigger",JI=g.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,o=xk(XI,r),l=GI(r),c=r3(o.baseId,n),u=n3(o.baseId,n),d=n===o.value;return s.jsx(HI,{asChild:!0,...l,focusable:!a,active:d,children:s.jsx(Ae.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:be(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:be(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:be(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!a&&f&&o.onValueChange(n)})})})});JI.displayName=XI;var e3="TabsContent",t3=g.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=e,l=xk(e3,r),c=r3(l.baseId,n),u=n3(l.baseId,n),d=n===l.value,f=g.useRef(d);return g.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),s.jsx(Jr,{present:a||d,children:({present:h})=>s.jsx(Ae.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});t3.displayName=e3;function r3(e,t){return`${e}-trigger-${t}`}function n3(e,t){return`${e}-content-${t}`}var JH=YI,a3=ZI,s3=JI,i3=t3,O1=["Enter"," "],eG=["ArrowDown","PageUp","Home"],o3=["ArrowUp","PageDown","End"],tG=[...eG,...o3],rG={ltr:[...O1,"ArrowRight"],rtl:[...O1,"ArrowLeft"]},nG={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Up="Menu",[Pm,aG,sG]=Rp(Up),[Gc,l3]=xn(Up,[sG,bl,vb]),xb=bl(),c3=vb(),[iG,Yc]=Gc(Up),[oG,Vp]=Gc(Up),u3=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:i,modal:o=!0}=e,l=xb(t),[c,u]=g.useState(null),d=g.useRef(!1),f=pr(i),h=kf(a);return g.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),s.jsx(lb,{...l,children:s.jsx(iG,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:s.jsx(oG,{scope:t,onClose:g.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:n})})})};u3.displayName=Up;var lG="MenuAnchor",bk=g.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=xb(r);return s.jsx(Dp,{...a,...n,ref:t})});bk.displayName=lG;var wk="MenuPortal",[cG,d3]=Gc(wk,{forceMount:void 0}),f3=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,i=Yc(wk,t);return s.jsx(cG,{scope:t,forceMount:r,children:s.jsx(Jr,{present:r||i.open,children:s.jsx(jf,{asChild:!0,container:a,children:n})})})};f3.displayName=wk;var Va="MenuContent",[uG,jk]=Gc(Va),h3=g.forwardRef((e,t)=>{const r=d3(Va,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=Yc(Va,e.__scopeMenu),o=Vp(Va,e.__scopeMenu);return s.jsx(Pm.Provider,{scope:e.__scopeMenu,children:s.jsx(Jr,{present:n||i.open,children:s.jsx(Pm.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(dG,{...a,ref:t}):s.jsx(fG,{...a,ref:t})})})})}),dG=g.forwardRef((e,t)=>{const r=Yc(Va,e.__scopeMenu),n=g.useRef(null),a=Ye(t,n);return g.useEffect(()=>{const i=n.current;if(i)return hb(i)},[]),s.jsx(Nk,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:be(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),fG=g.forwardRef((e,t)=>{const r=Yc(Va,e.__scopeMenu);return s.jsx(Nk,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),hG=il("MenuContent.ScrollLock"),Nk=g.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:v,...p}=e,b=Yc(Va,r),x=Vp(Va,r),y=xb(r),w=c3(r),j=aG(r),[N,_]=g.useState(null),k=g.useRef(null),C=Ye(t,k,b.onContentChange),O=g.useRef(0),T=g.useRef(""),P=g.useRef(0),S=g.useRef(null),M=g.useRef("right"),$=g.useRef(0),q=v?Lp:g.Fragment,U=v?{as:hG,allowPinchZoom:!0}:void 0,L=R=>{var G,D;const F=T.current+R,J=j().filter(te=>!te.disabled),H=document.activeElement,I=(G=J.find(te=>te.ref.current===H))==null?void 0:G.textValue,oe=J.map(te=>te.textValue),V=kG(oe,F,I),de=(D=J.find(te=>te.textValue===V))==null?void 0:D.ref.current;(function te(ce){T.current=ce,window.clearTimeout(O.current),ce!==""&&(O.current=window.setTimeout(()=>te(""),1e3))})(F),de&&setTimeout(()=>de.focus())};g.useEffect(()=>()=>window.clearTimeout(O.current),[]),db();const z=g.useCallback(R=>{var G,D;return M.current===((G=S.current)==null?void 0:G.side)&&CG(R,(D=S.current)==null?void 0:D.area)},[]);return s.jsx(uG,{scope:r,searchRef:T,onItemEnter:g.useCallback(R=>{z(R)&&R.preventDefault()},[z]),onItemLeave:g.useCallback(R=>{var G;z(R)||((G=k.current)==null||G.focus(),_(null))},[z]),onTriggerLeave:g.useCallback(R=>{z(R)&&R.preventDefault()},[z]),pointerGraceTimerRef:P,onPointerGraceIntentChange:g.useCallback(R=>{S.current=R},[]),children:s.jsx(q,{...U,children:s.jsx(zp,{asChild:!0,trapped:a,onMountAutoFocus:be(i,R=>{var G;R.preventDefault(),(G=k.current)==null||G.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(Hc,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:s.jsx(KI,{asChild:!0,...w,dir:x.dir,orientation:"vertical",loop:n,currentTabStopId:N,onCurrentTabStopIdChange:_,onEntryFocus:be(c,R=>{x.isUsingKeyboardRef.current||R.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(cb,{role:"menu","aria-orientation":"vertical","data-state":O3(b.open),"data-radix-menu-content":"",dir:x.dir,...y,...p,ref:C,style:{outline:"none",...p.style},onKeyDown:be(p.onKeyDown,R=>{const G=R.target.closest("[data-radix-menu-content]")===R.currentTarget,D=R.ctrlKey||R.altKey||R.metaKey,F=R.key.length===1;G&&(R.key==="Tab"&&R.preventDefault(),!D&&F&&L(R.key));const J=k.current;if(R.target!==J||!tG.includes(R.key))return;R.preventDefault();const H=j().filter(I=>!I.disabled).map(I=>I.ref.current);o3.includes(R.key)&&H.reverse(),NG(H)}),onBlur:be(e.onBlur,R=>{R.currentTarget.contains(R.target)||(window.clearTimeout(O.current),T.current="")}),onPointerMove:be(e.onPointerMove,Tm(R=>{const G=R.target,D=$.current!==R.clientX;if(R.currentTarget.contains(G)&&D){const F=R.clientX>$.current?"right":"left";M.current=F,$.current=R.clientX}}))})})})})})})});h3.displayName=Va;var mG="MenuGroup",_k=g.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Ae.div,{role:"group",...n,ref:t})});_k.displayName=mG;var pG="MenuLabel",m3=g.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Ae.div,{...n,ref:t})});m3.displayName=pG;var cy="MenuItem",NO="menu.itemSelect",bb=g.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,i=g.useRef(null),o=Vp(cy,e.__scopeMenu),l=jk(cy,e.__scopeMenu),c=Ye(t,i),u=g.useRef(!1),d=()=>{const f=i.current;if(!r&&f){const h=new CustomEvent(NO,{bubbles:!0,cancelable:!0});f.addEventListener(NO,m=>n==null?void 0:n(m),{once:!0}),sk(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return s.jsx(p3,{...a,ref:c,disabled:r,onClick:be(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:be(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:be(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||O1.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});bb.displayName=cy;var p3=g.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=e,o=jk(cy,r),l=c3(r),c=g.useRef(null),u=Ye(t,c),[d,f]=g.useState(!1),[h,m]=g.useState("");return g.useEffect(()=>{const v=c.current;v&&m((v.textContent??"").trim())},[i.children]),s.jsx(Pm.ItemSlot,{scope:r,disabled:n,textValue:a??h,children:s.jsx(HI,{asChild:!0,...l,focusable:!n,children:s.jsx(Ae.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:be(e.onPointerMove,Tm(v=>{n?o.onItemLeave(v):(o.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:be(e.onPointerLeave,Tm(v=>o.onItemLeave(v))),onFocus:be(e.onFocus,()=>f(!0)),onBlur:be(e.onBlur,()=>f(!1))})})})}),gG="MenuCheckboxItem",g3=g.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return s.jsx(w3,{scope:e.__scopeMenu,checked:r,children:s.jsx(bb,{role:"menuitemcheckbox","aria-checked":uy(r)?"mixed":r,...a,ref:t,"data-state":Sk(r),onSelect:be(a.onSelect,()=>n==null?void 0:n(uy(r)?!0:!r),{checkForDefaultPrevented:!1})})})});g3.displayName=gG;var v3="MenuRadioGroup",[vG,yG]=Gc(v3,{value:void 0,onValueChange:()=>{}}),y3=g.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,i=pr(n);return s.jsx(vG,{scope:e.__scopeMenu,value:r,onValueChange:i,children:s.jsx(_k,{...a,ref:t})})});y3.displayName=v3;var x3="MenuRadioItem",b3=g.forwardRef((e,t)=>{const{value:r,...n}=e,a=yG(x3,e.__scopeMenu),i=r===a.value;return s.jsx(w3,{scope:e.__scopeMenu,checked:i,children:s.jsx(bb,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":Sk(i),onSelect:be(n.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,r)},{checkForDefaultPrevented:!1})})})});b3.displayName=x3;var kk="MenuItemIndicator",[w3,xG]=Gc(kk,{checked:!1}),j3=g.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,i=xG(kk,r);return s.jsx(Jr,{present:n||uy(i.checked)||i.checked===!0,children:s.jsx(Ae.span,{...a,ref:t,"data-state":Sk(i.checked)})})});j3.displayName=kk;var bG="MenuSeparator",N3=g.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Ae.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});N3.displayName=bG;var wG="MenuArrow",_3=g.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=xb(r);return s.jsx(ub,{...a,...n,ref:t})});_3.displayName=wG;var jG="MenuSub",[v4e,k3]=Gc(jG),Lh="MenuSubTrigger",S3=g.forwardRef((e,t)=>{const r=Yc(Lh,e.__scopeMenu),n=Vp(Lh,e.__scopeMenu),a=k3(Lh,e.__scopeMenu),i=jk(Lh,e.__scopeMenu),o=g.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=g.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return g.useEffect(()=>d,[d]),g.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),s.jsx(bk,{asChild:!0,...u,children:s.jsx(p3,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":O3(r.open),...e,ref:Gi(t,a.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:be(e.onPointerMove,Tm(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:be(e.onPointerLeave,Tm(f=>{var h,m;d();const v=(h=r.content)==null?void 0:h.getBoundingClientRect();if(v){const p=(m=r.content)==null?void 0:m.dataset.side,b=p==="right",x=b?-5:5,y=v[b?"left":"right"],w=v[b?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+x,y:f.clientY},{x:y,y:v.top},{x:w,y:v.top},{x:w,y:v.bottom},{x:y,y:v.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:be(e.onKeyDown,f=>{var h;const m=i.searchRef.current!=="";e.disabled||m&&f.key===" "||rG[n.dir].includes(f.key)&&(r.onOpenChange(!0),(h=r.content)==null||h.focus(),f.preventDefault())})})})});S3.displayName=Lh;var C3="MenuSubContent",E3=g.forwardRef((e,t)=>{const r=d3(Va,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=Yc(Va,e.__scopeMenu),o=Vp(Va,e.__scopeMenu),l=k3(C3,e.__scopeMenu),c=g.useRef(null),u=Ye(t,c);return s.jsx(Pm.Provider,{scope:e.__scopeMenu,children:s.jsx(Jr,{present:n||i.open,children:s.jsx(Pm.Slot,{scope:e.__scopeMenu,children:s.jsx(Nk,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:be(e.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:be(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:be(e.onKeyDown,d=>{var f;const h=d.currentTarget.contains(d.target),m=nG[o.dir].includes(d.key);h&&m&&(i.onOpenChange(!1),(f=l.trigger)==null||f.focus(),d.preventDefault())})})})})})});E3.displayName=C3;function O3(e){return e?"open":"closed"}function uy(e){return e==="indeterminate"}function Sk(e){return uy(e)?"indeterminate":e?"checked":"unchecked"}function NG(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function _G(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function kG(e,t,r){const n=t.length>1&&Array.from(t).every(l=>l===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let i=_G(e,Math.max(a,0));n.length===1&&(i=i.filter(l=>l!==r));const o=i.find(l=>l.toLowerCase().startsWith(n.toLowerCase()));return o!==r?o:void 0}function SG(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function CG(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return SG(r,t)}function Tm(e){return t=>t.pointerType==="mouse"?e(t):void 0}var EG=u3,OG=bk,AG=f3,PG=h3,TG=_k,$G=m3,MG=bb,RG=g3,IG=y3,DG=b3,zG=j3,LG=N3,FG=_3,BG=S3,qG=E3,wb="DropdownMenu",[UG]=xn(wb,[l3]),Pn=l3(),[VG,A3]=UG(wb),P3=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=Pn(t),u=g.useRef(null),[d,f]=Ga({prop:a,defaultProp:i??!1,onChange:o,caller:wb});return s.jsx(VG,{scope:t,triggerId:Xr(),triggerRef:u,contentId:Xr(),open:d,onOpenChange:f,onOpenToggle:g.useCallback(()=>f(h=>!h),[f]),modal:l,children:s.jsx(EG,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};P3.displayName=wb;var T3="DropdownMenuTrigger",$3=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,i=A3(T3,r),o=Pn(r);return s.jsx(OG,{asChild:!0,...o,children:s.jsx(Ae.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:Gi(t,i.triggerRef),onPointerDown:be(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:be(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});$3.displayName=T3;var WG="DropdownMenuPortal",M3=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Pn(t);return s.jsx(AG,{...n,...r})};M3.displayName=WG;var R3="DropdownMenuContent",I3=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=A3(R3,r),i=Pn(r),o=g.useRef(!1);return s.jsx(PG,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:t,onCloseAutoFocus:be(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:be(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!a.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});I3.displayName=R3;var KG="DropdownMenuGroup",HG=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Pn(r);return s.jsx(TG,{...a,...n,ref:t})});HG.displayName=KG;var GG="DropdownMenuLabel",D3=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Pn(r);return s.jsx($G,{...a,...n,ref:t})});D3.displayName=GG;var YG="DropdownMenuItem",z3=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Pn(r);return s.jsx(MG,{...a,...n,ref:t})});z3.displayName=YG;var QG="DropdownMenuCheckboxItem",L3=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Pn(r);return s.jsx(RG,{...a,...n,ref:t})});L3.displayName=QG;var ZG="DropdownMenuRadioGroup",XG=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Pn(r);return s.jsx(IG,{...a,...n,ref:t})});XG.displayName=ZG;var JG="DropdownMenuRadioItem",F3=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Pn(r);return s.jsx(DG,{...a,...n,ref:t})});F3.displayName=JG;var eY="DropdownMenuItemIndicator",B3=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Pn(r);return s.jsx(zG,{...a,...n,ref:t})});B3.displayName=eY;var tY="DropdownMenuSeparator",q3=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Pn(r);return s.jsx(LG,{...a,...n,ref:t})});q3.displayName=tY;var rY="DropdownMenuArrow",nY=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Pn(r);return s.jsx(FG,{...a,...n,ref:t})});nY.displayName=rY;var aY="DropdownMenuSubTrigger",U3=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Pn(r);return s.jsx(BG,{...a,...n,ref:t})});U3.displayName=aY;var sY="DropdownMenuSubContent",V3=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Pn(r);return s.jsx(qG,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});V3.displayName=sY;var iY=P3,oY=$3,lY=M3,W3=I3,K3=D3,H3=z3,G3=L3,Y3=F3,Q3=B3,Z3=q3,X3=U3,J3=V3;const Wp=function(e,t,r){let n=Promise.resolve();function a(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return n.then(i=>{for(const o of i||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})},cY=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Wp(async()=>{const{default:n}=await Promise.resolve().then(()=>Sf);return{default:n}}).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Ck extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}let _O=class extends Ck{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},kO=class extends Ck{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},SO=class extends Ck{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}};var A1;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(A1||(A1={}));var uY=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};let dY=class{constructor(t,{headers:r={},customFetch:n,region:a=A1.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=cY(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return uY(this,arguments,void 0,function*(r,n={}){var a;try{const{headers:i,method:o,body:l,signal:c}=n;let u={},{region:d}=n;d||(d=this.region);const f=new URL(`${this.url}/${r}`);d&&d!=="any"&&(u["x-region"]=d,f.searchParams.set("forceFunctionRegion",d));let h;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",h=l):typeof l=="string"?(u["Content-Type"]="text/plain",h=l):typeof FormData<"u"&&l instanceof FormData?h=l:(u["Content-Type"]="application/json",h=JSON.stringify(l)));const m=yield this.fetch(f.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:h,signal:c}).catch(x=>{throw x.name==="AbortError"?x:new _O(x)}),v=m.headers.get("x-relay-error");if(v&&v==="true")throw new kO(m);if(!m.ok)throw new SO(m);let p=((a=m.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),b;return p==="application/json"?b=yield m.json():p==="application/octet-stream"?b=yield m.blob():p==="text/event-stream"?b=m:p==="multipart/form-data"?b=yield m.formData():b=yield m.text(),{data:b,error:null,response:m}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new _O(i)}:{data:null,error:i,response:i instanceof SO||i instanceof kO?i.context:void 0}}})}};var Vn={},Ek={},jb={},Kp={},Nb={},_b={},fY=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ed=fY();const hY=Ed.fetch,eD=Ed.fetch.bind(Ed),tD=Ed.Headers,mY=Ed.Request,pY=Ed.Response,Sf=Object.freeze(Object.defineProperty({__proto__:null,Headers:tD,Request:mY,Response:pY,default:eD,fetch:hY},Symbol.toStringTag,{value:"Module"})),gY=jU(Sf);var kb={};Object.defineProperty(kb,"__esModule",{value:!0});let vY=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};kb.default=vY;var rD=pn&&pn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_b,"__esModule",{value:!0});const yY=rD(gY),xY=rD(kb);let bY=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=yY.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c,u;let d=null,f=null,h=null,m=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const x=await i.text();x===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text")?f=x:f=JSON.parse(x))}const p=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),b=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");p&&b&&b.length>1&&(h=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,m=406,v="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const p=await i.text();try{d=JSON.parse(p),Array.isArray(d)&&i.status===404&&(f=[],d=null,m=200,v="OK")}catch{i.status===404&&p===""?(m=204,v="No Content"):d={message:p}}if(d&&this.isMaybeSingle&&!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows")&&(d=null,m=200,v="OK"),d&&this.shouldThrowOnError)throw new xY.default(d)}return{error:d,data:f,count:h,status:m,statusText:v}});return this.shouldThrowOnError||(a=a.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,r)}returns(){return this}overrideTypes(){return this}};_b.default=bY;var wY=pn&&pn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Nb,"__esModule",{value:!0});const jY=wY(_b);let NY=class extends jY.default{select(t){let r=!1;const n=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:i=a}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:a=n}={}){const i=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Nb.default=NY;var _Y=pn&&pn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Kp,"__esModule",{value:!0});const kY=_Y(Nb);let SY=class extends kY.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Kp.default=SY;var CY=pn&&pn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jb,"__esModule",{value:!0});const oh=CY(Kp);let EY=class{constructor(t,{headers:r={},schema:n,fetch:a}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=a}select(t,r){const{head:n=!1,count:a}=r??{},i=n?"HEAD":"GET";let o=!1;const l=(t??"*").split("").map(c=>/\s/.test(c)&&!o?"":(c==='"'&&(o=!o),c)).join("");return this.url.searchParams.set("select",l),a&&this.headers.append("Prefer",`count=${a}`),new oh.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var a;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new oh.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:i=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),a&&this.headers.append("Prefer",`count=${a}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new oh.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:r}={}){var n;const a="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new oh.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new oh.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};jb.default=EY;var nD=pn&&pn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ek,"__esModule",{value:!0});const OY=nD(jb),AY=nD(Kp);let PY=class aD{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(t){const r=new URL(`${this.url}/${t}`);return new OY.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new aD(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;n||a?(l=n?"HEAD":"GET",Object.entries(r).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{c.searchParams.append(f,h)})):(l="POST",u=r);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new AY.default({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};Ek.default=PY;var Cf=pn&&pn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vn,"__esModule",{value:!0});Vn.PostgrestError=Vn.PostgrestBuilder=Vn.PostgrestTransformBuilder=Vn.PostgrestFilterBuilder=Vn.PostgrestQueryBuilder=Vn.PostgrestClient=void 0;const sD=Cf(Ek);Vn.PostgrestClient=sD.default;const iD=Cf(jb);Vn.PostgrestQueryBuilder=iD.default;const oD=Cf(Kp);Vn.PostgrestFilterBuilder=oD.default;const lD=Cf(Nb);Vn.PostgrestTransformBuilder=lD.default;const cD=Cf(_b);Vn.PostgrestBuilder=cD.default;const uD=Cf(kb);Vn.PostgrestError=uD.default;var TY=Vn.default={PostgrestClient:sD.default,PostgrestQueryBuilder:iD.default,PostgrestFilterBuilder:oD.default,PostgrestTransformBuilder:lD.default,PostgrestBuilder:cD.default,PostgrestError:uD.default};const{PostgrestClient:$Y,PostgrestQueryBuilder:C4e,PostgrestFilterBuilder:E4e,PostgrestTransformBuilder:O4e,PostgrestBuilder:A4e,PostgrestError:P4e}=TY;class MY{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge"))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const RY="2.75.0",IY=`realtime-js/${RY}`,DY="1.0.0",P1=1e4,zY=1e3,LY=100;var Xh;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Xh||(Xh={}));var Ir;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ir||(Ir={}));var us;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(us||(us={}));var T1;(function(e){e.websocket="websocket"})(T1||(T1={}));var tc;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(tc||(tc={}));let FY=class{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+a));o=o+a;const c=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}},dD=class{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var zt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(zt||(zt={}));const CO=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=BY(o,e,t,a),i),{}):{}},BY=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?fD(i,o):$1(o)},fD=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return WY(t,r)}switch(e){case zt.bool:return qY(t);case zt.float4:case zt.float8:case zt.int2:case zt.int4:case zt.int8:case zt.numeric:case zt.oid:return UY(t);case zt.json:case zt.jsonb:return VY(t);case zt.timestamp:return KY(t);case zt.abstime:case zt.date:case zt.daterange:case zt.int4range:case zt.int8range:case zt.money:case zt.reltime:case zt.text:case zt.time:case zt.timestamptz:case zt.timetz:case zt.tsrange:case zt.tstzrange:return $1(t);default:return $1(t)}},$1=e=>e,qY=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},UY=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},VY=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},WY=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const i=e.slice(1,r);try{a=JSON.parse("["+i+"]")}catch{a=i?i.split(","):[]}return a.map(o=>fD(t,o))}return e},KY=e=>typeof e=="string"?e.replace(" ","T"):e,hD=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};let Ew=class{constructor(t,r,n={},a=P1){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}};var EO;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(EO||(EO={}));class Jh{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Jh.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=Jh.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Jh.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(b=>b.presence_ref),m=f.map(b=>b.presence_ref),v=d.filter(b=>m.indexOf(b.presence_ref)<0),p=f.filter(b=>h.indexOf(b.presence_ref)<0);v.length>0&&(l[u]=v),p.length>0&&(c[u]=p)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var OO;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(OO||(OO={}));var em;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(em||(em={}));var Ei;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ei||(Ei={}));let HY=class mD{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Ir.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ew(this,us.join,this.params,this.timeout),this.rejoinTimer=new dD(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ir.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ir.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ir.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ir.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ir.errored,this.rejoinTimer.scheduleTimeout())}),this._on(us.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new Jh(this),this.broadcastEndpointURL=hD(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay)throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Ir.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[em.PRESENCE]&&this.bindings[em.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(Ei.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(Ei.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var v;if(this.socket.setAuth(),m===void 0){t==null||t(Ei.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,b=(v=p==null?void 0:p.length)!==null&&v!==void 0?v:0,x=[];for(let y=0;y<b;y++){const w=p[y],{filter:{event:j,schema:N,table:_,filter:k}}=w,C=m&&m[y];if(C&&C.event===j&&C.schema===N&&C.table===_&&C.filter===k)x.push(Object.assign(Object.assign({},w),{id:C.id}));else{this.unsubscribe(),this.state=Ir.errored,t==null||t(Ei.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(Ei.SUBSCRIBED);return}}).receive("error",m=>{this.state=Ir.errored,t==null||t(Ei.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ei.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Ir.joined&&t===em.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=c.body)===null||a===void 0?void 0:a.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ir.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(us.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Ew(this,us.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ir.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Ew(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>LY){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=us;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(h=>{var m,v,p;return((m=h.filter)===null||m===void 0?void 0:m.event)==="*"||((p=(v=h.filter)===null||v===void 0?void 0:v.event)===null||p===void 0?void 0:p.toLocaleLowerCase())===o}).map(h=>h.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(h=>{var m,v,p,b,x,y;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in h){const w=h.id,j=(m=h.filter)===null||m===void 0?void 0:m.event;return w&&((v=r.ids)===null||v===void 0?void 0:v.includes(w))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((p=r.data)===null||p===void 0?void 0:p.type.toLocaleLowerCase()))}else{const w=(x=(b=h==null?void 0:h.filter)===null||b===void 0?void 0:b.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return w==="*"||w===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===o}).map(h=>{if(typeof f=="object"&&"ids"in f){const m=f.data,{schema:v,table:p,commit_timestamp:b,type:x,errors:y}=m;f=Object.assign(Object.assign({},{schema:v,table:p,commit_timestamp:b,eventType:x,new:{},old:{},errors:y}),this._getPayloadRecords(m))}h.callback(f,n)})}_isClosed(){return this.state===Ir.closed}_isJoined(){return this.state===Ir.joined}_isJoining(){return this.state===Ir.joining}_isLeaving(){return this.state===Ir.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&mD.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(us.close,{},t)}_onError(t){this._on(us.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ir.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=CO(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=CO(t.columns,t.old_record)),r}};const Ow=()=>{},zg={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},GY=[1e3,2e3,5e3,1e4],YY=1e4,QY=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let ZY=class{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=P1,this.transport=null,this.heartbeatIntervalMs=zg.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ow,this.ref=0,this.reconnectTimer=null,this.logger=Ow,this.conn=null,this.sendBuffer=[],this.serializer=new FY,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...o)=>Wp(async()=>{const{default:l}=await Promise.resolve().then(()=>Sf);return{default:l}}).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${T1.websocket}`,this.httpEndpoint=hD(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=MY.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:DY}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Xh.connecting:return tc.Connecting;case Xh.open:return tc.Open;case Xh.closing:return tc.Closing;default:return tc.Closed}}isConnected(){return this.connectionState()===tc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new HY(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(zY,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},zg.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(us.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([QY],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:IY};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(us.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new dD(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},zg.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,l,c,u,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:P1,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:zg.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Ow,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:f=>GY[f-1]||YY,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,h)=>h(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}},Ok=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function Cr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class XY extends Ok{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}let M1=class extends Ok{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}};var JY=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,[])).next())})};const pD=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Wp(async()=>{const{default:n}=await Promise.resolve().then(()=>Sf);return{default:n}}).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},eQ=()=>JY(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Wp(()=>Promise.resolve().then(()=>Sf))).Response:Response}),R1=e=>{if(Array.isArray(e))return e.map(r=>R1(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=R1(n)}),t},tQ=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Qc=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,[])).next())})};const Aw=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),rQ=(e,t,r)=>Qc(void 0,void 0,void 0,function*(){const n=yield eQ();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const i=e.status||500,o=(a==null?void 0:a.statusCode)||i+"";t(new XY(Aw(a),i,o))}).catch(a=>{t(new M1(Aw(a),a))}):t(new M1(Aw(e),e))}),nQ=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(tQ(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function Hp(e,t,r,n,a,i){return Qc(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,nQ(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>rQ(c,l,n))})})}function dy(e,t,r,n){return Qc(this,void 0,void 0,function*(){return Hp(e,"GET",t,r,n)})}function Vs(e,t,r,n,a){return Qc(this,void 0,void 0,function*(){return Hp(e,"POST",t,n,a,r)})}function I1(e,t,r,n,a){return Qc(this,void 0,void 0,function*(){return Hp(e,"PUT",t,n,a,r)})}function aQ(e,t,r,n){return Qc(this,void 0,void 0,function*(){return Hp(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function gD(e,t,r,n,a){return Qc(this,void 0,void 0,function*(){return Hp(e,"DELETE",t,n,a,r)})}var sQ=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,[])).next())})};class iQ{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return sQ(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Cr(t))return{data:null,error:t};throw t}})}}var oQ=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,[])).next())})};let lQ=class{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}asStream(){return new iQ(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.execute().then(t,r)}execute(){return oQ(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Cr(t))return{data:null,error:t};throw t}})}};var In=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,[])).next())})};const cQ={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},AO={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};let uQ=class{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=pD(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return In(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},AO),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?I1:Vs)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Cr(i))return{data:null,error:i};throw i}})}upload(t,r,n){return In(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return In(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:AO.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield I1(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Cr(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return In(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield Vs(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new Ok("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cr(n))return{data:null,error:n};throw n}})}update(t,r,n){return In(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return In(this,void 0,void 0,function*(){try{return{data:yield Vs(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Cr(a))return{data:null,error:a};throw a}})}copy(t,r,n){return In(this,void 0,void 0,function*(){try{return{data:{path:(yield Vs(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Cr(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return In(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield Vs(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Cr(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return In(this,void 0,void 0,function*(){try{const a=yield Vs(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Cr(a))return{data:null,error:a};throw a}})}download(t,r){const n=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=a?`?${a}`:"",o=this._getFinalPath(t),l=()=>dy(this.fetch,`${this.url}/${n}/${o}${i}`,{headers:this.headers,noResolveJson:!0});return new lQ(l,this.shouldThrowOnError)}info(t){return In(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield dy(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:R1(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cr(n))return{data:null,error:n};throw n}})}exists(t){return In(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield aQ(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cr(n)&&n instanceof M1){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&a.push(l);let c=a.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}remove(t){return In(this,void 0,void 0,function*(){try{return{data:yield gD(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cr(r))return{data:null,error:r};throw r}})}list(t,r,n){return In(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},cQ),r),{prefix:t||""});return{data:yield Vs(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Cr(a))return{data:null,error:a};throw a}})}listV2(t,r){return In(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Vs(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cr(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}};const dQ="2.75.0",fQ={"X-Client-Info":`storage-js/${dQ}`};var du=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};let hQ=class{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},fQ),r),this.fetch=pD(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return du(this,void 0,void 0,function*(){try{return{data:yield dy(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Cr(t))return{data:null,error:t};throw t}})}getBucket(t){return du(this,void 0,void 0,function*(){try{return{data:yield dy(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cr(r))return{data:null,error:r};throw r}})}createBucket(t){return du(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Vs(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Cr(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return du(this,void 0,void 0,function*(){try{return{data:yield I1(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cr(n))return{data:null,error:n};throw n}})}emptyBucket(t){return du(this,void 0,void 0,function*(){try{return{data:yield Vs(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return du(this,void 0,void 0,function*(){try{return{data:yield gD(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Cr(r))return{data:null,error:r};throw r}})}},mQ=class extends hQ{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new uQ(this.url,this.headers,t,this.fetch)}};const pQ="2.75.0";let Fh="";typeof Deno<"u"?Fh="deno":typeof document<"u"?Fh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Fh="react-native":Fh="node";const gQ={"X-Client-Info":`supabase-js-${Fh}/${pQ}`},vQ={headers:gQ},yQ={schema:"public"},xQ={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},bQ={};var wQ=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,[])).next())})};const jQ=e=>{let t;return e?t=e:typeof fetch>"u"?t=eD:t=fetch,(...r)=>t(...r)},NQ=()=>typeof Headers>"u"?tD:Headers,_Q=(e,t,r)=>{const n=jQ(r),a=NQ();return(i,o)=>wQ(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var kQ=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,[])).next())})};function SQ(e){return e.endsWith("/")?e:e+"/"}function CQ(e,t){var r,n;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>kQ(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function EQ(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(SQ(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const vD="2.75.0",$u=30*1e3,D1=3,Pw=D1*$u,OQ="http://localhost:9999",AQ="supabase.auth.token",PQ={"X-Client-Info":`gotrue-js/${vD}`},z1="X-Supabase-Api-Version",yD={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},TQ=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,$Q=10*60*1e3;class $m extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ke(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}let MQ=class extends $m{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}};function RQ(e){return Ke(e)&&e.name==="AuthApiError"}class rc extends $m{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class wl extends $m{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class jo extends wl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function IQ(e){return Ke(e)&&e.name==="AuthSessionMissingError"}class fu extends wl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Lg extends wl{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Fg extends wl{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function DQ(e){return Ke(e)&&e.name==="AuthImplicitGrantRedirectError"}let PO=class extends wl{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},L1=class extends wl{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}};function Tw(e){return Ke(e)&&e.name==="AuthRetryableFetchError"}class TO extends wl{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}let F1=class extends wl{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};const fy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),$O=` 	
\r=`.split(""),zQ=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<$O.length;t+=1)e[$O[t].charCodeAt(0)]=-2;for(let t=0;t<fy.length;t+=1)e[fy[t].charCodeAt(0)]=t;return e})();function MO(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(fy[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(fy[n]),t.queuedBits-=6}}function xD(e,t,r){const n=zQ[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function RO(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{BQ(o,n,r)};for(let o=0;o<e.length;o+=1)xD(e.charCodeAt(o),a,i);return t.join("")}function LQ(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function FQ(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}LQ(n,t)}}function BQ(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function fd(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)xD(e.charCodeAt(a),r,n);return new Uint8Array(t)}function qQ(e){const t=[];return FQ(e,r=>t.push(r)),new Uint8Array(t)}function oc(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>MO(a,r,n)),MO(null,r,n),t.join("")}function UQ(e){return Math.round(Date.now()/1e3)+e}function VQ(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ia=()=>typeof window<"u"&&typeof document<"u",$l={tested:!1,writable:!1},bD=()=>{if(!ia())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if($l.tested)return $l.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),$l.tested=!0,$l.writable=!0}catch{$l.tested=!0,$l.writable=!1}return $l.writable};function WQ(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((n,a)=>{t[a]=n})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const wD=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Wp(async()=>{const{default:n}=await Promise.resolve().then(()=>Sf);return{default:n}}).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},KQ=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Mu=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ml=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},uo=async(e,t)=>{await e.removeItem(t)};let jD=class ND{constructor(){this.promise=new ND.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}};jD.promiseConstructor=Promise;function $w(e){const t=e.split(".");if(t.length!==3)throw new F1("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!TQ.test(t[r]))throw new F1("JWT not in base64url format");return{header:JSON.parse(RO(t[0])),payload:JSON.parse(RO(t[1])),signature:fd(t[2]),raw:{header:t[0],payload:t[1]}}}async function HQ(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function GQ(e,t){return new Promise((r,n)=>{(async()=>{for(let a=0;a<1/0;a++)try{const i=await e(a);if(!t(a,null,i)){r(i);return}}catch(i){if(!t(a,i)){n(i);return}}})()})}function YQ(e){return("0"+e.toString(16)).substr(-2)}function QQ(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let n="";for(let a=0;a<56;a++)n+=t.charAt(Math.floor(Math.random()*r));return n}return crypto.getRandomValues(e),Array.from(e,YQ).join("")}async function ZQ(e){const t=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",t),n=new Uint8Array(r);return Array.from(n).map(a=>String.fromCharCode(a)).join("")}async function XQ(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await ZQ(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function hu(e,t,r=!1){const n=QQ();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Mu(e,`${t}-code-verifier`,a);const i=await XQ(n);return[i,n===i?"plain":"s256"]}const JQ=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function eZ(e){const t=e.headers.get(z1);if(!t||!t.match(JQ))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function tZ(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function rZ(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const nZ=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function mu(e){if(!nZ.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Mw(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function IO(e){return JSON.parse(JSON.stringify(e))}var aZ=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const Ql=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),sZ=[502,503,504];async function DO(e){var t;if(!KQ(e))throw new L1(Ql(e),0);if(sZ.includes(e.status))throw new L1(Ql(e),e.status);let r;try{r=await e.json()}catch(i){throw new rc(Ql(i),i)}let n;const a=eZ(e);if(a&&a.getTime()>=yD["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new TO(Ql(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new jo}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new TO(Ql(r),e.status,r.weak_password.reasons);throw new MQ(Ql(r),e.status||500,n)}const iZ=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Je(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[z1]||(i[z1]=yD["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await oZ(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function oZ(e,t,r,n,a,i){const o=iZ(t,n,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new L1(Ql(c),0)}if(l.ok||await DO(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await DO(c)}}function is(e){var t;let r=null;uZ(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=UQ(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function zO(e){const t=is(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Po(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function lZ(e){return{data:e,error:null}}function cZ(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=aZ(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function LO(e){return e}function uZ(e){return e.access_token&&e.refresh_token&&e.expires_in}const Rw=["global","local","others"];var dZ=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};let fZ=class{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=wD(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Rw[0]){if(Rw.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Rw.join(", ")}`);try{return await Je(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Je(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Po})}catch(n){if(Ke(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=dZ(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Je(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:cZ,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ke(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Je(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Po})}catch(r){if(Ke(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Je(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:LO});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(v=>{const p=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);u[`${b}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Ke(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){mu(t);try{return await Je(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Po})}catch(r){if(Ke(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){mu(t);try{return await Je(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Po})}catch(n){if(Ke(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){mu(t);try{return await Je(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Po})}catch(n){if(Ke(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){mu(t.userId);try{const{data:r,error:n}=await Je(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Ke(r))return{data:null,error:r};throw r}}async _deleteFactor(t){mu(t.userId),mu(t.id);try{return{data:await Je(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ke(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Je(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:LO});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(v=>{const p=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);u[`${b}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Ke(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await Je(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ke(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Je(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ke(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await Je(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ke(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Je(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ke(r))return{data:null,error:r};throw r}}};function FO(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const pu={debug:!!(globalThis&&bD()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};let _D=class extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}},hZ=class extends _D{};async function mZ(e,t,r){pu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),pu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){pu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{pu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw pu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new hZ(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(pu.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function pZ(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function kD(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function gZ(e){return parseInt(e,16)}function vZ(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function yZ(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=kD(e.address),v=d?`${d}://${n}`:n,p=e.statement?`${e.statement}
`:"",b=`${v} wants you to sign in with your Ethereum account:
${m}

${p}`;let x=`URI: ${f}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(x+=`
Expiration Time: ${a.toISOString()}`),l&&(x+=`
Not Before: ${l.toISOString()}`),c&&(x+=`
Request ID: ${c}`),u){let y=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);y+=`
- ${w}`}x+=y}return`${b}
${x}`}class Sr extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}let hy=class extends Sr{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}};function xZ({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Sr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Sr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Sr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Sr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Sr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Sr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new Sr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Sr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(CD(o)){if(i.rp.id!==o)return new Sr({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Sr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Sr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Sr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Sr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function bZ({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Sr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Sr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(CD(n)){if(r.rpId!==n)return new Sr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Sr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Sr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Sr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var SD=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};let wZ=class{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}};const jZ=new wZ;function NZ(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=SD(e,["challenge","user","excludeCredentials"]),i=fd(t).buffer,o=Object.assign(Object.assign({},r),{id:fd(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:fd(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function _Z(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=SD(e,["challenge","allowCredentials"]),a=fd(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:fd(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function kZ(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:oc(new Uint8Array(e.response.attestationObject)),clientDataJSON:oc(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function SZ(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:oc(new Uint8Array(a.authenticatorData)),clientDataJSON:oc(new Uint8Array(a.clientDataJSON)),signature:oc(new Uint8Array(a.signature)),userHandle:a.userHandle?oc(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function CD(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function BO(){var e,t;return!!(ia()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function CZ(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new hy("Browser returned unexpected credential type",t)}:{data:null,error:new hy("Empty credential response",t)}}catch(t){return{data:null,error:xZ({error:t,options:e})}}}async function EZ(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new hy("Browser returned unexpected credential type",t)}:{data:null,error:new hy("Empty credential response",t)}}catch(t){return{data:null,error:bZ({error:t,options:e})}}}const OZ={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},AZ={userVerification:"preferred",hints:["security-key"]};function my(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const l=n[i];t(l)?n[i]=my(l,o):n[i]=my(o)}else n[i]=o}return n}function PZ(e,t){return my(OZ,e,t||{})}function TZ(e,t){return my(AZ,e,t||{})}let $Z=class{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:l};const c=a??jZ.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=PZ(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await CZ({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=TZ(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await EZ(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return Ke(o)?{data:null,error:o}:{data:null,error:new rc("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}},i){if(!r)return{data:null,error:new $m("rpId is required for WebAuthn authentication")};try{if(!BO())return{data:null,error:new rc("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return Ke(o)?{data:null,error:o}:{data:null,error:new rc("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a},i){if(!r)return{data:null,error:new $m("rpId is required for WebAuthn registration")};try{if(!BO())return{data:null,error:new rc("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return Ke(o)?{data:null,error:o}:{data:null,error:new rc("Unexpected error in register",o)}}}};pZ();const MZ={url:OQ,storageKey:AQ,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:PQ,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function qO(e,t,r){return await r()}const gu={};class Mm{get jwks(){var t,r;return(r=(t=gu[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){gu[this.storageKey]=Object.assign(Object.assign({},gu[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=gu[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){gu[this.storageKey]=Object.assign(Object.assign({},gu[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Mm.nextInstanceID,Mm.nextInstanceID+=1,this.instanceID>0&&ia()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},MZ),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new fZ({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=wD(a.fetch),this.lock=a.lock||qO,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:ia()&&!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks?this.lock=mZ:this.lock=qO,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new $Z(this)},this.persistSession?(a.storage?this.storage=a.storage:bD()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=FO(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=FO(this.memoryStorage)),ia()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${vD}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=WQ(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),ia()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),DQ(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ke(r)?{error:r}:{error:new rc("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await Je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:is}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Ke(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await hu(this.storage,this.storageKey)),i=await Je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:v},xform:is})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await Je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:is})}else throw new Lg("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Ke(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await Je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:zO})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await Je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:zO})}else throw new Lg("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new fu}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Ke(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,o,l,c,u,d,f,h;let m,v;if("message"in t)m=t.message,v=t.signature;else{const{chain:p,wallet:b,statement:x,options:y}=t;let w;if(ia())if(typeof b=="object")w=b;else{const O=window;if("ethereum"in O&&typeof O.ethereum=="object"&&"request"in O.ethereum&&typeof O.ethereum.request=="function")w=O.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=b}const j=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href),N=await w.request({method:"eth_requestAccounts"}).then(O=>O).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const _=kD(N[0]);let k=(n=y==null?void 0:y.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!k){const O=await w.request({method:"eth_chainId"});k=gZ(O)}const C={domain:j.host,address:_,statement:x,uri:j.href,version:"1",chainId:k,nonce:(a=y==null?void 0:y.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=y==null?void 0:y.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=y==null?void 0:y.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=y==null?void 0:y.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=y==null?void 0:y.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=y==null?void 0:y.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=yZ(C),v=await w.request({method:"personal_sign",params:[vZ(m),_]})}try{const{data:p,error:b}=await Je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:v},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:is});if(b)throw b;return!p||!p.session||!p.user?{data:{user:null,session:null},error:new fu}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:Object.assign({},p),error:b})}catch(p){if(Ke(p))return{data:{user:null,session:null},error:p};throw p}}async signInWithSolana(t){var r,n,a,i,o,l,c,u,d,f,h,m;let v,p;if("message"in t)v=t.message,p=t.signature;else{const{chain:b,wallet:x,statement:y,options:w}=t;let j;if(ia())if(typeof x=="object")j=x;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))j=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=x}const N=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const _=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),y?{statement:y}:null));let k;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")k=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)k=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)v=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),p=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${N.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(a=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const _=await j.signMessage(new TextEncoder().encode(v),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=_}}try{const{data:b,error:x}=await Je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:oc(p)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:is});if(x)throw x;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new fu}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:x})}catch(b){if(Ke(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(t){const r=await Ml(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await Je(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:is});if(await uo(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new fu}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(Ke(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,l=await Je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:is}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new fu}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(Ke(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await hu(this.storage,this.storageKey));const{error:f}=await Je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Lg("You must provide either an email or phone number.")}catch(l){if(Ke(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Je(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:is});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Ke(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await hu(this.storage,this.storageKey)),await Je(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:lZ})}catch(i){if(Ke(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new jo;const{error:a}=await Je(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(Ke(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await Je(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await Je(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Lg("You must provide either an email or phone number and a type")}catch(r){if(Ke(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ml(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Pw:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Ml(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Mw()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Po}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new jo}:await Je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Po})})}catch(r){if(Ke(r))return IQ(r)&&(await this._removeSession(),await uo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new jo;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await hu(this.storage,this.storageKey));const{data:u,error:d}=await Je(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Po});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Ke(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new jo;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=$w(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(Ke(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new jo;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Ke(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!ia())throw new Fg("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Fg(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new PO("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Fg("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new PO("No code detected.");const{data:y,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new Fg("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=$u&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const v=h-f;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,d);const{data:p,error:b}=await this._getUser(i);if(b)throw b;const x={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(n){if(Ke(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ml(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(RQ(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await uo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=VQ(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await hu(this.storage,this.storageKey,!0));try{return await Je(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Ke(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Ke(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,c,u,d;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Je(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return ia()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Ke(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,f=await Je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:is}),{data:h,error:m}=f;return m?{data:{user:null,session:null},error:m}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new fu}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:m})}catch(a){if(Ke(a))return{data:{user:null,session:null},error:a};throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await Je(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Ke(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await GQ(async a=>(a>0&&await HQ(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Je(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:is})),(a,i)=>{const o=200*Math.pow(2,a);return i&&Tw(i)&&Date.now()+o-n<$u})}catch(n){if(this._debug(r,"error",n),Ke(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),ia()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Ml(this.storage,this.storageKey);if(a&&this.userStorage){let o=await Ml(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await Mu(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Mw()}else if(a&&!a.user&&!a.user){const o=await Ml(this.storage,this.storageKey+"-user");o&&o!=null&&o.user?(a.user=o.user,await uo(this.storage,this.storageKey+"-user"),await Mu(this.storage,this.storageKey,a)):a.user=Mw()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Pw;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Pw}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),Tw(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&o!=null&&o.user?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new jo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new jD;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new jo;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),Ke(i)){const o={data:null,error:i};return Tw(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Mu(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=IO(a);await Mu(this.storage,this.storageKey,i)}else{const a=IO(r);await Mu(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await uo(this.storage,this.storageKey),await uo(this.storage,this.storageKey+"-code-verifier"),await uo(this.storage,this.storageKey+"-user"),this.userStorage&&await uo(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ia()&&window!=null&&window.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),$u);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/$u);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${$u}ms, refresh threshold is ${D1} ticks`),a<=D1&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof _D)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ia()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await hu(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Je(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ke(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await Je(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&c.type==="totp"&&!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Ke(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?kZ(t.webauthn.credential_response):SZ(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await Je(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(r){if(Ke(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const o=await Je(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:NZ(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:_Z(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Ke(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=$w(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+$Q>a)return n;const{data:i,error:o}=await Je(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:h,error:m}=await this.getSession();if(m||!h.session)return{data:null,error:m};n=h.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=$w(n);r!=null&&r.allowExpired||tZ(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:h}=await this.getUser(n);if(h)throw h;return{data:{claims:i,header:a,signature:o},error:null}}const d=rZ(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,qQ(`${l}.${c}`)))throw new F1("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}}}Mm.nextInstanceID=0;const RZ=Mm;let IZ=class extends RZ{constructor(t){super(t)}};var DZ=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,[])).next())})};class zZ{constructor(t,r,n){var a,i,o;this.supabaseUrl=t,this.supabaseKey=r;const l=EQ(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:yQ,realtime:bQ,auth:Object.assign(Object.assign({},xQ),{storageKey:c}),global:vQ},d=CQ(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=_Q(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new $Y(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new mQ(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new dY(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return DZ(this,void 0,void 0,function*(){var t,r;if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:o,flowType:l,lock:c,debug:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new IZ({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:l,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new ZY(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const LZ=(e,t,r)=>new zZ(e,t,r);function FZ(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}FZ()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var ED=e=>{throw TypeError(e)},Ak=(e,t,r)=>t.has(e)||ED("Cannot "+r),K=(e,t,r)=>(Ak(e,t,"read from private field"),r?r.call(e):t.get(e)),Ue=(e,t,r)=>t.has(e)?ED("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Pe=(e,t,r,n)=>(Ak(e,t,"write to private field"),t.set(e,r),r),ft=(e,t,r)=>(Ak(e,t,"access private method"),r),B1=(e,t,r,n)=>({set _(a){Pe(e,t,a)},get _(){return K(e,t,n)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function t(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(n){if(n.ep)return;n.ep=!0;const a=t(n);fetch(n.href,a)}})();var OD,UO=Wc;OD=UO.createRoot,UO.hydrateRoot;const BZ=1,qZ=1e6;let Iw=0;function UZ(){return Iw=(Iw+1)%Number.MAX_SAFE_INTEGER,Iw.toString()}const Dw=new Map,VO=e=>{if(Dw.has(e))return;const t=setTimeout(()=>{Dw.delete(e),tm({type:"REMOVE_TOAST",toastId:e})},qZ);Dw.set(e,t)},VZ=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,BZ)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?VO(r):e.toasts.forEach(n=>{VO(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Cv=[];let Ev={toasts:[]};function tm(e){Ev=VZ(Ev,e),Cv.forEach(t=>{t(Ev)})}function Nn({...e}){const t=UZ(),r=a=>tm({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>tm({type:"DISMISS_TOAST",toastId:t});return tm({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function Sb(){const[e,t]=g.useState(Ev);return g.useEffect(()=>(Cv.push(t),()=>{const r=Cv.indexOf(t);r>-1&&Cv.splice(r,1)}),[e]),{...e,toast:Nn,dismiss:r=>tm({type:"DISMISS_TOAST",toastId:r})}}var AD=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),WZ="VisuallyHidden",Cb=g.forwardRef((e,t)=>s.jsx(Ae.span,{...e,ref:t,style:{...AD,...e.style}}));Cb.displayName=WZ;var KZ=Cb,Pk="ToastProvider",[Tk,HZ,GZ]=Rp("Toast"),[PD]=xn("Toast",[GZ]),[YZ,Eb]=PD(Pk),TD=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=g.useState(null),[u,d]=g.useState(0),f=g.useRef(!1),h=g.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Pk}\`. Expected non-empty \`string\`.`),s.jsx(Tk.Provider,{scope:t,children:s.jsx(YZ,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:g.useCallback(()=>d(m=>m+1),[]),onToastRemove:g.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};TD.displayName=Pk;var $D="ToastViewport",QZ=["F8"],q1="toast.viewportPause",U1="toast.viewportResume",MD=g.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=QZ,label:a="Notifications ({hotkey})",...i}=e,o=Eb($D,r),l=HZ(r),c=g.useRef(null),u=g.useRef(null),d=g.useRef(null),f=g.useRef(null),h=Ye(t,f,o.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;g.useEffect(()=>{const b=x=>{var y;n.length!==0&&n.every(w=>x[w]||x.code===w)&&((y=f.current)==null||y.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[n]),g.useEffect(()=>{const b=c.current,x=f.current;if(v&&b&&x){const y=()=>{if(!o.isClosePausedRef.current){const _=new CustomEvent(q1);x.dispatchEvent(_),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const _=new CustomEvent(U1);x.dispatchEvent(_),o.isClosePausedRef.current=!1}},j=_=>{!b.contains(_.relatedTarget)&&w()},N=()=>{b.contains(document.activeElement)||w()};return b.addEventListener("focusin",y),b.addEventListener("focusout",j),b.addEventListener("pointermove",y),b.addEventListener("pointerleave",N),window.addEventListener("blur",y),window.addEventListener("focus",w),()=>{b.removeEventListener("focusin",y),b.removeEventListener("focusout",j),b.removeEventListener("pointermove",y),b.removeEventListener("pointerleave",N),window.removeEventListener("blur",y),window.removeEventListener("focus",w)}}},[v,o.isClosePausedRef]);const p=g.useCallback(({tabbingDirection:b})=>{const x=l().map(y=>{const w=y.ref.current,j=[w,...cX(w)];return b==="forwards"?j:j.reverse()});return(b==="forwards"?x.reverse():x).flat()},[l]);return g.useEffect(()=>{const b=f.current;if(b){const x=y=>{var w,j,N;const _=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!_){const k=document.activeElement,C=y.shiftKey;if(y.target===b&&C){(w=u.current)==null||w.focus();return}const O=p({tabbingDirection:C?"backwards":"forwards"}),T=O.findIndex(P=>P===k);zw(O.slice(T+1))?y.preventDefault():C?(j=u.current)==null||j.focus():(N=d.current)==null||N.focus()}};return b.addEventListener("keydown",x),()=>b.removeEventListener("keydown",x)}},[l,p]),s.jsxs(uW,{ref:c,role:"region","aria-label":a.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&s.jsx(V1,{ref:u,onFocusFromOutsideViewport:()=>{const b=p({tabbingDirection:"forwards"});zw(b)}}),s.jsx(Tk.Slot,{scope:r,children:s.jsx(Ae.ol,{tabIndex:-1,...i,ref:h})}),v&&s.jsx(V1,{ref:d,onFocusFromOutsideViewport:()=>{const b=p({tabbingDirection:"backwards"});zw(b)}})]})});MD.displayName=$D;var RD="ToastFocusProxy",V1=g.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,i=Eb(RD,r);return s.jsx(Cb,{tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var l;const c=o.relatedTarget;!((l=i.viewport)!=null&&l.contains(c))&&n()}})});V1.displayName=RD;var Gp="Toast",ZZ="toast.swipeStart",XZ="toast.swipeMove",JZ="toast.swipeCancel",eX="toast.swipeEnd",ID=g.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...o}=e,[l,c]=Ga({prop:n,defaultProp:a??!0,onChange:i,caller:Gp});return s.jsx(Jr,{present:r||l,children:s.jsx(nX,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:pr(e.onPause),onResume:pr(e.onResume),onSwipeStart:be(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:be(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:be(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:be(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});ID.displayName=Gp;var[tX,rX]=PD(Gp,{onClose(){}}),nX=g.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...v}=e,p=Eb(Gp,r),[b,x]=g.useState(null),y=Ye(t,$=>x($)),w=g.useRef(null),j=g.useRef(null),N=a||p.duration,_=g.useRef(0),k=g.useRef(N),C=g.useRef(0),{onToastAdd:O,onToastRemove:T}=p,P=pr(()=>{var $;b!=null&&b.contains(document.activeElement)&&(($=p.viewport)==null||$.focus()),o()}),S=g.useCallback($=>{!$||$===1/0||(window.clearTimeout(C.current),_.current=new Date().getTime(),C.current=window.setTimeout(P,$))},[P]);g.useEffect(()=>{const $=p.viewport;if($){const q=()=>{S(k.current),u==null||u()},U=()=>{const L=new Date().getTime()-_.current;k.current=k.current-L,window.clearTimeout(C.current),c==null||c()};return $.addEventListener(q1,U),$.addEventListener(U1,q),()=>{$.removeEventListener(q1,U),$.removeEventListener(U1,q)}}},[p.viewport,N,c,u,S]),g.useEffect(()=>{i&&!p.isClosePausedRef.current&&S(N)},[i,N,p.isClosePausedRef,S]),g.useEffect(()=>(O(),()=>T()),[O,T]);const M=g.useMemo(()=>b?UD(b):null,[b]);return p.viewport?s.jsxs(s.Fragment,{children:[M&&s.jsx(aX,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:M}),s.jsx(tX,{scope:r,onClose:P,children:Wc.createPortal(s.jsx(Tk.ItemSlot,{scope:r,children:s.jsx(cW,{asChild:!0,onEscapeKeyDown:be(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||P(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Ae.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":p.swipeDirection,...v,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:be(e.onKeyDown,$=>{$.key==="Escape"&&(l==null||l($.nativeEvent),$.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,P()))}),onPointerDown:be(e.onPointerDown,$=>{$.button===0&&(w.current={x:$.clientX,y:$.clientY})}),onPointerMove:be(e.onPointerMove,$=>{if(!w.current)return;const q=$.clientX-w.current.x,U=$.clientY-w.current.y,L=!!j.current,z=["left","right"].includes(p.swipeDirection),R=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,G=z?R(0,q):0,D=z?0:R(0,U),F=$.pointerType==="touch"?10:2,J={x:G,y:D},H={originalEvent:$,delta:J};L?(j.current=J,Bg(XZ,f,H,{discrete:!1})):WO(J,p.swipeDirection,F)?(j.current=J,Bg(ZZ,d,H,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(q)>F||Math.abs(U)>F)&&(w.current=null)}),onPointerUp:be(e.onPointerUp,$=>{const q=j.current,U=$.target;if(U.hasPointerCapture($.pointerId)&&U.releasePointerCapture($.pointerId),j.current=null,w.current=null,q){const L=$.currentTarget,z={originalEvent:$,delta:q};WO(q,p.swipeDirection,p.swipeThreshold)?Bg(eX,m,z,{discrete:!0}):Bg(JZ,h,z,{discrete:!0}),L.addEventListener("click",R=>R.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),aX=e=>{const{__scopeToast:t,children:r,...n}=e,a=Eb(Gp,t),[i,o]=g.useState(!1),[l,c]=g.useState(!1);return oX(()=>o(!0)),g.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(jf,{asChild:!0,children:s.jsx(Cb,{...n,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",r]})})})},sX="ToastTitle",DD=g.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Ae.div,{...n,ref:t})});DD.displayName=sX;var iX="ToastDescription",zD=g.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Ae.div,{...n,ref:t})});zD.displayName=iX;var LD="ToastAction",FD=g.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(qD,{altText:r,asChild:!0,children:s.jsx($k,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${LD}\`. Expected non-empty \`string\`.`),null)});FD.displayName=LD;var BD="ToastClose",$k=g.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=rX(BD,r);return s.jsx(qD,{asChild:!0,children:s.jsx(Ae.button,{type:"button",...n,ref:t,onClick:be(e.onClick,a.onClose)})})});$k.displayName=BD;var qD=g.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return s.jsx(Ae.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function UD(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),lX(r)){const n=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!n)if(a){const i=r.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...UD(r))}}),t}function Bg(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?sk(a,i):a.dispatchEvent(i)}var WO=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),i=n>a;return t==="left"||t==="right"?i&&n>r:!i&&a>r};function oX(e=()=>{}){const t=pr(e);jr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function lX(e){return e.nodeType===e.ELEMENT_NODE}function cX(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function zw(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var uX=TD,VD=MD,WD=ID,KD=DD,HD=zD,GD=FD,YD=$k;function QD(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=QD(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ze(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=QD(e))&&(n&&(n+=" "),n+=t);return n}const KO=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,HO=Ze,Zc=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return HO(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=KO(d)||KO(f);return a[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(v=>{let[p,b]=v;return Array.isArray(b)?b.includes({...i,...l}[p]):{...i,...l}[p]===b})?[...u,f,h]:u},[]);return HO(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const dX=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ZD=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/var fX={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const hX=g.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>g.createElement("svg",{ref:c,...fX,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:ZD("lucide",a),...l},[...o.map(([u,d])=>g.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const _e=(e,t)=>{const r=g.forwardRef(({className:n,...a},i)=>g.createElement(hX,{ref:i,iconNode:t,className:ZD(`lucide-${dX(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const ri=_e("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const mX=_e("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Ob=_e("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const qg=_e("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const pX=_e("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Od=_e("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const mn=_e("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Pi=_e("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const nr=_e("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const py=_e("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Kn=_e("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Zi=_e("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const XD=_e("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const gX=_e("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const vX=_e("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const yX=_e("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const cl=_e("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const ks=_e("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const gs=_e("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const xX=_e("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Fa=_e("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Ru=_e("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Ec=_e("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Oc=_e("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Fi=_e("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Mk=_e("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const bX=_e("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const JD=_e("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const ul=_e("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const wX=_e("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Rk=_e("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const GO=_e("Forward",[["polyline",{points:"15 17 20 12 15 7",key:"1w3sku"}],["path",{d:"M4 18v-2a4 4 0 0 1 4-4h12",key:"jmiej9"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const vu=_e("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const e6=_e("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const jX=_e("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const NX=_e("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const _X=_e("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const t6=_e("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const kX=_e("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const SX=_e("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const W1=_e("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const gt=_e("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const r6=_e("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const CX=_e("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Ad=_e("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Pd=_e("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const EX=_e("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const At=_e("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const OX=_e("MousePointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const AX=_e("MoveDown",[["path",{d:"M8 18L12 22L16 18",key:"cskvfv"}],["path",{d:"M12 2V22",key:"r89rzk"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const PX=_e("MoveUp",[["path",{d:"M8 6L12 2L16 6",key:"1yvkyx"}],["path",{d:"M12 2V22",key:"r89rzk"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const TX=_e("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Rm=_e("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Ef=_e("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const $X=_e("PinOff",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M15 9.34V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H7.89",key:"znwnzq"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h11",key:"c9qhm2"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const YO=_e("Pin",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Ac=_e("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const MX=_e("Plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const wr=_e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const RX=_e("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Xn=_e("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const gy=_e("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const IX=_e("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const n6=_e("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Im=_e("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Ba=_e("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const ms=_e("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Br=_e("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const ni=_e("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const ha=_e("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const dl=_e("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const DX=_e("StarOff",[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Dm=_e("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const QO=_e("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const ai=_e("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const zX=_e("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const LX=_e("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const no=_e("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const xt=_e("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const vy=_e("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const fl=_e("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const FX=_e("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const BX=_e("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const ZO=_e("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Bi=_e("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const ir=_e("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const XO=_e("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const K1=_e("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Ab=_e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const ma=_e("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Ik="-",qX=e=>{const t=VX(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:a=>{const i=a.split(Ik);return i[0]===""&&i.length!==1&&i.shift(),a6(i,t)||UX(a)},getConflictingClassGroupIds:(a,i)=>{const o=r[a]||[];return i&&n[a]?[...o,...n[a]]:o}}},a6=(e,t)=>{var r;if(e.length===0)return t.classGroupId;const n=e[0],a=t.nextPart.get(n),i=a?a6(e.slice(1),a):void 0;if(i)return i;if(t.validators.length===0)return;const o=e.join(Ik);return(r=t.validators.find(({validator:l})=>l(o)))==null?void 0:r.classGroupId},JO=/^\[(.+)\]$/,UX=e=>{if(JO.test(e)){const t=JO.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},VX=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return KX(Object.entries(e.classGroups),r).forEach(([a,i])=>{H1(i,n,a,t)}),n},H1=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:eA(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(WX(a)){H1(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{H1(o,eA(t,i),r,n)})})},eA=(e,t)=>{let r=e;return t.split(Ik).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},WX=e=>e.isThemeGetter,KX=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,HX=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},s6="!",GX=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let b=0;b<l.length;b++){let x=l[b];if(u===0){if(x===a&&(n||l.slice(b,b+i)===t)){c.push(l.slice(d,b)),d=b+i;continue}if(x==="/"){f=b;continue}}x==="["?u++:x==="]"&&u--}const h=c.length===0?l:l.substring(d),m=h.startsWith(s6),v=m?h.substring(1):h,p=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:o}):o},YX=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},QX=e=>({cache:HX(e.cacheSize),parseClassName:GX(e),...qX(e)}),ZX=/\s+/,XX=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(ZX);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let v=!!m,p=n(v?h.substring(0,m):h);if(!p){if(!v){l=u+(l.length>0?" "+l:l);continue}if(p=n(h),!p){l=u+(l.length>0?" "+l:l);continue}v=!1}const b=YX(d).join(":"),x=f?b+s6:b,y=x+p;if(i.includes(y))continue;i.push(y);const w=a(p,v);for(let j=0;j<w.length;++j){const N=w[j];i.push(x+N)}l=u+(l.length>0?" "+l:l)}return l};function JX(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=i6(t))&&(n&&(n+=" "),n+=r);return n}const i6=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=i6(e[n]))&&(r&&(r+=" "),r+=t);return r};function eJ(e,...t){let r,n,a,i=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=QX(u),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=XX(c,r);return a(c,d),d}return function(){return i(JX.apply(null,arguments))}}const Kt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},o6=/^\[(?:([a-z-]+):)?(.+)\]$/i,tJ=/^\d+\/\d+$/,rJ=new Set(["px","full","screen"]),nJ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,aJ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,sJ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,iJ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,oJ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,xi=e=>hd(e)||rJ.has(e)||tJ.test(e),fo=e=>Of(e,"length",pJ),hd=e=>!!e&&!Number.isNaN(Number(e)),Lw=e=>Of(e,"number",hd),lh=e=>!!e&&Number.isInteger(Number(e)),lJ=e=>e.endsWith("%")&&hd(e.slice(0,-1)),ct=e=>o6.test(e),ho=e=>nJ.test(e),cJ=new Set(["length","size","percentage"]),uJ=e=>Of(e,cJ,l6),dJ=e=>Of(e,"position",l6),fJ=new Set(["image","url"]),hJ=e=>Of(e,fJ,vJ),mJ=e=>Of(e,"",gJ),ch=()=>!0,Of=(e,t,r)=>{const n=o6.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},pJ=e=>aJ.test(e)&&!sJ.test(e),l6=()=>!1,gJ=e=>iJ.test(e),vJ=e=>oJ.test(e),yJ=()=>{const e=Kt("colors"),t=Kt("spacing"),r=Kt("blur"),n=Kt("brightness"),a=Kt("borderColor"),i=Kt("borderRadius"),o=Kt("borderSpacing"),l=Kt("borderWidth"),c=Kt("contrast"),u=Kt("grayscale"),d=Kt("hueRotate"),f=Kt("invert"),h=Kt("gap"),m=Kt("gradientColorStops"),v=Kt("gradientColorStopPositions"),p=Kt("inset"),b=Kt("margin"),x=Kt("opacity"),y=Kt("padding"),w=Kt("saturate"),j=Kt("scale"),N=Kt("sepia"),_=Kt("skew"),k=Kt("space"),C=Kt("translate"),O=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",ct,t],S=()=>[ct,t],M=()=>["",xi,fo],$=()=>["auto",hd,ct],q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],L=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],z=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",ct],G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>[hd,ct];return{cacheSize:500,separator:":",theme:{colors:[ch],spacing:[xi,fo],blur:["none","",ho,ct],brightness:D(),borderColor:[e],borderRadius:["none","","full",ho,ct],borderSpacing:S(),borderWidth:M(),contrast:D(),grayscale:R(),hueRotate:D(),invert:R(),gap:S(),gradientColorStops:[e],gradientColorStopPositions:[lJ,fo],inset:P(),margin:P(),opacity:D(),padding:S(),saturate:D(),scale:D(),sepia:R(),skew:D(),space:S(),translate:S()},classGroups:{aspect:[{aspect:["auto","square","video",ct]}],container:["container"],columns:[{columns:[ho]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...q(),ct]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",lh,ct]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ct]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",lh,ct]}],"grid-cols":[{"grid-cols":[ch]}],"col-start-end":[{col:["auto",{span:["full",lh,ct]},ct]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[ch]}],"row-start-end":[{row:["auto",{span:[lh,ct]},ct]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ct]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ct]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ct,t]}],"min-w":[{"min-w":[ct,t,"min","max","fit"]}],"max-w":[{"max-w":[ct,t,"none","full","min","max","fit","prose",{screen:[ho]},ho]}],h:[{h:[ct,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ct,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ct,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ct,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ho,fo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Lw]}],"font-family":[{font:[ch]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ct]}],"line-clamp":[{"line-clamp":["none",hd,Lw]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",xi,ct]}],"list-image":[{"list-image":["none",ct]}],"list-style-type":[{list:["none","disc","decimal",ct]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",xi,fo]}],"underline-offset":[{"underline-offset":["auto",xi,ct]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ct]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ct]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...q(),dJ]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",uJ]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},hJ]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:U()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[xi,ct]}],"outline-w":[{outline:[xi,fo]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[xi,fo]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ho,mJ]}],"shadow-color":[{shadow:[ch]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...L(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":L()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ho,ct]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ct]}],duration:[{duration:D()}],ease:[{ease:["linear","in","out","in-out",ct]}],delay:[{delay:D()}],animate:[{animate:["none","spin","ping","pulse","bounce",ct]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[lh,ct]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ct]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ct]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ct]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[xi,fo,Lw]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},xJ=eJ(yJ);function ve(...e){return xJ(Ze(e))}const bJ=uX,c6=g.forwardRef(({className:e,...t},r)=>s.jsx(VD,{ref:r,className:ve("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));c6.displayName=VD.displayName;const wJ=Zc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),u6=g.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(WD,{ref:n,className:ve(wJ({variant:t}),e),...r}));u6.displayName=WD.displayName;const jJ=g.forwardRef(({className:e,...t},r)=>s.jsx(GD,{ref:r,className:ve("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));jJ.displayName=GD.displayName;const d6=g.forwardRef(({className:e,...t},r)=>s.jsx(YD,{ref:r,className:ve("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(Ab,{className:"h-4 w-4"})}));d6.displayName=YD.displayName;const f6=g.forwardRef(({className:e,...t},r)=>s.jsx(KD,{ref:r,className:ve("text-sm font-semibold",e),...t}));f6.displayName=KD.displayName;const h6=g.forwardRef(({className:e,...t},r)=>s.jsx(HD,{ref:r,className:ve("text-sm opacity-90",e),...t}));h6.displayName=HD.displayName;function NJ(){const{toasts:e}=Sb();return s.jsxs(bJ,{children:[e.map(function({id:t,title:r,description:n,action:a,...i}){return s.jsxs(u6,{...i,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(f6,{children:r}),n&&s.jsx(h6,{children:n})]}),a,s.jsx(d6,{})]},t)}),s.jsx(c6,{})]})}var[Pb]=xn("Tooltip",[bl]),Tb=bl(),m6="TooltipProvider",_J=700,G1="tooltip.open",[kJ,Dk]=Pb(m6),p6=e=>{const{__scopeTooltip:t,delayDuration:r=_J,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=e,o=g.useRef(!0),l=g.useRef(!1),c=g.useRef(0);return g.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),s.jsx(kJ,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:g.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:g.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:g.useCallback(u=>{l.current=u},[]),disableHoverableContent:a,children:i})};p6.displayName=m6;var zm="Tooltip",[SJ,$b]=Pb(zm),g6=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:a,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=Dk(zm,e.__scopeTooltip),u=Tb(t),[d,f]=g.useState(null),h=Xr(),m=g.useRef(0),v=o??c.disableHoverableContent,p=l??c.delayDuration,b=g.useRef(!1),[x,y]=Ga({prop:n,defaultProp:a??!1,onChange:k=>{k?(c.onOpen(),document.dispatchEvent(new CustomEvent(G1))):c.onClose(),i==null||i(k)},caller:zm}),w=g.useMemo(()=>x?b.current?"delayed-open":"instant-open":"closed",[x]),j=g.useCallback(()=>{window.clearTimeout(m.current),m.current=0,b.current=!1,y(!0)},[y]),N=g.useCallback(()=>{window.clearTimeout(m.current),m.current=0,y(!1)},[y]),_=g.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{b.current=!0,y(!0),m.current=0},p)},[p,y]);return g.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),s.jsx(lb,{...u,children:s.jsx(SJ,{scope:t,contentId:h,open:x,stateAttribute:w,trigger:d,onTriggerChange:f,onTriggerEnter:g.useCallback(()=>{c.isOpenDelayedRef.current?_():j()},[c.isOpenDelayedRef,_,j]),onTriggerLeave:g.useCallback(()=>{v?N():(window.clearTimeout(m.current),m.current=0)},[N,v]),onOpen:j,onClose:N,disableHoverableContent:v,children:r})})};g6.displayName=zm;var Y1="TooltipTrigger",v6=g.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=$b(Y1,r),i=Dk(Y1,r),o=Tb(r),l=g.useRef(null),c=Ye(t,l,a.onTriggerChange),u=g.useRef(!1),d=g.useRef(!1),f=g.useCallback(()=>u.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),s.jsx(Dp,{asChild:!0,...o,children:s.jsx(Ae.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:be(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:be(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:be(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:be(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:be(e.onBlur,a.onClose),onClick:be(e.onClick,a.onClose)})})});v6.displayName=Y1;var CJ="TooltipPortal",[J4e,EJ]=Pb(CJ,{forceMount:void 0}),Td="TooltipContent",y6=g.forwardRef((e,t)=>{const r=EJ(Td,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=e,o=$b(Td,e.__scopeTooltip);return s.jsx(Jr,{present:n||o.open,children:o.disableHoverableContent?s.jsx(x6,{side:a,...i,ref:t}):s.jsx(OJ,{side:a,...i,ref:t})})}),OJ=g.forwardRef((e,t)=>{const r=$b(Td,e.__scopeTooltip),n=Dk(Td,e.__scopeTooltip),a=g.useRef(null),i=Ye(t,a),[o,l]=g.useState(null),{trigger:c,onClose:u}=r,d=a.current,{onPointerInTransitChange:f}=n,h=g.useCallback(()=>{l(null),f(!1)},[f]),m=g.useCallback((v,p)=>{const b=v.currentTarget,x={x:v.clientX,y:v.clientY},y=MJ(x,b.getBoundingClientRect()),w=RJ(x,y),j=IJ(p.getBoundingClientRect()),N=zJ([...w,...j]);l(N),f(!0)},[f]);return g.useEffect(()=>()=>h(),[h]),g.useEffect(()=>{if(c&&d){const v=b=>m(b,d),p=b=>m(b,c);return c.addEventListener("pointerleave",v),d.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",p)}}},[c,d,m,h]),g.useEffect(()=>{if(o){const v=p=>{const b=p.target,x={x:p.clientX,y:p.clientY},y=(c==null?void 0:c.contains(b))||(d==null?void 0:d.contains(b)),w=!DJ(x,o);y?h():w&&(h(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,d,o,u,h]),s.jsx(x6,{...e,ref:i})}),[AJ,PJ]=Pb(zm,{isInside:!1}),TJ=ZV("TooltipContent"),x6=g.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=$b(Td,r),u=Tb(r),{onClose:d}=c;return g.useEffect(()=>(document.addEventListener(G1,d),()=>document.removeEventListener(G1,d)),[d]),g.useEffect(()=>{if(c.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),s.jsx(Hc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:s.jsxs(cb,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(TJ,{children:n}),s.jsx(AJ,{scope:r,isInside:!0,children:s.jsx(KZ,{id:c.contentId,role:"tooltip",children:a||n})})]})})});y6.displayName=Td;var b6="TooltipArrow",$J=g.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=Tb(r);return PJ(b6,r).isInside?null:s.jsx(ub,{...a,...n,ref:t})});$J.displayName=b6;function MJ(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function RJ(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function IJ(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function DJ(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function zJ(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),LJ(t)}function LJ(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var FJ=p6,BJ=g6,qJ=v6,w6=y6;const j6=FJ,UJ=BJ,VJ=qJ,N6=g.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(w6,{ref:n,sideOffset:t,className:ve("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));N6.displayName=w6.displayName;var Af=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},WJ={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Rl,tA,rA,KJ=(rA=class{constructor(){Ue(this,Rl,WJ),Ue(this,tA,!1)}setTimeoutProvider(e){Pe(this,Rl,e)}setTimeout(e,t){return K(this,Rl).setTimeout(e,t)}clearTimeout(e){K(this,Rl).clearTimeout(e)}setInterval(e,t){return K(this,Rl).setInterval(e,t)}clearInterval(e){K(this,Rl).clearInterval(e)}},Rl=new WeakMap,tA=new WeakMap,rA),lc=new KJ;function HJ(e){setTimeout(e,0)}var Pc=typeof window>"u"||"Deno"in globalThis;function _n(){}function GJ(e,t){return typeof e=="function"?e(t):e}function Q1(e){return typeof e=="number"&&e>=0&&e!==1/0}function _6(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Yo(e,t){return typeof e=="function"?e(t):e}function $a(e,t){return typeof e=="function"?e(t):e}function nA(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==zk(o,t.options))return!1}else if(!Lm(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function aA(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Tc(t.options.mutationKey)!==Tc(i))return!1}else if(!Lm(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function zk(e,t){return((t==null?void 0:t.queryKeyHashFn)||Tc)(e)}function Tc(e){return JSON.stringify(e,(t,r)=>Z1(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Lm(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Lm(e[r],t[r])):!1}var YJ=Object.prototype.hasOwnProperty;function k6(e,t){if(e===t)return e;const r=sA(e)&&sA(t);if(!r&&!(Z1(e)&&Z1(t)))return t;const n=(r?e:Object.keys(e)).length,a=r?t:Object.keys(t),i=a.length,o=r?new Array(i):{};let l=0;for(let c=0;c<i;c++){const u=r?c:a[c],d=e[u],f=t[u];if(d===f){o[u]=d,(r?c<n:YJ.call(e,u))&&l++;continue}if(d===null||f===null||typeof d!="object"||typeof f!="object"){o[u]=f;continue}const h=k6(d,f);o[u]=h,h===d&&l++}return n===i&&l===n?e:o}function yy(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function sA(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Z1(e){if(!iA(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!iA(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function iA(e){return Object.prototype.toString.call(e)==="[object Object]"}function QJ(e){return new Promise(t=>{lc.setTimeout(t,e)})}function X1(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?k6(e,t):t}function ZJ(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function XJ(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Lk=Symbol();function S6(e,t){return!e.queryFn&&t!=null&&t.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===Lk?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function C6(e,t){return typeof e=="function"?e(...t):!!e}var yu,Il,uh,oA,JJ=(oA=class extends Af{constructor(){super(),Ue(this,yu),Ue(this,Il),Ue(this,uh),Pe(this,uh,e=>{if(!Pc&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){K(this,Il)||this.setEventListener(K(this,uh))}onUnsubscribe(){var e;this.hasListeners()||((e=K(this,Il))==null||e.call(this),Pe(this,Il,void 0))}setEventListener(e){var t;Pe(this,uh,e),(t=K(this,Il))==null||t.call(this),Pe(this,Il,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){K(this,yu)!==e&&(Pe(this,yu,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof K(this,yu)=="boolean"?K(this,yu):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},yu=new WeakMap,Il=new WeakMap,uh=new WeakMap,oA),Fk=new JJ;function J1(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var eee=HJ;function tee(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=eee;const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var Fr=tee(),dh,Dl,fh,lA,ree=(lA=class extends Af{constructor(){super(),Ue(this,dh,!0),Ue(this,Dl),Ue(this,fh),Pe(this,fh,e=>{if(!Pc&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){K(this,Dl)||this.setEventListener(K(this,fh))}onUnsubscribe(){var e;this.hasListeners()||((e=K(this,Dl))==null||e.call(this),Pe(this,Dl,void 0))}setEventListener(e){var t;Pe(this,fh,e),(t=K(this,Dl))==null||t.call(this),Pe(this,Dl,e(this.setOnline.bind(this)))}setOnline(e){K(this,dh)!==e&&(Pe(this,dh,e),this.listeners.forEach(t=>{t(e)}))}isOnline(){return K(this,dh)}},dh=new WeakMap,Dl=new WeakMap,fh=new WeakMap,lA),xy=new ree;function nee(e){return Math.min(1e3*2**e,3e4)}function E6(e){return(e??"online")==="online"?xy.isOnline():!0}var eN=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function O6(e){let t=!1,r=0,n;const a=J1(),i=()=>a.status!=="pending",o=p=>{var b;if(!i()){const x=new eN(p);h(x),(b=e.onCancel)==null||b.call(e,x)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>Fk.isFocused()&&(e.networkMode==="always"||xy.isOnline())&&e.canRun(),d=()=>E6(e.networkMode)&&e.canRun(),f=p=>{i()||(n==null||n(),a.resolve(p))},h=p=>{i()||(n==null||n(),a.reject(p))},m=()=>new Promise(p=>{var b;n=x=>{(i()||u())&&p(x)},(b=e.onPause)==null||b.call(e)}).then(()=>{var p;n=void 0,i()||(p=e.onContinue)==null||p.call(e)}),v=()=>{if(i())return;let p;const b=r===0?e.initialPromise:void 0;try{p=b??e.fn()}catch(x){p=Promise.reject(x)}Promise.resolve(p).then(f).catch(x=>{var y;if(i())return;const w=e.retry??(Pc?0:3),j=e.retryDelay??nee,N=typeof j=="function"?j(r,x):j,_=w===!0||typeof w=="number"&&r<w||typeof w=="function"&&w(r,x);if(t||!_){h(x);return}r++,(y=e.onFail)==null||y.call(e,r,x),QJ(N).then(()=>u()?void 0:m()).then(()=>{t?h(x):v()})})};return{promise:a,status:()=>a.status,cancel:o,continue:()=>(n==null||n(),a),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?v():m().then(v),a)}}var xu,cA,A6=(cA=class{constructor(){Ue(this,xu)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Q1(this.gcTime)&&Pe(this,xu,lc.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Pc?1/0:5*60*1e3))}clearGcTimeout(){K(this,xu)&&(lc.clearTimeout(K(this,xu)),Pe(this,xu,void 0))}},xu=new WeakMap,cA),bu,hh,ns,wu,rn,Ug,ju,Rs,bi,uA,aee=(uA=class extends A6{constructor(e){super(),Ue(this,Rs),Ue(this,bu),Ue(this,hh),Ue(this,ns),Ue(this,wu),Ue(this,rn),Ue(this,Ug),Ue(this,ju),Pe(this,ju,!1),Pe(this,Ug,e.defaultOptions),this.setOptions(e.options),this.observers=[],Pe(this,wu,e.client),Pe(this,ns,K(this,wu).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Pe(this,bu,dA(this.options)),this.state=e.state??K(this,bu),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=K(this,rn))==null?void 0:e.promise}setOptions(e){if(this.options={...K(this,Ug),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=dA(this.options);t.data!==void 0&&(this.setData(t.data,{updatedAt:t.dataUpdatedAt,manual:!0}),Pe(this,bu,t))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&K(this,ns).remove(this)}setData(e,t){const r=X1(this.state.data,e,this.options);return ft(this,Rs,bi).call(this,{data:r,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),r}setState(e,t){ft(this,Rs,bi).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var t,r;const n=(t=K(this,rn))==null?void 0:t.promise;return(r=K(this,rn))==null||r.cancel(e),n?n.then(_n).catch(_n):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(K(this,bu))}isActive(){return this.observers.some(e=>$a(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Lk||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Yo(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!_6(this.state.dataUpdatedAt,e)}onFocus(){var e;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(e=K(this,rn))==null||e.continue()}onOnline(){var e;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(e=K(this,rn))==null||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),K(this,ns).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(K(this,rn)&&(K(this,ju)?K(this,rn).cancel({revert:!0}):K(this,rn).cancelRetry()),this.scheduleGc()),K(this,ns).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ft(this,Rs,bi).call(this,{type:"invalidate"})}async fetch(e,t){var r,n,a,i,o,l,c,u,d,f,h,m;if(this.state.fetchStatus!=="idle"&&((r=K(this,rn))==null?void 0:r.status())!=="rejected"){if(this.state.data!==void 0&&t!=null&&t.cancelRefetch)this.cancel({silent:!0});else if(K(this,rn))return K(this,rn).continueRetry(),K(this,rn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const y=this.observers.find(w=>w.options.queryFn);y&&this.setOptions(y.options)}const v=new AbortController,p=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(Pe(this,ju,!0),v.signal)})},b=()=>{const y=S6(this.options,t),w=(()=>{const j={client:K(this,wu),queryKey:this.queryKey,meta:this.meta};return p(j),j})();return Pe(this,ju,!1),this.options.persister?this.options.persister(y,w,this):y(w)},x=(()=>{const y={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:K(this,wu),state:this.state,fetchFn:b};return p(y),y})();(n=this.options.behavior)==null||n.onFetch(x,this),Pe(this,hh,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((a=x.fetchOptions)==null?void 0:a.meta))&&ft(this,Rs,bi).call(this,{type:"fetch",meta:(i=x.fetchOptions)==null?void 0:i.meta}),Pe(this,rn,O6({initialPromise:t==null?void 0:t.initialPromise,fn:x.fetchFn,onCancel:y=>{y instanceof eN&&y.revert&&this.setState({...K(this,hh),fetchStatus:"idle"}),v.abort()},onFail:(y,w)=>{ft(this,Rs,bi).call(this,{type:"failed",failureCount:y,error:w})},onPause:()=>{ft(this,Rs,bi).call(this,{type:"pause"})},onContinue:()=>{ft(this,Rs,bi).call(this,{type:"continue"})},retry:x.options.retry,retryDelay:x.options.retryDelay,networkMode:x.options.networkMode,canRun:()=>!0}));try{const y=await K(this,rn).start();if(y===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(y),(l=(o=K(this,ns).config).onSuccess)==null||l.call(o,y,this),(u=(c=K(this,ns).config).onSettled)==null||u.call(c,y,this.state.error,this),y}catch(y){if(y instanceof eN){if(y.silent)return K(this,rn).promise;if(y.revert){if(this.state.data===void 0)throw y;return this.state.data}}throw ft(this,Rs,bi).call(this,{type:"error",error:y}),(f=(d=K(this,ns).config).onError)==null||f.call(d,y,this),(m=(h=K(this,ns).config).onSettled)==null||m.call(h,this.state.data,y,this),y}finally{this.scheduleGc()}}},bu=new WeakMap,hh=new WeakMap,ns=new WeakMap,wu=new WeakMap,rn=new WeakMap,Ug=new WeakMap,ju=new WeakMap,Rs=new WeakSet,bi=function(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...P6(r.data,this.options),fetchMeta:e.meta??null};case"success":const n={...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Pe(this,hh,e.manual?n:void 0),n;case"error":const a=e.error;return{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),Fr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),K(this,ns).notify({query:this,type:"updated",action:e})})},uA);function P6(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:E6(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function dA(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var na,yt,Vg,Dn,Nu,mh,mo,zl,Wg,ph,gh,_u,ku,Ll,vh,gr,yh,Fw,Bw,qw,Uw,Vw,Ww,Kw,fA,hA,see=(hA=class extends Af{constructor(e,t){super(),Ue(this,gr),Ue(this,na),Ue(this,yt),Ue(this,Vg),Ue(this,Dn),Ue(this,Nu),Ue(this,mh),Ue(this,mo),Ue(this,zl),Ue(this,Wg),Ue(this,ph),Ue(this,gh),Ue(this,_u),Ue(this,ku),Ue(this,Ll),Ue(this,vh,new Set),this.options=t,Pe(this,na,e),Pe(this,zl,null),Pe(this,mo,J1()),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(K(this,yt).addObserver(this),mA(K(this,yt),this.options)?ft(this,gr,yh).call(this):this.updateResult(),ft(this,gr,Uw).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return tN(K(this,yt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return tN(K(this,yt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ft(this,gr,Vw).call(this),ft(this,gr,Ww).call(this),K(this,yt).removeObserver(this)}setOptions(e){const t=this.options,r=K(this,yt);if(this.options=K(this,na).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof $a(this.options.enabled,K(this,yt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ft(this,gr,Kw).call(this),K(this,yt).setOptions(this.options),t._defaulted&&!yy(this.options,t)&&K(this,na).getQueryCache().notify({type:"observerOptionsUpdated",query:K(this,yt),observer:this});const n=this.hasListeners();n&&pA(K(this,yt),r,this.options,t)&&ft(this,gr,yh).call(this),this.updateResult(),n&&(K(this,yt)!==r||$a(this.options.enabled,K(this,yt))!==$a(t.enabled,K(this,yt))||Yo(this.options.staleTime,K(this,yt))!==Yo(t.staleTime,K(this,yt)))&&ft(this,gr,Fw).call(this);const a=ft(this,gr,Bw).call(this);n&&(K(this,yt)!==r||$a(this.options.enabled,K(this,yt))!==$a(t.enabled,K(this,yt))||a!==K(this,Ll))&&ft(this,gr,qw).call(this,a)}getOptimisticResult(e){const t=K(this,na).getQueryCache().build(K(this,na),e),r=this.createResult(t,e);return oee(this,r)&&(Pe(this,Dn,r),Pe(this,mh,this.options),Pe(this,Nu,K(this,yt).state)),r}getCurrentResult(){return K(this,Dn)}trackResult(e,t){return new Proxy(e,{get:(r,n)=>(this.trackProp(n),t==null||t(n),n==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&K(this,mo).status==="pending"&&K(this,mo).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,n))})}trackProp(e){K(this,vh).add(e)}getCurrentQuery(){return K(this,yt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=K(this,na).defaultQueryOptions(e),r=K(this,na).getQueryCache().build(K(this,na),t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return ft(this,gr,yh).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),K(this,Dn)))}createResult(e,t){var r;const n=K(this,yt),a=this.options,i=K(this,Dn),o=K(this,Nu),l=K(this,mh),c=e!==n?e.state:K(this,Vg),{state:u}=e;let d={...u},f=!1,h;if(t._optimisticResults){const k=this.hasListeners(),C=!k&&mA(e,t),O=k&&pA(e,n,t,a);(C||O)&&(d={...d,...P6(u.data,e.options)}),t._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:m,errorUpdatedAt:v,status:p}=d;h=d.data;let b=!1;if(t.placeholderData!==void 0&&h===void 0&&p==="pending"){let k;i!=null&&i.isPlaceholderData&&t.placeholderData===(l==null?void 0:l.placeholderData)?(k=i.data,b=!0):k=typeof t.placeholderData=="function"?t.placeholderData((r=K(this,gh))==null?void 0:r.state.data,K(this,gh)):t.placeholderData,k!==void 0&&(p="success",h=X1(i==null?void 0:i.data,k,t),f=!0)}if(t.select&&h!==void 0&&!b)if(i&&h===(o==null?void 0:o.data)&&t.select===K(this,Wg))h=K(this,ph);else try{Pe(this,Wg,t.select),h=t.select(h),h=X1(i==null?void 0:i.data,h,t),Pe(this,ph,h),Pe(this,zl,null)}catch(k){Pe(this,zl,k)}K(this,zl)&&(m=K(this,zl),h=K(this,ph),v=Date.now(),p="error");const x=d.fetchStatus==="fetching",y=p==="pending",w=p==="error",j=y&&x,N=h!==void 0,_={status:p,fetchStatus:d.fetchStatus,isPending:y,isSuccess:p==="success",isError:w,isInitialLoading:j,isLoading:j,data:h,dataUpdatedAt:d.dataUpdatedAt,error:m,errorUpdatedAt:v,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:x,isRefetching:x&&!y,isLoadingError:w&&!N,isPaused:d.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:w&&N,isStale:Bk(e,t),refetch:this.refetch,promise:K(this,mo),isEnabled:$a(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const k=T=>{_.status==="error"?T.reject(_.error):_.data!==void 0&&T.resolve(_.data)},C=()=>{const T=Pe(this,mo,_.promise=J1());k(T)},O=K(this,mo);switch(O.status){case"pending":e.queryHash===n.queryHash&&k(O);break;case"fulfilled":(_.status==="error"||_.data!==O.value)&&C();break;case"rejected":(_.status!=="error"||_.error!==O.reason)&&C();break}}return _}updateResult(){const e=K(this,Dn),t=this.createResult(K(this,yt),this.options);if(Pe(this,Nu,K(this,yt).state),Pe(this,mh,this.options),K(this,Nu).data!==void 0&&Pe(this,gh,K(this,yt)),yy(t,e))return;Pe(this,Dn,t);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:n}=this.options,a=typeof n=="function"?n():n;if(a==="all"||!a&&!K(this,vh).size)return!0;const i=new Set(a??K(this,vh));return this.options.throwOnError&&i.add("error"),Object.keys(K(this,Dn)).some(o=>{const l=o;return K(this,Dn)[l]!==e[l]&&i.has(l)})};ft(this,gr,fA).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ft(this,gr,Uw).call(this)}},na=new WeakMap,yt=new WeakMap,Vg=new WeakMap,Dn=new WeakMap,Nu=new WeakMap,mh=new WeakMap,mo=new WeakMap,zl=new WeakMap,Wg=new WeakMap,ph=new WeakMap,gh=new WeakMap,_u=new WeakMap,ku=new WeakMap,Ll=new WeakMap,vh=new WeakMap,gr=new WeakSet,yh=function(e){ft(this,gr,Kw).call(this);let t=K(this,yt).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(_n)),t},Fw=function(){ft(this,gr,Vw).call(this);const e=Yo(this.options.staleTime,K(this,yt));if(Pc||K(this,Dn).isStale||!Q1(e))return;const t=_6(K(this,Dn).dataUpdatedAt,e)+1;Pe(this,_u,lc.setTimeout(()=>{K(this,Dn).isStale||this.updateResult()},t))},Bw=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(K(this,yt)):this.options.refetchInterval)??!1},qw=function(e){ft(this,gr,Ww).call(this),Pe(this,Ll,e),!(Pc||$a(this.options.enabled,K(this,yt))===!1||!Q1(K(this,Ll))||K(this,Ll)===0)&&Pe(this,ku,lc.setInterval(()=>{(this.options.refetchIntervalInBackground||Fk.isFocused())&&ft(this,gr,yh).call(this)},K(this,Ll)))},Uw=function(){ft(this,gr,Fw).call(this),ft(this,gr,qw).call(this,ft(this,gr,Bw).call(this))},Vw=function(){K(this,_u)&&(lc.clearTimeout(K(this,_u)),Pe(this,_u,void 0))},Ww=function(){K(this,ku)&&(lc.clearInterval(K(this,ku)),Pe(this,ku,void 0))},Kw=function(){const e=K(this,na).getQueryCache().build(K(this,na),this.options);if(e===K(this,yt))return;const t=K(this,yt);Pe(this,yt,e),Pe(this,Vg,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},fA=function(e){Fr.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(K(this,Dn))}),K(this,na).getQueryCache().notify({query:K(this,yt),type:"observerResultsUpdated"})})},hA);function iee(e,t){return $a(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function mA(e,t){return iee(e,t)||e.state.data!==void 0&&tN(e,t,t.refetchOnMount)}function tN(e,t,r){if($a(t.enabled,e)!==!1&&Yo(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Bk(e,t)}return!1}function pA(e,t,r,n){return(e!==t||$a(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Bk(e,r)}function Bk(e,t){return $a(t.enabled,e)!==!1&&e.isStaleByTime(Yo(t.staleTime,e))}function oee(e,t){return!yy(e.getCurrentResult(),t)}function gA(e){return{onFetch:(t,r)=>{var n,a,i,o,l;const c=t.options,u=(i=(a=(n=t.fetchOptions)==null?void 0:n.meta)==null?void 0:a.fetchMore)==null?void 0:i.direction,d=((o=t.state.data)==null?void 0:o.pages)||[],f=((l=t.state.data)==null?void 0:l.pageParams)||[];let h={pages:[],pageParams:[]},m=0;const v=async()=>{let p=!1;const b=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},x=S6(t.options,t.fetchOptions),y=async(w,j,N)=>{if(p)return Promise.reject();if(j==null&&w.pages.length)return Promise.resolve(w);const _=(()=>{const T={client:t.client,queryKey:t.queryKey,pageParam:j,direction:N?"backward":"forward",meta:t.options.meta};return b(T),T})(),k=await x(_),{maxPages:C}=t.options,O=N?XJ:ZJ;return{pages:O(w.pages,k,C),pageParams:O(w.pageParams,j,C)}};if(u&&d.length){const w=u==="backward",j=w?lee:vA,N={pages:d,pageParams:f},_=j(c,N);h=await y(N,_,w)}else{const w=e??d.length;do{const j=m===0?f[0]??c.initialPageParam:vA(c,h);if(m>0&&j==null)break;h=await y(h,j),m++}while(m<w)}return h};t.options.persister?t.fetchFn=()=>{var p,b;return(b=(p=t.options).persister)==null?void 0:b.call(p,v,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=v}}}function vA(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function lee(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Kg,wi,zn,Su,ji,po,yA,cee=(yA=class extends A6{constructor(e){super(),Ue(this,ji),Ue(this,Kg),Ue(this,wi),Ue(this,zn),Ue(this,Su),Pe(this,Kg,e.client),this.mutationId=e.mutationId,Pe(this,zn,e.mutationCache),Pe(this,wi,[]),this.state=e.state||T6(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){K(this,wi).includes(e)||(K(this,wi).push(e),this.clearGcTimeout(),K(this,zn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Pe(this,wi,K(this,wi).filter(t=>t!==e)),this.scheduleGc(),K(this,zn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){K(this,wi).length||(this.state.status==="pending"?this.scheduleGc():K(this,zn).remove(this))}continue(){var e;return((e=K(this,Su))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var t,r,n,a,i,o,l,c,u,d,f,h,m,v,p,b,x,y,w,j;const N=()=>{ft(this,ji,po).call(this,{type:"continue"})},_={client:K(this,Kg),meta:this.options.meta,mutationKey:this.options.mutationKey};Pe(this,Su,O6({fn:()=>this.options.mutationFn?this.options.mutationFn(e,_):Promise.reject(new Error("No mutationFn found")),onFail:(O,T)=>{ft(this,ji,po).call(this,{type:"failed",failureCount:O,error:T})},onPause:()=>{ft(this,ji,po).call(this,{type:"pause"})},onContinue:N,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>K(this,zn).canRun(this)}));const k=this.state.status==="pending",C=!K(this,Su).canStart();try{if(k)N();else{ft(this,ji,po).call(this,{type:"pending",variables:e,isPaused:C}),await((r=(t=K(this,zn).config).onMutate)==null?void 0:r.call(t,e,this,_));const T=await((a=(n=this.options).onMutate)==null?void 0:a.call(n,e,_));T!==this.state.context&&ft(this,ji,po).call(this,{type:"pending",context:T,variables:e,isPaused:C})}const O=await K(this,Su).start();return await((o=(i=K(this,zn).config).onSuccess)==null?void 0:o.call(i,O,e,this.state.context,this,_)),await((c=(l=this.options).onSuccess)==null?void 0:c.call(l,O,e,this.state.context,_)),await((d=(u=K(this,zn).config).onSettled)==null?void 0:d.call(u,O,null,this.state.variables,this.state.context,this,_)),await((h=(f=this.options).onSettled)==null?void 0:h.call(f,O,null,e,this.state.context,_)),ft(this,ji,po).call(this,{type:"success",data:O}),O}catch(O){try{throw await((v=(m=K(this,zn).config).onError)==null?void 0:v.call(m,O,e,this.state.context,this,_)),await((b=(p=this.options).onError)==null?void 0:b.call(p,O,e,this.state.context,_)),await((y=(x=K(this,zn).config).onSettled)==null?void 0:y.call(x,void 0,O,this.state.variables,this.state.context,this,_)),await((j=(w=this.options).onSettled)==null?void 0:j.call(w,void 0,O,e,this.state.context,_)),O}finally{ft(this,ji,po).call(this,{type:"error",error:O})}}finally{K(this,zn).runNext(this)}}},Kg=new WeakMap,wi=new WeakMap,zn=new WeakMap,Su=new WeakMap,ji=new WeakSet,po=function(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Fr.batch(()=>{K(this,wi).forEach(r=>{r.onMutationUpdate(e)}),K(this,zn).notify({mutation:this,type:"updated",action:e})})},yA);function T6(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var go,Is,Hg,xA,uee=(xA=class extends Af{constructor(e={}){super(),Ue(this,go),Ue(this,Is),Ue(this,Hg),this.config=e,Pe(this,go,new Set),Pe(this,Is,new Map),Pe(this,Hg,0)}build(e,t,r){const n=new cee({client:e,mutationCache:this,mutationId:++B1(this,Hg)._,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){K(this,go).add(e);const t=Gg(e);if(typeof t=="string"){const r=K(this,Is).get(t);r?r.push(e):K(this,Is).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(K(this,go).delete(e)){const t=Gg(e);if(typeof t=="string"){const r=K(this,Is).get(t);if(r)if(r.length>1){const n=r.indexOf(e);n!==-1&&r.splice(n,1)}else r[0]===e&&K(this,Is).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Gg(e);if(typeof t=="string"){const r=K(this,Is).get(t),n=r==null?void 0:r.find(a=>a.state.status==="pending");return!n||n===e}else return!0}runNext(e){var t;const r=Gg(e);if(typeof r=="string"){const n=(t=K(this,Is).get(r))==null?void 0:t.find(a=>a!==e&&a.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Fr.batch(()=>{K(this,go).forEach(e=>{this.notify({type:"removed",mutation:e})}),K(this,go).clear(),K(this,Is).clear()})}getAll(){return Array.from(K(this,go))}find(e){const t={exact:!0,...e};return this.getAll().find(r=>aA(t,r))}findAll(e={}){return this.getAll().filter(t=>aA(e,t))}notify(e){Fr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Fr.batch(()=>Promise.all(e.map(t=>t.continue().catch(_n))))}},go=new WeakMap,Is=new WeakMap,Hg=new WeakMap,xA);function Gg(e){var t;return(t=e.options.scope)==null?void 0:t.id}var vo,Fl,aa,yo,Bl,Yg,Hw,bA,dee=(bA=class extends Af{constructor(e,t){super(),Ue(this,Bl),Ue(this,vo),Ue(this,Fl),Ue(this,aa),Ue(this,yo),Pe(this,vo,e),this.setOptions(t),this.bindMethods(),ft(this,Bl,Yg).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var t;const r=this.options;this.options=K(this,vo).defaultMutationOptions(e),yy(this.options,r)||K(this,vo).getMutationCache().notify({type:"observerOptionsUpdated",mutation:K(this,aa),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Tc(r.mutationKey)!==Tc(this.options.mutationKey)?this.reset():((t=K(this,aa))==null?void 0:t.state.status)==="pending"&&K(this,aa).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(e=K(this,aa))==null||e.removeObserver(this)}onMutationUpdate(e){ft(this,Bl,Yg).call(this),ft(this,Bl,Hw).call(this,e)}getCurrentResult(){return K(this,Fl)}reset(){var e;(e=K(this,aa))==null||e.removeObserver(this),Pe(this,aa,void 0),ft(this,Bl,Yg).call(this),ft(this,Bl,Hw).call(this)}mutate(e,t){var r;return Pe(this,yo,t),(r=K(this,aa))==null||r.removeObserver(this),Pe(this,aa,K(this,vo).getMutationCache().build(K(this,vo),this.options)),K(this,aa).addObserver(this),K(this,aa).execute(e)}},vo=new WeakMap,Fl=new WeakMap,aa=new WeakMap,yo=new WeakMap,Bl=new WeakSet,Yg=function(){var e;const t=((e=K(this,aa))==null?void 0:e.state)??T6();Pe(this,Fl,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},Hw=function(e){Fr.batch(()=>{var t,r,n,a,i,o,l,c;if(K(this,yo)&&this.hasListeners()){const u=K(this,Fl).variables,d=K(this,Fl).context,f={client:K(this,vo),meta:this.options.meta,mutationKey:this.options.mutationKey};(e==null?void 0:e.type)==="success"?((r=(t=K(this,yo)).onSuccess)==null||r.call(t,e.data,u,d,f),(a=(n=K(this,yo)).onSettled)==null||a.call(n,e.data,null,u,d,f)):(e==null?void 0:e.type)==="error"&&((o=(i=K(this,yo)).onError)==null||o.call(i,e.error,u,d,f),(c=(l=K(this,yo)).onSettled)==null||c.call(l,void 0,e.error,u,d,f))}this.listeners.forEach(u=>{u(K(this,Fl))})})},bA),Ni,wA,fee=(wA=class extends Af{constructor(e={}){super(),Ue(this,Ni),this.config=e,Pe(this,Ni,new Map)}build(e,t,r){const n=t.queryKey,a=t.queryHash??zk(n,t);let i=this.get(a);return i||(i=new aee({client:e,queryKey:n,queryHash:a,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(i)),i}add(e){K(this,Ni).has(e.queryHash)||(K(this,Ni).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=K(this,Ni).get(e.queryHash);t&&(e.destroy(),t===e&&K(this,Ni).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Fr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return K(this,Ni).get(e)}getAll(){return[...K(this,Ni).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>nA(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>nA(e,r)):t}notify(e){Fr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Fr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Fr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ni=new WeakMap,wA),vr,ql,Ul,xh,bh,Vl,wh,jh,jA,hee=(jA=class{constructor(e={}){Ue(this,vr),Ue(this,ql),Ue(this,Ul),Ue(this,xh),Ue(this,bh),Ue(this,Vl),Ue(this,wh),Ue(this,jh),Pe(this,vr,e.queryCache||new fee),Pe(this,ql,e.mutationCache||new uee),Pe(this,Ul,e.defaultOptions||{}),Pe(this,xh,new Map),Pe(this,bh,new Map),Pe(this,Vl,0)}mount(){B1(this,Vl)._++,K(this,Vl)===1&&(Pe(this,wh,Fk.subscribe(async e=>{e&&(await this.resumePausedMutations(),K(this,vr).onFocus())})),Pe(this,jh,xy.subscribe(async e=>{e&&(await this.resumePausedMutations(),K(this,vr).onOnline())})))}unmount(){var e,t;B1(this,Vl)._--,K(this,Vl)===0&&((e=K(this,wh))==null||e.call(this),Pe(this,wh,void 0),(t=K(this,jh))==null||t.call(this),Pe(this,jh,void 0))}isFetching(e){return K(this,vr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return K(this,ql).findAll({...e,status:"pending"}).length}getQueryData(e){var t;const r=this.defaultQueryOptions({queryKey:e});return(t=K(this,vr).get(r.queryHash))==null?void 0:t.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=K(this,vr).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Yo(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return K(this,vr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=K(this,vr).get(n.queryHash),i=a==null?void 0:a.state.data,o=GJ(t,i);if(o!==void 0)return K(this,vr).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Fr.batch(()=>K(this,vr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var t;const r=this.defaultQueryOptions({queryKey:e});return(t=K(this,vr).get(r.queryHash))==null?void 0:t.state}removeQueries(e){const t=K(this,vr);Fr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=K(this,vr);return Fr.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Fr.batch(()=>K(this,vr).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(_n).catch(_n)}invalidateQueries(e,t={}){return Fr.batch(()=>(K(this,vr).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Fr.batch(()=>K(this,vr).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(_n)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(_n)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=K(this,vr).build(this,t);return r.isStaleByTime(Yo(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(_n).catch(_n)}fetchInfiniteQuery(e){return e.behavior=gA(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(_n).catch(_n)}ensureInfiniteQueryData(e){return e.behavior=gA(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return xy.isOnline()?K(this,ql).resumePausedMutations():Promise.resolve()}getQueryCache(){return K(this,vr)}getMutationCache(){return K(this,ql)}getDefaultOptions(){return K(this,Ul)}setDefaultOptions(e){Pe(this,Ul,e)}setQueryDefaults(e,t){K(this,xh).set(Tc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...K(this,xh).values()],r={};return t.forEach(n=>{Lm(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){K(this,bh).set(Tc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...K(this,bh).values()],r={};return t.forEach(n=>{Lm(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...K(this,Ul).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=zk(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Lk&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...K(this,Ul).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){K(this,vr).clear(),K(this,ql).clear()}},vr=new WeakMap,ql=new WeakMap,Ul=new WeakMap,xh=new WeakMap,bh=new WeakMap,Vl=new WeakMap,wh=new WeakMap,jh=new WeakMap,jA),$6=g.createContext(void 0),Pf=e=>{const t=g.useContext($6);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},mee=({client:e,children:t})=>(g.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx($6.Provider,{value:e,children:t})),M6=g.createContext(!1),pee=()=>g.useContext(M6);M6.Provider;function gee(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var vee=g.createContext(gee()),yee=()=>g.useContext(vee),xee=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},bee=e=>{g.useEffect(()=>{e.clearReset()},[e])},wee=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||C6(r,[e.error,n])),jee=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Nee=(e,t)=>e.isLoading&&e.isFetching&&!t,_ee=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,NA=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function kee(e,t,r){var n,a,i,o,l;const c=pee(),u=yee(),d=Pf(),f=d.defaultQueryOptions(e);(a=(n=d.getDefaultOptions().queries)==null?void 0:n._experimental_beforeQuery)==null||a.call(n,f),f._optimisticResults=c?"isRestoring":"optimistic",jee(f),xee(f,u),bee(u);const h=!d.getQueryCache().get(f.queryHash),[m]=g.useState(()=>new t(d,f)),v=m.getOptimisticResult(f),p=!c&&e.subscribed!==!1;if(g.useSyncExternalStore(g.useCallback(b=>{const x=p?m.subscribe(Fr.batchCalls(b)):_n;return m.updateResult(),x},[m,p]),()=>m.getCurrentResult(),()=>m.getCurrentResult()),g.useEffect(()=>{m.setOptions(f)},[f,m]),_ee(f,v))throw NA(f,m,u);if(wee({result:v,errorResetBoundary:u,throwOnError:f.throwOnError,query:d.getQueryCache().get(f.queryHash),suspense:f.suspense}))throw v.error;if((o=(i=d.getDefaultOptions().queries)==null?void 0:i._experimental_afterQuery)==null||o.call(i,f,v),f.experimental_prefetchInRender&&!Pc&&Nee(v,c)){const b=h?NA(f,m,u):(l=d.getQueryCache().get(f.queryHash))==null?void 0:l.promise;b==null||b.catch(_n).finally(()=>{m.updateResult()})}return f.notifyOnChangeProps?v:m.trackResult(v)}function bt(e,t){return kee(e,see)}function ua(e,t){const r=Pf(),[n]=g.useState(()=>new dee(r,e));g.useEffect(()=>{n.setOptions(e)},[n,e]);const a=g.useSyncExternalStore(g.useCallback(o=>n.subscribe(Fr.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=g.useCallback((o,l)=>{n.mutate(o,l).catch(_n)},[n]);if(a.error&&C6(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}/**
* @remix-run/router v1.23.0
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/function Fm(){return Fm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fm.apply(this,arguments)}var Ro;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ro||(Ro={}));const _A="popstate";function See(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return rN("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:by(a)}return Eee(t,r,null,e)}function cr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function R6(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Cee(){return Math.random().toString(36).substr(2,8)}function kA(e,t){return{usr:e.state,key:e.key,idx:t}}function rN(e,t,r,n){return r===void 0&&(r=null),Fm({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Tf(t):t,{state:r,key:t&&t.key||n||Cee()})}function by(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Tf(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Eee(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=Ro.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Fm({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=Ro.Pop;let b=d(),x=b==null?null:b-u;u=b,c&&c({action:l,location:p.location,delta:x})}function h(b,x){l=Ro.Push;let y=rN(p.location,b,x);u=d()+1;let w=kA(y,u),j=p.createHref(y);try{o.pushState(w,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(j)}i&&c&&c({action:l,location:p.location,delta:1})}function m(b,x){l=Ro.Replace;let y=rN(p.location,b,x);u=d();let w=kA(y,u),j=p.createHref(y);o.replaceState(w,"",j),i&&c&&c({action:l,location:p.location,delta:0})}function v(b){let x=a.location.origin!=="null"?a.location.origin:a.location.href,y=typeof b=="string"?b:by(b);return y=y.replace(/ $/,"%20"),cr(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let p={get action(){return l},get location(){return e(a,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(_A,f),c=b,()=>{a.removeEventListener(_A,f),c=null}},createHref(b){return t(a,b)},createURL:v,encodeLocation(b){let x=v(b);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:m,go(b){return o.go(b)}};return p}var SA;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(SA||(SA={}));function Oee(e,t,r){return r===void 0&&(r="/"),Aee(e,t,r)}function Aee(e,t,r,n){let a=typeof t=="string"?Tf(t):t,i=$d(a.pathname||"/",r);if(i==null)return null;let o=I6(e);Pee(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=qee(i);l=Fee(o[c],u)}return l}function I6(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(cr(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Qo([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(cr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),I6(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:zee(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of D6(i.path))a(i,o,c)}),t}function D6(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=D6(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Pee(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Lee(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Tee=/^:[\w-]+$/,$ee=3,Mee=2,Ree=1,Iee=10,Dee=-2,CA=e=>e==="*";function zee(e,t){let r=e.split("/"),n=r.length;return r.some(CA)&&(n+=Dee),t&&(n+=Mee),r.filter(a=>!CA(a)).reduce((a,i)=>a+(Tee.test(i)?$ee:i===""?Ree:Iee),n)}function Lee(e,t){return e.length===t.length&&e.slice(0,-1).every((r,n)=>r===t[n])?e[e.length-1]-t[t.length-1]:0}function Fee(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=nN({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:Qo([i,f.pathname]),pathnameBase:Kee(Qo([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=Qo([i,f.pathnameBase]))}return o}function nN(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Bee(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((c,u,d)=>{let{paramName:f,isOptional:h}=u;if(f==="*"){let v=l[d]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const m=l[d];return h&&!m?c[f]=void 0:c[f]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function Bee(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),R6(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function qee(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return R6(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function $d(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Uee(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Tf(e):e;return{pathname:r?r.startsWith("/")?r:Vee(r,t):t,search:Hee(n),hash:Gee(a)}}function Vee(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?r.length>1&&r.pop():n!=="."&&r.push(n)}),r.length>1?r.join("/"):"/"}function Gw(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Wee(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function qk(e,t){let r=Wee(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Uk(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Tf(e):(a=Fm({},e),cr(!a.pathname||!a.pathname.includes("?"),Gw("?","pathname","search",a)),cr(!a.pathname||!a.pathname.includes("#"),Gw("#","pathname","hash",a)),cr(!a.search||!a.search.includes("#"),Gw("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=Uee(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Qo=e=>e.join("/").replace(/\/\/+/g,"/"),Kee=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Hee=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Gee=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Yee(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const z6=["post","put","patch","delete"];new Set(z6);const Qee=["get",...z6];new Set(Qee);/**
* React Router v6.30.1
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/function Bm(){return Bm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bm.apply(this,arguments)}const Mb=g.createContext(null),L6=g.createContext(null),ao=g.createContext(null),Rb=g.createContext(null),jl=g.createContext({outlet:null,matches:[],isDataRoute:!1}),F6=g.createContext(null);function Zee(e,t){let{relative:r}=t===void 0?{}:t;$f()||cr(!1);let{basename:n,navigator:a}=g.useContext(ao),{hash:i,pathname:o,search:l}=Ib(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Qo([n,o])),a.createHref({pathname:c,search:l,hash:i})}function $f(){return g.useContext(Rb)!=null}function Nl(){return $f()||cr(!1),g.useContext(Rb).location}function B6(e){g.useContext(ao).static||g.useLayoutEffect(e)}function Yp(){let{isDataRoute:e}=g.useContext(jl);return e?ute():Xee()}function Xee(){$f()||cr(!1);let e=g.useContext(Mb),{basename:t,future:r,navigator:n}=g.useContext(ao),{matches:a}=g.useContext(jl),{pathname:i}=Nl(),o=JSON.stringify(qk(a,r.v7_relativeSplatPath)),l=g.useRef(!1);return B6(()=>{l.current=!0}),g.useCallback(function(c,u){if(u===void 0&&(u={}),!l.current)return;if(typeof c=="number"){n.go(c);return}let d=Uk(c,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Qo([t,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[t,n,o,i,e])}function Ib(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=g.useContext(ao),{matches:a}=g.useContext(jl),{pathname:i}=Nl(),o=JSON.stringify(qk(a,n.v7_relativeSplatPath));return g.useMemo(()=>Uk(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function Jee(e,t){return ete(e,t)}function ete(e,t,r,n){$f()||cr(!1);let{navigator:a}=g.useContext(ao),{matches:i}=g.useContext(jl),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Nl(),d;if(t){var f;let b=typeof t=="string"?Tf(t):t;c==="/"||(f=b.pathname)!=null&&f.startsWith(c)||cr(!1),d=b}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let b=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let v=Oee(e,{pathname:m}),p=ste(v&&v.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:Qo([c,a.encodeLocation?a.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Qo([c,a.encodeLocation?a.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,r,n);return t&&p?g.createElement(Rb.Provider,{value:{location:Bm({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ro.Pop}},p):p}function tte(){let e=cte(),t=Yee(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),r?g.createElement("pre",{style:n},r):null,null)}const rte=g.createElement(tte,null);class nte extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?g.createElement(jl.Provider,{value:this.props.routeContext},g.createElement(F6.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ate(e){let{routeContext:t,match:r,children:n}=e,a=g.useContext(Mb);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),g.createElement(jl.Provider,{value:t},n)}function ste(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||cr(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,v=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||v){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,v=!1,p=null,b=null;r&&(m=l&&f.route.id?l[f.route.id]:void 0,p=f.route.errorElement||rte,c&&(u<0&&h===0?(dte("route-fallback"),v=!0,b=null):u===h&&(v=!0,b=f.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,h+1)),y=()=>{let w;return m?w=p:v?w=b:f.route.Component?w=g.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,g.createElement(ate,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?g.createElement(nte,{location:r.location,revalidation:r.revalidation,component:p,error:m,children:y(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):y()},null)}var q6=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(q6||{}),U6=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(U6||{});function ite(e){let t=g.useContext(Mb);return t||cr(!1),t}function ote(e){let t=g.useContext(L6);return t||cr(!1),t}function lte(e){let t=g.useContext(jl);return t||cr(!1),t}function V6(e){let t=lte(),r=t.matches[t.matches.length-1];return r.route.id||cr(!1),r.route.id}function cte(){var e;let t=g.useContext(F6),r=ote(),n=V6();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function ute(){let{router:e}=ite(q6.UseNavigateStable),t=V6(U6.UseNavigateStable),r=g.useRef(!1);return B6(()=>{r.current=!0}),g.useCallback(function(n,a){a===void 0&&(a={}),r.current&&(typeof n=="number"?e.navigate(n):e.navigate(n,Bm({fromRouteId:t},a)))},[e,t])}const EA={};function dte(e,t,r){EA[e]||(EA[e]=!0)}function fte(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function hte(e){let{to:t,replace:r,state:n,relative:a}=e;$f()||cr(!1);let{future:i,static:o}=g.useContext(ao),{matches:l}=g.useContext(jl),{pathname:c}=Nl(),u=Yp(),d=Uk(t,qk(l,i.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return g.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function Ln(e){cr(!1)}function mte(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Ro.Pop,navigator:i,static:o=!1,future:l}=e;$f()&&cr(!1);let c=t.replace(/^\/*/,"/"),u=g.useMemo(()=>({basename:c,navigator:i,static:o,future:Bm({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=Tf(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:v="default"}=n,p=g.useMemo(()=>{let b=$d(d,c);return b==null?null:{location:{pathname:b,search:f,hash:h,state:m,key:v},navigationType:a}},[c,d,f,h,m,v,a]);return p==null?null:g.createElement(ao.Provider,{value:u},g.createElement(Rb.Provider,{children:r,value:p}))}function pte(e){let{children:t,location:r}=e;return Jee(aN(t),r)}new Promise(()=>{});function aN(e,t){t===void 0&&(t=[]);let r=[];return g.Children.forEach(e,(n,a)=>{if(!g.isValidElement(n))return;let i=[...t,a];if(n.type===g.Fragment){r.push.apply(r,aN(n.props.children,i));return}n.type!==Ln&&cr(!1),!n.props.index||!n.props.children||cr(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=aN(n.props.children,i)),r.push(o)}),r}/**
* React Router DOM v6.30.1
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/function wy(){return wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wy.apply(this,arguments)}function W6(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function gte(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function vte(e,t){return e.button===0&&(!t||t==="_self")&&!gte(e)}function sN(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function yte(e,t){let r=sN(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const xte=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],bte=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],wte="6";try{window.__reactRouterVersion=wte}catch{}const jte=g.createContext({isTransitioning:!1}),Nte="startTransition",OA=m2[Nte];function _te(e){let{basename:t,children:r,future:n,window:a}=e,i=g.useRef();i.current==null&&(i.current=See({window:a,v5Compat:!0}));let o=i.current,[l,c]=g.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=g.useCallback(f=>{u&&OA?OA(()=>c(f)):c(f)},[c,u]);return g.useLayoutEffect(()=>o.listen(d),[o,d]),g.useEffect(()=>fte(n),[n]),g.createElement(mte,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const kte=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ste=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cte=g.forwardRef(function(e,t){let{onClick:r,relative:n,reloadDocument:a,replace:i,state:o,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,f=W6(e,xte),{basename:h}=g.useContext(ao),m,v=!1;if(typeof c=="string"&&Ste.test(c)&&(m=c,kte))try{let y=new URL(window.location.href),w=c.startsWith("//")?new URL(y.protocol+c):new URL(c),j=$d(w.pathname,h);w.origin===y.origin&&j!=null?c=j+w.search+w.hash:v=!0}catch{}let p=Zee(c,{relative:n}),b=Ate(c,{replace:i,state:o,target:l,preventScrollReset:u,relative:n,viewTransition:d});function x(y){r&&r(y),y.defaultPrevented||b(y)}return g.createElement("a",wy({},f,{href:m||p,onClick:v||a?r:x,ref:t,target:l}))}),Ete=g.forwardRef(function(e,t){let{"aria-current":r="page",caseSensitive:n=!1,className:a="",end:i=!1,style:o,to:l,viewTransition:c,children:u}=e,d=W6(e,bte),f=Ib(l,{relative:d.relative}),h=Nl(),m=g.useContext(L6),{navigator:v,basename:p}=g.useContext(ao),b=m!=null&&Tte(f)&&c===!0,x=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,y=h.pathname,w=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(y=y.toLowerCase(),w=w?w.toLowerCase():null,x=x.toLowerCase()),w&&p&&(w=$d(w,p)||w);const j=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let N=y===x||!i&&y.startsWith(x)&&y.charAt(j)==="/",_=w!=null&&(w===x||!i&&w.startsWith(x)&&w.charAt(x.length)==="/"),k={isActive:N,isPending:_,isTransitioning:b},C=N?r:void 0,O;typeof a=="function"?O=a(k):O=[a,N?"active":null,_?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let T=typeof o=="function"?o(k):o;return g.createElement(Cte,wy({},d,{"aria-current":C,className:O,ref:t,style:T,to:l,viewTransition:c}),typeof u=="function"?u(k):u)});var iN;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(iN||(iN={}));var AA;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(AA||(AA={}));function Ote(e){let t=g.useContext(Mb);return t||cr(!1),t}function Ate(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=Yp(),u=Nl(),d=Ib(e,{relative:o});return g.useCallback(f=>{if(vte(f,r)){f.preventDefault();let h=n!==void 0?n:by(u)===by(d);c(e,{replace:h,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,a,r,e,i,o,l])}function Pte(e){let t=g.useRef(sN(e)),r=g.useRef(!1),n=Nl(),a=g.useMemo(()=>yte(n.search,r.current?null:t.current),[n.search]),i=Yp(),o=g.useCallback((l,c)=>{const u=sN(typeof l=="function"?l(a):l);r.current=!0,i("?"+u,c)},[i,a]);return[a,o]}function Tte(e,t){t===void 0&&(t={});let r=g.useContext(jte);r==null&&cr(!1);let{basename:n}=Ote(iN.useViewTransitionState),a=Ib(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=$d(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=$d(r.nextLocation.pathname,n)||r.nextLocation.pathname;return nN(a.pathname,o)!=null||nN(a.pathname,i)!=null}const Yw=768;function $te(){const[e,t]=g.useState(void 0);return g.useEffect(()=>{const r=window.matchMedia(`(max-width: ${Yw-1}px)`),n=()=>{t(window.innerWidth<Yw)};return r.addEventListener("change",n),t(window.innerWidth<Yw),()=>r.removeEventListener("change",n)},[]),!!e}const Mte=Zc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),X=g.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const o=n?Kc:"button";return s.jsx(o,{className:ve(Mte({variant:t,size:r,className:e})),ref:i,...a})});X.displayName="Button";const Be=g.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:ve("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Be.displayName="Input";var Rte="Separator",PA="horizontal",Ite=["horizontal","vertical"],K6=g.forwardRef((e,t)=>{const{decorative:r,orientation:n=PA,...a}=e,i=Dte(n)?n:PA,o=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(Ae.div,{"data-orientation":i,...o,...a,ref:t})});K6.displayName=Rte;function Dte(e){return Ite.includes(e)}var H6=K6;const xr=g.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},a)=>s.jsx(H6,{ref:a,decorative:r,orientation:t,className:ve("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));xr.displayName=H6.displayName;const zte=vk,Lte=yk,G6=g.forwardRef(({className:e,...t},r)=>s.jsx(Fp,{className:ve("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));G6.displayName=Fp.displayName;const Fte=Zc("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Y6=g.forwardRef(({side:e="right",className:t,children:r,...n},a)=>s.jsxs(Lte,{children:[s.jsx(G6,{}),s.jsxs(Bp,{ref:a,className:ve(Fte({side:e}),t),...n,children:[r,s.jsxs(FI,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[s.jsx(Ab,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Y6.displayName=Bp.displayName;const Bte=g.forwardRef(({className:e,...t},r)=>s.jsx(pb,{ref:r,className:ve("text-lg font-semibold text-foreground",e),...t}));Bte.displayName=pb.displayName;const qte=g.forwardRef(({className:e,...t},r)=>s.jsx(gb,{ref:r,className:ve("text-sm text-muted-foreground",e),...t}));qte.displayName=gb.displayName;function yr({className:e,...t}){return s.jsx("div",{className:ve("animate-pulse rounded-md bg-muted",e),...t})}const Ute="sidebar:state",Vte=60*60*24*7,Wte="16rem",Kte="18rem",Hte="3rem",Gte="b",Q6=g.createContext(null);function Qp(){const e=g.useContext(Q6);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const Z6=g.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:r,className:n,style:a,children:i,...o},l)=>{const c=$te(),[u,d]=g.useState(!1),[f,h]=g.useState(e),m=t??f,v=g.useCallback(y=>{const w=typeof y=="function"?y(m):y;r?r(w):h(w),document.cookie=`${Ute}=${w}; path=/; max-age=${Vte}`},[r,m]),p=g.useCallback(()=>c?d(y=>!y):v(y=>!y),[c,v,d]);g.useEffect(()=>{const y=w=>{w.key===Gte&&(w.metaKey||w.ctrlKey)&&(w.preventDefault(),p())};return window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)},[p]);const b=m?"expanded":"collapsed",x=g.useMemo(()=>({state:b,open:m,setOpen:v,isMobile:c,openMobile:u,setOpenMobile:d,toggleSidebar:p}),[b,m,v,c,u,d,p]);return s.jsx(Q6.Provider,{value:x,children:s.jsx(j6,{delayDuration:0,children:s.jsx("div",{style:{"--sidebar-width":Wte,"--sidebar-width-icon":Hte,...a},className:ve("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",n),ref:l,...o,children:i})})})});Z6.displayName="SidebarProvider";const X6=g.forwardRef(({side:e="left",variant:t="sidebar",collapsible:r="offcanvas",className:n,children:a,...i},o)=>{const{isMobile:l,state:c,openMobile:u,setOpenMobile:d}=Qp();return r==="none"?s.jsx("div",{className:ve("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",n),ref:o,...i,children:a}):l?s.jsx(zte,{open:u,onOpenChange:d,...i,children:s.jsx(Y6,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":Kte},side:e,children:s.jsx("div",{className:"flex h-full w-full flex-col",children:a})})}):s.jsxs("div",{ref:o,className:"group peer hidden text-sidebar-foreground md:block","data-state":c,"data-collapsible":c==="collapsed"?r:"","data-variant":t,"data-side":e,children:[s.jsx("div",{className:ve("relative h-svh w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),s.jsx("div",{className:ve("fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...i,children:s.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:a})})]})});X6.displayName="Sidebar";const oN=g.forwardRef(({className:e,onClick:t,...r},n)=>{const{toggleSidebar:a}=Qp();return s.jsxs(X,{ref:n,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:ve("h-7 w-7",e),onClick:i=>{t==null||t(i),a()},...r,children:[s.jsx(TX,{}),s.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});oN.displayName="SidebarTrigger";const Yte=g.forwardRef(({className:e,...t},r)=>{const{toggleSidebar:n}=Qp();return s.jsx("button",{ref:r,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:n,title:"Toggle Sidebar",className:ve("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] group-data-[side=left]:-right-4 group-data-[side=right]:left-0 hover:after:bg-sidebar-border sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});Yte.displayName="SidebarRail";const J6=g.forwardRef(({className:e,...t},r)=>s.jsx("main",{ref:r,className:ve("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));J6.displayName="SidebarInset";const Qte=g.forwardRef(({className:e,...t},r)=>s.jsx(Be,{ref:r,"data-sidebar":"input",className:ve("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));Qte.displayName="SidebarInput";const ez=g.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"header",className:ve("flex flex-col gap-2 p-2",e),...t}));ez.displayName="SidebarHeader";const tz=g.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"footer",className:ve("flex flex-col gap-2 p-2",e),...t}));tz.displayName="SidebarFooter";const Zte=g.forwardRef(({className:e,...t},r)=>s.jsx(xr,{ref:r,"data-sidebar":"separator",className:ve("mx-2 w-auto bg-sidebar-border",e),...t}));Zte.displayName="SidebarSeparator";const rz=g.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"content",className:ve("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));rz.displayName="SidebarContent";const nz=g.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"group",className:ve("relative flex w-full min-w-0 flex-col p-2",e),...t}));nz.displayName="SidebarGroup";const az=g.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const a=t?Kc:"div";return s.jsx(a,{ref:n,"data-sidebar":"group-label",className:ve("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...r})});az.displayName="SidebarGroupLabel";const Xte=g.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const a=t?Kc:"button";return s.jsx(a,{ref:n,"data-sidebar":"group-action",className:ve("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...r})});Xte.displayName="SidebarGroupAction";const sz=g.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"group-content",className:ve("w-full text-sm",e),...t}));sz.displayName="SidebarGroupContent";const lN=g.forwardRef(({className:e,...t},r)=>s.jsx("ul",{ref:r,"data-sidebar":"menu",className:ve("flex w-full min-w-0 flex-col gap-1",e),...t}));lN.displayName="SidebarMenu";const Ov=g.forwardRef(({className:e,...t},r)=>s.jsx("li",{ref:r,"data-sidebar":"menu-item",className:ve("group/menu-item relative",e),...t}));Ov.displayName="SidebarMenuItem";const Jte=Zc("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),Av=g.forwardRef(({asChild:e=!1,isActive:t=!1,variant:r="default",size:n="default",tooltip:a,className:i,...o},l)=>{const c=e?Kc:"button",{isMobile:u,state:d}=Qp(),f=s.jsx(c,{ref:l,"data-sidebar":"menu-button","data-size":n,"data-active":t,className:ve(Jte({variant:r,size:n}),i),...o});return a?(typeof a=="string"&&(a={children:a}),s.jsxs(UJ,{children:[s.jsx(VJ,{asChild:!0,children:f}),s.jsx(N6,{side:"right",align:"center",hidden:d!=="collapsed"||u,...a})]})):f});Av.displayName="SidebarMenuButton";const ere=g.forwardRef(({className:e,asChild:t=!1,showOnHover:r=!1,...n},a)=>{const i=t?Kc:"button";return s.jsx(i,{ref:a,"data-sidebar":"menu-action",className:ve("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform peer-hover/menu-button:text-sidebar-accent-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",r&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...n})});ere.displayName="SidebarMenuAction";const tre=g.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"menu-badge",className:ve("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t}));tre.displayName="SidebarMenuBadge";const rre=g.forwardRef(({className:e,showIcon:t=!1,...r},n)=>{const a=g.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return s.jsxs("div",{ref:n,"data-sidebar":"menu-skeleton",className:ve("flex h-8 items-center gap-2 rounded-md px-2",e),...r,children:[t&&s.jsx(yr,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),s.jsx(yr,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":a}})]})});rre.displayName="SidebarMenuSkeleton";const nre=g.forwardRef(({className:e,...t},r)=>s.jsx("ul",{ref:r,"data-sidebar":"menu-sub",className:ve("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));nre.displayName="SidebarMenuSub";const are=g.forwardRef(({...e},t)=>s.jsx("li",{ref:t,...e}));are.displayName="SidebarMenuSubItem";const sre=g.forwardRef(({asChild:e=!1,size:t="md",isActive:r,className:n,...a},i)=>{const o=e?Kc:"a";return s.jsx(o,{ref:i,"data-sidebar":"menu-sub-button","data-size":t,"data-active":r,className:ve("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring aria-disabled:pointer-events-none aria-disabled:opacity-50 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",n),...a})});sre.displayName="SidebarMenuSubButton";const ire="https://bjsuujkbrhjhuyzydxbr.supabase.co",ore="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJqc3V1amticmhqaHV5enlkeGJyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAyMDYyOTYsImV4cCI6MjA3NTc4MjI5Nn0.8a3fxQyKfp7Xdbh7g76NKhoDRqiDPMtzLkgrIZ0dnHQ",le=LZ(ire,ore,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}});function Vk(){const[e,t]=g.useState(null),[r,n]=g.useState(!0);return g.useEffect(()=>{(async()=>{try{const{data:{session:i},error:o}=await le.auth.getSession();if(o){console.error("Erro ao verificar sessão:",o);return}if(i!=null&&i.user)t(i.user),localStorage.getItem("rememberMe")==="true"&&console.log("Usuário permanece logado");else{const l=localStorage.getItem("rememberMe"),c=localStorage.getItem("userEmail");l==="true"&&c&&console.log("Tentando restaurar sessão para:",c)}}catch(i){console.error("Erro ao verificar autenticação:",i)}finally{n(!1)}})();const{data:{subscription:a}}=le.auth.onAuthStateChange(async(i,o)=>{var l;console.log("Auth state changed:",i,(l=o==null?void 0:o.user)==null?void 0:l.email),o!=null&&o.user?(t(o.user),localStorage.getItem("rememberMe")==="true"&&localStorage.setItem("userEmail",o.user.email||"")):(t(null),localStorage.getItem("rememberMe")!=="true"&&localStorage.removeItem("userEmail")),n(!1)});return()=>{a.unsubscribe()}},[]),{user:e,loading:r,logout:async()=>{try{localStorage.removeItem("rememberMe"),localStorage.removeItem("userEmail"),await le.auth.signOut(),console.log("Logout realizado")}catch(a){console.error("Erro ao fazer logout:",a)}},clearRememberMe:()=>{localStorage.removeItem("rememberMe"),localStorage.removeItem("userEmail")},isRemembered:localStorage.getItem("rememberMe")==="true"}}var lre=e=>{switch(e){case"success":return dre;case"info":return hre;case"warning":return fre;case"error":return mre;default:return null}},cre=Array(12).fill(0),ure=({visible:e,className:t})=>E.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},E.createElement("div",{className:"sonner-spinner"},cre.map((r,n)=>E.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),dre=E.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},E.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),fre=E.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},E.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),hre=E.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},E.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),mre=E.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},E.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),pre=E.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},E.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),E.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),gre=()=>{let[e,t]=E.useState(document.hidden);return E.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},cN=1,vre=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:cN++,i=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:r}),{...l,...e,id:a,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),a=r!==void 0,i,o=n.then(async c=>{if(i=["resolve",c],E.isValidElement(c))a=!1,this.create({id:r,type:"default",message:c});else if(xre(c)&&!c.ok){a=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){a=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){a=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;a&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>i[0]==="reject"?u(i[1]):c(i[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||cN++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Bn=new vre,yre=(e,t)=>{let r=(t==null?void 0:t.id)||cN++;return Bn.addToast({title:e,...t,id:r}),r},xre=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",bre=yre,wre=()=>Bn.toasts,jre=()=>Bn.getActiveToasts(),ae=Object.assign(bre,{success:Bn.success,info:Bn.info,warning:Bn.warning,error:Bn.error,custom:Bn.custom,message:Bn.message,promise:Bn.promise,dismiss:Bn.dismiss,loading:Bn.loading},{getHistory:wre,getToasts:jre});function Nre(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}Nre(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Qg(e){return e.label!==void 0}var _re=3,kre="32px",Sre="16px",TA=4e3,Cre=356,Ere=14,Ore=20,Are=200;function as(...e){return e.filter(Boolean).join(" ")}function Pre(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var Tre=e=>{var t,r,n,a,i,o,l,c,u,d,f;let{invert:h,toast:m,unstyled:v,interacting:p,setHeights:b,visibleToasts:x,heights:y,index:w,toasts:j,expanded:N,removeToast:_,defaultRichColors:k,closeButton:C,style:O,cancelButtonStyle:T,actionButtonStyle:P,className:S="",descriptionClassName:M="",duration:$,position:q,gap:U,loadingIcon:L,expandByDefault:z,classNames:R,icons:G,closeButtonAriaLabel:D="Close toast",pauseWhenPageIsHidden:F}=e,[J,H]=E.useState(null),[I,oe]=E.useState(null),[V,de]=E.useState(!1),[te,ce]=E.useState(!1),[ne,ee]=E.useState(!1),[qe,Re]=E.useState(!1),[ut,it]=E.useState(!1),[Qe,Z]=E.useState(0),[B,Y]=E.useState(0),Q=E.useRef(m.duration||$||TA),xe=E.useRef(null),ye=E.useRef(null),we=w===0,W=w+1<=x,se=m.type,Se=m.dismissible!==!1,mt=m.className||"",Vt=m.descriptionClassName||"",tr=E.useMemo(()=>y.findIndex(Ve=>Ve.toastId===m.id)||0,[y,m.id]),wn=E.useMemo(()=>{var Ve;return(Ve=m.closeButton)!=null?Ve:C},[m.closeButton,C]),dr=E.useMemo(()=>m.duration||$||TA,[m.duration,$]),Wr=E.useRef(0),Tn=E.useRef(0),$s=E.useRef(0),ra=E.useRef(null),[Nt,Zf]=q.split("-"),Wt=E.useMemo(()=>y.reduce((Ve,vt,Rt)=>Rt>=tr?Ve:Ve+vt.height,0),[y,tr]),Tr=gre(),nu=m.invert||h,vi=se==="loading";Tn.current=E.useMemo(()=>tr*U+Wt,[tr,Wt]),E.useEffect(()=>{Q.current=dr},[dr]),E.useEffect(()=>{de(!0)},[]),E.useEffect(()=>{let Ve=ye.current;if(Ve){let vt=Ve.getBoundingClientRect().height;return Y(vt),b(Rt=>[{toastId:m.id,height:vt,position:m.position},...Rt]),()=>b(Rt=>Rt.filter($n=>$n.toastId!==m.id))}},[b,m.id]),E.useLayoutEffect(()=>{if(!V)return;let Ve=ye.current,vt=Ve.style.height;Ve.style.height="auto";let Rt=Ve.getBoundingClientRect().height;Ve.style.height=vt,Y(Rt),b($n=>$n.find(ln=>ln.toastId===m.id)?$n.map(ln=>ln.toastId===m.id?{...ln,height:Rt}:ln):[{toastId:m.id,height:Rt,position:m.position},...$n])},[V,m.title,m.description,b,m.id]);let tn=E.useCallback(()=>{ce(!0),Z(Tn.current),b(Ve=>Ve.filter(vt=>vt.toastId!==m.id)),setTimeout(()=>{_(m)},Are)},[m,_,b,Tn]);E.useEffect(()=>{if(m.promise&&se==="loading"||m.duration===1/0||m.type==="loading")return;let Ve;return N||p||F&&Tr?(()=>{if($s.current<Wr.current){let vt=new Date().getTime()-Wr.current;Q.current=Q.current-vt}$s.current=new Date().getTime()})():Q.current!==1/0&&(Wr.current=new Date().getTime(),Ve=setTimeout(()=>{var vt;(vt=m.onAutoClose)==null||vt.call(m,m),tn()},Q.current)),()=>clearTimeout(Ve)},[N,p,m,se,F,Tr,tn]),E.useEffect(()=>{m.delete&&tn()},[tn,m.delete]);function au(){var Ve,vt,Rt;return G!=null&&G.loading?E.createElement("div",{className:as(R==null?void 0:R.loader,(Ve=m==null?void 0:m.classNames)==null?void 0:Ve.loader,"sonner-loader"),"data-visible":se==="loading"},G.loading):L?E.createElement("div",{className:as(R==null?void 0:R.loader,(vt=m==null?void 0:m.classNames)==null?void 0:vt.loader,"sonner-loader"),"data-visible":se==="loading"},L):E.createElement(ure,{className:as(R==null?void 0:R.loader,(Rt=m==null?void 0:m.classNames)==null?void 0:Rt.loader),visible:se==="loading"})}return E.createElement("li",{tabIndex:0,ref:ye,className:as(S,mt,R==null?void 0:R.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,R==null?void 0:R.default,R==null?void 0:R[se],(r=m==null?void 0:m.classNames)==null?void 0:r[se]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:k,"data-styled":!(m.jsx||m.unstyled||v),"data-mounted":V,"data-promise":!!m.promise,"data-swiped":ut,"data-removed":te,"data-visible":W,"data-y-position":Nt,"data-x-position":Zf,"data-index":w,"data-front":we,"data-swiping":ne,"data-dismissible":Se,"data-type":se,"data-invert":nu,"data-swipe-out":qe,"data-swipe-direction":I,"data-expanded":!!(N||z&&V),style:{"--index":w,"--toasts-before":w,"--z-index":j.length-w,"--offset":`${te?Qe:Tn.current}px`,"--initial-height":z?"auto":`${B}px`,...O,...m.style},onDragEnd:()=>{ee(!1),H(null),ra.current=null},onPointerDown:Ve=>{vi||!Se||(xe.current=new Date,Z(Tn.current),Ve.target.setPointerCapture(Ve.pointerId),Ve.target.tagName!=="BUTTON"&&(ee(!0),ra.current={x:Ve.clientX,y:Ve.clientY}))},onPointerUp:()=>{var Ve,vt,Rt,$n;if(qe||!Se)return;ra.current=null;let ln=Number(((Ve=ye.current)==null?void 0:Ve.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),es=Number(((vt=ye.current)==null?void 0:vt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),$r=new Date().getTime()-((Rt=xe.current)==null?void 0:Rt.getTime()),Mn=J==="x"?ln:es,yi=Math.abs(Mn)/$r;if(Math.abs(Mn)>=Ore||yi>.11){Z(Tn.current),($n=m.onDismiss)==null||$n.call(m,m),oe(J==="x"?ln>0?"right":"left":es>0?"down":"up"),tn(),Re(!0),it(!1);return}ee(!1),H(null)},onPointerMove:Ve=>{var vt,Rt,$n,ln;if(!ra.current||!Se||((vt=window.getSelection())==null?void 0:vt.toString().length)>0)return;let es=Ve.clientY-ra.current.y,$r=Ve.clientX-ra.current.x,Mn=(Rt=e.swipeDirections)!=null?Rt:Pre(q);!J&&(Math.abs($r)>1||Math.abs(es)>1)&&H(Math.abs($r)>Math.abs(es)?"x":"y");let yi={x:0,y:0};J==="y"?(Mn.includes("top")||Mn.includes("bottom"))&&(Mn.includes("top")&&es<0||Mn.includes("bottom")&&es>0)&&(yi.y=es):J==="x"&&(Mn.includes("left")||Mn.includes("right"))&&(Mn.includes("left")&&$r<0||Mn.includes("right")&&$r>0)&&(yi.x=$r),(Math.abs(yi.x)>0||Math.abs(yi.y)>0)&&it(!0),($n=ye.current)==null||$n.style.setProperty("--swipe-amount-x",`${yi.x}px`),(ln=ye.current)==null||ln.style.setProperty("--swipe-amount-y",`${yi.y}px`)}},wn&&!m.jsx?E.createElement("button",{"aria-label":D,"data-disabled":vi,"data-close-button":!0,onClick:vi||!Se?()=>{}:()=>{var Ve;tn(),(Ve=m.onDismiss)==null||Ve.call(m,m)},className:as(R==null?void 0:R.closeButton,(a=m==null?void 0:m.classNames)==null?void 0:a.closeButton)},(i=G==null?void 0:G.close)!=null?i:pre):null,m.jsx||g.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:E.createElement(E.Fragment,null,se||m.icon||m.promise?E.createElement("div",{"data-icon":"",className:as(R==null?void 0:R.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||au():null,m.type!=="loading"?m.icon||(G==null?void 0:G[se])||lre(se):null):null,E.createElement("div",{"data-content":"",className:as(R==null?void 0:R.content,(l=m==null?void 0:m.classNames)==null?void 0:l.content)},E.createElement("div",{"data-title":"",className:as(R==null?void 0:R.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?E.createElement("div",{"data-description":"",className:as(M,Vt,R==null?void 0:R.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),g.isValidElement(m.cancel)?m.cancel:m.cancel&&Qg(m.cancel)?E.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||T,onClick:Ve=>{var vt,Rt;Qg(m.cancel)&&Se&&((Rt=(vt=m.cancel).onClick)==null||Rt.call(vt,Ve),tn())},className:as(R==null?void 0:R.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,g.isValidElement(m.action)?m.action:m.action&&Qg(m.action)?E.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||P,onClick:Ve=>{var vt,Rt;Qg(m.action)&&((Rt=(vt=m.action).onClick)==null||Rt.call(vt,Ve),!Ve.defaultPrevented&&tn())},className:as(R==null?void 0:R.actionButton,(f=m==null?void 0:m.classNames)==null?void 0:f.actionButton)},m.action.label):null))};function $A(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function $re(e,t){let r={};return[e,t].forEach((n,a)=>{let i=a===1,o=i?"--mobile-offset":"--offset",l=i?Sre:kre;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}g.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:m,visibleToasts:v=_re,toastOptions:p,dir:b=$A(),gap:x=Ere,loadingIcon:y,icons:w,containerAriaLabel:j="Notifications",pauseWhenPageIsHidden:N}=e,[_,k]=E.useState([]),C=E.useMemo(()=>Array.from(new Set([n].concat(_.filter(F=>F.position).map(F=>F.position)))),[_,n]),[O,T]=E.useState([]),[P,S]=E.useState(!1),[M,$]=E.useState(!1),[q,U]=E.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),L=E.useRef(null),z=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=E.useRef(null),G=E.useRef(!1),D=E.useCallback(F=>{k(J=>{var H;return(H=J.find(I=>I.id===F.id))!=null&&H.delete||Bn.dismiss(F.id),J.filter(({id:I})=>I!==F.id)})},[]);return E.useEffect(()=>Bn.subscribe(F=>{if(F.dismiss){k(J=>J.map(H=>H.id===F.id?{...H,delete:!0}:H));return}setTimeout(()=>{B5.flushSync(()=>{k(J=>{let H=J.findIndex(I=>I.id===F.id);return H!==-1?[...J.slice(0,H),{...J[H],...F},...J.slice(H+1)]:[F,...J]})})})}),[]),E.useEffect(()=>{if(d!=="system"){U(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?U("dark"):U("light")),typeof window>"u")return;let F=window.matchMedia("(prefers-color-scheme: dark)");try{F.addEventListener("change",({matches:J})=>{U(J?"dark":"light")})}catch{F.addListener(({matches:J})=>{try{U(J?"dark":"light")}catch(H){console.error(H)}})}},[d]),E.useEffect(()=>{_.length<=1&&S(!1)},[_]),E.useEffect(()=>{let F=J=>{var H,I;a.every(oe=>J[oe]||J.code===oe)&&(S(!0),(H=L.current)==null||H.focus()),J.code==="Escape"&&(document.activeElement===L.current||(I=L.current)!=null&&I.contains(document.activeElement))&&S(!1)};return document.addEventListener("keydown",F),()=>document.removeEventListener("keydown",F)},[a]),E.useEffect(()=>{if(L.current)return()=>{R.current&&(R.current.focus({preventScroll:!0}),R.current=null,G.current=!1)}},[L.current]),E.createElement("section",{ref:t,"aria-label":`${j} ${z}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((F,J)=>{var H;let[I,oe]=F.split("-");return _.length?E.createElement("ol",{key:F,dir:b==="auto"?$A():b,tabIndex:-1,ref:L,className:l,"data-sonner-toaster":!0,"data-theme":q,"data-y-position":I,"data-lifted":P&&_.length>1&&!i,"data-x-position":oe,style:{"--front-toast-height":`${((H=O[0])==null?void 0:H.height)||0}px`,"--width":`${Cre}px`,"--gap":`${x}px`,...m,...$re(c,u)},onBlur:V=>{G.current&&!V.currentTarget.contains(V.relatedTarget)&&(G.current=!1,R.current&&(R.current.focus({preventScroll:!0}),R.current=null))},onFocus:V=>{V.target instanceof HTMLElement&&V.target.dataset.dismissible==="false"||G.current||(G.current=!0,R.current=V.relatedTarget)},onMouseEnter:()=>S(!0),onMouseMove:()=>S(!0),onMouseLeave:()=>{M||S(!1)},onDragEnd:()=>S(!1),onPointerDown:V=>{V.target instanceof HTMLElement&&V.target.dataset.dismissible==="false"||$(!0)},onPointerUp:()=>$(!1)},_.filter(V=>!V.position&&J===0||V.position===F).map((V,de)=>{var te,ce;return E.createElement(Tre,{key:V.id,icons:w,index:de,toast:V,defaultRichColors:f,duration:(te=p==null?void 0:p.duration)!=null?te:h,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:r,visibleToasts:v,closeButton:(ce=p==null?void 0:p.closeButton)!=null?ce:o,interacting:M,position:F,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:D,toasts:_.filter(ne=>ne.position==V.position),heights:O.filter(ne=>ne.position==V.position),setHeights:T,expandByDefault:i,gap:x,loadingIcon:y,expanded:P,pauseWhenPageIsHidden:N,swipeDirections:e.swipeDirections})})):null}))});var MA=1,Mre=.9,Rre=.8,Ire=.17,Qw=.1,Zw=.999,Dre=.9999,zre=.99,Lre=/[\\\/_+.#"@\[\(\{&]/,Fre=/[\\\/_+.#"@\[\(\{&]/g,Bre=/[\s-]/,iz=/[\s-]/g;function uN(e,t,r,n,a,i,o){if(i===t.length)return a===e.length?MA:zre;var l=`${a},${i}`;if(o[l]!==void 0)return o[l];for(var c=n.charAt(i),u=r.indexOf(c,a),d=0,f,h,m,v;u>=0;)f=uN(e,t,r,n,u+1,i+1,o),f>d&&(u===a?f*=MA:Lre.test(e.charAt(u-1))?(f*=Rre,m=e.slice(a,u-1).match(Fre),m&&a>0&&(f*=Math.pow(Zw,m.length))):Bre.test(e.charAt(u-1))?(f*=Mre,v=e.slice(a,u-1).match(iz),v&&a>0&&(f*=Math.pow(Zw,v.length))):(f*=Ire,a>0&&(f*=Math.pow(Zw,u-a))),e.charAt(u)!==t.charAt(i)&&(f*=Dre)),(f<Qw&&r.charAt(u-1)===n.charAt(i+1)||n.charAt(i+1)===n.charAt(i)&&r.charAt(u-1)!==n.charAt(i))&&(h=uN(e,t,r,n,u+1,i+2,o),h*Qw>f&&(f=h*Qw)),f>d&&(d=f),u=r.indexOf(c,u+1);return o[l]=d,d}function RA(e){return e.toLowerCase().replace(iz," ")}function qre(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,uN(e,t,RA(e),RA(t),0,0,{})}var Nh='[cmdk-group=""]',Xw='[cmdk-group-items=""]',Ure='[cmdk-group-heading=""]',oz='[cmdk-item=""]',IA=`${oz}:not([aria-disabled="true"])`,dN="cmdk-item-select",Iu="data-value",Vre=(e,t,r)=>qre(e,t,r),lz=g.createContext(void 0),Zp=()=>g.useContext(lz),cz=g.createContext(void 0),Wk=()=>g.useContext(cz),uz=g.createContext(void 0),dz=g.forwardRef((e,t)=>{let r=Du(()=>{var F,J;return{search:"",value:(J=(F=e.value)!=null?F:e.defaultValue)!=null?J:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=Du(()=>new Set),a=Du(()=>new Map),i=Du(()=>new Map),o=Du(()=>new Set),l=fz(e),{label:c,children:u,value:d,onValueChange:f,filter:h,shouldFilter:m,loop:v,disablePointerSelection:p=!1,vimBindings:b=!0,...x}=e,y=Xr(),w=Xr(),j=Xr(),N=g.useRef(null),_=tne();$c(()=>{if(d!==void 0){let F=d.trim();r.current.value=F,k.emit()}},[d]),$c(()=>{_(6,M)},[]);let k=g.useMemo(()=>({subscribe:F=>(o.current.add(F),()=>o.current.delete(F)),snapshot:()=>r.current,setState:(F,J,H)=>{var I,oe,V,de;if(!Object.is(r.current[F],J)){if(r.current[F]=J,F==="search")S(),T(),_(1,P);else if(F==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let te=document.getElementById(j);te?te.focus():(I=document.getElementById(y))==null||I.focus()}if(_(7,()=>{var te;r.current.selectedItemId=(te=$())==null?void 0:te.id,k.emit()}),H||_(5,M),((oe=l.current)==null?void 0:oe.value)!==void 0){let te=J??"";(de=(V=l.current).onValueChange)==null||de.call(V,te);return}}k.emit()}},emit:()=>{o.current.forEach(F=>F())}}),[]),C=g.useMemo(()=>({value:(F,J,H)=>{var I;J!==((I=i.current.get(F))==null?void 0:I.value)&&(i.current.set(F,{value:J,keywords:H}),r.current.filtered.items.set(F,O(J,H)),_(2,()=>{T(),k.emit()}))},item:(F,J)=>(n.current.add(F),J&&(a.current.has(J)?a.current.get(J).add(F):a.current.set(J,new Set([F]))),_(3,()=>{S(),T(),r.current.value||P(),k.emit()}),()=>{i.current.delete(F),n.current.delete(F),r.current.filtered.items.delete(F);let H=$();_(4,()=>{S(),(H==null?void 0:H.getAttribute("id"))===F&&P(),k.emit()})}),group:F=>(a.current.has(F)||a.current.set(F,new Set),()=>{i.current.delete(F),a.current.delete(F)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:y,inputId:j,labelId:w,listInnerRef:N}),[]);function O(F,J){var H,I;let oe=(I=(H=l.current)==null?void 0:H.filter)!=null?I:Vre;return F?oe(F,r.current.search,J):0}function T(){if(!r.current.search||l.current.shouldFilter===!1)return;let F=r.current.filtered.items,J=[];r.current.filtered.groups.forEach(I=>{let oe=a.current.get(I),V=0;oe.forEach(de=>{let te=F.get(de);V=Math.max(te,V)}),J.push([I,V])});let H=N.current;q().sort((I,oe)=>{var V,de;let te=I.getAttribute("id"),ce=oe.getAttribute("id");return((V=F.get(ce))!=null?V:0)-((de=F.get(te))!=null?de:0)}).forEach(I=>{let oe=I.closest(Xw);oe?oe.appendChild(I.parentElement===oe?I:I.closest(`${Xw} > *`)):H.appendChild(I.parentElement===H?I:I.closest(`${Xw} > *`))}),J.sort((I,oe)=>oe[1]-I[1]).forEach(I=>{var oe;let V=(oe=N.current)==null?void 0:oe.querySelector(`${Nh}[${Iu}="${encodeURIComponent(I[0])}"]`);V==null||V.parentElement.appendChild(V)})}function P(){let F=q().find(H=>H.getAttribute("aria-disabled")!=="true"),J=F==null?void 0:F.getAttribute(Iu);k.setState("value",J||void 0)}function S(){var F,J,H,I;if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let oe=0;for(let V of n.current){let de=(J=(F=i.current.get(V))==null?void 0:F.value)!=null?J:"",te=(I=(H=i.current.get(V))==null?void 0:H.keywords)!=null?I:[],ce=O(de,te);r.current.filtered.items.set(V,ce),ce>0&&oe++}for(let[V,de]of a.current)for(let te of de)if(r.current.filtered.items.get(te)>0){r.current.filtered.groups.add(V);break}r.current.filtered.count=oe}function M(){var F,J,H;let I=$();I&&(((F=I.parentElement)==null?void 0:F.firstChild)===I&&((H=(J=I.closest(Nh))==null?void 0:J.querySelector(Ure))==null||H.scrollIntoView({block:"nearest"})),I.scrollIntoView({block:"nearest"}))}function $(){var F;return(F=N.current)==null?void 0:F.querySelector(`${oz}[aria-selected="true"]`)}function q(){var F;return Array.from(((F=N.current)==null?void 0:F.querySelectorAll(IA))||[])}function U(F){let J=q()[F];J&&k.setState("value",J.getAttribute(Iu))}function L(F){var J;let H=$(),I=q(),oe=I.findIndex(de=>de===H),V=I[oe+F];(J=l.current)!=null&&J.loop&&(V=oe+F<0?I[I.length-1]:oe+F===I.length?I[0]:I[oe+F]),V&&k.setState("value",V.getAttribute(Iu))}function z(F){let J=$(),H=J==null?void 0:J.closest(Nh),I;for(;H&&!I;)H=F>0?Jre(H,Nh):ene(H,Nh),I=H==null?void 0:H.querySelector(IA);I?k.setState("value",I.getAttribute(Iu)):L(F)}let R=()=>U(q().length-1),G=F=>{F.preventDefault(),F.metaKey?R():F.altKey?z(1):L(1)},D=F=>{F.preventDefault(),F.metaKey?U(0):F.altKey?z(-1):L(-1)};return g.createElement(Ae.div,{ref:t,tabIndex:-1,...x,"cmdk-root":"",onKeyDown:F=>{var J;(J=x.onKeyDown)==null||J.call(x,F);let H=F.nativeEvent.isComposing||F.keyCode===229;if(!(F.defaultPrevented||H))switch(F.key){case"n":case"j":{b&&F.ctrlKey&&G(F);break}case"ArrowDown":{G(F);break}case"p":case"k":{b&&F.ctrlKey&&D(F);break}case"ArrowUp":{D(F);break}case"Home":{F.preventDefault(),U(0);break}case"End":{F.preventDefault(),R();break}case"Enter":{F.preventDefault();let I=$();if(I){let oe=new Event(dN);I.dispatchEvent(oe)}}}}},g.createElement("label",{"cmdk-label":"",htmlFor:C.inputId,id:C.labelId,style:nne},c),Db(e,F=>g.createElement(cz.Provider,{value:k},g.createElement(lz.Provider,{value:C},F))))}),Wre=g.forwardRef((e,t)=>{var r,n;let a=Xr(),i=g.useRef(null),o=g.useContext(uz),l=Zp(),c=fz(e),u=(n=(r=c.current)==null?void 0:r.forceMount)!=null?n:o==null?void 0:o.forceMount;$c(()=>{if(!u)return l.item(a,o==null?void 0:o.id)},[u]);let d=hz(a,i,[e.value,e.children,i],e.keywords),f=Wk(),h=hl(_=>_.value&&_.value===d.current),m=hl(_=>u||l.filter()===!1?!0:_.search?_.filtered.items.get(a)>0:!0);g.useEffect(()=>{let _=i.current;if(!(!_||e.disabled))return _.addEventListener(dN,v),()=>_.removeEventListener(dN,v)},[m,e.onSelect,e.disabled]);function v(){var _,k;p(),(k=(_=c.current).onSelect)==null||k.call(_,d.current)}function p(){f.setState("value",d.current,!0)}if(!m)return null;let{disabled:b,value:x,onSelect:y,forceMount:w,keywords:j,...N}=e;return g.createElement(Ae.div,{ref:Gi(i,t),...N,id:a,"cmdk-item":"",role:"option","aria-disabled":!!b,"aria-selected":!!h,"data-disabled":!!b,"data-selected":!!h,onPointerMove:b||l.getDisablePointerSelection()?void 0:p,onClick:b?void 0:v},e.children)}),Kre=g.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:a,...i}=e,o=Xr(),l=g.useRef(null),c=g.useRef(null),u=Xr(),d=Zp(),f=hl(m=>a||d.filter()===!1?!0:m.search?m.filtered.groups.has(o):!0);$c(()=>d.group(o),[]),hz(o,l,[e.value,e.heading,c]);let h=g.useMemo(()=>({id:o,forceMount:a}),[a]);return g.createElement(Ae.div,{ref:Gi(l,t),...i,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},r&&g.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),Db(e,m=>g.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},g.createElement(uz.Provider,{value:h},m))))}),Hre=g.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,a=g.useRef(null),i=hl(o=>!o.search);return!r&&!i?null:g.createElement(Ae.div,{ref:Gi(a,t),...n,"cmdk-separator":"",role:"separator"})}),Gre=g.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,a=e.value!=null,i=Wk(),o=hl(u=>u.search),l=hl(u=>u.selectedItemId),c=Zp();return g.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),g.createElement(Ae.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:a?e.value:o,onChange:u=>{a||i.setState("search",u.target.value),r==null||r(u.target.value)}})}),Yre=g.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...a}=e,i=g.useRef(null),o=g.useRef(null),l=hl(u=>u.selectedItemId),c=Zp();return g.useEffect(()=>{if(o.current&&i.current){let u=o.current,d=i.current,f,h=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let m=u.offsetHeight;d.style.setProperty("--cmdk-list-height",m.toFixed(1)+"px")})});return h.observe(u),()=>{cancelAnimationFrame(f),h.unobserve(u)}}},[]),g.createElement(Ae.div,{ref:Gi(i,t),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":n,id:c.listId},Db(e,u=>g.createElement("div",{ref:Gi(o,c.listInnerRef),"cmdk-list-sizer":""},u)))}),Qre=g.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:a,contentClassName:i,container:o,...l}=e;return g.createElement(vk,{open:r,onOpenChange:n},g.createElement(yk,{container:o},g.createElement(Fp,{"cmdk-overlay":"",className:a}),g.createElement(Bp,{"aria-label":e.label,"cmdk-dialog":"",className:i},g.createElement(dz,{ref:t,...l}))))}),Zre=g.forwardRef((e,t)=>hl(r=>r.filtered.count===0)?g.createElement(Ae.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),Xre=g.forwardRef((e,t)=>{let{progress:r,children:n,label:a="Loading...",...i}=e;return g.createElement(Ae.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},Db(e,o=>g.createElement("div",{"aria-hidden":!0},o)))}),ea=Object.assign(dz,{List:Yre,Item:Wre,Input:Gre,Group:Kre,Separator:Hre,Dialog:Qre,Empty:Zre,Loading:Xre});function Jre(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function ene(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function fz(e){let t=g.useRef(e);return $c(()=>{t.current=e}),t}var $c=typeof window>"u"?g.useEffect:g.useLayoutEffect;function Du(e){let t=g.useRef();return t.current===void 0&&(t.current=e()),t}function hl(e){let t=Wk(),r=()=>e(t.snapshot());return g.useSyncExternalStore(t.subscribe,r,r)}function hz(e,t,r,n=[]){let a=g.useRef(),i=Zp();return $c(()=>{var o;let l=(()=>{var u;for(let d of r){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(u=d.current.textContent)==null?void 0:u.trim():a.current}})(),c=n.map(u=>u.trim());i.value(e,l,c),(o=t.current)==null||o.setAttribute(Iu,l),a.current=l}),a}var tne=()=>{let[e,t]=g.useState(),r=Du(()=>new Map);return $c(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,a)=>{r.current.set(n,a),t({})}};function rne(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function Db({asChild:e,children:t},r){return e&&g.isValidElement(t)?g.cloneElement(rne(t),{ref:t.ref},r(t.props.children)):r(t)}var nne={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Xt=vk,mz=LH,ane=yk,pz=g.forwardRef(({className:e,...t},r)=>s.jsx(Fp,{ref:r,className:ve("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));pz.displayName=Fp.displayName;const Ut=g.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(ane,{children:[s.jsx(pz,{}),s.jsxs(Bp,{ref:n,className:ve("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(FI,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[s.jsx(Ab,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ut.displayName=Bp.displayName;const Jt=({className:e,...t})=>s.jsx("div",{className:ve("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Jt.displayName="DialogHeader";const gn=({className:e,...t})=>s.jsx("div",{className:ve("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});gn.displayName="DialogFooter";const er=g.forwardRef(({className:e,...t},r)=>s.jsx(pb,{ref:r,className:ve("text-lg font-semibold leading-none tracking-tight",e),...t}));er.displayName=pb.displayName;const or=g.forwardRef(({className:e,...t},r)=>s.jsx(gb,{ref:r,className:ve("text-sm text-muted-foreground",e),...t}));or.displayName=gb.displayName;const gz=g.forwardRef(({className:e,...t},r)=>s.jsx(ea,{ref:r,className:ve("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));gz.displayName=ea.displayName;const vz=g.forwardRef(({className:e,...t},r)=>s.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[s.jsx(Ba,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),s.jsx(ea.Input,{ref:r,className:ve("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));vz.displayName=ea.Input.displayName;const yz=g.forwardRef(({className:e,...t},r)=>s.jsx(ea.List,{ref:r,className:ve("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));yz.displayName=ea.List.displayName;const xz=g.forwardRef((e,t)=>s.jsx(ea.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));xz.displayName=ea.Empty.displayName;const fN=g.forwardRef(({className:e,...t},r)=>s.jsx(ea.Group,{ref:r,className:ve("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));fN.displayName=ea.Group.displayName;const bz=g.forwardRef(({className:e,...t},r)=>s.jsx(ea.Separator,{ref:r,className:ve("-mx-1 h-px bg-border",e),...t}));bz.displayName=ea.Separator.displayName;const hN=g.forwardRef(({className:e,...t},r)=>s.jsx(ea.Item,{ref:r,className:ve("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));hN.displayName=ea.Item.displayName;var zb="Popover",[wz]=xn(zb,[bl]),Xp=bl(),[sne,_l]=wz(zb),jz=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=Xp(t),c=g.useRef(null),[u,d]=g.useState(!1),[f,h]=Ga({prop:n,defaultProp:a??!1,onChange:i,caller:zb});return s.jsx(lb,{...l,children:s.jsx(sne,{scope:t,contentId:Xr(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:g.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:u,onCustomAnchorAdd:g.useCallback(()=>d(!0),[]),onCustomAnchorRemove:g.useCallback(()=>d(!1),[]),modal:o,children:r})})};jz.displayName=zb;var Nz="PopoverAnchor",ine=g.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=_l(Nz,r),i=Xp(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return g.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(Dp,{...i,...n,ref:t})});ine.displayName=Nz;var _z="PopoverTrigger",kz=g.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=_l(_z,r),i=Xp(r),o=Ye(t,a.triggerRef),l=s.jsx(Ae.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Az(a.open),...n,ref:o,onClick:be(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(Dp,{asChild:!0,...i,children:l})});kz.displayName=_z;var Kk="PopoverPortal",[one,lne]=wz(Kk,{forceMount:void 0}),Sz=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=_l(Kk,t);return s.jsx(one,{scope:t,forceMount:r,children:s.jsx(Jr,{present:r||i.open,children:s.jsx(jf,{asChild:!0,container:a,children:n})})})};Sz.displayName=Kk;var Md="PopoverContent",Cz=g.forwardRef((e,t)=>{const r=lne(Md,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=_l(Md,e.__scopePopover);return s.jsx(Jr,{present:n||i.open,children:i.modal?s.jsx(une,{...a,ref:t}):s.jsx(dne,{...a,ref:t})})});Cz.displayName=Md;var cne=il("PopoverContent.RemoveScroll"),une=g.forwardRef((e,t)=>{const r=_l(Md,e.__scopePopover),n=g.useRef(null),a=Ye(t,n),i=g.useRef(!1);return g.useEffect(()=>{const o=n.current;if(o)return hb(o)},[]),s.jsx(Lp,{as:cne,allowPinchZoom:!0,children:s.jsx(Ez,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:be(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:be(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:be(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),dne=g.forwardRef((e,t)=>{const r=_l(Md,e.__scopePopover),n=g.useRef(!1),a=g.useRef(!1);return s.jsx(Ez,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var o,l;(o=e.onInteractOutside)==null||o.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=i.target;(l=r.triggerRef.current)!=null&&l.contains(c)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),Ez=g.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=_l(Md,r),m=Xp(r);return db(),s.jsx(zp,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Hc,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:s.jsx(cb,{"data-state":Az(h.open),role:"dialog",id:h.contentId,...m,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Oz="PopoverClose",fne=g.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=_l(Oz,r);return s.jsx(Ae.button,{type:"button",...n,ref:t,onClick:be(e.onClick,()=>a.onOpenChange(!1))})});fne.displayName=Oz;var hne="PopoverArrow",mne=g.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Xp(r);return s.jsx(ub,{...a,...n,ref:t})});mne.displayName=hne;function Az(e){return e?"open":"closed"}var pne=jz,gne=kz,vne=Sz,Pz=Cz;const yne=pne,xne=gne,Tz=g.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>s.jsx(vne,{children:s.jsx(Pz,{ref:a,align:t,sideOffset:r,className:ve("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Tz.displayName=Pz.displayName;const $z=g.createContext(void 0);function bne({children:e}){const[t,r]=g.useState(null),[n,a]=g.useState([]),[i,o]=g.useState(!0),l=async()=>{try{console.log("🔍 fetchOrganizations: Iniciando busca...");const{data:{user:d}}=await le.auth.getUser();if(!d){console.warn("⚠️ fetchOrganizations: Nenhum usuário logado"),a([]),r(null),o(!1);return}console.log("✅ fetchOrganizations: Usuário encontrado:",d.email);const{data:f,error:h}=await le.from("members").select(`
          role,
          orgs (
            id,
            name,
            slug,
            plan
          )
        `).eq("user_id",d.id);if(console.log("📊 fetchOrganizations: Memberships retornadas:",f),console.log("❌ fetchOrganizations: Erro?",h),h)throw h;const m=(f||[]).filter(v=>v.orgs).map(v=>({id:v.orgs.id,name:v.orgs.name,slug:v.orgs.slug,plan:v.orgs.plan,role:v.role}));if(console.log("🏢 fetchOrganizations: Organizações processadas:",m),a(m),!t&&m.length>0){const v=localStorage.getItem("currentOrgId"),p=m.find(b=>b.id===v)||m[0];r(p),localStorage.setItem("currentOrgId",p.id)}if(t&&!m.find(v=>v.id===t.id)){const v=m[0]||null;r(v),v?localStorage.setItem("currentOrgId",v.id):localStorage.removeItem("currentOrgId")}}catch(d){console.error("Erro ao buscar organizações:",d),ae.error("Erro ao carregar organizações")}finally{o(!1)}},c=d=>{const f=n.find(h=>h.id===d);f&&(r(f),localStorage.setItem("currentOrgId",d),ae.success(`Organização alterada para: ${f.name}`),window.location.reload())},u=async()=>{o(!0),await l()};return g.useEffect(()=>{l();const{data:{subscription:d}}=le.auth.onAuthStateChange(f=>{f==="SIGNED_IN"?l():f==="SIGNED_OUT"&&(a([]),r(null),localStorage.removeItem("currentOrgId"))});return()=>{d.unsubscribe()}},[]),s.jsx($z.Provider,{value:{currentOrg:t,organizations:n,isLoading:i,switchOrganization:c,refreshOrganizations:u},children:e})}function bn(){const e=g.useContext($z);if(e===void 0)throw new Error("useOrganization must be used within an OrganizationProvider");return e}const wne=Zc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function De({className:e,variant:t,...r}){return s.jsx("div",{className:ve(wne({variant:t}),e),...r})}function jne(){const[e,t]=g.useState(!1),{currentOrg:r,organizations:n,isLoading:a,switchOrganization:i}=bn();if(a)return s.jsxs("div",{className:"flex items-center gap-2 px-2 py-1.5 text-sm",children:[s.jsx(nr,{className:"h-4 w-4 animate-pulse"}),s.jsx("span",{className:"text-muted-foreground",children:"Carregando..."})]});if(!r)return null;const o=c=>{switch(c){case"admin":return"default";case"member":return"secondary";case"viewer":return"outline";default:return"secondary"}},l=c=>{switch(c){case"admin":return"Admin";case"member":return"Membro";case"viewer":return"Visualizador";default:return c}};return s.jsxs(yne,{open:e,onOpenChange:t,children:[s.jsx(xne,{asChild:!0,children:s.jsxs(X,{variant:"outline",role:"combobox","aria-expanded":e,className:"w-full justify-between h-auto min-h-[40px] px-3 py-2",children:[s.jsxs("div",{className:"flex items-center gap-2 overflow-hidden min-w-0 flex-1",children:[s.jsx(nr,{className:"h-4 w-4 shrink-0"}),s.jsx("span",{className:"truncate text-left",children:r.name})]}),s.jsx(yX,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),s.jsx(Tz,{className:"w-[280px] p-0",children:s.jsxs(gz,{children:[s.jsx(vz,{placeholder:"Buscar organização..."}),s.jsxs(yz,{children:[s.jsx(xz,{children:"Nenhuma organização encontrada."}),s.jsx(fN,{heading:"Organizações",children:n.map(c=>s.jsxs(hN,{value:c.name,onSelect:()=>{c.id!==r.id&&i(c.id),t(!1)},className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Zi,{className:ve("h-4 w-4",r.id===c.id?"opacity-100":"opacity-0")}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{children:c.name}),c.plan&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:["Plano: ",c.plan]})]})]}),s.jsx(De,{variant:o(c.role),className:"text-xs",children:l(c.role)})]},c.id))}),s.jsx(bz,{}),s.jsx(fN,{children:s.jsxs(hN,{onSelect:()=>{t(!1),window.location.href="/settings?tab=organizations"},className:"flex items-center gap-2",children:[s.jsx(wr,{className:"h-4 w-4"}),s.jsx("span",{children:"Criar Organização"})]})})]})]})})]})}const Nne={admin:{canManageAttendants:!0,canCreateAttendants:!0,canEditAttendants:!0,canDeleteAttendants:!0,canViewAttendantMetrics:!0,canManageCampaigns:!0,canCreateCampaigns:!0,canEditCampaigns:!0,canDeleteCampaigns:!0,canViewCampaignAnalytics:!0,canManageCRM:!0,canCreateProspects:!0,canEditProspects:!0,canDeleteProspects:!0,canViewCRMAnalytics:!0,canManageContacts:!0,canCreateContacts:!0,canEditContacts:!0,canDeleteContacts:!0,canManageIntegrations:!0,canConnectChannels:!0,canConfigureWebhooks:!0,canManageSettings:!0,canManageUsers:!0,canManageBilling:!0,canViewReports:!0,canExportData:!0,canViewAdvancedAnalytics:!0,canAccessInbox:!0,canManageConversations:!0,canAssignConversations:!0,canManageAIAgents:!0,canCreateAIAgents:!0,canConfigureAIAgents:!0},manager:{canManageAttendants:!0,canCreateAttendants:!0,canEditAttendants:!0,canDeleteAttendants:!1,canViewAttendantMetrics:!0,canManageCampaigns:!0,canCreateCampaigns:!0,canEditCampaigns:!0,canDeleteCampaigns:!0,canViewCampaignAnalytics:!0,canManageCRM:!0,canCreateProspects:!0,canEditProspects:!0,canDeleteProspects:!0,canViewCRMAnalytics:!0,canManageContacts:!0,canCreateContacts:!0,canEditContacts:!0,canDeleteContacts:!0,canManageIntegrations:!0,canConnectChannels:!0,canConfigureWebhooks:!1,canManageSettings:!1,canManageUsers:!1,canManageBilling:!1,canViewReports:!0,canExportData:!0,canViewAdvancedAnalytics:!0,canAccessInbox:!0,canManageConversations:!0,canAssignConversations:!0,canManageAIAgents:!0,canCreateAIAgents:!0,canConfigureAIAgents:!0},agent:{canManageAttendants:!1,canCreateAttendants:!1,canEditAttendants:!1,canDeleteAttendants:!1,canViewAttendantMetrics:!1,canManageCampaigns:!1,canCreateCampaigns:!1,canEditCampaigns:!1,canDeleteCampaigns:!1,canViewCampaignAnalytics:!1,canManageCRM:!1,canCreateProspects:!0,canEditProspects:!0,canDeleteProspects:!1,canViewCRMAnalytics:!1,canManageContacts:!1,canCreateContacts:!0,canEditContacts:!0,canDeleteContacts:!1,canManageIntegrations:!1,canConnectChannels:!1,canConfigureWebhooks:!1,canManageSettings:!1,canManageUsers:!1,canManageBilling:!1,canViewReports:!0,canExportData:!1,canViewAdvancedAnalytics:!1,canAccessInbox:!0,canManageConversations:!0,canAssignConversations:!1,canManageAIAgents:!1,canCreateAIAgents:!1,canConfigureAIAgents:!1},viewer:{canManageAttendants:!1,canCreateAttendants:!1,canEditAttendants:!1,canDeleteAttendants:!1,canViewAttendantMetrics:!0,canManageCampaigns:!1,canCreateCampaigns:!1,canEditCampaigns:!1,canDeleteCampaigns:!1,canViewCampaignAnalytics:!0,canManageCRM:!1,canCreateProspects:!1,canEditProspects:!1,canDeleteProspects:!1,canViewCRMAnalytics:!0,canManageContacts:!1,canCreateContacts:!1,canEditContacts:!1,canDeleteContacts:!1,canManageIntegrations:!1,canConnectChannels:!1,canConfigureWebhooks:!1,canManageSettings:!1,canManageUsers:!1,canManageBilling:!1,canViewReports:!0,canExportData:!1,canViewAdvancedAnalytics:!0,canAccessInbox:!0,canManageConversations:!1,canAssignConversations:!1,canManageAIAgents:!1,canCreateAIAgents:!1,canConfigureAIAgents:!1}};function kl(){const{currentOrg:e}=bn(),t=(e==null?void 0:e.role)||"viewer",r=Nne[t];return{userRole:t,permissions:r,isAdmin:t==="admin",isManager:t==="manager",isAgent:t==="agent",isViewer:t==="viewer",canAccess:n=>r[n],canAccessAny:(...n)=>n.some(a=>n[a]),canAccessAll:(...n)=>n.every(a=>n[a])}}const ie=g.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ve("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ie.displayName="Card";const me=g.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ve("flex flex-col space-y-1.5 p-6",e),...t}));me.displayName="CardHeader";const pe=g.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:ve("text-2xl font-semibold leading-none tracking-tight",e),...t}));pe.displayName="CardTitle";const Ie=g.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:ve("text-sm text-muted-foreground",e),...t}));Ie.displayName="CardDescription";const ue=g.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ve("p-6 pt-0",e),...t}));ue.displayName="CardContent";const _ne=g.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ve("flex items-center p-6 pt-0",e),...t}));_ne.displayName="CardFooter";function Mz({children:e,permission:t,fallback:r,showFallback:n=!0,requireAny:a,requireAll:i}){const{userRole:o,canAccess:l,canAccessAny:c,canAccessAll:u}=kl();return t&&!l(t)?n?r||s.jsx(Jw,{userRole:o,permission:t}):null:a&&a.length>0&&!c(...a)?n?r||s.jsx(Jw,{userRole:o,permission:a[0],multiple:!0}):null:i&&i.length>0&&!u(...i)?n?r||s.jsx(Jw,{userRole:o,permission:i[0],multiple:!0}):null:s.jsx(s.Fragment,{children:e})}function Jw({userRole:e,permission:t,multiple:r=!1}){const n=i=>{switch(i){case"admin":return"Administrador";case"manager":return"Gerente";case"agent":return"Atendente";case"viewer":return"Visualizador";default:return i}},a=i=>({canManageAttendants:"Gestão de Atendentes",canCreateAttendants:"Criar Atendentes",canEditAttendants:"Editar Atendentes",canDeleteAttendants:"Excluir Atendentes",canViewAttendantMetrics:"Visualizar Métricas de Atendentes",canManageCampaigns:"Gestão de Campanhas",canCreateCampaigns:"Criar Campanhas",canEditCampaigns:"Editar Campanhas",canDeleteCampaigns:"Excluir Campanhas",canViewCampaignAnalytics:"Analytics de Campanhas",canManageCRM:"Gestão de CRM",canCreateProspects:"Criar Prospects",canEditProspects:"Editar Prospects",canDeleteProspects:"Excluir Prospects",canViewCRMAnalytics:"Analytics de CRM",canManageContacts:"Gestão de Contatos",canCreateContacts:"Criar Contatos",canEditContacts:"Editar Contatos",canDeleteContacts:"Excluir Contatos",canManageIntegrations:"Gestão de Integrações",canConnectChannels:"Conectar Canais",canConfigureWebhooks:"Configurar Webhooks",canManageSettings:"Gestão de Configurações",canManageUsers:"Gestão de Usuários",canManageBilling:"Gestão de Faturamento",canViewReports:"Visualizar Relatórios",canExportData:"Exportar Dados",canViewAdvancedAnalytics:"Analytics Avançados",canAccessInbox:"Acesso ao Inbox",canManageConversations:"Gestão de Conversas",canAssignConversations:"Atribuir Conversas",canManageAIAgents:"Gestão de Agentes IA",canCreateAIAgents:"Criar Agentes IA",canConfigureAIAgents:"Configurar Agentes IA"})[i]||i;return s.jsxs(ie,{className:"border-orange-200 bg-orange-50",children:[s.jsxs(me,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"p-3 bg-orange-100 rounded-full",children:s.jsx(ni,{className:"h-8 w-8 text-orange-600"})})}),s.jsx(pe,{className:"text-orange-800",children:"Acesso Restrito"}),s.jsx(Ie,{className:"text-orange-700",children:"Você não tem permissão para acessar esta funcionalidade"})]}),s.jsxs(ue,{className:"text-center space-y-4",children:[s.jsxs("div",{className:"bg-white p-4 rounded-lg border border-orange-200",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-gray-600 mb-2",children:[s.jsx(r6,{className:"h-4 w-4"}),s.jsx("span",{children:"Funcionalidade:"})]}),s.jsx("p",{className:"font-medium text-gray-800",children:a(t)})]}),s.jsxs("div",{className:"bg-white p-4 rounded-lg border border-orange-200",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-gray-600 mb-2",children:[s.jsx(vy,{className:"h-4 w-4"}),s.jsx("span",{children:"Seu nível de acesso:"})]}),s.jsx("p",{className:"font-medium text-gray-800",children:n(e)})]}),s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsx("p",{children:"Para acessar esta funcionalidade, entre em contato com um administrador para:"}),s.jsxs("ul",{className:"mt-2 space-y-1 text-left",children:[s.jsx("li",{children:"• Elevar seu nível de acesso"}),s.jsx("li",{children:"• Conceder permissões específicas"}),s.jsx("li",{children:"• Obter orientações sobre o uso"})]})]}),s.jsx(X,{variant:"outline",onClick:()=>window.history.back(),className:"border-orange-300 text-orange-700 hover:bg-orange-100",children:"Voltar"})]})]})}function kne({children:e,permission:t,requireAny:r,requireAll:n}){const{canAccess:a,canAccessAny:i,canAccessAll:o}=kl();return t&&!a(t)||r&&r.length>0&&!i(...r)||n&&n.length>0&&!o(...n)?null:s.jsx(s.Fragment,{children:e})}function Sne(){const{userRole:e}=kl(),t={admin:{label:"Administrador",variant:"default",icon:Ec,className:"bg-red-500 hover:bg-red-600 text-white"},manager:{label:"Gerente",variant:"default",icon:ni,className:"bg-blue-500 hover:bg-blue-600 text-white"},agent:{label:"Atendente",variant:"secondary",icon:Bi,className:"bg-green-500 hover:bg-green-600 text-white"},viewer:{label:"Visualizador",variant:"outline",icon:ul,className:"border-gray-300 text-gray-600"}}[e],r=t.icon;return s.jsxs(De,{variant:t.variant,className:`${t.className} flex items-center gap-1`,children:[s.jsx(r,{className:"h-3 w-3"}),t.label]})}const Cne=[{title:"Dashboard",url:"/",icon:_X,permission:"canViewReports"},{title:"Inbox",url:"/inbox",icon:At,permission:"canAccessInbox"},{title:"Contatos",url:"/contacts",icon:ir,permission:"canManageContacts"},{title:"Campanhas",url:"/campaigns",icon:EX,permission:"canManageCampaigns"},{title:"Prospecção",url:"/prospects",icon:Pd,permission:"canCreateProspects"},{title:"CRM",url:"/crm",icon:xt,permission:"canManageCRM"},{title:"Atendentes",url:"/attendants",icon:fl,permission:"canManageAttendants"},{title:"Agentes IA",url:"/agents",icon:mn,permission:"canManageAIAgents"},{title:"Integrações",url:"/integrations",icon:MX,permission:"canManageIntegrations"},{title:"Configurações",url:"/settings",icon:Br,permission:"canManageSettings"}];function Ene(){const{state:e}=Qp(),t=Yp(),{logout:r,isRemembered:n}=Vk(),a=async()=>{try{await r(),ae.success(n?"Logout realizado. Você permanecerá logado neste dispositivo.":"Logout realizado com sucesso."),t("/auth")}catch(i){ae.error("Erro ao sair: "+i.message)}};return s.jsxs(X6,{collapsible:"icon",children:[s.jsx(ez,{className:"border-b border-sidebar-border",children:s.jsx("div",{className:"p-4 space-y-4",children:e!=="collapsed"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-primary to-primary/60 bg-clip-text text-transparent",children:"Omnichat IA"}),s.jsx(oN,{className:"text-sidebar-foreground"})]}),s.jsxs("div",{className:"w-full space-y-3",children:[s.jsx(jne,{}),s.jsx("div",{className:"flex justify-center",children:s.jsx(Sne,{})})]})]}):s.jsx("div",{className:"flex items-center justify-center",children:s.jsx("div",{className:"h-8 w-8 rounded-lg bg-gradient-to-br from-primary to-primary-glow flex items-center justify-center",children:s.jsx(mn,{className:"h-5 w-5 text-white"})})})})}),s.jsx(rz,{children:s.jsxs(nz,{children:[s.jsx(az,{children:"Menu Principal"}),s.jsx(sz,{children:s.jsx(lN,{children:Cne.map(i=>s.jsx(kne,{permission:i.permission,children:s.jsx(Ov,{children:s.jsx(Av,{asChild:!0,tooltip:i.title,children:s.jsxs(Ete,{to:i.url,end:i.url==="/",children:[s.jsx(i.icon,{}),e!=="collapsed"&&s.jsx("span",{children:i.title})]})})})},i.title))})})]})}),s.jsx(tz,{className:"border-t border-sidebar-border",children:s.jsxs(lN,{children:[e==="collapsed"&&s.jsx(Ov,{children:s.jsx(Av,{asChild:!0,tooltip:"Expandir menu",children:s.jsx(oN,{className:"text-sidebar-foreground"})})}),s.jsx(Ov,{children:s.jsxs(Av,{onClick:a,tooltip:"Sair",children:[s.jsx(CX,{}),e!=="collapsed"&&s.jsx("span",{children:"Sair"})]})})]})})]})}function Ds({children:e}){return s.jsx(Z6,{children:s.jsxs("div",{className:"flex min-h-screen w-full",children:[s.jsx(Ene,{}),s.jsx(J6,{className:"flex-1",children:s.jsx("main",{className:"flex-1 overflow-auto bg-background",children:e})})]})})}function zs({children:e}){const{user:t,loading:r}=Vk();return r?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):t?s.jsx(s.Fragment,{children:e}):s.jsx(hte,{to:"/auth",replace:!0})}var Rz={exports:{}},Iz={};/**
* @license React
* use-sync-external-store-shim.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Rd=g;function One(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ane=typeof Object.is=="function"?Object.is:One,Pne=Rd.useState,Tne=Rd.useEffect,$ne=Rd.useLayoutEffect,Mne=Rd.useDebugValue;function Rne(e,t){var r=t(),n=Pne({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return $ne(function(){a.value=r,a.getSnapshot=t,ej(a)&&i({inst:a})},[e,r,t]),Tne(function(){return ej(a)&&i({inst:a}),e(function(){ej(a)&&i({inst:a})})},[e]),Mne(r),r}function ej(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ane(e,r)}catch{return!0}}function Ine(e,t){return t()}var Dne=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Ine:Rne;Iz.useSyncExternalStore=Rd.useSyncExternalStore!==void 0?Rd.useSyncExternalStore:Dne;Rz.exports=Iz;var zne=Rz.exports;function Lne(){return zne.useSyncExternalStore(Fne,()=>!0,()=>!1)}function Fne(){return()=>{}}var Hk="Avatar",[Bne]=xn(Hk),[qne,Dz]=Bne(Hk),zz=g.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,i]=g.useState("idle");return s.jsx(qne,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:s.jsx(Ae.span,{...n,ref:t})})});zz.displayName=Hk;var Lz="AvatarImage",Fz=g.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=e,o=Dz(Lz,r),l=Une(n,i),c=pr(u=>{a(u),o.onImageLoadingStatusChange(u)});return jr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(Ae.img,{...i,ref:t,src:n}):null});Fz.displayName=Lz;var Bz="AvatarFallback",qz=g.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,i=Dz(Bz,r),[o,l]=g.useState(n===void 0);return g.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?s.jsx(Ae.span,{...a,ref:t}):null});qz.displayName=Bz;function DA(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Une(e,{referrerPolicy:t,crossOrigin:r}){const n=Lne(),a=g.useRef(null),i=n?(a.current||(a.current=new window.Image),a.current):null,[o,l]=g.useState(()=>DA(i,e));return jr(()=>{l(DA(i,e))},[i,e]),jr(()=>{const c=f=>()=>{l(f)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,r,t]),o}var Uz=zz,Vz=Fz,Wz=qz;const bs=g.forwardRef(({className:e,...t},r)=>s.jsx(Uz,{ref:r,className:ve("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));bs.displayName=Uz.displayName;const ws=g.forwardRef(({className:e,...t},r)=>s.jsx(Vz,{ref:r,className:ve("aspect-square h-full w-full",e),...t}));ws.displayName=Vz.displayName;const js=g.forwardRef(({className:e,...t},r)=>s.jsx(Wz,{ref:r,className:ve("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));js.displayName=Wz.displayName;function Pt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function ci(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Vne(e,t){const r=Pt(e);return isNaN(t)?ci(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Wne(e,t){const r=+Pt(e);return ci(e,r+t)}const Kz=6048e5,Kne=864e5,Hne=36e5,Zg=43200,zA=1440;function Gne(e,t){return Wne(e,t*Hne)}let Yne={};function Jp(){return Yne}function qm(e,t){var r,n,a,i;const o=Jp(),l=(t==null?void 0:t.weekStartsOn)??((n=(r=t==null?void 0:t.locale)==null?void 0:r.options)==null?void 0:n.weekStartsOn)??o.weekStartsOn??((i=(a=o.locale)==null?void 0:a.options)==null?void 0:i.weekStartsOn)??0,c=Pt(e),u=c.getDay(),d=(u<l?7:0)+u-l;return c.setDate(c.getDate()-d),c.setHours(0,0,0,0),c}function jy(e){return qm(e,{weekStartsOn:1})}function Hz(e){const t=Pt(e),r=t.getFullYear(),n=ci(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=jy(n),i=ci(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=jy(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function mN(e){const t=Pt(e);return t.setHours(0,0,0,0),t}function Ny(e){const t=Pt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Qne(e,t){const r=mN(e),n=mN(t),a=+r-Ny(r),i=+n-Ny(n);return Math.round((a-i)/Kne)}function Zne(e){const t=Hz(e),r=ci(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),jy(r)}function Pv(e,t){const r=Pt(e),n=Pt(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function Xne(e){return ci(e,Date.now())}function Jne(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function eae(e){if(!Jne(e)&&typeof e!="number")return!1;const t=Pt(e);return!isNaN(Number(t))}function tae(e,t){const r=Pt(e),n=Pt(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function rae(e){return t=>{const r=(0,Math.trunc)(t);return r===0?0:r}}function nae(e,t){return+Pt(e)-+Pt(t)}function aae(e){const t=Pt(e);return t.setHours(23,59,59,999),t}function sae(e){const t=Pt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function iae(e){const t=Pt(e);return+aae(t)==+sae(t)}function oae(e,t){const r=Pt(e),n=Pt(t),a=Pv(r,n),i=Math.abs(tae(r,n));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);let l=Pv(r,n)===-a;iae(Pt(e))&&i===1&&Pv(e,n)===1&&(l=!1),o=a*(i-Number(l))}return o===0?0:o}function lae(e,t,r){const n=nae(e,t)/1e3;return rae()(n)}function cae(e){const t=Pt(e),r=ci(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const uae={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},dae=(e,t,r)=>{let n;const a=uae[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function md(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const fae={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},hae={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},mae={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},pae={date:md({formats:fae,defaultWidth:"full"}),time:md({formats:hae,defaultWidth:"full"}),dateTime:md({formats:mae,defaultWidth:"full"})},gae={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},vae=(e,t,r,n)=>gae[e];function Gs(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const yae={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},xae={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},bae={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},wae={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},jae={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Nae={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},_ae=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},kae={ordinalNumber:_ae,era:Gs({values:yae,defaultWidth:"wide"}),quarter:Gs({values:xae,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Gs({values:bae,defaultWidth:"wide"}),day:Gs({values:wae,defaultWidth:"wide"}),dayPeriod:Gs({values:jae,defaultWidth:"wide",formattingValues:Nae,defaultFormattingWidth:"wide"})};function Ys(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Cae(l,f=>f.test(o)):Sae(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function Sae(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Cae(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Gz(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const Eae=/^(\d+)(th|st|nd|rd)?/i,Oae=/\d+/i,Aae={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Pae={any:[/^b/i,/^(a|c)/i]},Tae={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},$ae={any:[/1/i,/2/i,/3/i,/4/i]},Mae={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Rae={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Iae={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Dae={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},zae={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Lae={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Fae={ordinalNumber:Gz({matchPattern:Eae,parsePattern:Oae,valueCallback:e=>parseInt(e,10)}),era:Ys({matchPatterns:Aae,defaultMatchWidth:"wide",parsePatterns:Pae,defaultParseWidth:"any"}),quarter:Ys({matchPatterns:Tae,defaultMatchWidth:"wide",parsePatterns:$ae,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ys({matchPatterns:Mae,defaultMatchWidth:"wide",parsePatterns:Rae,defaultParseWidth:"any"}),day:Ys({matchPatterns:Iae,defaultMatchWidth:"wide",parsePatterns:Dae,defaultParseWidth:"any"}),dayPeriod:Ys({matchPatterns:zae,defaultMatchWidth:"any",parsePatterns:Lae,defaultParseWidth:"any"})},Yz={code:"en-US",formatDistance:dae,formatLong:pae,formatRelative:vae,localize:kae,match:Fae,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Bae(e){const t=Pt(e);return Qne(t,cae(t))+1}function qae(e){const t=Pt(e),r=+jy(t)-+Zne(t);return Math.round(r/Kz)+1}function Qz(e,t){var r,n,a,i;const o=Pt(e),l=o.getFullYear(),c=Jp(),u=(t==null?void 0:t.firstWeekContainsDate)??((n=(r=t==null?void 0:t.locale)==null?void 0:r.options)==null?void 0:n.firstWeekContainsDate)??c.firstWeekContainsDate??((i=(a=c.locale)==null?void 0:a.options)==null?void 0:i.firstWeekContainsDate)??1,d=ci(e,0);d.setFullYear(l+1,0,u),d.setHours(0,0,0,0);const f=qm(d,t),h=ci(e,0);h.setFullYear(l,0,u),h.setHours(0,0,0,0);const m=qm(h,t);return o.getTime()>=f.getTime()?l+1:o.getTime()>=m.getTime()?l:l-1}function Uae(e,t){var r,n,a,i;const o=Jp(),l=(t==null?void 0:t.firstWeekContainsDate)??((n=(r=t==null?void 0:t.locale)==null?void 0:r.options)==null?void 0:n.firstWeekContainsDate)??o.firstWeekContainsDate??((i=(a=o.locale)==null?void 0:a.options)==null?void 0:i.firstWeekContainsDate)??1,c=Qz(e,t),u=ci(e,0);return u.setFullYear(c,0,l),u.setHours(0,0,0,0),qm(u,t)}function Vae(e,t){const r=Pt(e),n=+qm(r,t)-+Uae(r,t);return Math.round(n/Kz)+1}function Ot(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const xo={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Ot(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Ot(r+1,2)},d(e,t){return Ot(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Ot(e.getHours()%12||12,t.length)},H(e,t){return Ot(e.getHours(),t.length)},m(e,t){return Ot(e.getMinutes(),t.length)},s(e,t){return Ot(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Ot(a,t.length)}},Cu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},LA={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return xo.y(e,t)},Y:function(e,t,r,n){const a=Qz(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Ot(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Ot(i,t.length)},R:function(e,t){const r=Hz(e);return Ot(r,t.length)},u:function(e,t){const r=e.getFullYear();return Ot(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Ot(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Ot(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return xo.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Ot(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=Vae(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Ot(a,t.length)},I:function(e,t,r){const n=qae(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Ot(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):xo.d(e,t)},D:function(e,t,r){const n=Bae(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Ot(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Ot(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Ot(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Ot(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Cu.noon:n===0?a=Cu.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Cu.evening:n>=12?a=Cu.afternoon:n>=4?a=Cu.morning:a=Cu.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return xo.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):xo.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Ot(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Ot(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):xo.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):xo.s(e,t)},S:function(e,t){return xo.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return BA(n);case"XXXX":case"XX":return Zl(n);case"XXXXX":case"XXX":default:return Zl(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return BA(n);case"xxxx":case"xx":return Zl(n);case"xxxxx":case"xxx":default:return Zl(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+FA(n,":");case"OOOO":default:return"GMT"+Zl(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+FA(n,":");case"zzzz":default:return"GMT"+Zl(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Ot(n,t.length)},T:function(e,t,r){const n=e.getTime();return Ot(n,t.length)}};function FA(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+Ot(i,2)}function BA(e,t){return e%60===0?(e>0?"-":"+")+Ot(Math.abs(e)/60,2):Zl(e,t)}function Zl(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Ot(Math.trunc(n/60),2),i=Ot(n%60,2);return r+a+t+i}const qA=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Zz=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Wae=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return qA(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",qA(n,t)).replace("{{time}}",Zz(a,t))},Kae={p:Zz,P:Wae},Hae=/^D+$/,Gae=/^Y+$/,Yae=["D","DD","YY","YYYY"];function Qae(e){return Hae.test(e)}function Zae(e){return Gae.test(e)}function Xae(e,t,r){const n=Jae(e,t,r);if(console.warn(n),Yae.includes(e))throw new RangeError(n)}function Jae(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const ese=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,tse=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,rse=/^'([^]*?)'?$/,nse=/''/g,ase=/[a-zA-Z]/;function pa(e,t,r){var n,a,i,o,l,c,u,d;const f=Jp(),h=(r==null?void 0:r.locale)??f.locale??Yz,m=(r==null?void 0:r.firstWeekContainsDate)??((a=(n=r==null?void 0:r.locale)==null?void 0:n.options)==null?void 0:a.firstWeekContainsDate)??f.firstWeekContainsDate??((o=(i=f.locale)==null?void 0:i.options)==null?void 0:o.firstWeekContainsDate)??1,v=(r==null?void 0:r.weekStartsOn)??((c=(l=r==null?void 0:r.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??f.weekStartsOn??((d=(u=f.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,p=Pt(e);if(!eae(p))throw new RangeError("Invalid time value");let b=t.match(tse).map(y=>{const w=y[0];if(w==="p"||w==="P"){const j=Kae[w];return j(y,h.formatLong)}return y}).join("").match(ese).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const w=y[0];if(w==="'")return{isToken:!1,value:sse(y)};if(LA[w])return{isToken:!0,value:y};if(w.match(ase))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:y}});h.localize.preprocessor&&(b=h.localize.preprocessor(p,b));const x={firstWeekContainsDate:m,weekStartsOn:v,locale:h};return b.map(y=>{if(!y.isToken)return y.value;const w=y.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Zae(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Qae(w))&&Xae(w,t,String(e));const j=LA[w[0]];return j(p,w,h.localize,x)}).join("")}function sse(e){const t=e.match(rse);return t?t[1].replace(nse,"'"):e}function ise(e,t,r){const n=Jp(),a=(r==null?void 0:r.locale)??n.locale??Yz,i=2520,o=Pv(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=Pt(t),u=Pt(e)):(c=Pt(e),u=Pt(t));const d=lae(u,c),f=(Ny(u)-Ny(c))/1e3,h=Math.round((d-f)/60);let m;if(h<2)return r!=null&&r.includeSeconds?d<5?a.formatDistance("lessThanXSeconds",5,l):d<10?a.formatDistance("lessThanXSeconds",10,l):d<20?a.formatDistance("lessThanXSeconds",20,l):d<40?a.formatDistance("halfAMinute",0,l):d<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):h===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",h,l);if(h<45)return a.formatDistance("xMinutes",h,l);if(h<90)return a.formatDistance("aboutXHours",1,l);if(h<zA){const v=Math.round(h/60);return a.formatDistance("aboutXHours",v,l)}else{if(h<i)return a.formatDistance("xDays",1,l);if(h<Zg){const v=Math.round(h/zA);return a.formatDistance("xDays",v,l)}else if(h<Zg*2)return m=Math.round(h/Zg),a.formatDistance("aboutXMonths",m,l)}if(m=oae(u,c),m<12){const v=Math.round(h/Zg);return a.formatDistance("xMonths",v,l)}else{const v=m%12,p=Math.trunc(m/12);return v<3?a.formatDistance("aboutXYears",p,l):v<9?a.formatDistance("overXYears",p,l):a.formatDistance("almostXYears",p+1,l)}}function vc(e,t){return ise(e,Xne(e),t)}function Io(e,t){return Vne(e,-t)}function ose(e,t){return Gne(e,-1)}function lse(){var e;const{currentOrg:t}=bn(),[r,n]=g.useState(!0),{data:a,isLoading:i}=bt({queryKey:["agent-profile",t==null?void 0:t.id],queryFn:async()=>{if(!t)return null;const{data:{user:f}}=await le.auth.getUser();if(!f)return null;const{data:h}=await le.from("attendants").select("*").eq("user_id",f.id).eq("org_id",t.id).single();return h},enabled:!!(t!=null&&t.id)}),{data:o,isLoading:l}=bt({queryKey:["agent-conversations",t==null?void 0:t.id],queryFn:async()=>{if(!t||!a)return[];const{data:f}=await le.from("conversations").select(`
          *,
          contacts (
            full_name,
            phone_e164,
            email,
            avatar_url
          )
        `).eq("org_id",t.id).eq("assigned_to",a.id).eq("status","open").order("created_at",{ascending:!1});return f||[]},enabled:!!(t!=null&&t.id)&&!!(a!=null&&a.id)}),{data:c,isLoading:u}=bt({queryKey:["agent-metrics",t==null?void 0:t.id,a==null?void 0:a.id],queryFn:async()=>{if(!t||!a)return null;const f=Io(new Date,1),{data:h}=await le.from("conversations").select("id, status, created_at, assigned_to").eq("org_id",t.id).eq("assigned_to",a.id).gte("created_at",f.toISOString()),{data:m}=await le.from("messages").select("id, created_at, conversation_id").gte("created_at",f.toISOString()),v=(m==null?void 0:m.filter(x=>h==null?void 0:h.some(y=>y.id===x.conversation_id)))||[],p=(h==null?void 0:h.filter(x=>x.status==="resolved").length)||0,b=(h==null?void 0:h.length)||0;return{totalConversations:b,resolvedConversations:p,resolutionRate:b>0?p/b*100:0,totalMessages:v.length,avgResponseTime:a.avg_response_time||0,satisfactionScore:a.satisfaction_score||0}},enabled:!!(t!=null&&t.id)&&!!(a!=null&&a.id),refetchInterval:3e4}),d=async()=>{if(!a)return;const f=r?"away":"online";try{const{error:h}=await le.from("attendants").update({status:f}).eq("id",a.id);if(h)throw h;n(!r)}catch(h){console.error("Erro ao alterar status:",h)}};return i?s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Xn,{className:"h-4 w-4 animate-spin"}),s.jsx("span",{children:"Carregando seu painel..."})]})}):a?s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:s.jsx("div",{className:"flex h-16 items-center px-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Bi,{className:"h-5 w-5 text-muted-foreground"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Meu Painel"})]})})}),s.jsxs("div",{className:"flex-1 space-y-6 p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs(ie,{className:"md:col-span-2",children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(Bi,{className:"h-5 w-5"}),"Meu Perfil"]}),s.jsx(Ie,{children:"Suas informações e status atual"})]}),s.jsx(ue,{children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(bs,{className:"h-16 w-16",children:[s.jsx(ws,{src:a.avatar_url}),s.jsx(js,{children:a.full_name.split(" ").map(f=>f[0]).join("")})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold",children:a.full_name}),s.jsxs("p",{className:"text-muted-foreground",children:[a.department," • ",a.position]}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx(De,{variant:r?"default":"secondary",className:r?"bg-green-500":"",children:r?"Online":"Ausente"}),s.jsxs(X,{size:"sm",variant:"outline",onClick:d,className:"ml-2",children:[r?s.jsx(pX,{className:"h-4 w-4 mr-2"}):s.jsx(Od,{className:"h-4 w-4 mr-2"}),r?"Ficar Ausente":"Voltar Online"]})]})]})]})})]}),s.jsxs(ie,{children:[s.jsx(me,{children:s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(ri,{className:"h-5 w-5"}),"Status Atual"]})}),s.jsx(ue,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Conversas Ativas"}),s.jsx("span",{className:"font-semibold",children:(o==null?void 0:o.length)||0})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Máx. Simultâneas"}),s.jsx("span",{className:"font-semibold",children:a.max_concurrent_chats})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Auto Aceitar"}),s.jsx(De,{variant:a.auto_accept?"default":"secondary",children:a.auto_accept?"Sim":"Não"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Idiomas"}),s.jsx("span",{className:"font-semibold text-sm",children:((e=a.languages)==null?void 0:e.join(", "))||"PT"})]})]})})]})]}),s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(Kn,{className:"h-5 w-5"}),"Minhas Métricas (24h)"]}),s.jsx(Ie,{children:"Seu desempenho nas últimas 24 horas"})]}),s.jsx(ue,{children:u?s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx(Xn,{className:"h-4 w-4 animate-spin mr-2"}),s.jsx("span",{children:"Carregando métricas..."})]}):s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[s.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-blue-50 to-white rounded-lg border",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:(c==null?void 0:c.totalConversations)||0}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Conversas"})]}),s.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-green-50 to-white rounded-lg border",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:(c==null?void 0:c.resolvedConversations)||0}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Resolvidas"})]}),s.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-purple-50 to-white rounded-lg border",children:[s.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[(c==null?void 0:c.resolutionRate.toFixed(1))||0,"%"]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Taxa Resolução"})]}),s.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-orange-50 to-white rounded-lg border",children:[s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:(c==null?void 0:c.totalMessages)||0}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Mensagens"})]}),s.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-yellow-50 to-white rounded-lg border",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:(c==null?void 0:c.satisfactionScore.toFixed(1))||0}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Satisfação"})]})]})})]}),s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(At,{className:"h-5 w-5"}),"Minhas Conversas Ativas"]}),s.jsx(Ie,{children:"Conversas atribuídas a você"})]}),s.jsx(ue,{children:l?s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx(Xn,{className:"h-4 w-4 animate-spin mr-2"}),s.jsx("span",{children:"Carregando conversas..."})]}):o&&o.length>0?s.jsx("div",{className:"space-y-3",children:o.map(f=>{var h;return s.jsxs("div",{className:"flex items-center space-x-3 p-3 border rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsxs(bs,{className:"h-10 w-10",children:[s.jsx(ws,{src:f.contacts.avatar_url}),s.jsx(js,{children:((h=f.contacts.full_name)==null?void 0:h.split(" ").map(m=>m[0]).join(""))||"C"})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-medium truncate",children:f.contacts.full_name||"Contato sem nome"}),s.jsx("p",{className:"text-sm text-muted-foreground truncate",children:f.contacts.phone_e164||f.contacts.email})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(De,{variant:"outline",children:pa(new Date(f.created_at),"dd/MM HH:mm")}),s.jsxs(X,{size:"sm",variant:"outline",children:[s.jsx(At,{className:"h-4 w-4 mr-2"}),"Atender"]})]})]},f.id)})}):s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(At,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Nenhuma conversa atribuída no momento"}),s.jsx("p",{className:"text-sm mt-1",children:"Você será notificado quando novas conversas chegarem"})]})})]})]})]}):s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsxs(ie,{className:"w-full max-w-md",children:[s.jsxs(me,{className:"text-center",children:[s.jsx(cl,{className:"h-12 w-12 mx-auto text-orange-500 mb-4"}),s.jsx(pe,{children:"Perfil de Atendente Não Encontrado"}),s.jsx(Ie,{children:"Você não está configurado como atendente nesta organização."})]}),s.jsxs(ue,{className:"text-center",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Entre em contato com um administrador para configurar seu perfil de atendente."}),s.jsx(X,{variant:"outline",onClick:()=>window.history.back(),children:"Voltar"})]})]})})}function bo({children:e,permission:t,fallbackComponent:r}){const{userRole:n}=kl();return n==="agent"&&t==="canManageAttendants"?s.jsx(lse,{}):s.jsx(Mz,{permission:t,children:e})}const Na=JH,Jn=g.forwardRef(({className:e,...t},r)=>s.jsx(a3,{ref:r,className:ve("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Jn.displayName=a3.displayName;const et=g.forwardRef(({className:e,...t},r)=>s.jsx(s3,{ref:r,className:ve("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));et.displayName=s3.displayName;const dt=g.forwardRef(({className:e,...t},r)=>s.jsx(i3,{ref:r,className:ve("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));dt.displayName=i3.displayName;const cse={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 mês",other:"cerca de {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},use=(e,t,r)=>{let n;const a=cse[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"em "+n:"há "+n:n},dse={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},fse={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},hse={full:"{{date}} 'às' {{time}}",long:"{{date}} 'às' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},mse={date:md({formats:dse,defaultWidth:"full"}),time:md({formats:fse,defaultWidth:"full"}),dateTime:md({formats:hse,defaultWidth:"full"})},pse={lastWeek:e=>{const t=e.getDay();return"'"+(t===0||t===6?"último":"última")+"' eeee 'às' p"},yesterday:"'ontem às' p",today:"'hoje às' p",tomorrow:"'amanhã às' p",nextWeek:"eeee 'às' p",other:"P"},gse=(e,t,r,n)=>{const a=pse[e];return typeof a=="function"?a(t):a},vse={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},yse={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},xse={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},bse={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","terça","quarta","quinta","sexta","sábado"],wide:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},wse={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"}},jse={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},Nse=(e,t)=>{const r=Number(e);return(t==null?void 0:t.unit)==="week"?r+"ª":r+"º"},_se={ordinalNumber:Nse,era:Gs({values:vse,defaultWidth:"wide"}),quarter:Gs({values:yse,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Gs({values:xse,defaultWidth:"wide"}),day:Gs({values:bse,defaultWidth:"wide"}),dayPeriod:Gs({values:wse,defaultWidth:"wide",formattingValues:jse,defaultFormattingWidth:"wide"})},kse=/^(\d+)[ºªo]?/i,Sse=/\d+/i,Cse={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},Ese={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},Ose={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},Ase={any:[/1/i,/2/i,/3/i,/4/i]},Pse={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},Tse={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},$se={narrow:/^(dom|[23456]ª?|s[aá]b)/i,short:/^(dom|[23456]ª?|s[aá]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[aá]b)/i,wide:/^(domingo|(segunda|ter[cç]a|quarta|quinta|sexta)([- ]feira)?|s[aá]bado)/i},Mse={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[aá]b/i]},Rse={narrow:/^(a|p|mn|md|(da) (manhã|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manhã|tarde|noite))/i},Ise={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manhã/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},Dse={ordinalNumber:Gz({matchPattern:kse,parsePattern:Sse,valueCallback:e=>parseInt(e,10)}),era:Ys({matchPatterns:Cse,defaultMatchWidth:"wide",parsePatterns:Ese,defaultParseWidth:"any"}),quarter:Ys({matchPatterns:Ose,defaultMatchWidth:"wide",parsePatterns:Ase,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ys({matchPatterns:Pse,defaultMatchWidth:"wide",parsePatterns:Tse,defaultParseWidth:"any"}),day:Ys({matchPatterns:$se,defaultMatchWidth:"wide",parsePatterns:Mse,defaultParseWidth:"any"}),dayPeriod:Ys({matchPatterns:Rse,defaultMatchWidth:"any",parsePatterns:Ise,defaultParseWidth:"any"})},Zo={code:"pt-BR",formatDistance:use,formatLong:mse,formatRelative:gse,localize:_se,match:Dse,options:{weekStartsOn:0,firstWeekContainsDate:1}};var zse=Array.isArray,ta=zse,Lse=typeof pn=="object"&&pn&&pn.Object===Object&&pn,Xz=Lse,Fse=Xz,Bse=typeof self=="object"&&self&&self.Object===Object&&self,qse=Fse||Bse||Function("return this")(),hi=qse,Use=hi,Vse=Use.Symbol,eg=Vse,UA=eg,Jz=Object.prototype,Wse=Jz.hasOwnProperty,Kse=Jz.toString,_h=UA?UA.toStringTag:void 0;function Hse(e){var t=Wse.call(e,_h),r=e[_h];try{e[_h]=void 0;var n=!0}catch{}var a=Kse.call(e);return n&&(t?e[_h]=r:delete e[_h]),a}var Gse=Hse,Yse=Object.prototype,Qse=Yse.toString;function Zse(e){return Qse.call(e)}var Xse=Zse,VA=eg,Jse=Gse,eie=Xse,tie="[object Null]",rie="[object Undefined]",WA=VA?VA.toStringTag:void 0;function nie(e){return e==null?e===void 0?rie:tie:WA&&WA in Object(e)?Jse(e):eie(e)}var so=nie;function aie(e){return e!=null&&typeof e=="object"}var io=aie,sie=so,iie=io,oie="[object Symbol]";function lie(e){return typeof e=="symbol"||iie(e)&&sie(e)==oie}var Mf=lie,cie=ta,uie=Mf,die=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,fie=/^\w*$/;function hie(e,t){if(cie(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||uie(e)?!0:fie.test(e)||!die.test(e)||t!=null&&e in Object(t)}var Gk=hie;function mie(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Sl=mie;const Rf=Ct(Sl);var pie=so,gie=Sl,vie="[object AsyncFunction]",yie="[object Function]",xie="[object GeneratorFunction]",bie="[object Proxy]";function wie(e){if(!gie(e))return!1;var t=pie(e);return t==yie||t==xie||t==vie||t==bie}var Yk=wie;const We=Ct(Yk);var jie=hi,Nie=jie["__core-js_shared__"],_ie=Nie,tj=_ie,KA=function(){var e=/[^.]+$/.exec(tj&&tj.keys&&tj.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function kie(e){return!!KA&&KA in e}var Sie=kie,Cie=Function.prototype,Eie=Cie.toString;function Oie(e){if(e!=null){try{return Eie.call(e)}catch{}try{return e+""}catch{}}return""}var eL=Oie,Aie=Yk,Pie=Sie,Tie=Sl,$ie=eL,Mie=/[\\^$.*+?()[\]{}|]/g,Rie=/^\[object .+?Constructor\]$/,Iie=Function.prototype,Die=Object.prototype,zie=Iie.toString,Lie=Die.hasOwnProperty,Fie=RegExp("^"+zie.call(Lie).replace(Mie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Bie(e){if(!Tie(e)||Pie(e))return!1;var t=Aie(e)?Fie:Rie;return t.test($ie(e))}var qie=Bie;function Uie(e,t){return e==null?void 0:e[t]}var Vie=Uie,Wie=qie,Kie=Vie;function Hie(e,t){var r=Kie(e,t);return Wie(r)?r:void 0}var Xc=Hie,Gie=Xc,Yie=Gie(Object,"create"),Lb=Yie,HA=Lb;function Qie(){this.__data__=HA?HA(null):{},this.size=0}var Zie=Qie;function Xie(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Jie=Xie,eoe=Lb,toe="__lodash_hash_undefined__",roe=Object.prototype,noe=roe.hasOwnProperty;function aoe(e){var t=this.__data__;if(eoe){var r=t[e];return r===toe?void 0:r}return noe.call(t,e)?t[e]:void 0}var soe=aoe,ioe=Lb,ooe=Object.prototype,loe=ooe.hasOwnProperty;function coe(e){var t=this.__data__;return ioe?t[e]!==void 0:loe.call(t,e)}var uoe=coe,doe=Lb,foe="__lodash_hash_undefined__";function hoe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=doe&&t===void 0?foe:t,this}var moe=hoe,poe=Zie,goe=Jie,voe=soe,yoe=uoe,xoe=moe;function If(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}If.prototype.clear=poe;If.prototype.delete=goe;If.prototype.get=voe;If.prototype.has=yoe;If.prototype.set=xoe;var boe=If;function woe(){this.__data__=[],this.size=0}var joe=woe;function Noe(e,t){return e===t||e!==e&&t!==t}var Qk=Noe,_oe=Qk;function koe(e,t){for(var r=e.length;r--;)if(_oe(e[r][0],t))return r;return-1}var Fb=koe,Soe=Fb,Coe=Array.prototype,Eoe=Coe.splice;function Ooe(e){var t=this.__data__,r=Soe(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Eoe.call(t,r,1),--this.size,!0}var Aoe=Ooe,Poe=Fb;function Toe(e){var t=this.__data__,r=Poe(t,e);return r<0?void 0:t[r][1]}var $oe=Toe,Moe=Fb;function Roe(e){return Moe(this.__data__,e)>-1}var Ioe=Roe,Doe=Fb;function zoe(e,t){var r=this.__data__,n=Doe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var Loe=zoe,Foe=joe,Boe=Aoe,qoe=$oe,Uoe=Ioe,Voe=Loe;function Df(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Df.prototype.clear=Foe;Df.prototype.delete=Boe;Df.prototype.get=qoe;Df.prototype.has=Uoe;Df.prototype.set=Voe;var Bb=Df,Woe=Xc,Koe=hi,Hoe=Woe(Koe,"Map"),Zk=Hoe,GA=boe,Goe=Bb,Yoe=Zk;function Qoe(){this.size=0,this.__data__={hash:new GA,map:new(Yoe||Goe),string:new GA}}var Zoe=Qoe;function Xoe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Joe=Xoe,ele=Joe;function tle(e,t){var r=e.__data__;return ele(t)?r[typeof t=="string"?"string":"hash"]:r.map}var qb=tle,rle=qb;function nle(e){var t=rle(this,e).delete(e);return this.size-=t?1:0,t}var ale=nle,sle=qb;function ile(e){return sle(this,e).get(e)}var ole=ile,lle=qb;function cle(e){return lle(this,e).has(e)}var ule=cle,dle=qb;function fle(e,t){var r=dle(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var hle=fle,mle=Zoe,ple=ale,gle=ole,vle=ule,yle=hle;function zf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}zf.prototype.clear=mle;zf.prototype.delete=ple;zf.prototype.get=gle;zf.prototype.has=vle;zf.prototype.set=yle;var Xk=zf,tL=Xk,xle="Expected a function";function Jk(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(xle);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(Jk.Cache||tL),r}Jk.Cache=tL;var rL=Jk;const ble=Ct(rL);var wle=rL,jle=500;function Nle(e){var t=wle(e,function(n){return r.size===jle&&r.clear(),n}),r=t.cache;return t}var _le=Nle,kle=_le,Sle=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Cle=/\\(\\)?/g,Ele=kle(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Sle,function(r,n,a,i){t.push(a?i.replace(Cle,"$1"):n||r)}),t}),Ole=Ele;function Ale(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var eS=Ale,YA=eg,Ple=eS,Tle=ta,$le=Mf,QA=YA?YA.prototype:void 0,ZA=QA?QA.toString:void 0;function nL(e){if(typeof e=="string")return e;if(Tle(e))return Ple(e,nL)+"";if($le(e))return ZA?ZA.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Mle=nL,Rle=Mle;function Ile(e){return e==null?"":Rle(e)}var aL=Ile,Dle=ta,zle=Gk,Lle=Ole,Fle=aL;function Ble(e,t){return Dle(e)?e:zle(e,t)?[e]:Lle(Fle(e))}var sL=Ble,qle=Mf;function Ule(e){if(typeof e=="string"||qle(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Ub=Ule,Vle=sL,Wle=Ub;function Kle(e,t){t=Vle(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Wle(t[r++])];return r&&r==n?e:void 0}var tS=Kle,Hle=tS;function Gle(e,t,r){var n=e==null?void 0:Hle(e,t);return n===void 0?r:n}var iL=Gle;const wa=Ct(iL);function Yle(e){return e==null}var Qle=Yle;const He=Ct(Qle);var Zle=so,Xle=ta,Jle=io,ece="[object String]";function tce(e){return typeof e=="string"||!Xle(e)&&Jle(e)&&Zle(e)==ece}var rce=tce;const Mc=Ct(rce);var oL={exports:{}},$t={};/**
* @license React
* react-is.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var rS=Symbol.for("react.element"),nS=Symbol.for("react.portal"),Vb=Symbol.for("react.fragment"),Wb=Symbol.for("react.strict_mode"),Kb=Symbol.for("react.profiler"),Hb=Symbol.for("react.provider"),Gb=Symbol.for("react.context"),nce=Symbol.for("react.server_context"),Yb=Symbol.for("react.forward_ref"),Qb=Symbol.for("react.suspense"),Zb=Symbol.for("react.suspense_list"),Xb=Symbol.for("react.memo"),Jb=Symbol.for("react.lazy"),ace=Symbol.for("react.offscreen"),lL;lL=Symbol.for("react.module.reference");function Qa(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case rS:switch(e=e.type,e){case Vb:case Kb:case Wb:case Qb:case Zb:return e;default:switch(e=e&&e.$$typeof,e){case nce:case Gb:case Yb:case Jb:case Xb:case Hb:return e;default:return t}}case nS:return t}}}$t.ContextConsumer=Gb;$t.ContextProvider=Hb;$t.Element=rS;$t.ForwardRef=Yb;$t.Fragment=Vb;$t.Lazy=Jb;$t.Memo=Xb;$t.Portal=nS;$t.Profiler=Kb;$t.StrictMode=Wb;$t.Suspense=Qb;$t.SuspenseList=Zb;$t.isAsyncMode=function(){return!1};$t.isConcurrentMode=function(){return!1};$t.isContextConsumer=function(e){return Qa(e)===Gb};$t.isContextProvider=function(e){return Qa(e)===Hb};$t.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===rS};$t.isForwardRef=function(e){return Qa(e)===Yb};$t.isFragment=function(e){return Qa(e)===Vb};$t.isLazy=function(e){return Qa(e)===Jb};$t.isMemo=function(e){return Qa(e)===Xb};$t.isPortal=function(e){return Qa(e)===nS};$t.isProfiler=function(e){return Qa(e)===Kb};$t.isStrictMode=function(e){return Qa(e)===Wb};$t.isSuspense=function(e){return Qa(e)===Qb};$t.isSuspenseList=function(e){return Qa(e)===Zb};$t.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Vb||e===Kb||e===Wb||e===Qb||e===Zb||e===ace||typeof e=="object"&&e!==null&&(e.$$typeof===Jb||e.$$typeof===Xb||e.$$typeof===Hb||e.$$typeof===Gb||e.$$typeof===Yb||e.$$typeof===lL||e.getModuleId!==void 0)};$t.typeOf=Qa;oL.exports=$t;var sce=oL.exports,ice=so,oce=io,lce="[object Number]";function cce(e){return typeof e=="number"||oce(e)&&ice(e)==lce}var cL=cce;const uce=Ct(cL);var dce=cL;function fce(e){return dce(e)&&e!=+e}var hce=fce;const Lf=Ct(hce);var Qr=function(e){return e===0?0:e>0?1:-1},cc=function(e){return Mc(e)&&e.indexOf("%")===e.length-1},je=function(e){return uce(e)&&!Lf(e)},mce=function(e){return He(e)},Ur=function(e){return je(e)||Mc(e)},pce=0,Cl=function(e){var t=++pce;return"".concat(e||"").concat(t)},Sn=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!je(e)&&!Mc(e))return r;var a;if(cc(e)){var i=e.indexOf("%");a=t*parseFloat(e.slice(0,i))/100}else a=+e;return Lf(a)&&(a=r),n&&a>t&&(a=t),a},To=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},gce=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1},Ft=function(e,t){return je(e)&&je(t)?function(r){return e+r*(t-e)}:function(){return t}};function _y(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):wa(n,t))===r})}var vce=function(e){if(!e||!e.length)return null;for(var t=e.length,r=0,n=0,a=0,i=0,o=1/0,l=-1/0,c=0,u=0,d=0;d<t;d++)c=e[d].cx||0,u=e[d].cy||0,r+=c,n+=u,a+=c*u,i+=c*c,o=Math.min(o,c),l=Math.max(l,c);var f=t*i!==r*r?(t*a-r*n)/(t*i-r*r):0;return{xmin:o,xmax:l,a:f,b:(n-f*r)/t}},yce=function(e,t){return je(e)&&je(t)?e-t:Mc(e)&&Mc(t)?e.localeCompare(t):e instanceof Date&&t instanceof Date?e.getTime()-t.getTime():String(e).localeCompare(String(t))};function pd(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function pN(e){"@babel/helpers - typeof";return pN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pN(e)}var xce=["viewBox","children"],bce=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],XA=["points","pathLength"],JA={svg:xce,polygon:XA,polyline:XA},aS=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],ky=function(e,t){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(g.isValidElement(e)&&(r=e.props),!Rf(r))return null;var n={};return Object.keys(r).forEach(function(a){aS.includes(a)&&(n[a]=t||function(i){return r[a](r,i)})}),n},wce=function(e,t,r){return function(n){return e(t,r,n),null}},ui=function(e,t,r){if(!Rf(e)||pN(e)!=="object")return null;var n=null;return Object.keys(e).forEach(function(a){var i=e[a];aS.includes(a)&&typeof i=="function"&&(n||(n={}),n[a]=wce(i,t,r))}),n},jce=["children"],Nce=["children"];function eP(e,t){if(e==null)return{};var r=_ce(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _ce(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function gN(e){"@babel/helpers - typeof";return gN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gN(e)}var tP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},qi=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},rP=null,rj=null,sS=function e(t){if(t===rP&&Array.isArray(rj))return rj;var r=[];return g.Children.forEach(t,function(n){He(n)||(sce.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),rj=r,rP=t,r};function vn(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return qi(a)}):n=[qi(t)],sS(e).forEach(function(a){var i=wa(a,"type.displayName")||wa(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function ca(e,t){var r=vn(e,t);return r&&r[0]}var nP=function(e){if(!e||!e.props)return!1;var t=e.props,r=t.width,n=t.height;return!(!je(r)||r<=0||!je(n)||n<=0)},kce=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Sce=function(e){return e&&e.type&&Mc(e.type)&&kce.indexOf(e.type)>=0},uL=function(e){return e&&gN(e)==="object"&&"clipDot"in e},Cce=function(e,t,r,n){var a,i=(a=JA==null?void 0:JA[n])!==null&&a!==void 0?a:[];return t.startsWith("data-")||!We(e)&&(n&&i.includes(t)||bce.includes(t))||r&&aS.includes(t)},ze=function(e,t,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(g.isValidElement(e)&&(n=e.props),!Rf(n))return null;var a={};return Object.keys(n).forEach(function(i){var o;Cce((o=n)===null||o===void 0?void 0:o[i],i,t,r)&&(a[i]=n[i])}),a},vN=function e(t,r){if(t===r)return!0;var n=g.Children.count(t);if(n!==g.Children.count(r))return!1;if(n===0)return!0;if(n===1)return aP(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!aP(i,o))return!1}return!0},aP=function(e,t){if(He(e)&&He(t))return!0;if(!He(e)&&!He(t)){var r=e.props||{},n=r.children,a=eP(r,jce),i=t.props||{},o=i.children,l=eP(i,Nce);return n&&o?pd(a,l)&&vN(n,o):!n&&!o?pd(a,l):!1}return!1},sP=function(e,t){var r=[],n={};return sS(e).forEach(function(a,i){if(Sce(a))r.push(a);else if(a){var o=qi(a.type),l=t[o]||{},c=l.handler,u=l.once;if(c&&(!u||!n[o])){var d=c(a,o,i);r.push(d),n[o]=!0}}}),r},Ece=function(e){var t=e&&e.type;return t&&tP[t]?tP[t]:null},Oce=function(e,t){return sS(t).indexOf(e)},Ace=["children","width","height","viewBox","className","style","title","desc"];function yN(){return yN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yN.apply(this,arguments)}function Pce(e,t){if(e==null)return{};var r=Tce(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Tce(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function xN(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=Pce(e,Ace),d=a||{width:r,height:n,x:0,y:0},f=Ze("recharts-surface",i);return E.createElement("svg",yN({},ze(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),E.createElement("title",null,l),E.createElement("desc",null,c),t)}var $ce=["children","className"];function bN(){return bN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bN.apply(this,arguments)}function Mce(e,t){if(e==null)return{};var r=Rce(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Rce(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Xe=E.forwardRef(function(e,t){var r=e.children,n=e.className,a=Mce(e,$ce),i=Ze("recharts-layer",n);return E.createElement("g",bN({className:i},ze(a,!0),{ref:t}),r)}),Ss=function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a]};function Ice(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var Dce=Ice,zce=Dce;function Lce(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:zce(e,t,r)}var Fce=Lce,Bce="\\ud800-\\udfff",qce="\\u0300-\\u036f",Uce="\\ufe20-\\ufe2f",Vce="\\u20d0-\\u20ff",Wce=qce+Uce+Vce,Kce="\\ufe0e\\ufe0f",Hce="\\u200d",Gce=RegExp("["+Hce+Bce+Wce+Kce+"]");function Yce(e){return Gce.test(e)}var dL=Yce;function Qce(e){return e.split("")}var Zce=Qce,fL="\\ud800-\\udfff",Xce="\\u0300-\\u036f",Jce="\\ufe20-\\ufe2f",eue="\\u20d0-\\u20ff",tue=Xce+Jce+eue,rue="\\ufe0e\\ufe0f",nue="["+fL+"]",wN="["+tue+"]",jN="\\ud83c[\\udffb-\\udfff]",aue="(?:"+wN+"|"+jN+")",hL="[^"+fL+"]",mL="(?:\\ud83c[\\udde6-\\uddff]){2}",pL="[\\ud800-\\udbff][\\udc00-\\udfff]",sue="\\u200d",gL=aue+"?",vL="["+rue+"]?",iue="(?:"+sue+"(?:"+[hL,mL,pL].join("|")+")"+vL+gL+")*",oue=vL+gL+iue,lue="(?:"+[hL+wN+"?",wN,mL,pL,nue].join("|")+")",cue=RegExp(jN+"(?="+jN+")|"+lue+oue,"g");function uue(e){return e.match(cue)||[]}var due=uue,fue=Zce,hue=dL,mue=due;function pue(e){return hue(e)?mue(e):fue(e)}var gue=pue,vue=Fce,yue=dL,xue=gue,bue=aL;function wue(e){return function(t){t=bue(t);var r=yue(t)?xue(t):void 0,n=r?r[0]:t.charAt(0),a=r?vue(r,1).join(""):t.slice(1);return n[e]()+a}}var jue=wue,Nue=jue,_ue=Nue("toUpperCase"),kue=_ue;const e0=Ct(kue);function Yt(e){return function(){return e}}const yL=Math.cos,Sy=Math.sin,Ts=Math.sqrt,Cy=Math.PI,t0=2*Cy,NN=Math.PI,_N=2*NN,Xl=1e-6,Sue=_N-Xl;function xL(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Cue(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return xL;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class Eue{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?xL:Cue(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Xl)if(!(Math.abs(f*c-u*d)>Xl)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,v=a-l,p=c*c+u*u,b=m*m+v*v,x=Math.sqrt(p),y=Math.sqrt(h),w=i*Math.tan((NN-Math.acos((p+h-b)/(2*x*y)))/2),j=w/y,N=w/x;Math.abs(j-1)>Xl&&this._append`L${t+j*d},${r+j*f}`,this._append`A${i},${i},0,0,${+(f*m>d*v)},${this._x1=t+N*c},${this._y1=r+N*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Xl||Math.abs(this._y1-d)>Xl)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%_N+_N),h>Sue?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Xl&&this._append`A${n},${n},0,${+(h>=NN)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function iS(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Eue(t)}function oS(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function bL(e){this._context=e}bL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function r0(e){return new bL(e)}function wL(e){return e[0]}function jL(e){return e[1]}function NL(e,t){var r=Yt(!0),n=null,a=r0,i=null,o=iS(l);e=typeof e=="function"?e:e===void 0?wL:Yt(e),t=typeof t=="function"?t:t===void 0?jL:Yt(t);function l(c){var u,d=(c=oS(c)).length,f,h=!1,m;for(n==null&&(i=a(m=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(m)return i=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Yt(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Yt(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Yt(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function Xg(e,t,r){var n=null,a=Yt(!0),i=null,o=r0,l=null,c=iS(u);e=typeof e=="function"?e:e===void 0?wL:Yt(+e),t=typeof t=="function"?t:Yt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?jL:Yt(+r);function u(f){var h,m,v,p=(f=oS(f)).length,b,x=!1,y,w=new Array(p),j=new Array(p);for(i==null&&(l=o(y=c())),h=0;h<=p;++h){if(!(h<p&&a(b=f[h],h,f))===x)if(x=!x)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=h-1;v>=m;--v)l.point(w[v],j[v]);l.lineEnd(),l.areaEnd()}x&&(w[h]=+e(b,h,f),j[h]=+t(b,h,f),l.point(n?+n(b,h,f):w[h],r?+r(b,h,f):j[h]))}if(y)return l=null,y+""||null}function d(){return NL().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Yt(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Yt(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Yt(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Yt(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Yt(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Yt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Yt(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class _L{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Oue(e){return new _L(e,!0)}function Aue(e){return new _L(e,!1)}const lS={draw(e,t){const r=Ts(t/Cy);e.moveTo(r,0),e.arc(0,0,r,0,t0)}},Pue={draw(e,t){const r=Ts(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},kL=Ts(1/3),Tue=kL*2,$ue={draw(e,t){const r=Ts(t/Tue),n=r*kL;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Mue={draw(e,t){const r=Ts(t),n=-r/2;e.rect(n,n,r,r)}},Rue=.8908130915292852,SL=Sy(Cy/10)/Sy(7*Cy/10),Iue=Sy(t0/10)*SL,Due=-yL(t0/10)*SL,zue={draw(e,t){const r=Ts(t*Rue),n=Iue*r,a=Due*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=t0*i/5,l=yL(o),c=Sy(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},nj=Ts(3),Lue={draw(e,t){const r=-Ts(t/(nj*3));e.moveTo(0,r*2),e.lineTo(-nj*r,-r),e.lineTo(nj*r,-r),e.closePath()}},Oa=-.5,Aa=Ts(3)/2,kN=1/Ts(12),Fue=(kN/2+1)*3,Bue={draw(e,t){const r=Ts(t/Fue),n=r/2,a=r*kN,i=n,o=r*kN+r,l=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Oa*n-Aa*a,Aa*n+Oa*a),e.lineTo(Oa*i-Aa*o,Aa*i+Oa*o),e.lineTo(Oa*l-Aa*c,Aa*l+Oa*c),e.lineTo(Oa*n+Aa*a,Oa*a-Aa*n),e.lineTo(Oa*i+Aa*o,Oa*o-Aa*i),e.lineTo(Oa*l+Aa*c,Oa*c-Aa*l),e.closePath()}};function que(e,t){let r=null,n=iS(a);e=typeof e=="function"?e:Yt(e||lS),t=typeof t=="function"?t:Yt(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Yt(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Yt(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Ey(){}function Oy(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function CL(e){this._context=e}CL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Oy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Oy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Uue(e){return new CL(e)}function EL(e){this._context=e}EL.prototype={areaStart:Ey,areaEnd:Ey,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Oy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Vue(e){return new EL(e)}function OL(e){this._context=e}OL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Oy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Wue(e){return new OL(e)}function AL(e){this._context=e}AL.prototype={areaStart:Ey,areaEnd:Ey,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Kue(e){return new AL(e)}function iP(e){return e<0?-1:1}function oP(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(iP(i)+iP(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function lP(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function aj(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function Ay(e){this._context=e}Ay.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:aj(this,this._t0,lP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,aj(this,lP(this,r=oP(this,e,t)),r);break;default:aj(this,this._t0,r=oP(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function PL(e){this._context=new TL(e)}(PL.prototype=Object.create(Ay.prototype)).point=function(e,t){Ay.prototype.point.call(this,t,e)};function TL(e){this._context=e}TL.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function Hue(e){return new Ay(e)}function Gue(e){return new PL(e)}function $L(e){this._context=e}$L.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=cP(e),a=cP(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function cP(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function Yue(e){return new $L(e)}function n0(e,t){this._context=e,this._t=t}n0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Que(e){return new n0(e,.5)}function Zue(e){return new n0(e,0)}function Xue(e){return new n0(e,1)}function Id(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function SN(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Jue(e,t){return e[t]}function ede(e){const t=[];return t.key=e,t}function tde(){var e=Yt([]),t=SN,r=Id,n=Jue;function a(i){var o=Array.from(e.apply(this,arguments),ede),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=oS(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Yt(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Yt(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?SN:typeof i=="function"?i:Yt(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Id,a):r},a}function rde(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}Id(e,t)}}function nde(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Id(e,t)}}function ade(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,v=0;v<l;++v){var p=e[t[v]],b=p[n][1]||0,x=p[n-1][1]||0;m+=b-x}c+=f,u+=m*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Id(e,t)}}function Um(e){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Um(e)}var sde=["type","size","sizeType"];function CN(){return CN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},CN.apply(this,arguments)}function uP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uP(Object(r),!0).forEach(function(n){ide(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ide(e,t,r){return t=ode(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ode(e){var t=lde(e,"string");return Um(t)=="symbol"?t:t+""}function lde(e,t){if(Um(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Um(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cde(e,t){if(e==null)return{};var r=ude(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ude(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ML={symbolCircle:lS,symbolCross:Pue,symbolDiamond:$ue,symbolSquare:Mue,symbolStar:zue,symbolTriangle:Lue,symbolWye:Bue},dde=Math.PI/180,fde=function(e){var t="symbol".concat(e0(e));return ML[t]||lS},hde=function(e,t,r){if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*dde;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.pow(Math.tan(n),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},mde=function(e,t){ML["symbol".concat(e0(e))]=t},a0=function(e){var t=e.type,r=t===void 0?"circle":t,n=e.size,a=n===void 0?64:n,i=e.sizeType,o=i===void 0?"area":i,l=cde(e,sde),c=dP(dP({},l),{},{type:r,size:a,sizeType:o}),u=function(){var v=fde(r),p=que().type(v).size(hde(a,o,r));return p()},d=c.className,f=c.cx,h=c.cy,m=ze(c,!0);return f===+f&&h===+h&&a===+a?E.createElement("path",CN({},m,{className:Ze("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(h,")"),d:u()})):null};a0.registerSymbol=mde;function Dd(e){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dd(e)}function EN(){return EN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},EN.apply(this,arguments)}function fP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pde(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fP(Object(r),!0).forEach(function(n){Vm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vde(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,IL(n.key),n)}}function yde(e,t,r){return t&&vde(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xde(e,t,r){return t=Py(t),bde(e,RL()?Reflect.construct(t,r||[],Py(e).constructor):t.apply(e,r))}function bde(e,t){if(t&&(Dd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wde(e)}function wde(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RL=function(){return!!e})()}function Py(e){return Py=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Py(e)}function jde(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ON(e,t)}function ON(e,t){return ON=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},ON(e,t)}function Vm(e,t,r){return t=IL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IL(e){var t=Nde(e,"string");return Dd(t)=="symbol"?t:t+""}function Nde(e,t){if(Dd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Pa=32,cS=function(e){function t(){return gde(this,t),xde(this,t,arguments)}return jde(t,e),yde(t,[{key:"renderIcon",value:function(r){var n=this.props.inactiveColor,a=Pa/2,i=Pa/6,o=Pa/3,l=r.inactive?n:r.color;if(r.type==="plainline")return E.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:Pa,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return E.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(Pa,"M").concat(2*o,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return E.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Pa/8,"h").concat(Pa,"v").concat(Pa*3/4,"h").concat(-Pa,"z"),className:"recharts-legend-icon"});if(E.isValidElement(r.legendIcon)){var c=pde({},r);return delete c.legendIcon,E.cloneElement(r.legendIcon,c)}return E.createElement(a0,{fill:l,cx:a,cy:a,size:Pa,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,n=this.props,a=n.payload,i=n.iconSize,o=n.layout,l=n.formatter,c=n.inactiveColor,u={x:0,y:0,width:Pa,height:Pa},d={display:o==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(h,m){var v=h.formatter||l,p=Ze(Vm(Vm({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",h.inactive));if(h.type==="none")return null;var b=We(h.value)?null:h.value;Ss(!We(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=h.inactive?c:h.color;return E.createElement("li",EN({className:p,style:d,key:"legend-item-".concat(m)},ui(r.props,h,m)),E.createElement(xN,{width:i,height:i,viewBox:u,style:f},r.renderIcon(h)),E.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},v?v(b,h,m):b))})}},{key:"render",value:function(){var r=this.props,n=r.payload,a=r.layout,i=r.align;if(!n||!n.length)return null;var o={padding:0,margin:0,textAlign:a==="horizontal"?i:"left"};return E.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(g.PureComponent);Vm(cS,"displayName","Legend");Vm(cS,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var _de=Bb;function kde(){this.__data__=new _de,this.size=0}var Sde=kde;function Cde(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Ede=Cde;function Ode(e){return this.__data__.get(e)}var Ade=Ode;function Pde(e){return this.__data__.has(e)}var Tde=Pde,$de=Bb,Mde=Zk,Rde=Xk,Ide=200;function Dde(e,t){var r=this.__data__;if(r instanceof $de){var n=r.__data__;if(!Mde||n.length<Ide-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Rde(n)}return r.set(e,t),this.size=r.size,this}var zde=Dde,Lde=Bb,Fde=Sde,Bde=Ede,qde=Ade,Ude=Tde,Vde=zde;function Ff(e){var t=this.__data__=new Lde(e);this.size=t.size}Ff.prototype.clear=Fde;Ff.prototype.delete=Bde;Ff.prototype.get=qde;Ff.prototype.has=Ude;Ff.prototype.set=Vde;var DL=Ff,Wde="__lodash_hash_undefined__";function Kde(e){return this.__data__.set(e,Wde),this}var Hde=Kde;function Gde(e){return this.__data__.has(e)}var Yde=Gde,Qde=Xk,Zde=Hde,Xde=Yde;function Ty(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Qde;++t<r;)this.add(e[t])}Ty.prototype.add=Ty.prototype.push=Zde;Ty.prototype.has=Xde;var zL=Ty;function Jde(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var LL=Jde;function efe(e,t){return e.has(t)}var FL=efe,tfe=zL,rfe=LL,nfe=FL,afe=1,sfe=2;function ife(e,t,r,n,a,i){var o=r&afe,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,m=r&sfe?new tfe:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var v=e[f],p=t[f];if(n)var b=o?n(p,v,f,t,e,i):n(v,p,f,e,t,i);if(b!==void 0){if(b)continue;h=!1;break}if(m){if(!rfe(t,function(x,y){if(!nfe(m,y)&&(v===x||a(v,x,r,n,i)))return m.push(y)})){h=!1;break}}else if(!(v===p||a(v,p,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var BL=ife,ofe=hi,lfe=ofe.Uint8Array,cfe=lfe;function ufe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var dfe=ufe;function ffe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var uS=ffe,hP=eg,mP=cfe,hfe=Qk,mfe=BL,pfe=dfe,gfe=uS,vfe=1,yfe=2,xfe="[object Boolean]",bfe="[object Date]",wfe="[object Error]",jfe="[object Map]",Nfe="[object Number]",_fe="[object RegExp]",kfe="[object Set]",Sfe="[object String]",Cfe="[object Symbol]",Efe="[object ArrayBuffer]",Ofe="[object DataView]",pP=hP?hP.prototype:void 0,sj=pP?pP.valueOf:void 0;function Afe(e,t,r,n,a,i,o){switch(r){case Ofe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Efe:return!(e.byteLength!=t.byteLength||!i(new mP(e),new mP(t)));case xfe:case bfe:case Nfe:return hfe(+e,+t);case wfe:return e.name==t.name&&e.message==t.message;case _fe:case Sfe:return e==t+"";case jfe:var l=pfe;case kfe:var c=n&vfe;if(l||(l=gfe),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=yfe,o.set(e,t);var d=mfe(l(e),l(t),n,a,i,o);return o.delete(e),d;case Cfe:if(sj)return sj.call(e)==sj.call(t)}return!1}var Pfe=Afe;function Tfe(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var qL=Tfe,$fe=qL,Mfe=ta;function Rfe(e,t,r){var n=t(e);return Mfe(e)?n:$fe(n,r(e))}var Ife=Rfe;function Dfe(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var zfe=Dfe;function Lfe(){return[]}var Ffe=Lfe,Bfe=zfe,qfe=Ffe,Ufe=Object.prototype,Vfe=Ufe.propertyIsEnumerable,gP=Object.getOwnPropertySymbols,Wfe=gP?function(e){return e==null?[]:(e=Object(e),Bfe(gP(e),function(t){return Vfe.call(e,t)}))}:qfe,Kfe=Wfe;function Hfe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Gfe=Hfe,Yfe=so,Qfe=io,Zfe="[object Arguments]";function Xfe(e){return Qfe(e)&&Yfe(e)==Zfe}var Jfe=Xfe,vP=Jfe,ehe=io,UL=Object.prototype,the=UL.hasOwnProperty,rhe=UL.propertyIsEnumerable,nhe=vP(function(){return arguments}())?vP:function(e){return ehe(e)&&the.call(e,"callee")&&!rhe.call(e,"callee")},dS=nhe,$y={exports:{}};function ahe(){return!1}var she=ahe;$y.exports;(function(e,t){var r=hi,n=she,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})($y,$y.exports);var VL=$y.exports,ihe=9007199254740991,ohe=/^(?:0|[1-9]\d*)$/;function lhe(e,t){var r=typeof e;return t=t??ihe,!!t&&(r=="number"||r!="symbol"&&ohe.test(e))&&e>-1&&e%1==0&&e<t}var fS=lhe,che=9007199254740991;function uhe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=che}var hS=uhe,dhe=so,fhe=hS,hhe=io,mhe="[object Arguments]",phe="[object Array]",ghe="[object Boolean]",vhe="[object Date]",yhe="[object Error]",xhe="[object Function]",bhe="[object Map]",whe="[object Number]",jhe="[object Object]",Nhe="[object RegExp]",_he="[object Set]",khe="[object String]",She="[object WeakMap]",Che="[object ArrayBuffer]",Ehe="[object DataView]",Ohe="[object Float32Array]",Ahe="[object Float64Array]",Phe="[object Int8Array]",The="[object Int16Array]",$he="[object Int32Array]",Mhe="[object Uint8Array]",Rhe="[object Uint8ClampedArray]",Ihe="[object Uint16Array]",Dhe="[object Uint32Array]",Gt={};Gt[Ohe]=Gt[Ahe]=Gt[Phe]=Gt[The]=Gt[$he]=Gt[Mhe]=Gt[Rhe]=Gt[Ihe]=Gt[Dhe]=!0;Gt[mhe]=Gt[phe]=Gt[Che]=Gt[ghe]=Gt[Ehe]=Gt[vhe]=Gt[yhe]=Gt[xhe]=Gt[bhe]=Gt[whe]=Gt[jhe]=Gt[Nhe]=Gt[_he]=Gt[khe]=Gt[She]=!1;function zhe(e){return hhe(e)&&fhe(e.length)&&!!Gt[dhe(e)]}var Lhe=zhe;function Fhe(e){return function(t){return e(t)}}var WL=Fhe,My={exports:{}};My.exports;(function(e,t){var r=Xz,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(My,My.exports);var Bhe=My.exports,qhe=Lhe,Uhe=WL,yP=Bhe,xP=yP&&yP.isTypedArray,Vhe=xP?Uhe(xP):qhe,KL=Vhe,Whe=Gfe,Khe=dS,Hhe=ta,Ghe=VL,Yhe=fS,Qhe=KL,Zhe=Object.prototype,Xhe=Zhe.hasOwnProperty;function Jhe(e,t){var r=Hhe(e),n=!r&&Khe(e),a=!r&&!n&&Ghe(e),i=!r&&!n&&!a&&Qhe(e),o=r||n||a||i,l=o?Whe(e.length,String):[],c=l.length;for(var u in e)(t||Xhe.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Yhe(u,c)))&&l.push(u);return l}var eme=Jhe,tme=Object.prototype;function rme(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||tme;return e===r}var nme=rme;function ame(e,t){return function(r){return e(t(r))}}var HL=ame,sme=HL,ime=sme(Object.keys,Object),ome=ime,lme=nme,cme=ome,ume=Object.prototype,dme=ume.hasOwnProperty;function fme(e){if(!lme(e))return cme(e);var t=[];for(var r in Object(e))dme.call(e,r)&&r!="constructor"&&t.push(r);return t}var hme=fme,mme=Yk,pme=hS;function gme(e){return e!=null&&pme(e.length)&&!mme(e)}var tg=gme,vme=eme,yme=hme,xme=tg;function bme(e){return xme(e)?vme(e):yme(e)}var s0=bme,wme=Ife,jme=Kfe,Nme=s0;function _me(e){return wme(e,Nme,jme)}var kme=_me,bP=kme,Sme=1,Cme=Object.prototype,Eme=Cme.hasOwnProperty;function Ome(e,t,r,n,a,i){var o=r&Sme,l=bP(e),c=l.length,u=bP(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:Eme.call(t,h)))return!1}var m=i.get(e),v=i.get(t);if(m&&v)return m==t&&v==e;var p=!0;i.set(e,t),i.set(t,e);for(var b=o;++f<c;){h=l[f];var x=e[h],y=t[h];if(n)var w=o?n(y,x,h,t,e,i):n(x,y,h,e,t,i);if(!(w===void 0?x===y||a(x,y,r,n,i):w)){p=!1;break}b||(b=h=="constructor")}if(p&&!b){var j=e.constructor,N=t.constructor;j!=N&&"constructor"in e&&"constructor"in t&&!(typeof j=="function"&&j instanceof j&&typeof N=="function"&&N instanceof N)&&(p=!1)}return i.delete(e),i.delete(t),p}var Ame=Ome,Pme=Xc,Tme=hi,$me=Pme(Tme,"DataView"),Mme=$me,Rme=Xc,Ime=hi,Dme=Rme(Ime,"Promise"),zme=Dme,Lme=Xc,Fme=hi,Bme=Lme(Fme,"Set"),GL=Bme,qme=Xc,Ume=hi,Vme=qme(Ume,"WeakMap"),Wme=Vme,AN=Mme,PN=Zk,TN=zme,$N=GL,MN=Wme,YL=so,Bf=eL,wP="[object Map]",Kme="[object Object]",jP="[object Promise]",NP="[object Set]",_P="[object WeakMap]",kP="[object DataView]",Hme=Bf(AN),Gme=Bf(PN),Yme=Bf(TN),Qme=Bf($N),Zme=Bf(MN),Jl=YL;(AN&&Jl(new AN(new ArrayBuffer(1)))!=kP||PN&&Jl(new PN)!=wP||TN&&Jl(TN.resolve())!=jP||$N&&Jl(new $N)!=NP||MN&&Jl(new MN)!=_P)&&(Jl=function(e){var t=YL(e),r=t==Kme?e.constructor:void 0,n=r?Bf(r):"";if(n)switch(n){case Hme:return kP;case Gme:return wP;case Yme:return jP;case Qme:return NP;case Zme:return _P}return t});var Xme=Jl,ij=DL,Jme=BL,epe=Pfe,tpe=Ame,SP=Xme,CP=ta,EP=VL,rpe=KL,npe=1,OP="[object Arguments]",AP="[object Array]",Jg="[object Object]",ape=Object.prototype,PP=ape.hasOwnProperty;function spe(e,t,r,n,a,i){var o=CP(e),l=CP(t),c=o?AP:SP(e),u=l?AP:SP(t);c=c==OP?Jg:c,u=u==OP?Jg:u;var d=c==Jg,f=u==Jg,h=c==u;if(h&&EP(e)){if(!EP(t))return!1;o=!0,d=!1}if(h&&!d)return i||(i=new ij),o||rpe(e)?Jme(e,t,r,n,a,i):epe(e,t,c,r,n,a,i);if(!(r&npe)){var m=d&&PP.call(e,"__wrapped__"),v=f&&PP.call(t,"__wrapped__");if(m||v){var p=m?e.value():e,b=v?t.value():t;return i||(i=new ij),a(p,b,r,n,i)}}return h?(i||(i=new ij),tpe(e,t,r,n,a,i)):!1}var ipe=spe,ope=ipe,TP=io;function QL(e,t,r,n,a){return e===t?!0:e==null||t==null||!TP(e)&&!TP(t)?e!==e&&t!==t:ope(e,t,r,n,QL,a)}var mS=QL,lpe=DL,cpe=mS,upe=1,dpe=2;function fpe(e,t,r,n){var a=r.length,i=a,o=!n;if(e==null)return!i;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=r[a];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new lpe;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?cpe(d,u,upe|dpe,n,f):h))return!1}}return!0}var hpe=fpe,mpe=Sl;function ppe(e){return e===e&&!mpe(e)}var ZL=ppe,gpe=ZL,vpe=s0;function ype(e){for(var t=vpe(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,gpe(a)]}return t}var xpe=ype;function bpe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var XL=bpe,wpe=hpe,jpe=xpe,Npe=XL;function _pe(e){var t=jpe(e);return t.length==1&&t[0][2]?Npe(t[0][0],t[0][1]):function(r){return r===e||wpe(r,e,t)}}var kpe=_pe;function Spe(e,t){return e!=null&&t in Object(e)}var Cpe=Spe,Epe=sL,Ope=dS,Ape=ta,Ppe=fS,Tpe=hS,$pe=Ub;function Mpe(e,t,r){t=Epe(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var o=$pe(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&Tpe(a)&&Ppe(o,a)&&(Ape(e)||Ope(e)))}var Rpe=Mpe,Ipe=Cpe,Dpe=Rpe;function zpe(e,t){return e!=null&&Dpe(e,t,Ipe)}var Lpe=zpe,Fpe=mS,Bpe=iL,qpe=Lpe,Upe=Gk,Vpe=ZL,Wpe=XL,Kpe=Ub,Hpe=1,Gpe=2;function Ype(e,t){return Upe(e)&&Vpe(t)?Wpe(Kpe(e),t):function(r){var n=Bpe(r,e);return n===void 0&&n===t?qpe(r,e):Fpe(t,n,Hpe|Gpe)}}var Qpe=Ype;function Zpe(e){return e}var qf=Zpe;function Xpe(e){return function(t){return t==null?void 0:t[e]}}var Jpe=Xpe,ege=tS;function tge(e){return function(t){return ege(t,e)}}var rge=tge,nge=Jpe,age=rge,sge=Gk,ige=Ub;function oge(e){return sge(e)?nge(ige(e)):age(e)}var lge=oge,cge=kpe,uge=Qpe,dge=qf,fge=ta,hge=lge;function mge(e){return typeof e=="function"?e:e==null?dge:typeof e=="object"?fge(e)?uge(e[0],e[1]):cge(e):hge(e)}var mi=mge;function pge(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var JL=pge;function gge(e){return e!==e}var vge=gge;function yge(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var xge=yge,bge=JL,wge=vge,jge=xge;function Nge(e,t,r){return t===t?jge(e,t,r):bge(e,wge,r)}var _ge=Nge,kge=_ge;function Sge(e,t){var r=e==null?0:e.length;return!!r&&kge(e,t,0)>-1}var Cge=Sge;function Ege(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var Oge=Ege;function Age(){}var Pge=Age,oj=GL,Tge=Pge,$ge=uS,Mge=1/0,Rge=oj&&1/$ge(new oj([,-0]))[1]==Mge?function(e){return new oj(e)}:Tge,Ige=Rge,Dge=zL,zge=Cge,Lge=Oge,Fge=FL,Bge=Ige,qge=uS,Uge=200;function Vge(e,t,r){var n=-1,a=zge,i=e.length,o=!0,l=[],c=l;if(r)o=!1,a=Lge;else if(i>=Uge){var u=t?null:Bge(e);if(u)return qge(u);o=!1,a=Fge,c=new Dge}else c=t?[]:l;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var Wge=Vge,Kge=mi,Hge=Wge;function Gge(e,t){return e&&e.length?Hge(e,Kge(t)):[]}var Yge=Gge;const $P=Ct(Yge);function eF(e,t,r){return t===!0?$P(e,r):We(t)?$P(e,t):e}function zd(e){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zd(e)}var Qge=["ref"];function MP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _i(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MP(Object(r),!0).forEach(function(n){i0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rF(n.key),n)}}function Xge(e,t,r){return t&&RP(e.prototype,t),r&&RP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jge(e,t,r){return t=Ry(t),eve(e,tF()?Reflect.construct(t,r||[],Ry(e).constructor):t.apply(e,r))}function eve(e,t){if(t&&(zd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tve(e)}function tve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tF=function(){return!!e})()}function Ry(e){return Ry=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ry(e)}function rve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RN(e,t)}function RN(e,t){return RN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},RN(e,t)}function i0(e,t,r){return t=rF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rF(e){var t=nve(e,"string");return zd(t)=="symbol"?t:t+""}function nve(e,t){if(zd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function ave(e,t){if(e==null)return{};var r=sve(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sve(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ive(e){return e.value}function ove(e,t){if(E.isValidElement(e))return E.cloneElement(e,t);if(typeof e=="function")return E.createElement(e,t);t.ref;var r=ave(t,Qge);return E.createElement(cS,r)}var IP=1,Xo=function(e){function t(){var r;Zge(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Jge(this,t,[].concat(a)),i0(r,"lastBoundingBox",{width:-1,height:-1}),r}return rve(t,e),Xge(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,n=this.getBBox();n?(Math.abs(n.width-this.lastBoundingBox.width)>IP||Math.abs(n.height-this.lastBoundingBox.height)>IP)&&(this.lastBoundingBox.width=n.width,this.lastBoundingBox.height=n.height,r&&r(n)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?_i({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var n=this.props,a=n.layout,i=n.align,o=n.verticalAlign,l=n.margin,c=n.chartWidth,u=n.chartHeight,d,f;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(i==="center"&&a==="vertical"){var h=this.getBBoxSnapshot();d={left:((c||0)-h.width)/2}}else d=i==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(o==="middle"){var m=this.getBBoxSnapshot();f={top:((u||0)-m.height)/2}}else f=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return _i(_i({},d),f)}},{key:"render",value:function(){var r=this,n=this.props,a=n.content,i=n.width,o=n.height,l=n.wrapperStyle,c=n.payloadUniqBy,u=n.payload,d=_i(_i({position:"absolute",width:i||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return E.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(f){r.wrapperNode=f}},ove(a,_i(_i({},this.props),{},{payload:eF(u,c,ive)})))}}],[{key:"getWithHeight",value:function(r,n){var a=_i(_i({},this.defaultProps),r.props),i=a.layout;return i==="vertical"&&je(r.props.height)?{height:r.props.height}:i==="horizontal"?{width:r.props.width||n}:null}}])}(g.PureComponent);i0(Xo,"displayName","Legend");i0(Xo,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var DP=eg,lve=dS,cve=ta,zP=DP?DP.isConcatSpreadable:void 0;function uve(e){return cve(e)||lve(e)||!!(zP&&e&&e[zP])}var dve=uve,fve=qL,hve=dve;function nF(e,t,r,n,a){var i=-1,o=e.length;for(r||(r=hve),a||(a=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?nF(l,t-1,r,n,a):fve(a,l):n||(a[a.length]=l)}return a}var aF=nF;function mve(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++a];if(r(i[c],c,i)===!1)break}return t}}var pve=mve,gve=pve,vve=gve(),yve=vve,xve=yve,bve=s0;function wve(e,t){return e&&xve(e,t,bve)}var sF=wve,jve=tg;function Nve(e,t){return function(r,n){if(r==null)return r;if(!jve(r))return e(r,n);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&n(o[i],i,o)!==!1;);return r}}var _ve=Nve,kve=sF,Sve=_ve,Cve=Sve(kve),pS=Cve,Eve=pS,Ove=tg;function Ave(e,t){var r=-1,n=Ove(e)?Array(e.length):[];return Eve(e,function(a,i,o){n[++r]=t(a,i,o)}),n}var iF=Ave;function Pve(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var Tve=Pve,LP=Mf;function $ve(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=LP(e),o=t!==void 0,l=t===null,c=t===t,u=LP(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!a)return 1;if(!n&&!i&&!u&&e<t||u&&r&&a&&!n&&!i||l&&r&&a||!o&&a||!c)return-1}return 0}var Mve=$ve,Rve=Mve;function Ive(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,o=a.length,l=r.length;++n<o;){var c=Rve(a[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var Dve=Ive,lj=eS,zve=tS,Lve=mi,Fve=iF,Bve=Tve,qve=WL,Uve=Dve,Vve=qf,Wve=ta;function Kve(e,t,r){t.length?t=lj(t,function(i){return Wve(i)?function(o){return zve(o,i.length===1?i[0]:i)}:i}):t=[Vve];var n=-1;t=lj(t,qve(Lve));var a=Fve(e,function(i,o,l){var c=lj(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return Bve(a,function(i,o){return Uve(i,o,r)})}var Hve=Kve;function Gve(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Yve=Gve,Qve=Yve,FP=Math.max;function Zve(e,t,r){return t=FP(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=FP(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),Qve(e,this,l)}}var Xve=Zve;function Jve(e){return function(){return e}}var eye=Jve,tye=Xc,rye=function(){try{var e=tye(Object,"defineProperty");return e({},"",{}),e}catch{}}(),oF=rye,nye=eye,BP=oF,aye=qf,sye=BP?function(e,t){return BP(e,"toString",{configurable:!0,enumerable:!1,value:nye(t),writable:!0})}:aye,iye=sye,oye=800,lye=16,cye=Date.now;function uye(e){var t=0,r=0;return function(){var n=cye(),a=lye-(n-r);if(r=n,a>0){if(++t>=oye)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var dye=uye,fye=iye,hye=dye,mye=hye(fye),pye=mye,gye=qf,vye=Xve,yye=pye;function xye(e,t){return yye(vye(e,t,gye),e+"")}var bye=xye,wye=Qk,jye=tg,Nye=fS,_ye=Sl;function kye(e,t,r){if(!_ye(r))return!1;var n=typeof t;return(n=="number"?jye(r)&&Nye(t,r.length):n=="string"&&t in r)?wye(r[t],e):!1}var o0=kye,Sye=aF,Cye=Hve,Eye=bye,qP=o0,Oye=Eye(function(e,t){if(e==null)return[];var r=t.length;return r>1&&qP(e,t[0],t[1])?t=[]:r>2&&qP(t[0],t[1],t[2])&&(t=[t[0]]),Cye(e,Sye(t,1),[])}),Aye=Oye;const gS=Ct(Aye);function Wm(e){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wm(e)}function IN(){return IN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},IN.apply(this,arguments)}function Pye(e,t){return Rye(e)||Mye(e,t)||$ye(e,t)||Tye()}function Tye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ye(e,t){if(e){if(typeof e=="string")return UP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UP(e,t)}}function UP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Mye(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Rye(e){if(Array.isArray(e))return e}function VP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VP(Object(r),!0).forEach(function(n){Iye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Iye(e,t,r){return t=Dye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dye(e){var t=zye(e,"string");return Wm(t)=="symbol"?t:t+""}function zye(e,t){if(Wm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lye(e){return Array.isArray(e)&&Ur(e[0])&&Ur(e[1])?e.join(" ~ "):e}var Fye=function(e){var t=e.separator,r=t===void 0?" : ":t,n=e.contentStyle,a=n===void 0?{}:n,i=e.itemStyle,o=i===void 0?{}:i,l=e.labelStyle,c=l===void 0?{}:l,u=e.payload,d=e.formatter,f=e.itemSorter,h=e.wrapperClassName,m=e.labelClassName,v=e.label,p=e.labelFormatter,b=e.accessibilityLayer,x=b===void 0?!1:b,y=function(){if(u&&u.length){var T={padding:0,margin:0},P=(f?gS(u,f):u).map(function(S,M){if(S.type==="none")return null;var $=cj({display:"block",paddingTop:4,paddingBottom:4,color:S.color||"#000"},o),q=S.formatter||d||Lye,U=S.value,L=S.name,z=U,R=L;if(q&&z!=null&&R!=null){var G=q(U,L,S,M,u);if(Array.isArray(G)){var D=Pye(G,2);z=D[0],R=D[1]}else z=G}return E.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:$},Ur(R)?E.createElement("span",{className:"recharts-tooltip-item-name"},R):null,Ur(R)?E.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,E.createElement("span",{className:"recharts-tooltip-item-value"},z),E.createElement("span",{className:"recharts-tooltip-item-unit"},S.unit||""))});return E.createElement("ul",{className:"recharts-tooltip-item-list",style:T},P)}return null},w=cj({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),j=cj({margin:0},c),N=!He(v),_=N?v:"",k=Ze("recharts-default-tooltip",h),C=Ze("recharts-tooltip-label",m);N&&p&&u!==void 0&&u!==null&&(_=p(v,u));var O=x?{role:"status","aria-live":"assertive"}:{};return E.createElement("div",IN({className:k,style:w},O),E.createElement("p",{className:C,style:j},E.isValidElement(_)?_:"".concat(_)),y())};function Km(e){"@babel/helpers - typeof";return Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Km(e)}function ev(e,t,r){return t=Bye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bye(e){var t=qye(e,"string");return Km(t)=="symbol"?t:t+""}function qye(e,t){if(Km(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kh="recharts-tooltip-wrapper",Uye={visibility:"hidden"};function Vye(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Ze(kh,ev(ev(ev(ev({},"".concat(kh,"-right"),je(r)&&t&&je(t.x)&&r>=t.x),"".concat(kh,"-left"),je(r)&&t&&je(t.x)&&r<t.x),"".concat(kh,"-bottom"),je(n)&&t&&je(t.y)&&n>=t.y),"".concat(kh,"-top"),je(n)&&t&&je(t.y)&&n<t.y))}function WP(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&je(i[n]))return i[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var h=d,m=c[n];return h<m?Math.max(f,c[n]):Math.max(d,c[n])}var v=f+l,p=c[n]+u;return v>p?Math.max(d,c[n]):Math.max(f,c[n])}function Wye(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Kye(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=WP({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=WP({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=Wye({translateX:d,translateY:f,useTranslate3d:l})):u=Uye,{cssProperties:u,cssClasses:Vye({translateX:d,translateY:f,coordinate:r})}}function Ld(e){"@babel/helpers - typeof";return Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ld(e)}function KP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function HP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KP(Object(r),!0).forEach(function(n){zN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gye(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cF(n.key),n)}}function Yye(e,t,r){return t&&Gye(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qye(e,t,r){return t=Iy(t),Zye(e,lF()?Reflect.construct(t,r||[],Iy(e).constructor):t.apply(e,r))}function Zye(e,t){if(t&&(Ld(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xye(e)}function Xye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lF=function(){return!!e})()}function Iy(e){return Iy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Iy(e)}function Jye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&DN(e,t)}function DN(e,t){return DN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},DN(e,t)}function zN(e,t,r){return t=cF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cF(e){var t=exe(e,"string");return Ld(t)=="symbol"?t:t+""}function exe(e,t){if(Ld(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var GP=1,txe=function(e){function t(){var r;Hye(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Qye(this,t,[].concat(a)),zN(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),zN(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return Jye(t,e),Yye(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>GP||Math.abs(r.height-this.state.lastBoundingBox.height)>GP)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,n;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,n=this.props,a=n.active,i=n.allowEscapeViewBox,o=n.animationDuration,l=n.animationEasing,c=n.children,u=n.coordinate,d=n.hasPayload,f=n.isAnimationActive,h=n.offset,m=n.position,v=n.reverseDirection,p=n.useTranslate3d,b=n.viewBox,x=n.wrapperStyle,y=Kye({allowEscapeViewBox:i,coordinate:u,offsetTopLeft:h,position:m,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:p,viewBox:b}),w=y.cssClasses,j=y.cssProperties,N=HP(HP({transition:f&&a?"transform ".concat(o,"ms ").concat(l):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&d?"visible":"hidden",position:"absolute",top:0,left:0},x);return E.createElement("div",{tabIndex:-1,className:w,style:N,ref:function(_){r.wrapperNode=_}},c)}}])}(g.PureComponent),rxe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},pi={isSsr:rxe()};function Fd(e){"@babel/helpers - typeof";return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fd(e)}function YP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function QP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YP(Object(r),!0).forEach(function(n){vS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function axe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dF(n.key),n)}}function sxe(e,t,r){return t&&axe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ixe(e,t,r){return t=Dy(t),oxe(e,uF()?Reflect.construct(t,r||[],Dy(e).constructor):t.apply(e,r))}function oxe(e,t){if(t&&(Fd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lxe(e)}function lxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uF=function(){return!!e})()}function Dy(e){return Dy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Dy(e)}function cxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&LN(e,t)}function LN(e,t){return LN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},LN(e,t)}function vS(e,t,r){return t=dF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dF(e){var t=uxe(e,"string");return Fd(t)=="symbol"?t:t+""}function uxe(e,t){if(Fd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function dxe(e){return e.dataKey}function fxe(e,t){return E.isValidElement(e)?E.cloneElement(e,t):typeof e=="function"?E.createElement(e,t):E.createElement(Fye,t)}var Ma=function(e){function t(){return nxe(this,t),ixe(this,t,arguments)}return cxe(t,e),sxe(t,[{key:"render",value:function(){var r=this,n=this.props,a=n.active,i=n.allowEscapeViewBox,o=n.animationDuration,l=n.animationEasing,c=n.content,u=n.coordinate,d=n.filterNull,f=n.isAnimationActive,h=n.offset,m=n.payload,v=n.payloadUniqBy,p=n.position,b=n.reverseDirection,x=n.useTranslate3d,y=n.viewBox,w=n.wrapperStyle,j=m??[];d&&j.length&&(j=eF(m.filter(function(_){return _.value!=null&&(_.hide!==!0||r.props.includeHidden)}),v,dxe));var N=j.length>0;return E.createElement(txe,{allowEscapeViewBox:i,animationDuration:o,animationEasing:l,isAnimationActive:f,active:a,coordinate:u,hasPayload:N,offset:h,position:p,reverseDirection:b,useTranslate3d:x,viewBox:y,wrapperStyle:w},fxe(c,QP(QP({},this.props),{},{payload:j})))}}])}(g.PureComponent);vS(Ma,"displayName","Tooltip");vS(Ma,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!pi.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var hxe=hi,mxe=function(){return hxe.Date.now()},pxe=mxe,gxe=/\s/;function vxe(e){for(var t=e.length;t--&&gxe.test(e.charAt(t)););return t}var yxe=vxe,xxe=yxe,bxe=/^\s+/;function wxe(e){return e&&e.slice(0,xxe(e)+1).replace(bxe,"")}var jxe=wxe,Nxe=jxe,ZP=Sl,_xe=Mf,XP=NaN,kxe=/^[-+]0x[0-9a-f]+$/i,Sxe=/^0b[01]+$/i,Cxe=/^0o[0-7]+$/i,Exe=parseInt;function Oxe(e){if(typeof e=="number")return e;if(_xe(e))return XP;if(ZP(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ZP(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Nxe(e);var r=Sxe.test(e);return r||Cxe.test(e)?Exe(e.slice(2),r?2:8):kxe.test(e)?XP:+e}var fF=Oxe,Axe=Sl,uj=pxe,JP=fF,Pxe="Expected a function",Txe=Math.max,$xe=Math.min;function Mxe(e,t,r){var n,a,i,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(Pxe);t=JP(t)||0,Axe(r)&&(d=!!r.leading,f="maxWait"in r,i=f?Txe(JP(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function m(_){var k=n,C=a;return n=a=void 0,u=_,o=e.apply(C,k),o}function v(_){return u=_,l=setTimeout(x,t),d?m(_):o}function p(_){var k=_-c,C=_-u,O=t-k;return f?$xe(O,i-C):O}function b(_){var k=_-c,C=_-u;return c===void 0||k>=t||k<0||f&&C>=i}function x(){var _=uj();if(b(_))return y(_);l=setTimeout(x,p(_))}function y(_){return l=void 0,h&&n?m(_):(n=a=void 0,o)}function w(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function j(){return l===void 0?o:y(uj())}function N(){var _=uj(),k=b(_);if(n=arguments,a=this,c=_,k){if(l===void 0)return v(c);if(f)return clearTimeout(l),l=setTimeout(x,t),m(c)}return l===void 0&&(l=setTimeout(x,t)),o}return N.cancel=w,N.flush=j,N}var Rxe=Mxe,Ixe=Rxe,Dxe=Sl,zxe="Expected a function";function Lxe(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(zxe);return Dxe(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),Ixe(e,t,{leading:n,maxWait:t,trailing:a})}var Fxe=Lxe;const hF=Ct(Fxe);function Hm(e){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hm(e)}function eT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eT(Object(r),!0).forEach(function(n){Bxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bxe(e,t,r){return t=qxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qxe(e){var t=Uxe(e,"string");return Hm(t)=="symbol"?t:t+""}function Uxe(e,t){if(Hm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vxe(e,t){return Gxe(e)||Hxe(e,t)||Kxe(e,t)||Wxe()}function Wxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kxe(e,t){if(e){if(typeof e=="string")return tT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tT(e,t)}}function tT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Hxe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Gxe(e){if(Array.isArray(e))return e}var dj=g.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,m=e.children,v=e.debounce,p=v===void 0?0:v,b=e.id,x=e.className,y=e.onResize,w=e.style,j=w===void 0?{}:w,N=g.useRef(null),_=g.useRef();_.current=y,g.useImperativeHandle(t,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var k=g.useState({containerWidth:a.width,containerHeight:a.height}),C=Vxe(k,2),O=C[0],T=C[1],P=g.useCallback(function(M,$){T(function(q){var U=Math.round(M),L=Math.round($);return q.containerWidth===U&&q.containerHeight===L?q:{containerWidth:U,containerHeight:L}})},[]);g.useEffect(function(){var M=function(z){var R,G=z[0].contentRect,D=G.width,F=G.height;P(D,F),(R=_.current)===null||R===void 0||R.call(_,D,F)};p>0&&(M=hF(M,p,{trailing:!0,leading:!1}));var $=new ResizeObserver(M),q=N.current.getBoundingClientRect(),U=q.width,L=q.height;return P(U,L),$.observe(N.current),function(){$.disconnect()}},[P,p]);var S=g.useMemo(function(){var M=O.containerWidth,$=O.containerHeight;if(M<0||$<0)return null;Ss(cc(o)||cc(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Ss(!r||r>0,"The aspect(%s) must be greater than zero.",r);var q=cc(o)?M:o,U=cc(c)?$:c;r&&r>0&&(q?U=q/r:U&&(q=U*r),h&&U>h&&(U=h)),Ss(q>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,q,U,o,c,d,f,r);var L=!Array.isArray(m)&&qi(m.type).endsWith("Chart");return E.Children.map(m,function(z){return E.isValidElement(z)?g.cloneElement(z,tv({width:q,height:U},L?{style:tv({height:"100%",width:"100%",maxHeight:U,maxWidth:q},z.props.style)}:{})):z})},[r,m,c,h,f,d,O,o]);return E.createElement("div",{id:b?"".concat(b):void 0,className:Ze("recharts-responsive-container",x),style:tv(tv({},j),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:N},S)}),Uf=function(e){return null};Uf.displayName="Cell";function Gm(e){"@babel/helpers - typeof";return Gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gm(e)}function rT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function FN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rT(Object(r),!0).forEach(function(n){Yxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yxe(e,t,r){return t=Qxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qxe(e){var t=Zxe(e,"string");return Gm(t)=="symbol"?t:t+""}function Zxe(e,t){if(Gm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Eu={widthCache:{},cacheCount:0},Xxe=2e3,Jxe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},nT="recharts_measurement_span";function ebe(e){var t=FN({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var rm=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||pi.isSsr)return{width:0,height:0};var r=ebe(t),n=JSON.stringify({text:e,copyStyle:r});if(Eu.widthCache[n])return Eu.widthCache[n];try{var a=document.getElementById(nT);a||(a=document.createElement("span"),a.setAttribute("id",nT),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var i=FN(FN({},Jxe),r);Object.assign(a.style,i),a.textContent="".concat(e);var o=a.getBoundingClientRect(),l={width:o.width,height:o.height};return Eu.widthCache[n]=l,++Eu.cacheCount>Xxe&&(Eu.cacheCount=0,Eu.widthCache={}),l}catch{return{width:0,height:0}}},tbe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Ym(e){"@babel/helpers - typeof";return Ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ym(e)}function zy(e,t){return sbe(e)||abe(e,t)||nbe(e,t)||rbe()}function rbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nbe(e,t){if(e){if(typeof e=="string")return aT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aT(e,t)}}function aT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function abe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function sbe(e){if(Array.isArray(e))return e}function ibe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lbe(n.key),n)}}function obe(e,t,r){return t&&sT(e.prototype,t),r&&sT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function lbe(e){var t=cbe(e,"string");return Ym(t)=="symbol"?t:t+""}function cbe(e,t){if(Ym(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var iT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,oT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ube=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,dbe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,mF={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},fbe=Object.keys(mF),Ju="NaN";function hbe(e,t){return e*mF[t]}var rv=function(){function e(t,r){ibe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!ube.test(r)&&(this.num=NaN,this.unit=""),fbe.includes(r)&&(this.num=hbe(t,r),this.unit="px")}return obe(e,[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(t){var r,n=(r=dbe.exec(t))!==null&&r!==void 0?r:[],a=zy(n,3),i=a[1],o=a[2];return new e(parseFloat(i),o??"")}}])}();function pF(e){if(e.includes(Ju))return Ju;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=iT.exec(t))!==null&&r!==void 0?r:[],a=zy(n,4),i=a[1],o=a[2],l=a[3],c=rv.parse(i??""),u=rv.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Ju;t=t.replace(iT,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=oT.exec(t))!==null&&f!==void 0?f:[],m=zy(h,4),v=m[1],p=m[2],b=m[3],x=rv.parse(v??""),y=rv.parse(b??""),w=p==="+"?x.add(y):x.subtract(y);if(w.isNaN())return Ju;t=t.replace(oT,w.toString())}return t}var lT=/\(([^()]*)\)/;function mbe(e){for(var t=e;t.includes("(");){var r=lT.exec(t),n=zy(r,2),a=n[1];t=t.replace(lT,pF(a))}return t}function pbe(e){var t=e.replace(/\s+/g,"");return t=mbe(t),t=pF(t),t}function gbe(e){try{return pbe(e)}catch{return Ju}}function fj(e){var t=gbe(e.slice(5,-1));return t===Ju?"":t}var vbe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],ybe=["dx","dy","angle","className","breakAll"];function BN(){return BN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},BN.apply(this,arguments)}function cT(e,t){if(e==null)return{};var r=xbe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function uT(e,t){return Nbe(e)||jbe(e,t)||wbe(e,t)||bbe()}function bbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wbe(e,t){if(e){if(typeof e=="string")return dT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dT(e,t)}}function dT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jbe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Nbe(e){if(Array.isArray(e))return e}var gF=/[ \f\n\r\t\v\u2028\u2029]+/,vF=function(e){var t=e.children,r=e.breakAll,n=e.style;try{var a=[];He(t)||(r?a=t.toString().split(""):a=t.toString().split(gF));var i=a.map(function(l){return{word:l,width:rm(l,n).width}}),o=r?0:rm(" ",n).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}},_be=function(e,t,r,n,a){var i=e.maxLines,o=e.children,l=e.style,c=e.breakAll,u=je(i),d=o,f=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return M.reduce(function($,q){var U=q.word,L=q.width,z=$[$.length-1];if(z&&(n==null||a||z.width+L+r<Number(n)))z.words.push(U),z.width+=L+r;else{var R={words:[U],width:L};$.push(R)}return $},[])},h=f(t),m=function(M){return M.reduce(function($,q){return $.width>q.width?$:q})};if(!u)return h;for(var v="…",p=function(M){var $=d.slice(0,M),q=vF({breakAll:c,style:l,children:$+v}).wordsWithComputedWidth,U=f(q),L=U.length>i||m(U).width>Number(n);return[L,U]},b=0,x=d.length-1,y=0,w;b<=x&&y<=d.length-1;){var j=Math.floor((b+x)/2),N=j-1,_=p(N),k=uT(_,2),C=k[0],O=k[1],T=p(j),P=uT(T,1),S=P[0];if(!C&&!S&&(b=j+1),C&&S&&(x=j-1),!C&&S){w=O;break}y++}return w||h},fT=function(e){var t=He(e)?[]:e.toString().split(gF);return[{words:t}]},kbe=function(e){var t=e.width,r=e.scaleToFit,n=e.children,a=e.style,i=e.breakAll,o=e.maxLines;if((t||r)&&!pi.isSsr){var l,c,u=vF({breakAll:i,children:n,style:a});if(u){var d=u.wordsWithComputedWidth,f=u.spaceWidth;l=d,c=f}else return fT(n);return _be({breakAll:i,children:n,maxLines:o,style:a},l,c,t,r)}return fT(n)},hT="#808080",Rc=function(e){var t=e.x,r=t===void 0?0:t,n=e.y,a=n===void 0?0:n,i=e.lineHeight,o=i===void 0?"1em":i,l=e.capHeight,c=l===void 0?"0.71em":l,u=e.scaleToFit,d=u===void 0?!1:u,f=e.textAnchor,h=f===void 0?"start":f,m=e.verticalAnchor,v=m===void 0?"end":m,p=e.fill,b=p===void 0?hT:p,x=cT(e,vbe),y=g.useMemo(function(){return kbe({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:d,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,d,x.style,x.width]),w=x.dx,j=x.dy,N=x.angle,_=x.className,k=x.breakAll,C=cT(x,ybe);if(!Ur(r)||!Ur(a))return null;var O=r+(je(w)?w:0),T=a+(je(j)?j:0),P;switch(v){case"start":P=fj("calc(".concat(c,")"));break;case"middle":P=fj("calc(".concat((y.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:P=fj("calc(".concat(y.length-1," * -").concat(o,")"));break}var S=[];if(d){var M=y[0].width,$=x.width;S.push("scale(".concat((je($)?$/M:1)/M,")"))}return N&&S.push("rotate(".concat(N,", ").concat(O,", ").concat(T,")")),S.length&&(C.transform=S.join(" ")),E.createElement("text",BN({},ze(C,!0),{x:O,y:T,className:Ze("recharts-text",_),textAnchor:h,fill:b.includes("url")?hT:b}),y.map(function(q,U){var L=q.words.join(k?"":" ");return E.createElement("tspan",{x:O,dy:U===0?P:o,key:"".concat(L,"-").concat(U)},L)}))};function Jo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Sbe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function yS(e){let t,r,n;e.length!==2?(t=Jo,r=(l,c)=>Jo(e(l),c),n=(l,c)=>e(l)-c):(t=e===Jo||e===Sbe?e:Cbe,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:i}}function Cbe(){return 0}function yF(e){return e===null?NaN:+e}function*Ebe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Obe=yS(Jo),rg=Obe.right;yS(yF).center;class mT extends Map{constructor(t,r=Tbe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(pT(this,t))}has(t){return super.has(pT(this,t))}set(t,r){return super.set(Abe(this,t),r)}delete(t){return super.delete(Pbe(this,t))}}function pT({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Abe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Pbe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Tbe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function $be(e=Jo){if(e===Jo)return xF;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function xF(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Mbe=Math.sqrt(50),Rbe=Math.sqrt(10),Ibe=Math.sqrt(2);function Ly(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=Mbe?10:i>=Rbe?5:i>=Ibe?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Ly(e,t,r*2):[l,c,u]}function qN(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?Ly(t,e,r):Ly(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function UN(e,t,r){return t=+t,e=+e,r=+r,Ly(e,t,r)[2]}function VN(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?UN(t,e,r):UN(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function gT(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function vT(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function bF(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?xF:$be(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),v=Math.min(n,Math.floor(t+(c-u)*f/c+h));bF(e,t,m,v,a)}const i=e[t];let o=r,l=n;for(Sh(e,r,t),a(e[n],i)>0&&Sh(e,r,n);o<l;){for(Sh(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?Sh(e,r,l):(++l,Sh(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Sh(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Dbe(e,t,r){if(e=Float64Array.from(Ebe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return vT(e);if(t>=1)return gT(e);var n,a=(n-1)*t,i=Math.floor(a),o=gT(bF(e,i).subarray(0,i+1)),l=vT(e.subarray(i+1));return o+(l-o)*(a-i)}}function zbe(e,t,r=yF){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function Lbe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Za(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function oo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const WN=Symbol("implicit");function xS(){var e=new mT,t=[],r=[],n=WN;function a(i){let o=e.get(i);if(o===void 0){if(n!==WN)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new mT;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return xS(t,r).unknown(n)},Za.apply(a,arguments),a}function Qm(){var e=xS().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<n,v=m?a:n,p=m?n:a;i=(p-v)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),v+=(p-v-i*(h-c))*d,o=i*(1-c),l&&(v=Math.round(v),o=Math.round(o));var b=Lbe(h).map(function(x){return v+i*x});return r(m?b.reverse():b)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Qm(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},Za.apply(f(),arguments)}function wF(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return wF(t())},e}function nm(){return wF(Qm.apply(null,arguments).paddingInner(1))}function bS(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function jF(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function ng(){}var Zm=.7,Fy=1/Zm,gd="\\s*([+-]?\\d+)\\s*",Xm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",si="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Fbe=/^#([0-9a-f]{3,8})$/,Bbe=new RegExp(`^rgb\\(${gd},${gd},${gd}\\)$`),qbe=new RegExp(`^rgb\\(${si},${si},${si}\\)$`),Ube=new RegExp(`^rgba\\(${gd},${gd},${gd},${Xm}\\)$`),Vbe=new RegExp(`^rgba\\(${si},${si},${si},${Xm}\\)$`),Wbe=new RegExp(`^hsl\\(${Xm},${si},${si}\\)$`),Kbe=new RegExp(`^hsla\\(${Xm},${si},${si},${Xm}\\)$`),yT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};bS(ng,Jm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:xT,formatHex:xT,formatHex8:Hbe,formatHsl:Gbe,formatRgb:bT,toString:bT});function xT(){return this.rgb().formatHex()}function Hbe(){return this.rgb().formatHex8()}function Gbe(){return NF(this).formatHsl()}function bT(){return this.rgb().formatRgb()}function Jm(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Fbe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?wT(t):r===3?new Hn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?nv(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?nv(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Bbe.exec(e))?new Hn(t[1],t[2],t[3],1):(t=qbe.exec(e))?new Hn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Ube.exec(e))?nv(t[1],t[2],t[3],t[4]):(t=Vbe.exec(e))?nv(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Wbe.exec(e))?_T(t[1],t[2]/100,t[3]/100,1):(t=Kbe.exec(e))?_T(t[1],t[2]/100,t[3]/100,t[4]):yT.hasOwnProperty(e)?wT(yT[e]):e==="transparent"?new Hn(NaN,NaN,NaN,0):null}function wT(e){return new Hn(e>>16&255,e>>8&255,e&255,1)}function nv(e,t,r,n){return n<=0&&(e=t=r=NaN),new Hn(e,t,r,n)}function Ybe(e){return e instanceof ng||(e=Jm(e)),e?(e=e.rgb(),new Hn(e.r,e.g,e.b,e.opacity)):new Hn}function KN(e,t,r,n){return arguments.length===1?Ybe(e):new Hn(e,t,r,n??1)}function Hn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}bS(Hn,KN,jF(ng,{brighter(e){return e=e==null?Fy:Math.pow(Fy,e),new Hn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Zm:Math.pow(Zm,e),new Hn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Hn(yc(this.r),yc(this.g),yc(this.b),By(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:jT,formatHex:jT,formatHex8:Qbe,formatRgb:NT,toString:NT}));function jT(){return`#${uc(this.r)}${uc(this.g)}${uc(this.b)}`}function Qbe(){return`#${uc(this.r)}${uc(this.g)}${uc(this.b)}${uc((isNaN(this.opacity)?1:this.opacity)*255)}`}function NT(){const e=By(this.opacity);return`${e===1?"rgb(":"rgba("}${yc(this.r)}, ${yc(this.g)}, ${yc(this.b)}${e===1?")":`, ${e})`}`}function By(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function yc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function uc(e){return e=yc(e),(e<16?"0":"")+e.toString(16)}function _T(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new vs(e,t,r,n)}function NF(e){if(e instanceof vs)return new vs(e.h,e.s,e.l,e.opacity);if(e instanceof ng||(e=Jm(e)),!e)return new vs;if(e instanceof vs)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new vs(o,l,c,e.opacity)}function Zbe(e,t,r,n){return arguments.length===1?NF(e):new vs(e,t,r,n??1)}function vs(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}bS(vs,Zbe,jF(ng,{brighter(e){return e=e==null?Fy:Math.pow(Fy,e),new vs(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Zm:Math.pow(Zm,e),new vs(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Hn(hj(e>=240?e-240:e+120,a,n),hj(e,a,n),hj(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new vs(kT(this.h),av(this.s),av(this.l),By(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=By(this.opacity);return`${e===1?"hsl(":"hsla("}${kT(this.h)}, ${av(this.s)*100}%, ${av(this.l)*100}%${e===1?")":`, ${e})`}`}}));function kT(e){return e=(e||0)%360,e<0?e+360:e}function av(e){return Math.max(0,Math.min(1,e||0))}function hj(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const wS=e=>()=>e;function Xbe(e,t){return function(r){return e+r*t}}function Jbe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function e0e(e){return(e=+e)==1?_F:function(t,r){return r-t?Jbe(t,r,e):wS(isNaN(t)?r:t)}}function _F(e,t){var r=t-e;return r?Xbe(e,r):wS(isNaN(e)?t:e)}const ST=function e(t){var r=e0e(t);function n(a,i){var o=r((a=KN(a)).r,(i=KN(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=_F(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function t0e(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function r0e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function n0e(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=Vf(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function a0e(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function qy(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function s0e(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Vf(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var HN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,mj=new RegExp(HN.source,"g");function i0e(e){return function(){return e}}function o0e(e){return function(t){return e(t)+""}}function l0e(e,t){var r=HN.lastIndex=mj.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=HN.exec(e))&&(a=mj.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:qy(n,a)})),r=mj.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?o0e(c[0].x):i0e(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Vf(e,t){var r=typeof t,n;return t==null||r==="boolean"?wS(t):(r==="number"?qy:r==="string"?(n=Jm(t))?(t=n,ST):l0e:t instanceof Jm?ST:t instanceof Date?a0e:r0e(t)?t0e:Array.isArray(t)?n0e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?s0e:qy)(e,t)}function jS(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function c0e(e,t){t===void 0&&(t=e,e=Vf);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function u0e(e){return function(){return e}}function Uy(e){return+e}var CT=[0,1];function Cn(e){return e}function GN(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:u0e(isNaN(t)?NaN:.5)}function d0e(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function f0e(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=GN(a,n),i=r(o,i)):(n=GN(n,a),i=r(i,o)),function(l){return i(n(l))}}function h0e(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=GN(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=rg(e,l,1,n)-1;return i[c](a[c](l))}}function ag(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function l0(){var e=CT,t=CT,r=Vf,n,a,i,o=Cn,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==Cn&&(o=d0e(e[0],e[h-1])),l=h>2?h0e:f0e,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=l(t,e.map(n),qy)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Uy),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=jS,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Cn,d()):o!==Cn},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,m){return n=h,a=m,d()}}function NS(){return l0()(Cn,Cn)}function m0e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Vy(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Bd(e){return e=Vy(Math.abs(e)),e?e[1]:NaN}function p0e(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function g0e(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var v0e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ep(e){if(!(t=v0e.exec(e)))throw new Error("invalid format: "+e);var t;return new _S({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ep.prototype=_S.prototype;function _S(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}_S.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function y0e(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var kF;function x0e(e,t){var r=Vy(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(kF=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Vy(e,Math.max(0,t+i-1))[0]}function ET(e,t){var r=Vy(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const OT={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:m0e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>ET(e*100,t),r:ET,s:x0e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function AT(e){return e}var PT=Array.prototype.map,TT=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function b0e(e){var t=e.grouping===void 0||e.thousands===void 0?AT:p0e(PT.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?AT:g0e(PT.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=ep(f);var h=f.fill,m=f.align,v=f.sign,p=f.symbol,b=f.zero,x=f.width,y=f.comma,w=f.precision,j=f.trim,N=f.type;N==="n"?(y=!0,N="g"):OT[N]||(w===void 0&&(w=12),j=!0,N="g"),(b||h==="0"&&m==="=")&&(b=!0,h="0",m="=");var _=p==="$"?r:p==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",k=p==="$"?n:/[%p]/.test(N)?o:"",C=OT[N],O=/[defgprs%]/.test(N);w=w===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function T(P){var S=_,M=k,$,q,U;if(N==="c")M=C(P)+M,P="";else{P=+P;var L=P<0||1/P<0;if(P=isNaN(P)?c:C(Math.abs(P),w),j&&(P=y0e(P)),L&&+P==0&&v!=="+"&&(L=!1),S=(L?v==="("?v:l:v==="-"||v==="("?"":v)+S,M=(N==="s"?TT[8+kF/3]:"")+M+(L&&v==="("?")":""),O){for($=-1,q=P.length;++$<q;)if(U=P.charCodeAt($),48>U||U>57){M=(U===46?a+P.slice($+1):P.slice($))+M,P=P.slice(0,$);break}}}y&&!b&&(P=t(P,1/0));var z=S.length+P.length+M.length,R=z<x?new Array(x-z+1).join(h):"";switch(y&&b&&(P=t(R+P,R.length?x-M.length:1/0),R=""),m){case"<":P=S+P+M+R;break;case"=":P=S+R+P+M;break;case"^":P=R.slice(0,z=R.length>>1)+S+P+M+R.slice(z);break;default:P=R+S+P+M;break}return i(P)}return T.toString=function(){return f+""},T}function d(f,h){var m=u((f=ep(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(Bd(h)/3)))*3,p=Math.pow(10,-v),b=TT[8+v/3];return function(x){return m(p*x)+b}}return{format:u,formatPrefix:d}}var sv,kS,SF;w0e({thousands:",",grouping:[3],currency:["$",""]});function w0e(e){return sv=b0e(e),kS=sv.format,SF=sv.formatPrefix,sv}function j0e(e){return Math.max(0,-Bd(Math.abs(e)))}function N0e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Bd(t)/3)))*3-Bd(Math.abs(e)))}function _0e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Bd(t)-Bd(e))+1}function CF(e,t,r,n){var a=VN(e,t,r),i;switch(n=ep(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=N0e(a,o))&&(n.precision=i),SF(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=_0e(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=j0e(a))&&(n.precision=i-(n.type==="%")*2);break}}return kS(n)}function El(e){var t=e.domain;return e.ticks=function(r){var n=t();return qN(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return CF(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=UN(o,l,r),u===c)return n[a]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function Wy(){var e=NS();return e.copy=function(){return ag(e,Wy())},Za.apply(e,arguments),El(e)}function EF(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Uy),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return EF(e).unknown(t)},e=arguments.length?Array.from(e,Uy):[0,1],El(r)}function OF(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function $T(e){return Math.log(e)}function MT(e){return Math.exp(e)}function k0e(e){return-Math.log(-e)}function S0e(e){return-Math.exp(-e)}function C0e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function E0e(e){return e===10?C0e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function O0e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function RT(e){return(t,r)=>-e(-t,r)}function SS(e){const t=e($T,MT),r=t.domain;let n=10,a,i;function o(){return a=O0e(n),i=E0e(n),r()[0]<0?(a=RT(a),i=RT(i),e(k0e,S0e)):e($T,MT),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),m=a(d),v,p;const b=l==null?10:+l;let x=[];if(!(n%1)&&m-h<b){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(v=1;v<n;++v)if(p=h<0?v/i(-h):v*i(h),!(p<u)){if(p>d)break;x.push(p)}}else for(;h<=m;++h)for(v=n-1;v>=1;--v)if(p=h>0?v/i(-h):v*i(h),!(p<u)){if(p>d)break;x.push(p)}x.length*2<b&&(x=qN(u,d,b))}else x=qN(h,m,Math.min(m-h,b)).map(i);return f?x.reverse():x},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=ep(c)).precision==null&&(c.trim=!0),c=kS(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(OF(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function AF(){const e=SS(l0()).domain([1,10]);return e.copy=()=>ag(e,AF()).base(e.base()),Za.apply(e,arguments),e}function IT(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function DT(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function CS(e){var t=1,r=e(IT(t),DT(t));return r.constant=function(n){return arguments.length?e(IT(t=+n),DT(t)):t},El(r)}function PF(){var e=CS(l0());return e.copy=function(){return ag(e,PF()).constant(e.constant())},Za.apply(e,arguments)}function zT(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function A0e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function P0e(e){return e<0?-e*e:e*e}function ES(e){var t=e(Cn,Cn),r=1;function n(){return r===1?e(Cn,Cn):r===.5?e(A0e,P0e):e(zT(r),zT(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},El(t)}function OS(){var e=ES(l0());return e.copy=function(){return ag(e,OS()).exponent(e.exponent())},Za.apply(e,arguments),e}function T0e(){return OS.apply(null,arguments).exponent(.5)}function LT(e){return Math.sign(e)*e*e}function $0e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function TF(){var e=NS(),t=[0,1],r=!1,n;function a(i){var o=$0e(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(LT(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Uy)).map(LT)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return TF(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Za.apply(a,arguments),El(a)}function $F(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=zbe(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[rg(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Jo),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return $F().domain(e).range(t).unknown(n)},Za.apply(i,arguments)}function MF(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[rg(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return MF().domain([e,t]).range(a).unknown(i)},Za.apply(El(o),arguments)}function RF(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[rg(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return RF().domain(e).range(t).unknown(r)},Za.apply(a,arguments)}const pj=new Date,gj=new Date;function Vr(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},a.filter=i=>Vr(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(pj.setTime(+i),gj.setTime(+o),e(pj),e(gj),Math.floor(r(pj,gj))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const Ky=Vr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ky.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Vr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Ky);Ky.range;const Ri=1e3,qa=Ri*60,Ii=qa*60,Xi=Ii*24,AS=Xi*7,FT=Xi*30,vj=Xi*365,dc=Vr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ri)},(e,t)=>(t-e)/Ri,e=>e.getUTCSeconds());dc.range;const PS=Vr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ri)},(e,t)=>{e.setTime(+e+t*qa)},(e,t)=>(t-e)/qa,e=>e.getMinutes());PS.range;const TS=Vr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*qa)},(e,t)=>(t-e)/qa,e=>e.getUTCMinutes());TS.range;const $S=Vr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ri-e.getMinutes()*qa)},(e,t)=>{e.setTime(+e+t*Ii)},(e,t)=>(t-e)/Ii,e=>e.getHours());$S.range;const MS=Vr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ii)},(e,t)=>(t-e)/Ii,e=>e.getUTCHours());MS.range;const sg=Vr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*qa)/Xi,e=>e.getDate()-1);sg.range;const c0=Vr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Xi,e=>e.getUTCDate()-1);c0.range;const IF=Vr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Xi,e=>Math.floor(e/Xi));IF.range;function Jc(e){return Vr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*qa)/AS)}const u0=Jc(0),Hy=Jc(1),M0e=Jc(2),R0e=Jc(3),qd=Jc(4),I0e=Jc(5),D0e=Jc(6);u0.range;Hy.range;M0e.range;R0e.range;qd.range;I0e.range;D0e.range;function eu(e){return Vr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/AS)}const d0=eu(0),Gy=eu(1),z0e=eu(2),L0e=eu(3),Ud=eu(4),F0e=eu(5),B0e=eu(6);d0.range;Gy.range;z0e.range;L0e.range;Ud.range;F0e.range;B0e.range;const RS=Vr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());RS.range;const IS=Vr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());IS.range;const Ji=Vr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ji.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Vr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ji.range;const eo=Vr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());eo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Vr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});eo.range;function DF(e,t,r,n,a,i){const o=[[dc,1,Ri],[dc,5,5*Ri],[dc,15,15*Ri],[dc,30,30*Ri],[i,1,qa],[i,5,5*qa],[i,15,15*qa],[i,30,30*qa],[a,1,Ii],[a,3,3*Ii],[a,6,6*Ii],[a,12,12*Ii],[n,1,Xi],[n,2,2*Xi],[r,1,AS],[t,1,FT],[t,3,3*FT],[e,1,vj]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),v=m?m.range(u,+d+1):[];return h?v.reverse():v}function c(u,d,f){const h=Math.abs(d-u)/f,m=yS(([,,b])=>b).right(o,h);if(m===o.length)return e.every(VN(u/vj,d/vj,f));if(m===0)return Ky.every(Math.max(VN(u,d,f),1));const[v,p]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return v.every(p)}return[l,c]}const[q0e,U0e]=DF(eo,IS,d0,IF,MS,TS),[V0e,W0e]=DF(Ji,RS,u0,sg,$S,PS);function yj(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function xj(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ch(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function K0e(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Eh(a),d=Oh(a),f=Eh(i),h=Oh(i),m=Eh(o),v=Oh(o),p=Eh(l),b=Oh(l),x=Eh(c),y=Oh(c),w={a:L,A:z,b:R,B:G,c:null,d:KT,e:KT,f:pwe,g:kwe,G:Cwe,H:fwe,I:hwe,j:mwe,L:zF,m:gwe,M:vwe,p:D,q:F,Q:YT,s:QT,S:ywe,u:xwe,U:bwe,V:wwe,w:jwe,W:Nwe,x:null,X:null,y:_we,Y:Swe,Z:Ewe,"%":GT},j={a:J,A:H,b:I,B:oe,c:null,d:HT,e:HT,f:Twe,g:qwe,G:Vwe,H:Owe,I:Awe,j:Pwe,L:FF,m:$we,M:Mwe,p:V,q:de,Q:YT,s:QT,S:Rwe,u:Iwe,U:Dwe,V:zwe,w:Lwe,W:Fwe,x:null,X:null,y:Bwe,Y:Uwe,Z:Wwe,"%":GT},N={a:T,A:P,b:S,B:M,c:$,d:VT,e:VT,f:lwe,g:UT,G:qT,H:WT,I:WT,j:awe,L:owe,m:nwe,M:swe,p:O,q:rwe,Q:uwe,s:dwe,S:iwe,u:Z0e,U:X0e,V:J0e,w:Q0e,W:ewe,x:q,X:U,y:UT,Y:qT,Z:twe,"%":cwe};w.x=_(r,w),w.X=_(n,w),w.c=_(t,w),j.x=_(r,j),j.X=_(n,j),j.c=_(t,j);function _(te,ce){return function(ne){var ee=[],qe=-1,Re=0,ut=te.length,it,Qe,Z;for(ne instanceof Date||(ne=new Date(+ne));++qe<ut;)te.charCodeAt(qe)===37&&(ee.push(te.slice(Re,qe)),(Qe=BT[it=te.charAt(++qe)])!=null?it=te.charAt(++qe):Qe=it==="e"?" ":"0",(Z=ce[it])&&(it=Z(ne,Qe)),ee.push(it),Re=qe+1);return ee.push(te.slice(Re,qe)),ee.join("")}}function k(te,ce){return function(ne){var ee=Ch(1900,void 0,1),qe=C(ee,te,ne+="",0),Re,ut;if(qe!=ne.length)return null;if("Q"in ee)return new Date(ee.Q);if("s"in ee)return new Date(ee.s*1e3+("L"in ee?ee.L:0));if(ce&&!("Z"in ee)&&(ee.Z=0),"p"in ee&&(ee.H=ee.H%12+ee.p*12),ee.m===void 0&&(ee.m="q"in ee?ee.q:0),"V"in ee){if(ee.V<1||ee.V>53)return null;"w"in ee||(ee.w=1),"Z"in ee?(Re=xj(Ch(ee.y,0,1)),ut=Re.getUTCDay(),Re=ut>4||ut===0?Gy.ceil(Re):Gy(Re),Re=c0.offset(Re,(ee.V-1)*7),ee.y=Re.getUTCFullYear(),ee.m=Re.getUTCMonth(),ee.d=Re.getUTCDate()+(ee.w+6)%7):(Re=yj(Ch(ee.y,0,1)),ut=Re.getDay(),Re=ut>4||ut===0?Hy.ceil(Re):Hy(Re),Re=sg.offset(Re,(ee.V-1)*7),ee.y=Re.getFullYear(),ee.m=Re.getMonth(),ee.d=Re.getDate()+(ee.w+6)%7)}else("W"in ee||"U"in ee)&&("w"in ee||(ee.w="u"in ee?ee.u%7:"W"in ee?1:0),ut="Z"in ee?xj(Ch(ee.y,0,1)).getUTCDay():yj(Ch(ee.y,0,1)).getDay(),ee.m=0,ee.d="W"in ee?(ee.w+6)%7+ee.W*7-(ut+5)%7:ee.w+ee.U*7-(ut+6)%7);return"Z"in ee?(ee.H+=ee.Z/100|0,ee.M+=ee.Z%100,xj(ee)):yj(ee)}}function C(te,ce,ne,ee){for(var qe=0,Re=ce.length,ut=ne.length,it,Qe;qe<Re;){if(ee>=ut)return-1;if(it=ce.charCodeAt(qe++),it===37){if(it=ce.charAt(qe++),Qe=N[it in BT?ce.charAt(qe++):it],!Qe||(ee=Qe(te,ne,ee))<0)return-1}else if(it!=ne.charCodeAt(ee++))return-1}return ee}function O(te,ce,ne){var ee=u.exec(ce.slice(ne));return ee?(te.p=d.get(ee[0].toLowerCase()),ne+ee[0].length):-1}function T(te,ce,ne){var ee=m.exec(ce.slice(ne));return ee?(te.w=v.get(ee[0].toLowerCase()),ne+ee[0].length):-1}function P(te,ce,ne){var ee=f.exec(ce.slice(ne));return ee?(te.w=h.get(ee[0].toLowerCase()),ne+ee[0].length):-1}function S(te,ce,ne){var ee=x.exec(ce.slice(ne));return ee?(te.m=y.get(ee[0].toLowerCase()),ne+ee[0].length):-1}function M(te,ce,ne){var ee=p.exec(ce.slice(ne));return ee?(te.m=b.get(ee[0].toLowerCase()),ne+ee[0].length):-1}function $(te,ce,ne){return C(te,t,ce,ne)}function q(te,ce,ne){return C(te,r,ce,ne)}function U(te,ce,ne){return C(te,n,ce,ne)}function L(te){return o[te.getDay()]}function z(te){return i[te.getDay()]}function R(te){return c[te.getMonth()]}function G(te){return l[te.getMonth()]}function D(te){return a[+(te.getHours()>=12)]}function F(te){return 1+~~(te.getMonth()/3)}function J(te){return o[te.getUTCDay()]}function H(te){return i[te.getUTCDay()]}function I(te){return c[te.getUTCMonth()]}function oe(te){return l[te.getUTCMonth()]}function V(te){return a[+(te.getUTCHours()>=12)]}function de(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var ce=_(te+="",w);return ce.toString=function(){return te},ce},parse:function(te){var ce=k(te+="",!1);return ce.toString=function(){return te},ce},utcFormat:function(te){var ce=_(te+="",j);return ce.toString=function(){return te},ce},utcParse:function(te){var ce=k(te+="",!0);return ce.toString=function(){return te},ce}}}var BT={"-":"",_:" ",0:"0"},en=/^\s*\d+/,H0e=/^%/,G0e=/[\\^$*+?|[\]().{}]/g;function kt(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function Y0e(e){return e.replace(G0e,"\\$&")}function Eh(e){return new RegExp("^(?:"+e.map(Y0e).join("|")+")","i")}function Oh(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Q0e(e,t,r){var n=en.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Z0e(e,t,r){var n=en.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function X0e(e,t,r){var n=en.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function J0e(e,t,r){var n=en.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function ewe(e,t,r){var n=en.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function qT(e,t,r){var n=en.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function UT(e,t,r){var n=en.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function twe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function rwe(e,t,r){var n=en.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function nwe(e,t,r){var n=en.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function VT(e,t,r){var n=en.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function awe(e,t,r){var n=en.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function WT(e,t,r){var n=en.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function swe(e,t,r){var n=en.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function iwe(e,t,r){var n=en.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function owe(e,t,r){var n=en.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function lwe(e,t,r){var n=en.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function cwe(e,t,r){var n=H0e.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function uwe(e,t,r){var n=en.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function dwe(e,t,r){var n=en.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function KT(e,t){return kt(e.getDate(),t,2)}function fwe(e,t){return kt(e.getHours(),t,2)}function hwe(e,t){return kt(e.getHours()%12||12,t,2)}function mwe(e,t){return kt(1+sg.count(Ji(e),e),t,3)}function zF(e,t){return kt(e.getMilliseconds(),t,3)}function pwe(e,t){return zF(e,t)+"000"}function gwe(e,t){return kt(e.getMonth()+1,t,2)}function vwe(e,t){return kt(e.getMinutes(),t,2)}function ywe(e,t){return kt(e.getSeconds(),t,2)}function xwe(e){var t=e.getDay();return t===0?7:t}function bwe(e,t){return kt(u0.count(Ji(e)-1,e),t,2)}function LF(e){var t=e.getDay();return t>=4||t===0?qd(e):qd.ceil(e)}function wwe(e,t){return e=LF(e),kt(qd.count(Ji(e),e)+(Ji(e).getDay()===4),t,2)}function jwe(e){return e.getDay()}function Nwe(e,t){return kt(Hy.count(Ji(e)-1,e),t,2)}function _we(e,t){return kt(e.getFullYear()%100,t,2)}function kwe(e,t){return e=LF(e),kt(e.getFullYear()%100,t,2)}function Swe(e,t){return kt(e.getFullYear()%1e4,t,4)}function Cwe(e,t){var r=e.getDay();return e=r>=4||r===0?qd(e):qd.ceil(e),kt(e.getFullYear()%1e4,t,4)}function Ewe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+kt(t/60|0,"0",2)+kt(t%60,"0",2)}function HT(e,t){return kt(e.getUTCDate(),t,2)}function Owe(e,t){return kt(e.getUTCHours(),t,2)}function Awe(e,t){return kt(e.getUTCHours()%12||12,t,2)}function Pwe(e,t){return kt(1+c0.count(eo(e),e),t,3)}function FF(e,t){return kt(e.getUTCMilliseconds(),t,3)}function Twe(e,t){return FF(e,t)+"000"}function $we(e,t){return kt(e.getUTCMonth()+1,t,2)}function Mwe(e,t){return kt(e.getUTCMinutes(),t,2)}function Rwe(e,t){return kt(e.getUTCSeconds(),t,2)}function Iwe(e){var t=e.getUTCDay();return t===0?7:t}function Dwe(e,t){return kt(d0.count(eo(e)-1,e),t,2)}function BF(e){var t=e.getUTCDay();return t>=4||t===0?Ud(e):Ud.ceil(e)}function zwe(e,t){return e=BF(e),kt(Ud.count(eo(e),e)+(eo(e).getUTCDay()===4),t,2)}function Lwe(e){return e.getUTCDay()}function Fwe(e,t){return kt(Gy.count(eo(e)-1,e),t,2)}function Bwe(e,t){return kt(e.getUTCFullYear()%100,t,2)}function qwe(e,t){return e=BF(e),kt(e.getUTCFullYear()%100,t,2)}function Uwe(e,t){return kt(e.getUTCFullYear()%1e4,t,4)}function Vwe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Ud(e):Ud.ceil(e),kt(e.getUTCFullYear()%1e4,t,4)}function Wwe(){return"+0000"}function GT(){return"%"}function YT(e){return+e}function QT(e){return Math.floor(+e/1e3)}var Ou,qF,UF;Kwe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Kwe(e){return Ou=K0e(e),qF=Ou.format,Ou.parse,UF=Ou.utcFormat,Ou.utcParse,Ou}function Hwe(e){return new Date(e)}function Gwe(e){return e instanceof Date?+e:+new Date(+e)}function DS(e,t,r,n,a,i,o,l,c,u){var d=NS(),f=d.invert,h=d.domain,m=u(".%L"),v=u(":%S"),p=u("%I:%M"),b=u("%I %p"),x=u("%a %d"),y=u("%b %d"),w=u("%B"),j=u("%Y");function N(_){return(c(_)<_?m:l(_)<_?v:o(_)<_?p:i(_)<_?b:n(_)<_?a(_)<_?x:y:r(_)<_?w:j)(_)}return d.invert=function(_){return new Date(f(_))},d.domain=function(_){return arguments.length?h(Array.from(_,Gwe)):h().map(Hwe)},d.ticks=function(_){var k=h();return e(k[0],k[k.length-1],_??10)},d.tickFormat=function(_,k){return k==null?N:u(k)},d.nice=function(_){var k=h();return(!_||typeof _.range!="function")&&(_=t(k[0],k[k.length-1],_??10)),_?h(OF(k,_)):d},d.copy=function(){return ag(d,DS(e,t,r,n,a,i,o,l,c,u))},d}function Ywe(){return Za.apply(DS(V0e,W0e,Ji,RS,u0,sg,$S,PS,dc,qF).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Qwe(){return Za.apply(DS(q0e,U0e,eo,IS,d0,c0,MS,TS,dc,UF).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function f0(){var e=0,t=1,r,n,a,i,o=Cn,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,v;return arguments.length?([m,v]=h,o=f(m,v),u):[o(0),o(1)]}}return u.range=d(Vf),u.rangeRound=d(jS),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function Ol(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function VF(){var e=El(f0()(Cn));return e.copy=function(){return Ol(e,VF())},oo.apply(e,arguments)}function WF(){var e=SS(f0()).domain([1,10]);return e.copy=function(){return Ol(e,WF()).base(e.base())},oo.apply(e,arguments)}function KF(){var e=CS(f0());return e.copy=function(){return Ol(e,KF()).constant(e.constant())},oo.apply(e,arguments)}function zS(){var e=ES(f0());return e.copy=function(){return Ol(e,zS()).exponent(e.exponent())},oo.apply(e,arguments)}function Zwe(){return zS.apply(null,arguments).exponent(.5)}function HF(){var e=[],t=Cn;function r(n){if(n!=null&&!isNaN(n=+n))return t((rg(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Jo),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>Dbe(e,i/n))},r.copy=function(){return HF(t).domain(e)},oo.apply(r,arguments)}function h0(){var e=0,t=.5,r=1,n=1,a,i,o,l,c,u=Cn,d,f=!1,h;function m(p){return isNaN(p=+p)?h:(p=.5+((p=+d(p))-i)*(n*p<n*i?l:c),u(f?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([e,t,r]=p,a=d(e=+e),i=d(t=+t),o=d(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m):[e,t,r]},m.clamp=function(p){return arguments.length?(f=!!p,m):f},m.interpolator=function(p){return arguments.length?(u=p,m):u};function v(p){return function(b){var x,y,w;return arguments.length?([x,y,w]=b,u=c0e(p,[x,y,w]),m):[u(0),u(.5),u(1)]}}return m.range=v(Vf),m.rangeRound=v(jS),m.unknown=function(p){return arguments.length?(h=p,m):h},function(p){return d=p,a=p(e),i=p(t),o=p(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m}}function GF(){var e=El(h0()(Cn));return e.copy=function(){return Ol(e,GF())},oo.apply(e,arguments)}function YF(){var e=SS(h0()).domain([.1,1,10]);return e.copy=function(){return Ol(e,YF()).base(e.base())},oo.apply(e,arguments)}function QF(){var e=CS(h0());return e.copy=function(){return Ol(e,QF()).constant(e.constant())},oo.apply(e,arguments)}function LS(){var e=ES(h0());return e.copy=function(){return Ol(e,LS()).exponent(e.exponent())},oo.apply(e,arguments)}function Xwe(){return LS.apply(null,arguments).exponent(.5)}const ZT=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Qm,scaleDiverging:GF,scaleDivergingLog:YF,scaleDivergingPow:LS,scaleDivergingSqrt:Xwe,scaleDivergingSymlog:QF,scaleIdentity:EF,scaleImplicit:WN,scaleLinear:Wy,scaleLog:AF,scaleOrdinal:xS,scalePoint:nm,scalePow:OS,scaleQuantile:$F,scaleQuantize:MF,scaleRadial:TF,scaleSequential:VF,scaleSequentialLog:WF,scaleSequentialPow:zS,scaleSequentialQuantile:HF,scaleSequentialSqrt:Zwe,scaleSequentialSymlog:KF,scaleSqrt:T0e,scaleSymlog:PF,scaleThreshold:RF,scaleTime:Ywe,scaleUtc:Qwe,tickFormat:CF},Symbol.toStringTag,{value:"Module"}));var Jwe=Mf;function eje(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!Jwe(o):r(o,l)))var l=o,c=i}return c}var m0=eje;function tje(e,t){return e>t}var ZF=tje,rje=m0,nje=ZF,aje=qf;function sje(e){return e&&e.length?rje(e,aje,nje):void 0}var ije=sje;const Do=Ct(ije);function oje(e,t){return e<t}var XF=oje,lje=m0,cje=XF,uje=qf;function dje(e){return e&&e.length?lje(e,uje,cje):void 0}var fje=dje;const p0=Ct(fje);var hje=eS,mje=mi,pje=iF,gje=ta;function vje(e,t){var r=gje(e)?hje:pje;return r(e,mje(t))}var yje=vje,xje=aF,bje=yje;function wje(e,t){return xje(bje(e,t),1)}var jje=wje;const Nje=Ct(jje);var _je=mS;function kje(e,t){return _je(e,t)}var Sje=kje;const to=Ct(Sje);var Wf=1e9,Cje={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},BS,ar=!0,Ya="[DecimalError] ",xc=Ya+"Invalid argument: ",FS=Ya+"Exponent out of range: ",Kf=Math.floor,ec=Math.pow,Eje=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ga,Hr=1e7,Qt=7,JF=9007199254740991,Yy=Kf(JF/Qt),Me={};Me.absoluteValue=Me.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Me.comparedTo=Me.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Me.decimalPlaces=Me.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Qt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Me.dividedBy=Me.div=function(e){return Ui(this,new this.constructor(e))};Me.dividedToIntegerBy=Me.idiv=function(e){var t=this,r=t.constructor;return It(Ui(t,new r(e),0,1),r.precision)};Me.equals=Me.eq=function(e){return!this.cmp(e)};Me.exponent=function(){return Ar(this)};Me.greaterThan=Me.gt=function(e){return this.cmp(e)>0};Me.greaterThanOrEqualTo=Me.gte=function(e){return this.cmp(e)>=0};Me.isInteger=Me.isint=function(){return this.e>this.d.length-2};Me.isNegative=Me.isneg=function(){return this.s<0};Me.isPositive=Me.ispos=function(){return this.s>0};Me.isZero=function(){return this.s===0};Me.lessThan=Me.lt=function(e){return this.cmp(e)<0};Me.lessThanOrEqualTo=Me.lte=function(e){return this.cmp(e)<1};Me.logarithm=Me.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(ga))throw Error(Ya+"NaN");if(r.s<1)throw Error(Ya+(r.s?"NaN":"-Infinity"));return r.eq(ga)?new n(0):(ar=!1,t=Ui(tp(r,i),tp(e,i),i),ar=!0,It(t,a))};Me.minus=Me.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?r8(t,e):e8(t,(e.s=-e.s,e))};Me.modulo=Me.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Ya+"NaN");return r.s?(ar=!1,t=Ui(r,e,0,1).times(e),ar=!0,r.minus(t)):It(new n(r),a)};Me.naturalExponential=Me.exp=function(){return t8(this)};Me.naturalLogarithm=Me.ln=function(){return tp(this)};Me.negated=Me.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Me.plus=Me.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?e8(t,e):r8(t,(e.s=-e.s,e))};Me.precision=Me.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(xc+e);if(t=Ar(a)+1,n=a.d.length-1,r=n*Qt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Me.squareRoot=Me.sqrt=function(){var e,t,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Ya+"NaN")}for(e=Ar(l),ar=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Zs(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Kf((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(Ui(l,i,o+2)).times(.5),Zs(i.d).slice(0,o)===(t=Zs(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(It(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return ar=!0,It(n,r)};Me.times=Me.mul=function(e){var t,r,n,a,i,o,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(i=h,h=m,m=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+m[n]*h[a-n-1]+t,i[a--]=l%Hr|0,t=l/Hr|0;i[a]=(i[a]+t)%Hr|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,ar?It(e,f.precision):e};Me.toDecimalPlaces=Me.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(di(e,0,Wf),t===void 0?t=n.rounding:di(t,0,8),It(r,e+Ar(r)+1,t))};Me.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Ic(n,!0):(di(e,0,Wf),t===void 0?t=a.rounding:di(t,0,8),n=It(new a(n),e+1,t),r=Ic(n,!0,e+1)),r};Me.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Ic(a):(di(e,0,Wf),t===void 0?t=i.rounding:di(t,0,8),n=It(new i(a),e+Ar(a)+1,t),r=Ic(n.abs(),!1,e+Ar(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Me.toInteger=Me.toint=function(){var e=this,t=e.constructor;return It(new t(e),Ar(e)+1,t.rounding)};Me.toNumber=function(){return+this};Me.toPower=Me.pow=function(e){var t,r,n,a,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(ga);if(l=new c(l),!l.s){if(e.s<1)throw Error(Ya+"Infinity");return l}if(l.eq(ga))return l;if(n=c.precision,e.eq(ga))return It(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=JF){for(a=new c(ga),t=Math.ceil(n/Qt+4),ar=!1;r%2&&(a=a.times(l),JT(a.d,t)),r=Kf(r/2),r!==0;)l=l.times(l),JT(l.d,t);return ar=!0,e.s<0?new c(ga).div(a):It(a,n)}}else if(i<0)throw Error(Ya+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,ar=!1,a=e.times(tp(l,n+u)),ar=!0,a=t8(a),a.s=i,a};Me.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Ar(a),n=Ic(a,r<=i.toExpNeg||r>=i.toExpPos)):(di(e,1,Wf),t===void 0?t=i.rounding:di(t,0,8),a=It(new i(a),e,t),r=Ar(a),n=Ic(a,e<=r||r<=i.toExpNeg,e)),n};Me.toSignificantDigits=Me.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(di(e,1,Wf),t===void 0?t=n.rounding:di(t,0,8)),It(new n(r),e,t)};Me.toString=Me.valueOf=Me.val=Me.toJSON=Me[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ar(e),r=e.constructor;return Ic(e,t<=r.toExpNeg||t>=r.toExpPos)};function e8(e,t){var r,n,a,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),ar?It(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/Qt),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/Hr|0,c[i]%=Hr;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,ar?It(t,f):t}function di(e,t,r){if(e!==~~e||e<t||e>r)throw Error(xc+e)}function Zs(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=Qt-n.length,r&&(i+=So(r)),i+=n;o=e[t],n=o+"",r=Qt-n.length,r&&(i+=So(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Ui=function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%Hr|0,o=i/Hr|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*Hr+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,u,d,f,h,m,v,p,b,x,y,w,j,N,_,k,C,O=n.constructor,T=n.s==a.s?1:-1,P=n.d,S=a.d;if(!n.s)return new O(n);if(!a.s)throw Error(Ya+"Division by zero");for(c=n.e-a.e,k=S.length,N=P.length,m=new O(T),v=m.d=[],u=0;S[u]==(P[u]||0);)++u;if(S[u]>(P[u]||0)&&--c,i==null?y=i=O.precision:o?y=i+(Ar(n)-Ar(a))+1:y=i,y<0)return new O(0);if(y=y/Qt+2|0,u=0,k==1)for(d=0,S=S[0],y++;(u<N||d)&&y--;u++)w=d*Hr+(P[u]||0),v[u]=w/S|0,d=w%S|0;else{for(d=Hr/(S[0]+1)|0,d>1&&(S=e(S,d),P=e(P,d),k=S.length,N=P.length),j=k,p=P.slice(0,k),b=p.length;b<k;)p[b++]=0;C=S.slice(),C.unshift(0),_=S[0],S[1]>=Hr/2&&++_;do d=0,l=t(S,p,k,b),l<0?(x=p[0],k!=b&&(x=x*Hr+(p[1]||0)),d=x/_|0,d>1?(d>=Hr&&(d=Hr-1),f=e(S,d),h=f.length,b=p.length,l=t(f,p,h,b),l==1&&(d--,r(f,k<h?C:S,h))):(d==0&&(l=d=1),f=S.slice()),h=f.length,h<b&&f.unshift(0),r(p,f,b),l==-1&&(b=p.length,l=t(S,p,k,b),l<1&&(d++,r(p,k<b?C:S,b))),b=p.length):l===0&&(d++,p=[0]),v[u++]=d,l&&p[0]?p[b++]=P[j]||0:(p=[P[j]],b=1);while((j++<N||p[0]!==void 0)&&y--)}return v[0]||v.shift(),m.e=c,It(m,o?i+Ar(m)+1:i)}}();function t8(e,t){var r,n,a,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(Ar(e)>16)throw Error(FS+Ar(e));if(!e.s)return new d(ga);for(ar=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(ec(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(ga),d.precision=l;;){if(a=It(a.times(e),l),r=r.times(++c),o=i.plus(Ui(a,r,l)),Zs(o.d).slice(0,l)===Zs(i.d).slice(0,l)){for(;u--;)i=It(i.times(i),l);return d.precision=f,t==null?(ar=!0,It(i,f)):i}i=o}}function Ar(e){for(var t=e.e*Qt,r=e.d[0];r>=10;r/=10)t++;return t}function bj(e,t,r){if(t>e.LN10.sd())throw ar=!0,r&&(e.precision=r),Error(Ya+"LN10 precision limit exceeded");return It(new e(e.LN10),t)}function So(e){for(var t="";e--;)t+="0";return t}function tp(e,t){var r,n,a,i,o,l,c,u,d,f=1,h=10,m=e,v=m.d,p=m.constructor,b=p.precision;if(m.s<1)throw Error(Ya+(m.s?"NaN":"-Infinity"));if(m.eq(ga))return new p(0);if(t==null?(ar=!1,u=b):u=t,m.eq(10))return t==null&&(ar=!0),bj(p,u);if(u+=h,p.precision=u,r=Zs(v),n=r.charAt(0),i=Ar(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=Zs(m.d),n=r.charAt(0),f++;i=Ar(m),n>1?(m=new p("0."+r),i++):m=new p(n+"."+r.slice(1))}else return c=bj(p,u+2,b).times(i+""),m=tp(new p(n+"."+r.slice(1)),u-h).plus(c),p.precision=b,t==null?(ar=!0,It(m,b)):m;for(l=o=m=Ui(m.minus(ga),m.plus(ga),u),d=It(m.times(m),u),a=3;;){if(o=It(o.times(d),u),c=l.plus(Ui(o,new p(a),u)),Zs(c.d).slice(0,u)===Zs(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(bj(p,u+2,b).times(i+""))),l=Ui(l,new p(f),u),p.precision=b,t==null?(ar=!0,It(l,b)):l;l=c,a+=2}}function XT(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Kf(r/Qt),e.d=[],n=(r+1)%Qt,r<0&&(n+=Qt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Qt;n<a;)e.d.push(+t.slice(n,n+=Qt));t=t.slice(n),n=Qt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),ar&&(e.e>Yy||e.e<-Yy))throw Error(FS+r)}else e.s=0,e.e=0,e.d=[0];return e}function It(e,t,r){var n,a,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Qt,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Qt),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=Qt,a=n-Qt+o}if(r!==void 0&&(i=ec(10,o-a-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/ec(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=Ar(e),f.length=1,t=t-i-1,f[0]=ec(10,(Qt-t%Qt)%Qt),e.e=Kf(-t/Qt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=ec(10,Qt-n),f[d]=a>0?(u/ec(10,o-a)%ec(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==Hr&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=Hr)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(ar&&(e.e>Yy||e.e<-Yy))throw Error(FS+Ar(e));return e}function r8(e,t){var r,n,a,i,o,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),ar?It(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(m/Qt),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=Hr-1;--c[i],c[a]+=Hr}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,ar?It(t,m):t):new h(0)}function Ic(e,t,r){var n,a=Ar(e),i=Zs(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+So(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+So(-a-1)+i,r&&(n=r-o)>0&&(i+=So(n))):a>=o?(i+=So(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+So(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=So(n))),e.s<0?"-"+i:i}function JT(e,t){if(e.length>t)return e.length=t,!0}function n8(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(xc+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return XT(o,i.toString())}else if(typeof i!="string")throw Error(xc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,Eje.test(i))XT(o,i);else throw Error(xc+i)}if(a.prototype=Me,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=n8,a.config=a.set=Oje,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function Oje(e){if(!e||typeof e!="object")throw Error(Ya+"Object expected");var t,r,n,a=["precision",1,Wf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Kf(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(xc+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(xc+r+": "+n);return this}var BS=n8(Cje);ga=new BS(1);const Mt=BS;function Aje(e){return Mje(e)||$je(e)||Tje(e)||Pje()}function Pje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tje(e,t){if(e){if(typeof e=="string")return YN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YN(e,t)}}function $je(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Mje(e){if(Array.isArray(e))return YN(e)}function YN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Rje=function(e){return e},a8={},s8=function(e){return e===a8},e$=function(e){return function t(){return arguments.length===0||arguments.length===1&&s8(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},Ije=function e(t,r){return t===1?r:e$(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==a8}).length;return o>=t?r.apply(void 0,a):e(t-o,e$(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return s8(f)?c.shift():f});return r.apply(void 0,Aje(d).concat(c))}))})},g0=function(e){return Ije(e.length,e)},QN=function(e,t){for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},Dje=g0(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),zje=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.length)return Rje;var n=t.reverse(),a=n[0],i=n.slice(1);return function(){return i.reduce(function(o,l){return l(o)},a.apply(void 0,arguments))}},ZN=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},i8=function(e){var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t&&a.every(function(o,l){return o===t[l]})||(t=a,r=e.apply(void 0,a)),r}};function Lje(e){var t;return e===0?t=1:t=Math.floor(new Mt(e).abs().log(10).toNumber())+1,t}function Fje(e,t,r){for(var n=new Mt(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var Bje=g0(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),qje=g0(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),Uje=g0(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const v0={rangeStep:Fje,getDigitCount:Lje,interpolateNumber:Bje,uninterpolateNumber:qje,uninterpolateTruncation:Uje};function XN(e){return Kje(e)||Wje(e)||o8(e)||Vje()}function Vje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wje(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Kje(e){if(Array.isArray(e))return JN(e)}function rp(e,t){return Yje(e)||Gje(e,t)||o8(e,t)||Hje()}function Hje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o8(e,t){if(e){if(typeof e=="string")return JN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JN(e,t)}}function JN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Gje(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function Yje(e){if(Array.isArray(e))return e}function l8(e){var t=rp(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function c8(e,t,r){if(e.lte(0))return new Mt(0);var n=v0.getDigitCount(e.toNumber()),a=new Mt(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new Mt(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new Mt(Math.ceil(c))}function Qje(e,t,r){var n=1,a=new Mt(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Mt(10).pow(v0.getDigitCount(e)-1),a=new Mt(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Mt(Math.floor(e)))}else e===0?a=new Mt(Math.floor((t-1)/2)):r||(a=new Mt(Math.floor(e)));var o=Math.floor((t-1)/2),l=zje(Dje(function(c){return a.add(new Mt(c-o).mul(n)).toNumber()}),QN);return l(0,t)}function u8(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Mt(0),tickMin:new Mt(0),tickMax:new Mt(0)};var i=c8(new Mt(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new Mt(0):(o=new Mt(e).add(t).div(2),o=o.sub(new Mt(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new Mt(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?u8(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new Mt(l).mul(i)),tickMax:o.add(new Mt(c).mul(i))})}function Zje(e){var t=rp(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=l8([r,n]),c=rp(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(XN(QN(0,a-1).map(function(){return 1/0}))):[].concat(XN(QN(0,a-1).map(function(){return-1/0})),[d]);return r>n?ZN(f):f}if(u===d)return Qje(u,a,i);var h=u8(u,d,o,i),m=h.step,v=h.tickMin,p=h.tickMax,b=v0.rangeStep(v,p.add(new Mt(.1).mul(m)),m);return r>n?ZN(b):b}function Xje(e,t){var r=rp(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=l8([n,a]),l=rp(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=c8(new Mt(u).sub(c).div(d-1),i,0),h=[].concat(XN(v0.rangeStep(new Mt(c),new Mt(u).sub(new Mt(.99).mul(f)),f)),[u]);return n>a?ZN(h):h}var Jje=i8(Zje),e1e=i8(Xje),t1e="Invariant failed";function Dc(e,t){throw new Error(t1e)}var r1e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Vd(e){"@babel/helpers - typeof";return Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vd(e)}function Qy(){return Qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qy.apply(this,arguments)}function n1e(e,t){return o1e(e)||i1e(e,t)||s1e(e,t)||a1e()}function a1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s1e(e,t){if(e){if(typeof e=="string")return t$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t$(e,t)}}function t$(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i1e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function o1e(e){if(Array.isArray(e))return e}function l1e(e,t){if(e==null)return{};var r=c1e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function c1e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function u1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d1e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h8(n.key),n)}}function f1e(e,t,r){return t&&d1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function h1e(e,t,r){return t=Zy(t),m1e(e,d8()?Reflect.construct(t,r||[],Zy(e).constructor):t.apply(e,r))}function m1e(e,t){if(t&&(Vd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p1e(e)}function p1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d8=function(){return!!e})()}function Zy(e){return Zy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Zy(e)}function g1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&e_(e,t)}function e_(e,t){return e_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},e_(e,t)}function f8(e,t,r){return t=h8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h8(e){var t=v1e(e,"string");return Vd(t)=="symbol"?t:t+""}function v1e(e,t){if(Vd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Hf=function(e){function t(){return u1e(this,t),h1e(this,t,arguments)}return g1e(t,e),f1e(t,[{key:"render",value:function(){var r=this.props,n=r.offset,a=r.layout,i=r.width,o=r.dataKey,l=r.data,c=r.dataPointFormatter,u=r.xAxis,d=r.yAxis,f=l1e(r,r1e),h=ze(f,!1);this.props.direction==="x"&&u.type!=="number"&&Dc();var m=l.map(function(v){var p=c(v,o),b=p.x,x=p.y,y=p.value,w=p.errorVal;if(!w)return null;var j=[],N,_;if(Array.isArray(w)){var k=n1e(w,2);N=k[0],_=k[1]}else N=_=w;if(a==="vertical"){var C=u.scale,O=x+n,T=O+i,P=O-i,S=C(y-N),M=C(y+_);j.push({x1:M,y1:T,x2:M,y2:P}),j.push({x1:S,y1:O,x2:M,y2:O}),j.push({x1:S,y1:T,x2:S,y2:P})}else if(a==="horizontal"){var $=d.scale,q=b+n,U=q-i,L=q+i,z=$(y-N),R=$(y+_);j.push({x1:U,y1:R,x2:L,y2:R}),j.push({x1:q,y1:z,x2:q,y2:R}),j.push({x1:U,y1:z,x2:L,y2:z})}return E.createElement(Xe,Qy({className:"recharts-errorBar",key:"bar-".concat(j.map(function(G){return"".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))},h),j.map(function(G){return E.createElement("line",Qy({},G,{key:"line-".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))}))});return E.createElement(Xe,{className:"recharts-errorBars"},m)}}])}(E.Component);f8(Hf,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});f8(Hf,"displayName","ErrorBar");function np(e){"@babel/helpers - typeof";return np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},np(e)}function r$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r$(Object(r),!0).forEach(function(n){y1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function y1e(e,t,r){return t=x1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x1e(e){var t=b1e(e,"string");return np(t)=="symbol"?t:t+""}function b1e(e,t){if(np(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(np(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var m8=function(e){var t=e.children,r=e.formattedGraphicalItems,n=e.legendWidth,a=e.legendContent,i=ca(t,Xo);if(!i)return null;var o=Xo.defaultProps,l=o!==void 0?Wl(Wl({},o),i.props):{},c;return i.props&&i.props.payload?c=i.props&&i.props.payload:a==="children"?c=(r||[]).reduce(function(u,d){var f=d.item,h=d.props,m=h.sectors||h.data||[];return u.concat(m.map(function(v){return{type:i.props.iconType||f.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):c=(r||[]).map(function(u){var d=u.item,f=d.type.defaultProps,h=f!==void 0?Wl(Wl({},f),d.props):{},m=h.dataKey,v=h.name,p=h.legendType,b=h.hide;return{inactive:b,dataKey:m,type:l.iconType||p||"square",color:qS(d),value:v||m,payload:h}}),Wl(Wl(Wl({},l),Xo.getWithHeight(i,n)),{},{payload:c,item:i})};function ap(e){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ap(e)}function n$(e){return _1e(e)||N1e(e)||j1e(e)||w1e()}function w1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j1e(e,t){if(e){if(typeof e=="string")return t_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t_(e,t)}}function N1e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _1e(e){if(Array.isArray(e))return t_(e)}function t_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a$(Object(r),!0).forEach(function(n){vd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vd(e,t,r){return t=k1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k1e(e){var t=S1e(e,"string");return ap(t)=="symbol"?t:t+""}function S1e(e,t){if(ap(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qt(e,t,r){return He(e)||He(t)?r:Ur(t)?wa(e,t,r):We(t)?t(e):r}function Tv(e,t,r,n){var a=Nje(e,function(l){return qt(l,t)});if(r==="number"){var i=a.filter(function(l){return je(l)||parseFloat(l)});return i.length?[p0(i),Do(i)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!He(l)}):a;return o.map(function(l){return Ur(l)||l instanceof Date?l:""})}var C1e=function(e){var t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,i=-1,o=(t=r==null?void 0:r.length)!==null&&t!==void 0?t:0;if(o<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,c=0;c<o;c++){var u=c>0?n[c-1].coordinate:n[o-1].coordinate,d=n[c].coordinate,f=c>=o-1?n[0].coordinate:n[c+1].coordinate,h=void 0;if(Qr(d-u)!==Qr(f-d)){var m=[];if(Qr(f-d)===Qr(l[1]-l[0])){h=f;var v=d+l[1]-l[0];m[0]=Math.min(v,(v+u)/2),m[1]=Math.max(v,(v+u)/2)}else{h=u;var p=f+l[1]-l[0];m[0]=Math.min(d,(p+d)/2),m[1]=Math.max(d,(p+d)/2)}var b=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>b[0]&&e<=b[1]||e>=m[0]&&e<=m[1]){i=n[c].index;break}}else{var x=Math.min(u,f),y=Math.max(u,f);if(e>(x+d)/2&&e<=(y+d)/2){i=n[c].index;break}}}else for(var w=0;w<o;w++)if(w===0&&e<=(r[w].coordinate+r[w+1].coordinate)/2||w>0&&w<o-1&&e>(r[w].coordinate+r[w-1].coordinate)/2&&e<=(r[w].coordinate+r[w+1].coordinate)/2||w===o-1&&e>(r[w].coordinate+r[w-1].coordinate)/2){i=r[w].index;break}return i},qS=function(e){var t,r=e,n=r.type.displayName,a=(t=e.type)!==null&&t!==void 0&&t.defaultProps?hr(hr({},e.type.defaultProps),e.props):e.props,i=a.stroke,o=a.fill,l;switch(n){case"Line":l=i;break;case"Area":case"Radar":l=i&&i!=="none"?i:o;break;default:l=o;break}return l},E1e=function(e){var t=e.barSize,r=e.totalSize,n=e.stackGroups,a=n===void 0?{}:n;if(!a)return{};for(var i={},o=Object.keys(a),l=0,c=o.length;l<c;l++)for(var u=a[o[l]].stackGroups,d=Object.keys(u),f=0,h=d.length;f<h;f++){var m=u[d[f]],v=m.items,p=m.cateAxisId,b=v.filter(function(_){return qi(_.type).indexOf("Bar")>=0});if(b&&b.length){var x=b[0].type.defaultProps,y=x!==void 0?hr(hr({},x),b[0].props):b[0].props,w=y.barSize,j=y[p];i[j]||(i[j]=[]);var N=He(w)?t:w;i[j].push({item:b[0],stackList:b.slice(1),barSize:He(N)?void 0:Sn(N,r,0)})}}return i},O1e=function(e){var t=e.barGap,r=e.barCategoryGap,n=e.bandSize,a=e.sizeList,i=a===void 0?[]:a,o=e.maxBarSize,l=i.length;if(l<1)return null;var c=Sn(t,n,0,!0),u,d=[];if(i[0].barSize===+i[0].barSize){var f=!1,h=n/l,m=i.reduce(function(w,j){return w+j.barSize||0},0);m+=(l-1)*c,m>=n&&(m-=(l-1)*c,c=0),m>=n&&h>0&&(f=!0,h*=.9,m=l*h);var v=(n-m)/2>>0,p={offset:v-c,size:0};u=i.reduce(function(w,j){var N={item:j.item,position:{offset:p.offset+p.size+c,size:f?h:j.barSize}},_=[].concat(n$(w),[N]);return p=_[_.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(k){_.push({item:k,position:p})}),_},d)}else{var b=Sn(r,n,0,!0);n-2*b-(l-1)*c<=0&&(c=0);var x=(n-2*b-(l-1)*c)/l;x>1&&(x>>=0);var y=o===+o?Math.min(x,o):x;u=i.reduce(function(w,j,N){var _=[].concat(n$(w),[{item:j.item,position:{offset:b+(x+c)*N+(x-y)/2,size:y}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(k){_.push({item:k,position:_[_.length-1].position})}),_},d)}return u},A1e=function(e,t,r,n){var a=r.children,i=r.width,o=r.margin,l=i-(o.left||0)-(o.right||0),c=m8({children:a,legendWidth:l});if(c){var u=n||{},d=u.width,f=u.height,h=c.align,m=c.verticalAlign,v=c.layout;if((v==="vertical"||v==="horizontal"&&m==="middle")&&h!=="center"&&je(e[h]))return hr(hr({},e),{},vd({},h,e[h]+(d||0)));if((v==="horizontal"||v==="vertical"&&h==="center")&&m!=="middle"&&je(e[m]))return hr(hr({},e),{},vd({},m,e[m]+(f||0)))}return e},P1e=function(e,t,r){return He(t)?!0:e==="horizontal"?t==="yAxis":e==="vertical"||r==="x"?t==="xAxis":r==="y"?t==="yAxis":!0},p8=function(e,t,r,n,a){var i=t.props.children,o=vn(i,Hf).filter(function(c){return P1e(n,a,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return e.reduce(function(c,u){var d=qt(u,r);if(He(d))return c;var f=Array.isArray(d)?[p0(d),Do(d)]:[d,d],h=l.reduce(function(m,v){var p=qt(u,v,0),b=f[0]-Math.abs(Array.isArray(p)?p[0]:p),x=f[1]+Math.abs(Array.isArray(p)?p[1]:p);return[Math.min(b,m[0]),Math.max(x,m[1])]},[1/0,-1/0]);return[Math.min(h[0],c[0]),Math.max(h[1],c[1])]},[1/0,-1/0])}return null},T1e=function(e,t,r,n,a){var i=t.map(function(o){return p8(e,o,r,a,n)}).filter(function(o){return!He(o)});return i&&i.length?i.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},g8=function(e,t,r,n,a){var i=t.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&p8(e,l,c,n)||Tv(e,c,r,a)});if(r==="number")return i.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return i.reduce(function(l,c){for(var u=0,d=c.length;u<d;u++)o[c[u]]||(o[c[u]]=!0,l.push(c[u]));return l},[])},v8=function(e,t){return e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis"},y8=function(e,t,r,n){if(n)return e.map(function(l){return l.coordinate});var a,i,o=e.map(function(l){return l.coordinate===t&&(a=!0),l.coordinate===r&&(i=!0),l.coordinate});return a||o.push(t),i||o.push(r),o},Di=function(e,t,r){if(!e)return null;var n=e.scale,a=e.duplicateDomain,i=e.type,o=e.range,l=e.realScaleType==="scaleBand"?n.bandwidth()/2:2,c=(t||r)&&i==="category"&&n.bandwidth?n.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?Qr(o[0]-o[1])*2*c:c,t&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(d){var f=a?a.indexOf(d):d;return{coordinate:n(f)+c,value:d,offset:c}});return u.filter(function(d){return!Lf(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,f){return{coordinate:n(d)+c,value:d,index:f,offset:c}}):n.ticks&&!r?n.ticks(e.tickCount).map(function(d){return{coordinate:n(d)+c,value:d,offset:c}}):n.domain().map(function(d,f){return{coordinate:n(d)+c,value:a?a[d]:d,index:f,offset:c}})},wj=new WeakMap,iv=function(e,t){if(typeof t!="function")return e;wj.has(e)||wj.set(e,new WeakMap);var r=wj.get(e);if(r.has(t))return r.get(t);var n=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return r.set(t,n),n},x8=function(e,t,r){var n=e.scale,a=e.type,i=e.layout,o=e.axisType;if(n==="auto")return i==="radial"&&o==="radiusAxis"?{scale:Qm(),realScaleType:"band"}:i==="radial"&&o==="angleAxis"?{scale:Wy(),realScaleType:"linear"}:a==="category"&&t&&(t.indexOf("LineChart")>=0||t.indexOf("AreaChart")>=0||t.indexOf("ComposedChart")>=0&&!r)?{scale:nm(),realScaleType:"point"}:a==="category"?{scale:Qm(),realScaleType:"band"}:{scale:Wy(),realScaleType:"linear"};if(Mc(n)){var l="scale".concat(e0(n));return{scale:(ZT[l]||nm)(),realScaleType:ZT[l]?l:"point"}}return We(n)?{scale:n}:{scale:nm(),realScaleType:"point"}},s$=1e-4,b8=function(e){var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-s$,i=Math.max(n[0],n[1])+s$,o=e(t[0]),l=e(t[r-1]);(o<a||o>i||l<a||l>i)&&e.domain([t[0],t[r-1]])}},w8=function(e,t){if(!e)return null;for(var r=0,n=e.length;r<n;r++)if(e[r].item===t)return e[r].position;return null},j8=function(e,t){if(!t||t.length!==2||!je(t[0])||!je(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!je(e[0])||e[0]<r)&&(a[0]=r),(!je(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},$1e=function(e){var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0,o=0;o<t;++o){var l=Lf(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1]):(e[o][r][0]=i,e[o][r][1]=i+l,i=e[o][r][1])}},M1e=function(e){var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0;i<t;++i){var o=Lf(e[i][r][1])?e[i][r][0]:e[i][r][1];o>=0?(e[i][r][0]=a,e[i][r][1]=a+o,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},R1e={sign:$1e,expand:rde,none:Id,silhouette:nde,wiggle:ade,positive:M1e},I1e=function(e,t,r){var n=t.map(function(o){return o.props.dataKey}),a=R1e[r],i=tde().keys(n).value(function(o,l){return+qt(o,l,0)}).order(SN).offset(a);return i(e)},D1e=function(e,t,r,n,a,i){if(!e)return null;var o=i?t.reverse():t,l={},c=o.reduce(function(d,f){var h,m=(h=f.type)!==null&&h!==void 0&&h.defaultProps?hr(hr({},f.type.defaultProps),f.props):f.props,v=m.stackId,p=m.hide;if(p)return d;var b=m[r],x=d[b]||{hasStack:!1,stackGroups:{}};if(Ur(v)){var y=x.stackGroups[v]||{numericAxisId:r,cateAxisId:n,items:[]};y.items.push(f),x.hasStack=!0,x.stackGroups[v]=y}else x.stackGroups[Cl("_stackId_")]={numericAxisId:r,cateAxisId:n,items:[f]};return hr(hr({},d),{},vd({},b,x))},l),u={};return Object.keys(c).reduce(function(d,f){var h=c[f];if(h.hasStack){var m={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(v,p){var b=h.stackGroups[p];return hr(hr({},v),{},vd({},p,{numericAxisId:r,cateAxisId:n,items:b.items,stackedData:I1e(e,b.items,a)}))},m)}return hr(hr({},d),{},vd({},f,h))},u)},N8=function(e,t){var r=t.realScaleType,n=t.type,a=t.tickCount,i=t.originalDomain,o=t.allowDecimals,l=r||t.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&n==="number"&&i&&(i[0]==="auto"||i[1]==="auto")){var c=e.domain();if(!c.length)return null;var u=Jje(c,a,o);return e.domain([p0(u),Do(u)]),{niceTicks:u}}if(a&&n==="number"){var d=e.domain(),f=e1e(d,a,o);return{niceTicks:f}}return null};function Wd(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!He(a[t.dataKey])){var l=_y(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=qt(a,He(o)?t.dataKey:o);return He(c)?null:t.scale(c)}var Xy=function(e){var t=e.axis,r=e.ticks,n=e.offset,a=e.bandSize,i=e.entry,o=e.index;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var l=qt(i,t.dataKey,t.domain[o]);return He(l)?null:t.scale(l)-a/2+n},_8=function(e){var t=e.numericAxis,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},z1e=function(e,t){var r,n=(r=e.type)!==null&&r!==void 0&&r.defaultProps?hr(hr({},e.type.defaultProps),e.props):e.props,a=n.stackId;if(Ur(a)){var i=t[a];if(i){var o=i.items.indexOf(e);return o>=0?i.stackedData[o]:null}}return null},L1e=function(e){return e.reduce(function(t,r){return[p0(r.concat([t[0]]).filter(je)),Do(r.concat([t[1]]).filter(je))]},[1/0,-1/0])},k8=function(e,t,r){return Object.keys(e).reduce(function(n,a){var i=e[a],o=i.stackedData,l=o.reduce(function(c,u){var d=L1e(u.slice(t,r+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]).map(function(n){return n===1/0||n===-1/0?0:n})},i$=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,o$=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,r_=function(e,t,r){if(We(e))return e(t,r);if(!Array.isArray(e))return t;var n=[];if(je(e[0]))n[0]=r?e[0]:Math.min(e[0],t[0]);else if(i$.test(e[0])){var a=+i$.exec(e[0])[1];n[0]=t[0]-a}else We(e[0])?n[0]=e[0](t[0]):n[0]=t[0];if(je(e[1]))n[1]=r?e[1]:Math.max(e[1],t[1]);else if(o$.test(e[1])){var i=+o$.exec(e[1])[1];n[1]=t[1]+i}else We(e[1])?n[1]=e[1](t[1]):n[1]=t[1];return n},Jy=function(e,t,r){if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=gS(t,function(d){return d.coordinate}),i=1/0,o=1,l=a.length;o<l;o++){var c=a[o],u=a[o-1];i=Math.min((c.coordinate||0)-(u.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0},l$=function(e,t,r){return!e||!e.length||to(e,wa(r,"type.defaultProps.domain"))?t:e},US=function(e,t){var r=e.type.defaultProps?hr(hr({},e.type.defaultProps),e.props):e.props,n=r.dataKey,a=r.name,i=r.unit,o=r.formatter,l=r.tooltipType,c=r.chartType,u=r.hide;return hr(hr({},ze(e,!1)),{},{dataKey:n,unit:i,formatter:o,name:a||n,color:qS(e),value:qt(t,n),type:l,payload:t,chartType:c,hide:u})};function sp(e){"@babel/helpers - typeof";return sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sp(e)}function c$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Oi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c$(Object(r),!0).forEach(function(n){S8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S8(e,t,r){return t=F1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F1e(e){var t=B1e(e,"string");return sp(t)=="symbol"?t:t+""}function B1e(e,t){if(sp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function q1e(e,t){return K1e(e)||W1e(e,t)||V1e(e,t)||U1e()}function U1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V1e(e,t){if(e){if(typeof e=="string")return u$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u$(e,t)}}function u$(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function W1e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function K1e(e){if(Array.isArray(e))return e}var ex=Math.PI/180,H1e=function(e){return e*180/Math.PI},Dt=function(e,t,r,n){return{x:e+Math.cos(-ex*n)*r,y:t+Math.sin(-ex*n)*r}},C8=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(t-(r.top||0)-(r.bottom||0)))/2},E8=function(e,t,r,n,a){var i=e.width,o=e.height,l=e.startAngle,c=e.endAngle,u=Sn(e.cx,i,i/2),d=Sn(e.cy,o,o/2),f=C8(i,o,r),h=Sn(e.innerRadius,f,0),m=Sn(e.outerRadius,f,f*.8),v=Object.keys(t);return v.reduce(function(p,b){var x=t[b],y=x.domain,w=x.reversed,j;if(He(x.range))n==="angleAxis"?j=[l,c]:n==="radiusAxis"&&(j=[h,m]),w&&(j=[j[1],j[0]]);else{j=x.range;var N=j,_=q1e(N,2);l=_[0],c=_[1]}var k=x8(x,a),C=k.realScaleType,O=k.scale;O.domain(y).range(j),b8(O);var T=N8(O,Oi(Oi({},x),{},{realScaleType:C})),P=Oi(Oi(Oi({},x),T),{},{range:j,radius:m,realScaleType:C,scale:O,cx:u,cy:d,innerRadius:h,outerRadius:m,startAngle:l,endAngle:c});return Oi(Oi({},p),{},S8({},b,P))},{})},G1e=function(e,t){var r=e.x,n=e.y,a=t.x,i=t.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(n-i,2))},Y1e=function(e,t){var r=e.x,n=e.y,a=t.cx,i=t.cy,o=G1e({x:r,y:n},{x:a,y:i});if(o<=0)return{radius:o};var l=(r-a)/o,c=Math.acos(l);return n>i&&(c=2*Math.PI-c),{radius:o,angle:H1e(c),angleInRadian:c}},Q1e=function(e){var t=e.startAngle,r=e.endAngle,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},Z1e=function(e,t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return e+o*360},d$=function(e,t){var r=e.x,n=e.y,a=Y1e({x:r,y:n},t),i=a.radius,o=a.angle,l=t.innerRadius,c=t.outerRadius;if(i<l||i>c)return!1;if(i===0)return!0;var u=Q1e(t),d=u.startAngle,f=u.endAngle,h=o,m;if(d<=f){for(;h>f;)h-=360;for(;h<d;)h+=360;m=h>=d&&h<=f}else{for(;h>d;)h-=360;for(;h<f;)h+=360;m=h>=f&&h<=d}return m?Oi(Oi({},t),{},{radius:i,angle:Z1e(h,t)}):null},O8=function(e){return!g.isValidElement(e)&&!We(e)&&typeof e!="boolean"?e.className:""};function ip(e){"@babel/helpers - typeof";return ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ip(e)}var X1e=["offset"];function J1e(e){return nNe(e)||rNe(e)||tNe(e)||eNe()}function eNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tNe(e,t){if(e){if(typeof e=="string")return n_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n_(e,t)}}function rNe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nNe(e){if(Array.isArray(e))return n_(e)}function n_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aNe(e,t){if(e==null)return{};var r=sNe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sNe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function f$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f$(Object(r),!0).forEach(function(n){iNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iNe(e,t,r){return t=oNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oNe(e){var t=lNe(e,"string");return ip(t)=="symbol"?t:t+""}function lNe(e,t){if(ip(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ip(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function op(){return op=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},op.apply(this,arguments)}var cNe=function(e){var t=e.value,r=e.formatter,n=He(e.children)?t:e.children;return We(r)?r(n):n},uNe=function(e,t){var r=Qr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},dNe=function(e,t,r){var n=e.position,a=e.viewBox,i=e.offset,o=e.className,l=a,c=l.cx,u=l.cy,d=l.innerRadius,f=l.outerRadius,h=l.startAngle,m=l.endAngle,v=l.clockWise,p=(d+f)/2,b=uNe(h,m),x=b>=0?1:-1,y,w;n==="insideStart"?(y=h+x*i,w=v):n==="insideEnd"?(y=m-x*i,w=!v):n==="end"&&(y=m+x*i,w=v),w=b<=0?w:!w;var j=Dt(c,u,p,y),N=Dt(c,u,p,y+(w?1:-1)*359),_="M".concat(j.x,",").concat(j.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(w?0:1,`,
    `).concat(N.x,",").concat(N.y),k=He(e.id)?Cl("recharts-radial-line-"):e.id;return E.createElement("text",op({},r,{dominantBaseline:"central",className:Ze("recharts-radial-bar-label",o)}),E.createElement("defs",null,E.createElement("path",{id:k,d:_})),E.createElement("textPath",{xlinkHref:"#".concat(k)},t))},fNe=function(e){var t=e.viewBox,r=e.offset,n=e.position,a=t,i=a.cx,o=a.cy,l=a.innerRadius,c=a.outerRadius,u=a.startAngle,d=a.endAngle,f=(u+d)/2;if(n==="outside"){var h=Dt(i,o,c+r,f),m=h.x,v=h.y;return{x:m,y:v,textAnchor:m>=i?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:i,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:i,y:o,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:i,y:o,textAnchor:"middle",verticalAnchor:"end"};var p=(l+c)/2,b=Dt(i,o,p,f),x=b.x,y=b.y;return{x,y,textAnchor:"middle",verticalAnchor:"middle"}},hNe=function(e){var t=e.viewBox,r=e.parentViewBox,n=e.offset,a=e.position,i=t,o=i.x,l=i.y,c=i.width,u=i.height,d=u>=0?1:-1,f=d*n,h=d>0?"end":"start",m=d>0?"start":"end",v=c>=0?1:-1,p=v*n,b=v>0?"end":"start",x=v>0?"start":"end";if(a==="top"){var y={x:o+c/2,y:l-d*n,textAnchor:"middle",verticalAnchor:h};return Rr(Rr({},y),r?{height:Math.max(l-r.y,0),width:c}:{})}if(a==="bottom"){var w={x:o+c/2,y:l+u+f,textAnchor:"middle",verticalAnchor:m};return Rr(Rr({},w),r?{height:Math.max(r.y+r.height-(l+u),0),width:c}:{})}if(a==="left"){var j={x:o-p,y:l+u/2,textAnchor:b,verticalAnchor:"middle"};return Rr(Rr({},j),r?{width:Math.max(j.x-r.x,0),height:u}:{})}if(a==="right"){var N={x:o+c+p,y:l+u/2,textAnchor:x,verticalAnchor:"middle"};return Rr(Rr({},N),r?{width:Math.max(r.x+r.width-N.x,0),height:u}:{})}var _=r?{width:c,height:u}:{};return a==="insideLeft"?Rr({x:o+p,y:l+u/2,textAnchor:x,verticalAnchor:"middle"},_):a==="insideRight"?Rr({x:o+c-p,y:l+u/2,textAnchor:b,verticalAnchor:"middle"},_):a==="insideTop"?Rr({x:o+c/2,y:l+f,textAnchor:"middle",verticalAnchor:m},_):a==="insideBottom"?Rr({x:o+c/2,y:l+u-f,textAnchor:"middle",verticalAnchor:h},_):a==="insideTopLeft"?Rr({x:o+p,y:l+f,textAnchor:x,verticalAnchor:m},_):a==="insideTopRight"?Rr({x:o+c-p,y:l+f,textAnchor:b,verticalAnchor:m},_):a==="insideBottomLeft"?Rr({x:o+p,y:l+u-f,textAnchor:x,verticalAnchor:h},_):a==="insideBottomRight"?Rr({x:o+c-p,y:l+u-f,textAnchor:b,verticalAnchor:h},_):Rf(a)&&(je(a.x)||cc(a.x))&&(je(a.y)||cc(a.y))?Rr({x:o+Sn(a.x,c),y:l+Sn(a.y,u),textAnchor:"end",verticalAnchor:"end"},_):Rr({x:o+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},_)},mNe=function(e){return"cx"in e&&je(e.cx)};function Yr(e){var t=e.offset,r=t===void 0?5:t,n=aNe(e,X1e),a=Rr({offset:r},n),i=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!i||He(l)&&He(c)&&!g.isValidElement(u)&&!We(u))return null;if(g.isValidElement(u))return g.cloneElement(u,a);var m;if(We(u)){if(m=g.createElement(u,a),g.isValidElement(m))return m}else m=cNe(a);var v=mNe(i),p=ze(a,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return dNe(a,m,p);var b=v?fNe(a):hNe(a);return E.createElement(Rc,op({className:Ze("recharts-label",f)},p,b,{breakAll:h}),m)}Yr.displayName="Label";var A8=function(e){var t=e.cx,r=e.cy,n=e.angle,a=e.startAngle,i=e.endAngle,o=e.r,l=e.radius,c=e.innerRadius,u=e.outerRadius,d=e.x,f=e.y,h=e.top,m=e.left,v=e.width,p=e.height,b=e.clockWise,x=e.labelViewBox;if(x)return x;if(je(v)&&je(p)){if(je(d)&&je(f))return{x:d,y:f,width:v,height:p};if(je(h)&&je(m))return{x:h,y:m,width:v,height:p}}return je(d)&&je(f)?{x:d,y:f,width:0,height:0}:je(t)&&je(r)?{cx:t,cy:r,startAngle:a||n||0,endAngle:i||n||0,innerRadius:c||0,outerRadius:u||l||o||0,clockWise:b}:e.viewBox?e.viewBox:{}},pNe=function(e,t){return e?e===!0?E.createElement(Yr,{key:"label-implicit",viewBox:t}):Ur(e)?E.createElement(Yr,{key:"label-implicit",viewBox:t,value:e}):g.isValidElement(e)?e.type===Yr?g.cloneElement(e,{key:"label-implicit",viewBox:t}):E.createElement(Yr,{key:"label-implicit",content:e,viewBox:t}):We(e)?E.createElement(Yr,{key:"label-implicit",content:e,viewBox:t}):Rf(e)?E.createElement(Yr,op({viewBox:t},e,{key:"label-implicit"})):null:null},gNe=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=A8(e),i=vn(n,Yr).map(function(l,c){return g.cloneElement(l,{viewBox:t||a,key:"label-".concat(c)})});if(!r)return i;var o=pNe(e.label,t||a);return[o].concat(J1e(i))};Yr.parseViewBox=A8;Yr.renderCallByParent=gNe;function vNe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var yNe=vNe;const xNe=Ct(yNe);function lp(e){"@babel/helpers - typeof";return lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lp(e)}var bNe=["valueAccessor"],wNe=["data","dataKey","clockWise","id","textBreakAll"];function jNe(e){return SNe(e)||kNe(e)||_Ne(e)||NNe()}function NNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Ne(e,t){if(e){if(typeof e=="string")return a_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a_(e,t)}}function kNe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function SNe(e){if(Array.isArray(e))return a_(e)}function a_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tx(){return tx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tx.apply(this,arguments)}function h$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function m$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h$(Object(r),!0).forEach(function(n){CNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CNe(e,t,r){return t=ENe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ENe(e){var t=ONe(e,"string");return lp(t)=="symbol"?t:t+""}function ONe(e,t){if(lp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function p$(e,t){if(e==null)return{};var r=ANe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ANe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var PNe=function(e){return Array.isArray(e.value)?xNe(e.value):e.value};function Wa(e){var t=e.valueAccessor,r=t===void 0?PNe:t,n=p$(e,bNe),a=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=p$(n,wNe);return!a||!a.length?null:E.createElement(Xe,{className:"recharts-label-list"},a.map(function(d,f){var h=He(i)?r(d,f):qt(d&&d.payload,i),m=He(l)?{}:{id:"".concat(l,"-").concat(f)};return E.createElement(Yr,tx({},ze(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:Yr.parseViewBox(He(o)?d:m$(m$({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Wa.displayName="LabelList";function TNe(e,t){return e?e===!0?E.createElement(Wa,{key:"labelList-implicit",data:t}):E.isValidElement(e)||We(e)?E.createElement(Wa,{key:"labelList-implicit",data:t,content:e}):Rf(e)?E.createElement(Wa,tx({data:t},e,{key:"labelList-implicit"})):null:null}function $Ne(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=vn(n,Wa).map(function(o,l){return g.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=TNe(e.label,t);return[i].concat(jNe(a))}Wa.renderCallByParent=$Ne;function cp(e){"@babel/helpers - typeof";return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cp(e)}function s_(){return s_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s_.apply(this,arguments)}function g$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function v$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g$(Object(r),!0).forEach(function(n){MNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MNe(e,t,r){return t=RNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RNe(e){var t=INe(e,"string");return cp(t)=="symbol"?t:t+""}function INe(e,t){if(cp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DNe=function(e,t){var r=Qr(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},ov=function(e){var t=e.cx,r=e.cy,n=e.radius,a=e.angle,i=e.sign,o=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,u=l*(o?1:-1)+n,d=Math.asin(l/u)/ex,f=c?a:a+i*d,h=Dt(t,r,u,f),m=Dt(t,r,n,f),v=c?a-i*d:a,p=Dt(t,r,u*Math.cos(d*ex),v);return{center:h,circleTangency:m,lineTangency:p,theta:d}},P8=function(e){var t=e.cx,r=e.cy,n=e.innerRadius,a=e.outerRadius,i=e.startAngle,o=e.endAngle,l=DNe(i,o),c=i+l,u=Dt(t,r,a,i),d=Dt(t,r,a,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var h=Dt(t,r,n,i),m=Dt(t,r,n,c);f+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},zNe=function(e){var t=e.cx,r=e.cy,n=e.innerRadius,a=e.outerRadius,i=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,u=e.endAngle,d=Qr(u-c),f=ov({cx:t,cy:r,radius:a,angle:c,sign:d,cornerRadius:i,cornerIsExternal:l}),h=f.circleTangency,m=f.lineTangency,v=f.theta,p=ov({cx:t,cy:r,radius:a,angle:u,sign:-d,cornerRadius:i,cornerIsExternal:l}),b=p.circleTangency,x=p.lineTangency,y=p.theta,w=l?Math.abs(c-u):Math.abs(c-u)-v-y;if(w<0)return o?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):P8({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:c,endAngle:u});var j="M ".concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(w>180),",").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
  `);if(n>0){var N=ov({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),_=N.circleTangency,k=N.lineTangency,C=N.theta,O=ov({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),T=O.circleTangency,P=O.lineTangency,S=O.theta,M=l?Math.abs(c-u):Math.abs(c-u)-C-S;if(M<0&&i===0)return"".concat(j,"L").concat(t,",").concat(r,"Z");j+="L".concat(P.x,",").concat(P.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(M>180),",").concat(+(d>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(k.x,",").concat(k.y,"Z")}else j+="L".concat(t,",").concat(r,"Z");return j},LNe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},T8=function(e){var t=v$(v$({},LNe),e),r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=t.className;if(i<a||u===d)return null;var h=Ze("recharts-sector",f),m=i-a,v=Sn(o,m,0,!0),p;return v>0&&Math.abs(u-d)<360?p=zNe({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(v,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):p=P8({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d}),E.createElement("path",s_({},ze(t,!0),{className:h,d:p,role:"img"}))};function up(e){"@babel/helpers - typeof";return up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},up(e)}function i_(){return i_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i_.apply(this,arguments)}function y$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function x$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y$(Object(r),!0).forEach(function(n){FNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FNe(e,t,r){return t=BNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BNe(e){var t=qNe(e,"string");return up(t)=="symbol"?t:t+""}function qNe(e,t){if(up(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(up(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var b$={curveBasisClosed:Vue,curveBasisOpen:Wue,curveBasis:Uue,curveBumpX:Oue,curveBumpY:Aue,curveLinearClosed:Kue,curveLinear:r0,curveMonotoneX:Hue,curveMonotoneY:Gue,curveNatural:Yue,curveStep:Que,curveStepAfter:Xue,curveStepBefore:Zue},lv=function(e){return e.x===+e.x&&e.y===+e.y},Ah=function(e){return e.x},Ph=function(e){return e.y},UNe=function(e,t){if(We(e))return e;var r="curve".concat(e0(e));return(r==="curveMonotone"||r==="curveBump")&&t?b$["".concat(r).concat(t==="vertical"?"Y":"X")]:b$[r]||r0},VNe=function(e){var t=e.type,r=t===void 0?"linear":t,n=e.points,a=n===void 0?[]:n,i=e.baseLine,o=e.layout,l=e.connectNulls,c=l===void 0?!1:l,u=UNe(r,o),d=c?a.filter(function(v){return lv(v)}):a,f;if(Array.isArray(i)){var h=c?i.filter(function(v){return lv(v)}):i,m=d.map(function(v,p){return x$(x$({},v),{},{base:h[p]})});return o==="vertical"?f=Xg().y(Ph).x1(Ah).x0(function(v){return v.base.x}):f=Xg().x(Ah).y1(Ph).y0(function(v){return v.base.y}),f.defined(lv).curve(u),f(m)}return o==="vertical"&&je(i)?f=Xg().y(Ph).x1(Ah).x0(i):je(i)?f=Xg().x(Ah).y1(Ph).y0(i):f=NL().x(Ah).y(Ph),f.defined(lv).curve(u),f(d)},el=function(e){var t=e.className,r=e.points,n=e.path,a=e.pathRef;if((!r||!r.length)&&!n)return null;var i=r&&r.length?VNe(e):n;return g.createElement("path",i_({},ze(e,!1),ky(e),{className:Ze("recharts-curve",t),d:i,ref:a}))},$8={exports:{}},WNe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",KNe=WNe,HNe=KNe;function M8(){}function R8(){}R8.resetWarningCache=M8;var GNe=function(){function e(n,a,i,o,l,c){if(c!==HNe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:R8,resetWarningCache:M8};return r.PropTypes=r,r};$8.exports=GNe();var YNe=$8.exports;const St=Ct(YNe);var QNe=Object.getOwnPropertyNames,ZNe=Object.getOwnPropertySymbols,XNe=Object.prototype.hasOwnProperty;function w$(e,t){return function(r,n,a){return e(r,n,a)&&t(r,n,a)}}function cv(e){return function(t,r,n){if(!t||!r||typeof t!="object"||typeof r!="object")return e(t,r,n);var a=n.cache,i=a.get(t),o=a.get(r);if(i&&o)return i===r&&o===t;a.set(t,r),a.set(r,t);var l=e(t,r,n);return a.delete(t),a.delete(r),l}}function JNe(e){return e!=null?e[Symbol.toStringTag]:void 0}function j$(e){return QNe(e).concat(ZNe(e))}var e_e=Object.hasOwn||function(e,t){return XNe.call(e,t)};function tu(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var t_e="__v",r_e="__o",n_e="_owner",N$=Object.getOwnPropertyDescriptor,_$=Object.keys;function a_e(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function s_e(e,t){return tu(e.getTime(),t.getTime())}function i_e(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function o_e(e,t){return e===t}function k$(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var h=o.value,m=l.value;if(r.equals(h[0],m[0],c,f,e,t,r)&&r.equals(h[1],m[1],h[0],m[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var l_e=tu;function c_e(e,t,r){var n=_$(e),a=n.length;if(_$(t).length!==a)return!1;for(;a-- >0;)if(!I8(e,t,r,n[a]))return!1;return!0}function Th(e,t,r){var n=j$(e),a=n.length;if(j$(t).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=n[a],!I8(e,t,r,i)||(o=N$(e,i),l=N$(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function u_e(e,t){return tu(e.valueOf(),t.valueOf())}function d_e(e,t){return e.source===t.source&&e.flags===t.flags}function S$(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function f_e(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function h_e(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function I8(e,t,r,n){return(n===n_e||n===r_e||n===t_e)&&(e.$$typeof||t.$$typeof)?!0:e_e(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var m_e="[object Arguments]",p_e="[object Boolean]",g_e="[object Date]",v_e="[object Error]",y_e="[object Map]",x_e="[object Number]",b_e="[object Object]",w_e="[object RegExp]",j_e="[object Set]",N_e="[object String]",__e="[object URL]",k_e=Array.isArray,C$=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,E$=Object.assign,S_e=Object.prototype.toString.call.bind(Object.prototype.toString);function C_e(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual,m=e.unknownTagComparators;return function(v,p,b){if(v===p)return!0;if(v==null||p==null)return!1;var x=typeof v;if(x!==typeof p)return!1;if(x!=="object")return x==="number"?o(v,p,b):x==="function"?a(v,p,b):!1;var y=v.constructor;if(y!==p.constructor)return!1;if(y===Object)return l(v,p,b);if(k_e(v))return t(v,p,b);if(C$!=null&&C$(v))return f(v,p,b);if(y===Date)return r(v,p,b);if(y===RegExp)return u(v,p,b);if(y===Map)return i(v,p,b);if(y===Set)return d(v,p,b);var w=S_e(v);if(w===g_e)return r(v,p,b);if(w===w_e)return u(v,p,b);if(w===y_e)return i(v,p,b);if(w===j_e)return d(v,p,b);if(w===b_e)return typeof v.then!="function"&&typeof p.then!="function"&&l(v,p,b);if(w===__e)return h(v,p,b);if(w===v_e)return n(v,p,b);if(w===m_e)return l(v,p,b);if(w===p_e||w===x_e||w===N_e)return c(v,p,b);if(m){var j=m[w];if(!j){var N=JNe(v);N&&(j=m[N])}if(j)return j(v,p,b)}return!1}}function E_e(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Th:a_e,areDatesEqual:s_e,areErrorsEqual:i_e,areFunctionsEqual:o_e,areMapsEqual:n?w$(k$,Th):k$,areNumbersEqual:l_e,areObjectsEqual:n?Th:c_e,arePrimitiveWrappersEqual:u_e,areRegExpsEqual:d_e,areSetsEqual:n?w$(S$,Th):S$,areTypedArraysEqual:n?Th:f_e,areUrlsEqual:h_e,unknownTagComparators:void 0};if(r&&(a=E$({},a,r(a))),t){var i=cv(a.areArraysEqual),o=cv(a.areMapsEqual),l=cv(a.areObjectsEqual),c=cv(a.areSetsEqual);a=E$({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function O_e(e){return function(t,r,n,a,i,o,l){return e(t,r,l)}}function A_e(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(l,c){var u=n(),d=u.cache,f=d===void 0?t?new WeakMap:void 0:d,h=u.meta;return r(l,c,{cache:f,equals:a,meta:h,strict:i})};if(t)return function(l,c){return r(l,c,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(l,c){return r(l,c,o)}}var P_e=Al();Al({strict:!0});Al({circular:!0});Al({circular:!0,strict:!0});Al({createInternalComparator:function(){return tu}});Al({strict:!0,createInternalComparator:function(){return tu}});Al({circular:!0,createInternalComparator:function(){return tu}});Al({circular:!0,createInternalComparator:function(){return tu},strict:!0});function Al(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,l=E_e(e),c=C_e(l),u=n?n(c):O_e(c);return A_e({circular:r,comparator:c,createState:a,equals:u,strict:o})}function T_e(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function O$(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):T_e(a)};requestAnimationFrame(n)}function o_(e){"@babel/helpers - typeof";return o_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o_(e)}function $_e(e){return D_e(e)||I_e(e)||R_e(e)||M_e()}function M_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R_e(e,t){if(e){if(typeof e=="string")return A$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A$(e,t)}}function A$(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function I_e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function D_e(e){if(Array.isArray(e))return e}function z_e(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=$_e(o),c=l[0],u=l.slice(1);if(typeof c=="number"){O$(a.bind(null,u),c);return}a(c),O$(a.bind(null,u));return}o_(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function dp(e){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dp(e)}function P$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function T$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P$(Object(r),!0).forEach(function(n){D8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function D8(e,t,r){return t=L_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L_e(e){var t=F_e(e,"string");return dp(t)==="symbol"?t:String(t)}function F_e(e,t){if(dp(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var B_e=function(e,t){return[Object.keys(e),Object.keys(t)].reduce(function(r,n){return r.filter(function(a){return n.includes(a)})})},q_e=function(e){return e},U_e=function(e){return e.replace(/([A-Z])/g,function(t){return"-".concat(t.toLowerCase())})},am=function(e,t){return Object.keys(t).reduce(function(r,n){return T$(T$({},r),{},D8({},n,e(n,t[n])))},{})},$$=function(e,t,r){return e.map(function(n){return"".concat(U_e(n)," ").concat(t,"ms ").concat(r)}).join(",")};function V_e(e,t){return H_e(e)||K_e(e,t)||z8(e,t)||W_e()}function W_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K_e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function H_e(e){if(Array.isArray(e))return e}function G_e(e){return Z_e(e)||Q_e(e)||z8(e)||Y_e()}function Y_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z8(e,t){if(e){if(typeof e=="string")return l_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l_(e,t)}}function Q_e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Z_e(e){if(Array.isArray(e))return l_(e)}function l_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var rx=1e-4,L8=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},F8=function(e,t){return e.map(function(r,n){return r*Math.pow(t,n)}).reduce(function(r,n){return r+n})},M$=function(e,t){return function(r){var n=L8(e,t);return F8(n,r)}},X_e=function(e,t){return function(r){var n=L8(e,t),a=[].concat(G_e(n.map(function(i,o){return i*o}).slice(1)),[0]);return F8(a,r)}},R$=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0],a=t[1],i=t[2],o=t[3];if(t.length===1)switch(t[0]){case"linear":n=0,a=0,i=1,o=1;break;case"ease":n=.25,a=.1,i=.25,o=1;break;case"ease-in":n=.42,a=0,i=1,o=1;break;case"ease-out":n=.42,a=0,i=.58,o=1;break;case"ease-in-out":n=0,a=0,i=.58,o=1;break;default:{var l=t[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(p){return parseFloat(p)}),u=V_e(c,4);n=u[0],a=u[1],i=u[2],o=u[3]}}}var d=M$(n,i),f=M$(a,o),h=X_e(n,i),m=function(p){return p>1?1:p<0?0:p},v=function(p){for(var b=p>1?1:p,x=b,y=0;y<8;++y){var w=d(x)-b,j=h(x);if(Math.abs(w-b)<rx||j<rx)return f(x);x=m(x-w/j)}return f(x)};return v.isStepper=!1,v},J_e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.stiff,r=t===void 0?100:t,n=e.damping,a=n===void 0?8:n,i=e.dt,o=i===void 0?17:i,l=function(c,u,d){var f=-(c-u)*r,h=d*a,m=d+(f-h)*o/1e3,v=d*o/1e3+c;return Math.abs(v-u)<rx&&Math.abs(m)<rx?[u,0]:[v,m]};return l.isStepper=!0,l.dt=o,l},e2e=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0];if(typeof n=="string")switch(n){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return R$(n);case"spring":return J_e();default:if(n.split("(")[0]==="cubic-bezier")return R$(n)}return typeof n=="function"?n:null};function fp(e){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fp(e)}function I$(e){return n2e(e)||r2e(e)||B8(e)||t2e()}function t2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r2e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function n2e(e){if(Array.isArray(e))return u_(e)}function D$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D$(Object(r),!0).forEach(function(n){c_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function c_(e,t,r){return t=a2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a2e(e){var t=s2e(e,"string");return fp(t)==="symbol"?t:String(t)}function s2e(e,t){if(fp(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function i2e(e,t){return c2e(e)||l2e(e,t)||B8(e,t)||o2e()}function o2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B8(e,t){if(e){if(typeof e=="string")return u_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u_(e,t)}}function u_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l2e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function c2e(e){if(Array.isArray(e))return e}var nx=function(e,t,r){return e+(t-e)*r},d_=function(e){var t=e.from,r=e.to;return t!==r},u2e=function e(t,r,n){var a=am(function(i,o){if(d_(o)){var l=t(o.from,o.to,o.velocity),c=i2e(l,2),u=c[0],d=c[1];return nn(nn({},o),{},{from:u,velocity:d})}return o},r);return n<1?am(function(i,o){return d_(o)?nn(nn({},o),{},{velocity:nx(o.velocity,a[i].velocity,n),from:nx(o.from,a[i].from,n)}):o},r):e(t,a,n-1)};const d2e=function(e,t,r,n,a){var i=B_e(e,t),o=i.reduce(function(b,x){return nn(nn({},b),{},c_({},x,[e[x],t[x]]))},{}),l=i.reduce(function(b,x){return nn(nn({},b),{},c_({},x,{from:e[x],velocity:0,to:t[x]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return am(function(b,x){return x.from},l)},m=function(){return!Object.values(l).filter(d_).length},v=function(b){u||(u=b);var x=b-u,y=x/r.dt;l=u2e(r,l,y),a(nn(nn(nn({},e),t),h())),u=b,m()||(c=requestAnimationFrame(f))},p=function(b){d||(d=b);var x=(b-d)/n,y=am(function(j,N){return nx.apply(void 0,I$(N).concat([r(x)]))},o);if(a(nn(nn(nn({},e),t),y)),x<1)c=requestAnimationFrame(f);else{var w=am(function(j,N){return nx.apply(void 0,I$(N).concat([r(1)]))},o);a(nn(nn(nn({},e),t),w))}};return f=r.isStepper?v:p,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Kd(e){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kd(e)}var f2e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function h2e(e,t){if(e==null)return{};var r=m2e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function m2e(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function jj(e){return y2e(e)||v2e(e)||g2e(e)||p2e()}function p2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g2e(e,t){if(e){if(typeof e=="string")return f_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f_(e,t)}}function v2e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function y2e(e){if(Array.isArray(e))return f_(e)}function f_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function z$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ss(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z$(Object(r),!0).forEach(function(n){Bh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bh(e,t,r){return t=q8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b2e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,q8(n.key),n)}}function w2e(e,t,r){return t&&b2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function q8(e){var t=j2e(e,"string");return Kd(t)==="symbol"?t:String(t)}function j2e(e,t){if(Kd(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h_(e,t)}function h_(e,t){return h_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},h_(e,t)}function _2e(e){var t=k2e();return function(){var r=ax(e),n;if(t){var a=ax(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m_(this,n)}}function m_(e,t){if(t&&(Kd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p_(e)}function p_(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k2e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ax(e){return ax=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ax(e)}var _a=function(e){N2e(r,e);var t=_2e(r);function r(n,a){var i;x2e(this,r),i=t.call(this,n,a);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,m=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(p_(i)),i.changeStyle=i.changeStyle.bind(p_(i)),!l||m<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),m_(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},m_(i);i.state={style:c?Bh({},c,u):u}}else i.state={style:{}};return i}return w2e(r,[{key:"componentDidMount",value:function(){var n=this.props,a=n.isActive,i=n.canBegin;this.mounted=!0,!(!a||!i)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(n){var a=this.props,i=a.isActive,o=a.canBegin,l=a.attributeName,c=a.shouldReAnimate,u=a.to,d=a.from,f=this.state.style;if(o){if(!i){var h={style:l?Bh({},l,u):u};this.state&&f&&(l&&f[l]!==u||!l&&f!==u)&&this.setState(h);return}if(!(P_e(n.to,u)&&n.canBegin&&n.isActive)){var m=!n.canBegin||!n.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=m||c?d:n.to;if(this.state&&f){var p={style:l?Bh({},l,v):v};(l&&f[l]!==v||!l&&f!==v)&&this.setState(p)}this.runAnimation(ss(ss({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var n=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),n&&n()}},{key:"handleStyleChange",value:function(n){this.changeStyle(n)}},{key:"changeStyle",value:function(n){this.mounted&&this.setState({style:n})}},{key:"runJSAnimation",value:function(n){var a=this,i=n.from,o=n.to,l=n.duration,c=n.easing,u=n.begin,d=n.onAnimationEnd,f=n.onAnimationStart,h=d2e(i,o,e2e(c),l,this.changeStyle),m=function(){a.stopJSAnimation=h()};this.manager.start([f,u,m,l,d])}},{key:"runStepAnimation",value:function(n){var a=this,i=n.steps,o=n.begin,l=n.onAnimationStart,c=i[0],u=c.style,d=c.duration,f=d===void 0?0:d,h=function(m,v,p){if(p===0)return m;var b=v.duration,x=v.easing,y=x===void 0?"ease":x,w=v.style,j=v.properties,N=v.onAnimationEnd,_=p>0?i[p-1]:v,k=j||Object.keys(w);if(typeof y=="function"||y==="spring")return[].concat(jj(m),[a.runJSAnimation.bind(a,{from:_.style,to:w,duration:b,easing:y}),b]);var C=$$(k,b,y),O=ss(ss(ss({},_.style),w),{},{transition:C});return[].concat(jj(m),[O,b,N]).filter(q_e)};return this.manager.start([l].concat(jj(i.reduce(h,[u,Math.max(f,o)])),[n.onAnimationEnd]))}},{key:"runAnimation",value:function(n){this.manager||(this.manager=z_e());var a=n.begin,i=n.duration,o=n.attributeName,l=n.to,c=n.easing,u=n.onAnimationStart,d=n.onAnimationEnd,f=n.steps,h=n.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof c=="function"||typeof h=="function"||c==="spring"){this.runJSAnimation(n);return}if(f.length>1){this.runStepAnimation(n);return}var v=o?Bh({},o,l):l,p=$$(Object.keys(v),i,c);m.start([u,a,ss(ss({},v),{},{transition:p}),i,d])}},{key:"render",value:function(){var n=this.props,a=n.children;n.begin;var i=n.duration;n.attributeName,n.easing;var o=n.isActive;n.steps,n.from,n.to,n.canBegin,n.onAnimationEnd,n.shouldReAnimate,n.onAnimationReStart;var l=h2e(n,f2e),c=g.Children.count(a),u=this.state.style;if(typeof a=="function")return a(u);if(!o||c===0||i<=0)return a;var d=function(f){var h=f.props,m=h.style,v=m===void 0?{}:m,p=h.className,b=g.cloneElement(f,ss(ss({},l),{},{style:ss(ss({},v),u),className:p}));return b};return c===1?d(g.Children.only(a)):E.createElement("div",null,g.Children.map(a,function(f){return d(f)}))}}]),r}(g.PureComponent);_a.displayName="Animate";_a.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};_a.propTypes={from:St.oneOfType([St.object,St.string]),to:St.oneOfType([St.object,St.string]),attributeName:St.string,duration:St.number,begin:St.number,easing:St.oneOfType([St.string,St.func]),steps:St.arrayOf(St.shape({duration:St.number.isRequired,style:St.object.isRequired,easing:St.oneOfType([St.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),St.func]),properties:St.arrayOf("string"),onAnimationEnd:St.func})),children:St.oneOfType([St.node,St.func]),isActive:St.bool,canBegin:St.bool,onAnimationEnd:St.func,shouldReAnimate:St.bool,onAnimationStart:St.func,onAnimationReStart:St.func};function hp(e){"@babel/helpers - typeof";return hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hp(e)}function sx(){return sx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sx.apply(this,arguments)}function S2e(e,t){return A2e(e)||O2e(e,t)||E2e(e,t)||C2e()}function C2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E2e(e,t){if(e){if(typeof e=="string")return L$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L$(e,t)}}function L$(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function O2e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function A2e(e){if(Array.isArray(e))return e}function F$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function B$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F$(Object(r),!0).forEach(function(n){P2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P2e(e,t,r){return t=T2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T2e(e){var t=$2e(e,"string");return hp(t)=="symbol"?t:t+""}function $2e(e,t){if(hp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var q$=function(e,t,r,n,a){var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,u;if(i>0&&a instanceof Array){for(var d=[0,0,0,0],f=0,h=4;f<h;f++)d[f]=a[f]>i?i:a[f];u="M".concat(e,",").concat(t+o*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(t)),u+="L ".concat(e+r-l*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+o*d[1])),u+="L ".concat(e+r,",").concat(t+n-o*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-l*d[2],",").concat(t+n)),u+="L ".concat(e+l*d[3],",").concat(t+n),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-o*d[3])),u+="Z"}else if(i>0&&a===+a&&a>0){var m=Math.min(i,a);u="M ".concat(e,",").concat(t+o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+l*m,",").concat(t,`
            L `).concat(e+r-l*m,",").concat(t,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r,",").concat(t+o*m,`
            L `).concat(e+r,",").concat(t+n-o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r-l*m,",").concat(t+n,`
            L `).concat(e+l*m,",").concat(t+n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(t+n-o*m," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},M2e=function(e,t){if(!e||!t)return!1;var r=e.x,n=e.y,a=t.x,i=t.y,o=t.width,l=t.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(a,a+o),u=Math.max(a,a+o),d=Math.min(i,i+l),f=Math.max(i,i+l);return r>=c&&r<=u&&n>=d&&n<=f}return!1},R2e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},VS=function(e){var t=B$(B$({},R2e),e),r=g.useRef(),n=g.useState(-1),a=S2e(n,2),i=a[0],o=a[1];g.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&o(w)}catch{}},[]);var l=t.x,c=t.y,u=t.width,d=t.height,f=t.radius,h=t.className,m=t.animationEasing,v=t.animationDuration,p=t.animationBegin,b=t.isAnimationActive,x=t.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||u===0||d===0)return null;var y=Ze("recharts-rectangle",h);return x?E.createElement(_a,{canBegin:i>0,from:{width:u,height:d,x:l,y:c},to:{width:u,height:d,x:l,y:c},duration:v,animationEasing:m,isActive:x},function(w){var j=w.width,N=w.height,_=w.x,k=w.y;return E.createElement(_a,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:v,isActive:b,easing:m},E.createElement("path",sx({},ze(t,!0),{className:y,d:q$(_,k,j,N,f),ref:r})))}):E.createElement("path",sx({},ze(t,!0),{className:y,d:q$(l,c,u,d,f)}))},I2e=["points","className","baseLinePoints","connectNulls"];function ed(){return ed=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ed.apply(this,arguments)}function D2e(e,t){if(e==null)return{};var r=z2e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function z2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function U$(e){return q2e(e)||B2e(e)||F2e(e)||L2e()}function L2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F2e(e,t){if(e){if(typeof e=="string")return g_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g_(e,t)}}function B2e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function q2e(e){if(Array.isArray(e))return g_(e)}function g_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var V$=function(e){return e&&e.x===+e.x&&e.y===+e.y},U2e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=[[]];return e.forEach(function(r){V$(r)?t[t.length-1].push(r):t[t.length-1].length>0&&t.push([])}),V$(e[0])&&t[t.length-1].push(e[0]),t[t.length-1].length<=0&&(t=t.slice(0,-1)),t},sm=function(e,t){var r=U2e(e);t&&(r=[r.reduce(function(a,i){return[].concat(U$(a),U$(i))},[])]);var n=r.map(function(a){return a.reduce(function(i,o,l){return"".concat(i).concat(l===0?"M":"L").concat(o.x,",").concat(o.y)},"")}).join("");return r.length===1?"".concat(n,"Z"):n},V2e=function(e,t,r){var n=sm(e,r);return"".concat(n.slice(-1)==="Z"?n.slice(0,-1):n,"L").concat(sm(t.reverse(),r).slice(1))},W2e=function(e){var t=e.points,r=e.className,n=e.baseLinePoints,a=e.connectNulls,i=D2e(e,I2e);if(!t||!t.length)return null;var o=Ze("recharts-polygon",r);if(n&&n.length){var l=i.stroke&&i.stroke!=="none",c=V2e(t,n,a);return E.createElement("g",{className:o},E.createElement("path",ed({},ze(i,!0),{fill:c.slice(-1)==="Z"?i.fill:"none",stroke:"none",d:c})),l?E.createElement("path",ed({},ze(i,!0),{fill:"none",d:sm(t,a)})):null,l?E.createElement("path",ed({},ze(i,!0),{fill:"none",d:sm(n,a)})):null)}var u=sm(t,a);return E.createElement("path",ed({},ze(i,!0),{fill:u.slice(-1)==="Z"?i.fill:"none",className:o,d:u}))};function v_(){return v_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v_.apply(this,arguments)}var ig=function(e){var t=e.cx,r=e.cy,n=e.r,a=e.className,i=Ze("recharts-dot",a);return t===+t&&r===+r&&n===+n?g.createElement("circle",v_({},ze(e,!1),ky(e),{className:i,cx:t,cy:r,r:n})):null};function mp(e){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mp(e)}var K2e=["x","y","top","left","width","height","className"];function y_(){return y_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y_.apply(this,arguments)}function W$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function H2e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W$(Object(r),!0).forEach(function(n){G2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function G2e(e,t,r){return t=Y2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y2e(e){var t=Q2e(e,"string");return mp(t)=="symbol"?t:t+""}function Q2e(e,t){if(mp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Z2e(e,t){if(e==null)return{};var r=X2e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function X2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var J2e=function(e,t,r,n,a,i){return"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r)},eke=function(e){var t=e.x,r=t===void 0?0:t,n=e.y,a=n===void 0?0:n,i=e.top,o=i===void 0?0:i,l=e.left,c=l===void 0?0:l,u=e.width,d=u===void 0?0:u,f=e.height,h=f===void 0?0:f,m=e.className,v=Z2e(e,K2e),p=H2e({x:r,y:a,top:o,left:c,width:d,height:h},v);return!je(r)||!je(a)||!je(d)||!je(h)||!je(o)||!je(c)?null:E.createElement("path",y_({},ze(p,!0),{className:Ze("recharts-cross",m),d:J2e(r,a,d,h,o,c)}))},tke=m0,rke=ZF,nke=mi;function ake(e,t){return e&&e.length?tke(e,nke(t),rke):void 0}var ske=ake;const ike=Ct(ske);var oke=m0,lke=mi,cke=XF;function uke(e,t){return e&&e.length?oke(e,lke(t),cke):void 0}var dke=uke;const fke=Ct(dke);var hke=["cx","cy","angle","ticks","axisLine"],mke=["ticks","tick","angle","tickFormatter","stroke"];function Hd(e){"@babel/helpers - typeof";return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hd(e)}function im(){return im=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},im.apply(this,arguments)}function K$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K$(Object(r),!0).forEach(function(n){y0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H$(e,t){if(e==null)return{};var r=pke(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pke(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function gke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,V8(n.key),n)}}function vke(e,t,r){return t&&G$(e.prototype,t),r&&G$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function yke(e,t,r){return t=ix(t),xke(e,U8()?Reflect.construct(t,r||[],ix(e).constructor):t.apply(e,r))}function xke(e,t){if(t&&(Hd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bke(e)}function bke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U8=function(){return!!e})()}function ix(e){return ix=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ix(e)}function wke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x_(e,t)}function x_(e,t){return x_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},x_(e,t)}function y0(e,t,r){return t=V8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V8(e){var t=jke(e,"string");return Hd(t)=="symbol"?t:t+""}function jke(e,t){if(Hd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var og=function(e){function t(){return gke(this,t),yke(this,t,arguments)}return wke(t,e),vke(t,[{key:"getTickValueCoord",value:function(r){var n=r.coordinate,a=this.props,i=a.angle,o=a.cx,l=a.cy;return Dt(o,l,n,i)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,n;switch(r){case"left":n="end";break;case"right":n="start";break;default:n="middle";break}return n}},{key:"getViewBox",value:function(){var r=this.props,n=r.cx,a=r.cy,i=r.angle,o=r.ticks,l=ike(o,function(u){return u.coordinate||0}),c=fke(o,function(u){return u.coordinate||0});return{cx:n,cy:a,startAngle:i,endAngle:i,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,n=r.cx,a=r.cy,i=r.angle,o=r.ticks,l=r.axisLine,c=H$(r,hke),u=o.reduce(function(m,v){return[Math.min(m[0],v.coordinate),Math.max(m[1],v.coordinate)]},[1/0,-1/0]),d=Dt(n,a,u[0],i),f=Dt(n,a,u[1],i),h=Kl(Kl(Kl({},ze(c,!1)),{},{fill:"none"},ze(l,!1)),{},{x1:d.x,y1:d.y,x2:f.x,y2:f.y});return E.createElement("line",im({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var r=this,n=this.props,a=n.ticks,i=n.tick,o=n.angle,l=n.tickFormatter,c=n.stroke,u=H$(n,mke),d=this.getTickTextAnchor(),f=ze(u,!1),h=ze(i,!1),m=a.map(function(v,p){var b=r.getTickValueCoord(v),x=Kl(Kl(Kl(Kl({textAnchor:d,transform:"rotate(".concat(90-o,", ").concat(b.x,", ").concat(b.y,")")},f),{},{stroke:"none",fill:c},h),{},{index:p},b),{},{payload:v});return E.createElement(Xe,im({className:Ze("recharts-polar-radius-axis-tick",O8(i)),key:"tick-".concat(v.coordinate)},ui(r.props,v,p)),t.renderTickItem(i,x,l?l(v.value,p):v.value))});return E.createElement(Xe,{className:"recharts-polar-radius-axis-ticks"},m)}},{key:"render",value:function(){var r=this.props,n=r.ticks,a=r.axisLine,i=r.tick;return!n||!n.length?null:E.createElement(Xe,{className:Ze("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),i&&this.renderTicks(),Yr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,n,a){var i;return E.isValidElement(r)?i=E.cloneElement(r,n):We(r)?i=r(n):i=E.createElement(Rc,im({},n,{className:"recharts-polar-radius-axis-tick-value"}),a),i}}])}(g.PureComponent);y0(og,"displayName","PolarRadiusAxis");y0(og,"axisType","radiusAxis");y0(og,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Gd(e){"@babel/helpers - typeof";return Gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gd(e)}function nc(){return nc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nc.apply(this,arguments)}function Y$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y$(Object(r),!0).forEach(function(n){x0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,K8(n.key),n)}}function _ke(e,t,r){return t&&Q$(e.prototype,t),r&&Q$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function kke(e,t,r){return t=ox(t),Ske(e,W8()?Reflect.construct(t,r||[],ox(e).constructor):t.apply(e,r))}function Ske(e,t){if(t&&(Gd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cke(e)}function Cke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(W8=function(){return!!e})()}function ox(e){return ox=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ox(e)}function Eke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b_(e,t)}function b_(e,t){return b_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},b_(e,t)}function x0(e,t,r){return t=K8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K8(e){var t=Oke(e,"string");return Gd(t)=="symbol"?t:t+""}function Oke(e,t){if(Gd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ake=Math.PI/180,Z$=1e-5,lg=function(e){function t(){return Nke(this,t),kke(this,t,arguments)}return Eke(t,e),_ke(t,[{key:"getTickLineCoord",value:function(r){var n=this.props,a=n.cx,i=n.cy,o=n.radius,l=n.orientation,c=n.tickSize,u=c||8,d=Dt(a,i,o,r.coordinate),f=Dt(a,i,o+(l==="inner"?-1:1)*u,r.coordinate);return{x1:d.x,y1:d.y,x2:f.x,y2:f.y}}},{key:"getTickTextAnchor",value:function(r){var n=this.props.orientation,a=Math.cos(-r.coordinate*Ake),i;return a>Z$?i=n==="outer"?"start":"end":a<-Z$?i=n==="outer"?"end":"start":i="middle",i}},{key:"renderAxisLine",value:function(){var r=this.props,n=r.cx,a=r.cy,i=r.radius,o=r.axisLine,l=r.axisLineType,c=Hl(Hl({},ze(this.props,!1)),{},{fill:"none"},ze(o,!1));if(l==="circle")return E.createElement(ig,nc({className:"recharts-polar-angle-axis-line"},c,{cx:n,cy:a,r:i}));var u=this.props.ticks,d=u.map(function(f){return Dt(n,a,i,f.coordinate)});return E.createElement(W2e,nc({className:"recharts-polar-angle-axis-line"},c,{points:d}))}},{key:"renderTicks",value:function(){var r=this,n=this.props,a=n.ticks,i=n.tick,o=n.tickLine,l=n.tickFormatter,c=n.stroke,u=ze(this.props,!1),d=ze(i,!1),f=Hl(Hl({},u),{},{fill:"none"},ze(o,!1)),h=a.map(function(m,v){var p=r.getTickLineCoord(m),b=r.getTickTextAnchor(m),x=Hl(Hl(Hl({textAnchor:b},u),{},{stroke:"none",fill:c},d),{},{index:v,payload:m,x:p.x2,y:p.y2});return E.createElement(Xe,nc({className:Ze("recharts-polar-angle-axis-tick",O8(i)),key:"tick-".concat(m.coordinate)},ui(r.props,m,v)),o&&E.createElement("line",nc({className:"recharts-polar-angle-axis-tick-line"},f,p)),i&&t.renderTickItem(i,x,l?l(m.value,v):m.value))});return E.createElement(Xe,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var r=this.props,n=r.ticks,a=r.radius,i=r.axisLine;return a<=0||!n||!n.length?null:E.createElement(Xe,{className:Ze("recharts-polar-angle-axis",this.props.className)},i&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,n,a){var i;return E.isValidElement(r)?i=E.cloneElement(r,n):We(r)?i=r(n):i=E.createElement(Rc,nc({},n,{className:"recharts-polar-angle-axis-tick-value"}),a),i}}])}(g.PureComponent);x0(lg,"displayName","PolarAngleAxis");x0(lg,"axisType","angleAxis");x0(lg,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Pke=HL,Tke=Pke(Object.getPrototypeOf,Object),$ke=Tke,Mke=so,Rke=$ke,Ike=io,Dke="[object Object]",zke=Function.prototype,Lke=Object.prototype,H8=zke.toString,Fke=Lke.hasOwnProperty,Bke=H8.call(Object);function qke(e){if(!Ike(e)||Mke(e)!=Dke)return!1;var t=Rke(e);if(t===null)return!0;var r=Fke.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&H8.call(r)==Bke}var Uke=qke;const Vke=Ct(Uke);var Wke=so,Kke=io,Hke="[object Boolean]";function Gke(e){return e===!0||e===!1||Kke(e)&&Wke(e)==Hke}var Yke=Gke;const Qke=Ct(Yke);function pp(e){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pp(e)}function lx(){return lx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lx.apply(this,arguments)}function Zke(e,t){return tSe(e)||eSe(e,t)||Jke(e,t)||Xke()}function Xke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jke(e,t){if(e){if(typeof e=="string")return X$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X$(e,t)}}function X$(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eSe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function tSe(e){if(Array.isArray(e))return e}function J$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J$(Object(r),!0).forEach(function(n){rSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rSe(e,t,r){return t=nSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nSe(e){var t=aSe(e,"string");return pp(t)=="symbol"?t:t+""}function aSe(e,t){if(pp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tM=function(e,t,r,n,a){var i=r-n,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+r,",").concat(t),o+="L ".concat(e+r-i/2,",").concat(t+a),o+="L ".concat(e+r-i/2-n,",").concat(t+a),o+="L ".concat(e,",").concat(t," Z"),o},sSe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},iSe=function(e){var t=eM(eM({},sSe),e),r=g.useRef(),n=g.useState(-1),a=Zke(n,2),i=a[0],o=a[1];g.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var y=r.current.getTotalLength();y&&o(y)}catch{}},[]);var l=t.x,c=t.y,u=t.upperWidth,d=t.lowerWidth,f=t.height,h=t.className,m=t.animationEasing,v=t.animationDuration,p=t.animationBegin,b=t.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||f!==+f||u===0&&d===0||f===0)return null;var x=Ze("recharts-trapezoid",h);return b?E.createElement(_a,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:f,x:l,y:c},to:{upperWidth:u,lowerWidth:d,height:f,x:l,y:c},duration:v,animationEasing:m,isActive:b},function(y){var w=y.upperWidth,j=y.lowerWidth,N=y.height,_=y.x,k=y.y;return E.createElement(_a,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:v,easing:m},E.createElement("path",lx({},ze(t,!0),{className:x,d:tM(_,k,w,j,N),ref:r})))}):E.createElement("g",null,E.createElement("path",lx({},ze(t,!0),{className:x,d:tM(l,c,u,d,f)})))},oSe=["option","shapeType","propTransformer","activeClassName","isActive"];function gp(e){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gp(e)}function lSe(e,t){if(e==null)return{};var r=cSe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cSe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function rM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rM(Object(r),!0).forEach(function(n){uSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uSe(e,t,r){return t=dSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dSe(e){var t=fSe(e,"string");return gp(t)=="symbol"?t:t+""}function fSe(e,t){if(gp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hSe(e,t){return cx(cx({},t),e)}function mSe(e,t){return e==="symbols"}function nM(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return E.createElement(VS,r);case"trapezoid":return E.createElement(iSe,r);case"sector":return E.createElement(T8,r);case"symbols":if(mSe(t))return E.createElement(a0,r);break;default:return null}}function pSe(e){return g.isValidElement(e)?e.props:e}function vp(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?hSe:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=lSe(e,oSe),u;if(g.isValidElement(t))u=g.cloneElement(t,cx(cx({},c),pSe(t)));else if(We(t))u=t(c);else if(Vke(t)&&!Qke(t)){var d=a(t,c);u=E.createElement(nM,{shapeType:r,elementProps:d})}else{var f=c;u=E.createElement(nM,{shapeType:r,elementProps:f})}return l?E.createElement(Xe,{className:o},u):u}function b0(e,t){return t!=null&&"trapezoids"in e.props}function w0(e,t){return t!=null&&"sectors"in e.props}function yp(e,t){return t!=null&&"points"in e.props}function gSe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function vSe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function ySe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function xSe(e,t){var r;return b0(e,t)?r=gSe:w0(e,t)?r=vSe:yp(e,t)&&(r=ySe),r}function bSe(e,t){var r;return b0(e,t)?r="trapezoids":w0(e,t)?r="sectors":yp(e,t)&&(r="points"),r}function wSe(e,t){if(b0(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(w0(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return yp(e,t)?t.payload:{}}function jSe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=bSe(r,t),i=wSe(r,t),o=n.filter(function(c,u){var d=to(i,c),f=r.props[a].filter(function(v){var p=xSe(r,t);return p(v,t)}),h=r.props[a].indexOf(f[f.length-1]),m=u===h;return d&&m}),l=n.indexOf(o[o.length-1]);return l}var $v;function Yd(e){"@babel/helpers - typeof";return Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yd(e)}function td(){return td=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},td.apply(this,arguments)}function aM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aM(Object(r),!0).forEach(function(n){Da(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Y8(n.key),n)}}function _Se(e,t,r){return t&&sM(e.prototype,t),r&&sM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function kSe(e,t,r){return t=ux(t),SSe(e,G8()?Reflect.construct(t,r||[],ux(e).constructor):t.apply(e,r))}function SSe(e,t){if(t&&(Yd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CSe(e)}function CSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G8=function(){return!!e})()}function ux(e){return ux=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ux(e)}function ESe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w_(e,t)}function w_(e,t){return w_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},w_(e,t)}function Da(e,t,r){return t=Y8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y8(e){var t=OSe(e,"string");return Yd(t)=="symbol"?t:t+""}function OSe(e,t){if(Yd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var lo=function(e){function t(r){var n;return NSe(this,t),n=kSe(this,t,[r]),Da(n,"pieRef",null),Da(n,"sectorRefs",[]),Da(n,"id",Cl("recharts-pie-")),Da(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),We(a)&&a()}),Da(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),We(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return ESe(t,e),_Se(t,[{key:"isActiveIndex",value:function(r){var n=this.props.activeIndex;return Array.isArray(n)?n.indexOf(r)!==-1:r===n}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var a=this.props,i=a.label,o=a.labelLine,l=a.dataKey,c=a.valueKey,u=ze(this.props,!1),d=ze(i,!1),f=ze(o,!1),h=i&&i.offsetRadius||20,m=r.map(function(v,p){var b=(v.startAngle+v.endAngle)/2,x=Dt(v.cx,v.cy,v.outerRadius+h,b),y=Lt(Lt(Lt(Lt({},u),v),{},{stroke:"none"},d),{},{index:p,textAnchor:t.getTextAnchor(x.x,v.cx)},x),w=Lt(Lt(Lt(Lt({},u),v),{},{fill:"none",stroke:v.fill},f),{},{index:p,points:[Dt(v.cx,v.cy,v.outerRadius,b),x]}),j=l;return He(l)&&He(c)?j="value":He(l)&&(j=c),E.createElement(Xe,{key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(p)},o&&t.renderLabelLineItem(o,w,"line"),t.renderLabelItem(i,y,qt(v,j)))});return E.createElement(Xe,{className:"recharts-pie-labels"},m)}},{key:"renderSectorsStatically",value:function(r){var n=this,a=this.props,i=a.activeShape,o=a.blendStroke,l=a.inactiveShape;return r.map(function(c,u){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&r.length!==1)return null;var d=n.isActiveIndex(u),f=l&&n.hasActiveIndex()?l:null,h=d?i:f,m=Lt(Lt({},c),{},{stroke:o?c.fill:c.stroke,tabIndex:-1});return E.createElement(Xe,td({ref:function(v){v&&!n.sectorRefs.includes(v)&&n.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},ui(n.props,c,u),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(u)}),E.createElement(vp,td({option:h,isActive:d,shapeType:"sector"},m)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,n=this.props,a=n.sectors,i=n.isAnimationActive,o=n.animationBegin,l=n.animationDuration,c=n.animationEasing,u=n.animationId,d=this.state,f=d.prevSectors,h=d.prevIsAnimationActive;return E.createElement(_a,{begin:o,duration:l,isActive:i,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(m){var v=m.t,p=[],b=a&&a[0],x=b.startAngle;return a.forEach(function(y,w){var j=f&&f[w],N=w>0?wa(y,"paddingAngle",0):0;if(j){var _=Ft(j.endAngle-j.startAngle,y.endAngle-y.startAngle),k=Lt(Lt({},y),{},{startAngle:x+N,endAngle:x+_(v)+N});p.push(k),x=k.endAngle}else{var C=y.endAngle,O=y.startAngle,T=Ft(0,C-O),P=T(v),S=Lt(Lt({},y),{},{startAngle:x+N,endAngle:x+P+N});p.push(S),x=S.endAngle}}),E.createElement(Xe,null,r.renderSectorsStatically(p))})}},{key:"attachKeyboardHandlers",value:function(r){var n=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var i=++n.state.sectorToFocus%n.sectorRefs.length;n.sectorRefs[i].focus(),n.setState({sectorToFocus:i});break}case"ArrowRight":{var o=--n.state.sectorToFocus<0?n.sectorRefs.length-1:n.state.sectorToFocus%n.sectorRefs.length;n.sectorRefs[o].focus(),n.setState({sectorToFocus:o});break}case"Escape":{n.sectorRefs[n.state.sectorToFocus].blur(),n.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,n=r.sectors,a=r.isAnimationActive,i=this.state.prevSectors;return a&&n&&n.length&&(!i||!to(i,n))?this.renderSectorsWithAnimation():this.renderSectorsStatically(n)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,n=this.props,a=n.hide,i=n.sectors,o=n.className,l=n.label,c=n.cx,u=n.cy,d=n.innerRadius,f=n.outerRadius,h=n.isAnimationActive,m=this.state.isAnimationFinished;if(a||!i||!i.length||!je(c)||!je(u)||!je(d)||!je(f))return null;var v=Ze("recharts-pie",o);return E.createElement(Xe,{tabIndex:this.props.rootTabIndex,className:v,ref:function(p){r.pieRef=p}},this.renderSectors(),l&&this.renderLabels(i),Yr.renderCallByParent(this.props,null,!1),(!h||m)&&Wa.renderCallByParent(this.props,i,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,n){return n.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==n.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:n.curSectors,isAnimationFinished:!0}:r.sectors!==n.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,n){return r>n?"start":r<n?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,n,a){if(E.isValidElement(r))return E.cloneElement(r,n);if(We(r))return r(n);var i=Ze("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return E.createElement(el,td({},n,{key:a,type:"linear",className:i}))}},{key:"renderLabelItem",value:function(r,n,a){if(E.isValidElement(r))return E.cloneElement(r,n);var i=a;if(We(r)&&(i=r(n),E.isValidElement(i)))return i;var o=Ze("recharts-pie-label-text",typeof r!="boolean"&&!We(r)?r.className:"");return E.createElement(Rc,td({},n,{alignmentBaseline:"middle",className:o}),i)}}])}(g.PureComponent);$v=lo;Da(lo,"displayName","Pie");Da(lo,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!pi.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Da(lo,"parseDeltaAngle",function(e,t){var r=Qr(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Da(lo,"getRealPieData",function(e){var t=e.data,r=e.children,n=ze(e,!1),a=vn(r,Uf);return t&&t.length?t.map(function(i,o){return Lt(Lt(Lt({payload:i},n),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return Lt(Lt({},n),i.props)}):[]});Da(lo,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,o=C8(a,i),l=n+Sn(e.cx,a,a/2),c=r+Sn(e.cy,i,i/2),u=Sn(e.innerRadius,o,0),d=Sn(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Da(lo,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Lt(Lt({},t.type.defaultProps),t.props):t.props,a=$v.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,m=Math.abs(n.minAngle),v=$v.parseCoordinateOfPie(n,r),p=$v.parseDeltaAngle(o,l),b=Math.abs(p),x=u;He(u)&&He(f)?(Ss(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):He(u)&&(Ss(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=f);var y=a.filter(function(C){return qt(C,x,0)!==0}).length,w=(b>=360?y:y-1)*c,j=b-y*m-w,N=a.reduce(function(C,O){var T=qt(O,x,0);return C+(je(T)?T:0)},0),_;if(N>0){var k;_=a.map(function(C,O){var T=qt(C,x,0),P=qt(C,d,O),S=(je(T)?T:0)/N,M;O?M=k.endAngle+Qr(p)*c*(T!==0?1:0):M=o;var $=M+Qr(p)*((T!==0?m:0)+S*j),q=(M+$)/2,U=(v.innerRadius+v.outerRadius)/2,L=[{name:P,value:T,payload:C,dataKey:x,type:h}],z=Dt(v.cx,v.cy,U,q);return k=Lt(Lt(Lt({percent:S,cornerRadius:i,name:P,tooltipPayload:L,midAngle:q,middleRadius:U,tooltipPosition:z},C),v),{},{value:qt(C,x),startAngle:M,endAngle:$,payload:C,paddingAngle:Qr(p)*c}),k})}return Lt(Lt({},v),{},{sectors:_,data:a})});function xp(e){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xp(e)}function j_(){return j_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j_.apply(this,arguments)}function iM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iM(Object(r),!0).forEach(function(n){ASe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ASe(e,t,r){return t=PSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PSe(e){var t=TSe(e,"string");return xp(t)=="symbol"?t:t+""}function TSe(e,t){if(xp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oM(e){return typeof e=="string"?parseInt(e,10):e}function $Se(e,t){var r="".concat(t.cx||e.cx),n=Number(r),a="".concat(t.cy||e.cy),i=Number(a);return Nj(Nj(Nj({},t),e),{},{cx:n,cy:i})}function lM(e){return E.createElement(vp,j_({shapeType:"sector",propTransformer:$Se},e))}var MSe=["shape","activeShape","activeIndex","cornerRadius"],RSe=["value","background"];function Qd(e){"@babel/helpers - typeof";return Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qd(e)}function dx(){return dx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dx.apply(this,arguments)}function cM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cM(Object(r),!0).forEach(function(n){bc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uM(e,t){if(e==null)return{};var r=ISe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ISe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function DSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Z8(n.key),n)}}function zSe(e,t,r){return t&&dM(e.prototype,t),r&&dM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function LSe(e,t,r){return t=fx(t),FSe(e,Q8()?Reflect.construct(t,r||[],fx(e).constructor):t.apply(e,r))}function FSe(e,t){if(t&&(Qd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BSe(e)}function BSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q8=function(){return!!e})()}function fx(e){return fx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},fx(e)}function qSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N_(e,t)}function N_(e,t){return N_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},N_(e,t)}function bc(e,t,r){return t=Z8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z8(e){var t=USe(e,"string");return Qd(t)=="symbol"?t:t+""}function USe(e,t){if(Qd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var cg=function(e){function t(){var r;DSe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=LSe(this,t,[].concat(a)),bc(r,"state",{isAnimationFinished:!1}),bc(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),We(o)&&o()}),bc(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),We(o)&&o()}),r}return qSe(t,e),zSe(t,[{key:"getDeltaAngle",value:function(){var r=this.props,n=r.startAngle,a=r.endAngle,i=Qr(a-n),o=Math.min(Math.abs(a-n),360);return i*o}},{key:"renderSectorsStatically",value:function(r){var n=this,a=this.props,i=a.shape,o=a.activeShape,l=a.activeIndex,c=a.cornerRadius,u=uM(a,MSe),d=ze(u,!1);return r.map(function(f,h){var m=h===l,v=Kr(Kr(Kr(Kr({},d),{},{cornerRadius:oM(c)},f),ui(n.props,f,h)),{},{className:"recharts-radial-bar-sector ".concat(f.className),forceCornerRadius:u.forceCornerRadius,cornerIsExternal:u.cornerIsExternal,isActive:m,option:m?o:i});return E.createElement(lM,dx({},v,{key:"sector-".concat(h)}))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,n=this.props,a=n.data,i=n.isAnimationActive,o=n.animationBegin,l=n.animationDuration,c=n.animationEasing,u=n.animationId,d=this.state.prevData;return E.createElement(_a,{begin:o,duration:l,isActive:i,easing:c,from:{t:0},to:{t:1},key:"radialBar-".concat(u),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(f){var h=f.t,m=a.map(function(v,p){var b=d&&d[p];if(b){var x=Ft(b.startAngle,v.startAngle),y=Ft(b.endAngle,v.endAngle);return Kr(Kr({},v),{},{startAngle:x(h),endAngle:y(h)})}var w=v.endAngle,j=v.startAngle,N=Ft(j,w);return Kr(Kr({},v),{},{endAngle:N(h)})});return E.createElement(Xe,null,r.renderSectorsStatically(m))})}},{key:"renderSectors",value:function(){var r=this.props,n=r.data,a=r.isAnimationActive,i=this.state.prevData;return a&&n&&n.length&&(!i||!to(i,n))?this.renderSectorsWithAnimation():this.renderSectorsStatically(n)}},{key:"renderBackground",value:function(r){var n=this,a=this.props.cornerRadius,i=ze(this.props.background,!1);return r.map(function(o,l){o.value;var c=o.background,u=uM(o,RSe);if(!c)return null;var d=Kr(Kr(Kr(Kr(Kr({cornerRadius:oM(a)},u),{},{fill:"#eee"},c),i),ui(n.props,o,l)),{},{index:l,className:Ze("recharts-radial-bar-background-sector",i==null?void 0:i.className),option:c,isActive:!1});return E.createElement(lM,dx({},d,{key:"sector-".concat(l)}))})}},{key:"render",value:function(){var r=this.props,n=r.hide,a=r.data,i=r.className,o=r.background,l=r.isAnimationActive;if(n||!a||!a.length)return null;var c=this.state.isAnimationFinished,u=Ze("recharts-area",i);return E.createElement(Xe,{className:u},o&&E.createElement(Xe,{className:"recharts-radial-bar-background"},this.renderBackground(a)),E.createElement(Xe,{className:"recharts-radial-bar-sectors"},this.renderSectors()),(!l||c)&&Wa.renderCallByParent(Kr({},this.props),a))}}],[{key:"getDerivedStateFromProps",value:function(r,n){return r.animationId!==n.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:n.curData}:r.data!==n.curData?{curData:r.data}:null}}])}(g.PureComponent);bc(cg,"displayName","RadialBar");bc(cg,"defaultProps",{angleAxisId:0,radiusAxisId:0,minPointSize:0,hide:!1,legendType:"rect",data:[],isAnimationActive:!pi.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease",forceCornerRadius:!1,cornerIsExternal:!1});bc(cg,"getComposedData",function(e){var t=e.item,r=e.props,n=e.radiusAxis,a=e.radiusAxisTicks,i=e.angleAxis,o=e.angleAxisTicks,l=e.displayedData,c=e.dataKey,u=e.stackedData,d=e.barPosition,f=e.bandSize,h=e.dataStartIndex,m=w8(d,t);if(!m)return null;var v=i.cx,p=i.cy,b=r.layout,x=t.props,y=x.children,w=x.minPointSize,j=b==="radial"?i:n,N=u?j.scale.domain():null,_=_8({numericAxis:j}),k=vn(y,Uf),C=l.map(function(O,T){var P,S,M,$,q,U;if(u?P=j8(u[h+T],N):(P=qt(O,c),Array.isArray(P)||(P=[_,P])),b==="radial"){S=Xy({axis:n,ticks:a,bandSize:f,offset:m.offset,entry:O,index:T}),q=i.scale(P[1]),$=i.scale(P[0]),M=S+m.size;var L=q-$;if(Math.abs(w)>0&&Math.abs(L)<Math.abs(w)){var z=Qr(L||w)*(Math.abs(w)-Math.abs(L));q+=z}U={background:{cx:v,cy:p,innerRadius:S,outerRadius:M,startAngle:r.startAngle,endAngle:r.endAngle}}}else{S=n.scale(P[0]),M=n.scale(P[1]),$=Xy({axis:i,ticks:o,bandSize:f,offset:m.offset,entry:O,index:T}),q=$+m.size;var R=M-S;if(Math.abs(w)>0&&Math.abs(R)<Math.abs(w)){var G=Qr(R||w)*(Math.abs(w)-Math.abs(R));M+=G}}return Kr(Kr(Kr(Kr({},O),U),{},{payload:O,value:u?P:P[1],cx:v,cy:p,innerRadius:S,outerRadius:M,startAngle:$,endAngle:q},k&&k[T]&&k[T].props),{},{tooltipPayload:[US(t,O)],tooltipPosition:Dt(v,p,(S+M)/2,($+q)/2)})});return{data:C,layout:b}});var VSe=Math.ceil,WSe=Math.max;function KSe(e,t,r,n){for(var a=-1,i=WSe(VSe((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++a]=e,e+=r;return o}var HSe=KSe,GSe=fF,fM=1/0,YSe=17976931348623157e292;function QSe(e){if(!e)return e===0?e:0;if(e=GSe(e),e===fM||e===-fM){var t=e<0?-1:1;return t*YSe}return e===e?e:0}var X8=QSe,ZSe=HSe,XSe=o0,_j=X8;function JSe(e){return function(t,r,n){return n&&typeof n!="number"&&XSe(t,r,n)&&(r=n=void 0),t=_j(t),r===void 0?(r=t,t=0):r=_j(r),n=n===void 0?t<r?1:-1:_j(n),ZSe(t,r,n,e)}}var eCe=JSe,tCe=eCe,rCe=tCe(),nCe=rCe;const hx=Ct(nCe);function bp(e){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bp(e)}function hM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hM(Object(r),!0).forEach(function(n){J8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function J8(e,t,r){return t=aCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aCe(e){var t=sCe(e,"string");return bp(t)=="symbol"?t:t+""}function sCe(e,t){if(bp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iCe=["Webkit","Moz","O","ms"],oCe=function(e,t){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),n=iCe.reduce(function(a,i){return mM(mM({},a),{},J8({},i+r,t))},{});return n[e]=t,n};function Zd(e){"@babel/helpers - typeof";return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zd(e)}function mx(){return mx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mx.apply(this,arguments)}function pM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pM(Object(r),!0).forEach(function(n){oa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,t9(n.key),n)}}function cCe(e,t,r){return t&&gM(e.prototype,t),r&&gM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function uCe(e,t,r){return t=px(t),dCe(e,e9()?Reflect.construct(t,r||[],px(e).constructor):t.apply(e,r))}function dCe(e,t){if(t&&(Zd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fCe(e)}function fCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function e9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e9=function(){return!!e})()}function px(e){return px=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},px(e)}function hCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&__(e,t)}function __(e,t){return __=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},__(e,t)}function oa(e,t,r){return t=t9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t9(e){var t=mCe(e,"string");return Zd(t)=="symbol"?t:t+""}function mCe(e,t){if(Zd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var pCe=function(e){var t=e.data,r=e.startIndex,n=e.endIndex,a=e.x,i=e.width,o=e.travellerWidth;if(!t||!t.length)return{};var l=t.length,c=nm().domain(hx(0,l)).range([a,a+i-o]),u=c.domain().map(function(d){return c(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(n),scale:c,scaleValues:u}},vM=function(e){return e.changedTouches&&!!e.changedTouches.length},Xd=function(e){function t(r){var n;return lCe(this,t),n=uCe(this,t,[r]),oa(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),oa(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),oa(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),oa(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),oa(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),oa(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),oa(n,"handleSlideDragStart",function(a){var i=vM(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return hCe(t,e),cCe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var n=r.startX,a=r.endX,i=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,u=c.length-1,d=Math.min(n,a),f=Math.max(n,a),h=t.getIndexInRange(i,d),m=t.getIndexInRange(i,f);return{startIndex:h-h%l,endIndex:m===u?u:m-m%l}}},{key:"getTextOfTick",value:function(r){var n=this.props,a=n.data,i=n.tickFormatter,o=n.dataKey,l=qt(a[r],o,r);return We(i)?i(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var n=this.state,a=n.slideMoveStartX,i=n.startX,o=n.endX,l=this.props,c=l.x,u=l.width,d=l.travellerWidth,f=l.startIndex,h=l.endIndex,m=l.onChange,v=r.pageX-a;v>0?v=Math.min(v,c+u-d-o,c+u-d-i):v<0&&(v=Math.max(v,c-i,c-o));var p=this.getIndex({startX:i+v,endX:o+v});(p.startIndex!==f||p.endIndex!==h)&&m&&m(p),this.setState({startX:i+v,endX:o+v,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,n){var a=vM(n)?n.changedTouches[0]:n;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var n=this.state,a=n.brushMoveStartX,i=n.movingTravellerId,o=n.endX,l=n.startX,c=this.state[i],u=this.props,d=u.x,f=u.width,h=u.travellerWidth,m=u.onChange,v=u.gap,p=u.data,b={startX:this.state.startX,endX:this.state.endX},x=r.pageX-a;x>0?x=Math.min(x,d+f-h-c):x<0&&(x=Math.max(x,d-c)),b[i]=c+x;var y=this.getIndex(b),w=y.startIndex,j=y.endIndex,N=function(){var _=p.length-1;return i==="startX"&&(o>l?w%v===0:j%v===0)||o<l&&j===_||i==="endX"&&(o>l?j%v===0:w%v===0)||o>l&&j===_};this.setState(oa(oa({},i,c+x),"brushMoveStartX",r.pageX),function(){m&&N()&&m(y)})}},{key:"handleTravellerMoveKeyboard",value:function(r,n){var a=this,i=this.state,o=i.scaleValues,l=i.startX,c=i.endX,u=this.state[n],d=o.indexOf(u);if(d!==-1){var f=d+r;if(!(f===-1||f>=o.length)){var h=o[f];n==="startX"&&h>=c||n==="endX"&&h<=l||this.setState(oa({},n,h),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,n=r.x,a=r.y,i=r.width,o=r.height,l=r.fill,c=r.stroke;return E.createElement("rect",{stroke:c,fill:l,x:n,y:a,width:i,height:o})}},{key:"renderPanorama",value:function(){var r=this.props,n=r.x,a=r.y,i=r.width,o=r.height,l=r.data,c=r.children,u=r.padding,d=g.Children.only(c);return d?E.cloneElement(d,{x:n,y:a,width:i,height:o,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,n){var a,i,o=this,l=this.props,c=l.y,u=l.travellerWidth,d=l.height,f=l.traveller,h=l.ariaLabel,m=l.data,v=l.startIndex,p=l.endIndex,b=Math.max(r,this.props.x),x=kj(kj({},ze(this.props,!1)),{},{x:b,y:c,width:u,height:d}),y=h||"Min value: ".concat((a=m[v])===null||a===void 0?void 0:a.name,", Max value: ").concat((i=m[p])===null||i===void 0?void 0:i.name);return E.createElement(Xe,{tabIndex:0,role:"slider","aria-label":y,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[n],onTouchStart:this.travellerDragStartHandlers[n],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),o.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,n))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(f,x))}},{key:"renderSlide",value:function(r,n){var a=this.props,i=a.y,o=a.height,l=a.stroke,c=a.travellerWidth,u=Math.min(r,n)+c,d=Math.max(Math.abs(n-r)-c,0);return E.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:i,width:d,height:o})}},{key:"renderText",value:function(){var r=this.props,n=r.startIndex,a=r.endIndex,i=r.y,o=r.height,l=r.travellerWidth,c=r.stroke,u=this.state,d=u.startX,f=u.endX,h=5,m={pointerEvents:"none",fill:c};return E.createElement(Xe,{className:"recharts-brush-texts"},E.createElement(Rc,mx({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,f)-h,y:i+o/2},m),this.getTextOfTick(n)),E.createElement(Rc,mx({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,f)+l+h,y:i+o/2},m),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,n=r.data,a=r.className,i=r.children,o=r.x,l=r.y,c=r.width,u=r.height,d=r.alwaysShowText,f=this.state,h=f.startX,m=f.endX,v=f.isTextActive,p=f.isSlideMoving,b=f.isTravellerMoving,x=f.isTravellerFocused;if(!n||!n.length||!je(o)||!je(l)||!je(c)||!je(u)||c<=0||u<=0)return null;var y=Ze("recharts-brush",a),w=E.Children.count(i)===1,j=oCe("userSelect","none");return E.createElement(Xe,{className:y,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),w&&this.renderPanorama(),this.renderSlide(h,m),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(m,"endX"),(v||p||b||x||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var n=r.x,a=r.y,i=r.width,o=r.height,l=r.stroke,c=Math.floor(a+o/2)-1;return E.createElement(E.Fragment,null,E.createElement("rect",{x:n,y:a,width:i,height:o,fill:l,stroke:"none"}),E.createElement("line",{x1:n+1,y1:c,x2:n+i-1,y2:c,fill:"none",stroke:"#fff"}),E.createElement("line",{x1:n+1,y1:c+2,x2:n+i-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,n){var a;return E.isValidElement(r)?a=E.cloneElement(r,n):We(r)?a=r(n):a=t.renderDefaultTraveller(n),a}},{key:"getDerivedStateFromProps",value:function(r,n){var a=r.data,i=r.width,o=r.x,l=r.travellerWidth,c=r.updateId,u=r.startIndex,d=r.endIndex;if(a!==n.prevData||c!==n.prevUpdateId)return kj({prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:i},a&&a.length?pCe({data:a,width:i,x:o,travellerWidth:l,startIndex:u,endIndex:d}):{scale:null,scaleValues:null});if(n.scale&&(i!==n.prevWidth||o!==n.prevX||l!==n.prevTravellerWidth)){n.scale.range([o,o+i-l]);var f=n.scale.domain().map(function(h){return n.scale(h)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:i,startX:n.scale(r.startIndex),endX:n.scale(r.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(r,n){for(var a=r.length,i=0,o=a-1;o-i>1;){var l=Math.floor((i+o)/2);r[l]>n?o=l:i=l}return n>=r[o]?o:i}}])}(g.PureComponent);oa(Xd,"displayName","Brush");oa(Xd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var gCe=pS;function vCe(e,t){var r;return gCe(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var yCe=vCe,xCe=LL,bCe=mi,wCe=yCe,jCe=ta,NCe=o0;function _Ce(e,t,r){var n=jCe(e)?xCe:wCe;return r&&NCe(e,t,r)&&(t=void 0),n(e,bCe(t))}var kCe=_Ce;const SCe=Ct(kCe);var ii=function(e,t){var r=e.alwaysShow,n=e.ifOverflow;return r&&(n="extendDomain"),n===t},yM=oF;function CCe(e,t,r){t=="__proto__"&&yM?yM(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var ECe=CCe,OCe=ECe,ACe=sF,PCe=mi;function TCe(e,t){var r={};return t=PCe(t),ACe(e,function(n,a,i){OCe(r,a,t(n,a,i))}),r}var $Ce=TCe;const MCe=Ct($Ce);function RCe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var ICe=RCe,DCe=pS;function zCe(e,t){var r=!0;return DCe(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var LCe=zCe,FCe=ICe,BCe=LCe,qCe=mi,UCe=ta,VCe=o0;function WCe(e,t,r){var n=UCe(e)?FCe:BCe;return r&&VCe(e,t,r)&&(t=void 0),n(e,qCe(t))}var KCe=WCe;const r9=Ct(KCe);var HCe=["x","y"];function wp(e){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wp(e)}function k_(){return k_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k_.apply(this,arguments)}function xM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $h(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xM(Object(r),!0).forEach(function(n){GCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GCe(e,t,r){return t=YCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YCe(e){var t=QCe(e,"string");return wp(t)=="symbol"?t:t+""}function QCe(e,t){if(wp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZCe(e,t){if(e==null)return{};var r=XCe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function XCe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function JCe(e,t){var r=e.x,n=e.y,a=ZCe(e,HCe),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return $h($h($h($h($h({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function bM(e){return E.createElement(vp,k_({shapeType:"rectangle",propTransformer:JCe,activeClassName:"recharts-active-bar"},e))}var eEe=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,n){if(typeof e=="number")return e;var a=je(r)||mce(r);return a?e(r,n):(a||Dc(),t)}},tEe=["value","background"],n9;function Jd(e){"@babel/helpers - typeof";return Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jd(e)}function rEe(e,t){if(e==null)return{};var r=nEe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nEe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function gx(){return gx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gx.apply(this,arguments)}function wM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wM(Object(r),!0).forEach(function(n){zo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s9(n.key),n)}}function sEe(e,t,r){return t&&jM(e.prototype,t),r&&jM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function iEe(e,t,r){return t=vx(t),oEe(e,a9()?Reflect.construct(t,r||[],vx(e).constructor):t.apply(e,r))}function oEe(e,t){if(t&&(Jd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lEe(e)}function lEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a9=function(){return!!e})()}function vx(e){return vx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},vx(e)}function cEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S_(e,t)}function S_(e,t){return S_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},S_(e,t)}function zo(e,t,r){return t=s9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s9(e){var t=uEe(e,"string");return Jd(t)=="symbol"?t:t+""}function uEe(e,t){if(Jd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ml=function(e){function t(){var r;aEe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=iEe(this,t,[].concat(a)),zo(r,"state",{isAnimationFinished:!1}),zo(r,"id",Cl("recharts-bar-")),zo(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),zo(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return cEe(t,e),sEe(t,[{key:"renderRectanglesStatically",value:function(r){var n=this,a=this.props,i=a.shape,o=a.dataKey,l=a.activeIndex,c=a.activeBar,u=ze(this.props,!1);return r&&r.map(function(d,f){var h=f===l,m=h?c:i,v=kr(kr(kr({},u),d),{},{isActive:h,option:m,index:f,dataKey:o,onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd});return E.createElement(Xe,gx({className:"recharts-bar-rectangle"},ui(n.props,d,f),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(f)}),E.createElement(bM,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,n=this.props,a=n.data,i=n.layout,o=n.isAnimationActive,l=n.animationBegin,c=n.animationDuration,u=n.animationEasing,d=n.animationId,f=this.state.prevData;return E.createElement(_a,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var m=h.t,v=a.map(function(p,b){var x=f&&f[b];if(x){var y=Ft(x.x,p.x),w=Ft(x.y,p.y),j=Ft(x.width,p.width),N=Ft(x.height,p.height);return kr(kr({},p),{},{x:y(m),y:w(m),width:j(m),height:N(m)})}if(i==="horizontal"){var _=Ft(0,p.height),k=_(m);return kr(kr({},p),{},{y:p.y+p.height-k,height:k})}var C=Ft(0,p.width),O=C(m);return kr(kr({},p),{},{width:O})});return E.createElement(Xe,null,r.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var r=this.props,n=r.data,a=r.isAnimationActive,i=this.state.prevData;return a&&n&&n.length&&(!i||!to(i,n))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(n)}},{key:"renderBackground",value:function(){var r=this,n=this.props,a=n.data,i=n.dataKey,o=n.activeIndex,l=ze(this.props.background,!1);return a.map(function(c,u){c.value;var d=c.background,f=rEe(c,tEe);if(!d)return null;var h=kr(kr(kr(kr(kr({},f),{},{fill:"#eee"},d),l),ui(r.props,c,u)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:i,index:u,className:"recharts-bar-background-rectangle"});return E.createElement(bM,gx({key:"background-bar-".concat(u),option:r.props.background,isActive:u===o},h))})}},{key:"renderErrorBar",value:function(r,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,i=a.data,o=a.xAxis,l=a.yAxis,c=a.layout,u=a.children,d=vn(u,Hf);if(!d)return null;var f=c==="vertical"?i[0].height/2:i[0].width/2,h=function(v,p){var b=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:b,errorVal:qt(v,p)}},m={clipPath:r?"url(#clipPath-".concat(n,")"):null};return E.createElement(Xe,m,d.map(function(v){return E.cloneElement(v,{key:"error-bar-".concat(n,"-").concat(v.props.dataKey),data:i,xAxis:o,yAxis:l,layout:c,offset:f,dataPointFormatter:h})}))}},{key:"render",value:function(){var r=this.props,n=r.hide,a=r.data,i=r.className,o=r.xAxis,l=r.yAxis,c=r.left,u=r.top,d=r.width,f=r.height,h=r.isAnimationActive,m=r.background,v=r.id;if(n||!a||!a.length)return null;var p=this.state.isAnimationFinished,b=Ze("recharts-bar",i),x=o&&o.allowDataOverflow,y=l&&l.allowDataOverflow,w=x||y,j=He(v)?this.id:v;return E.createElement(Xe,{className:b},x||y?E.createElement("defs",null,E.createElement("clipPath",{id:"clipPath-".concat(j)},E.createElement("rect",{x:x?c:c-d/2,y:y?u:u-f/2,width:x?d:d*2,height:y?f:f*2}))):null,E.createElement(Xe,{className:"recharts-bar-rectangles",clipPath:w?"url(#clipPath-".concat(j,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(w,j),(!h||p)&&Wa.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,n){return r.animationId!==n.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:n.curData}:r.data!==n.curData?{curData:r.data}:null}}])}(g.PureComponent);n9=ml;zo(ml,"displayName","Bar");zo(ml,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!pi.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});zo(ml,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=w8(n,r);if(!m)return null;var v=t.layout,p=r.type.defaultProps,b=p!==void 0?kr(kr({},p),r.props):r.props,x=b.dataKey,y=b.children,w=b.minPointSize,j=v==="horizontal"?o:i,N=u?j.scale.domain():null,_=_8({numericAxis:j}),k=vn(y,Uf),C=f.map(function(O,T){var P,S,M,$,q,U;u?P=j8(u[d+T],N):(P=qt(O,x),Array.isArray(P)||(P=[_,P]));var L=eEe(w,n9.defaultProps.minPointSize)(P[1],T);if(v==="horizontal"){var z,R=[o.scale(P[0]),o.scale(P[1])],G=R[0],D=R[1];S=Xy({axis:i,ticks:l,bandSize:a,offset:m.offset,entry:O,index:T}),M=(z=D??G)!==null&&z!==void 0?z:void 0,$=m.size;var F=G-D;if(q=Number.isNaN(F)?0:F,U={x:S,y:o.y,width:$,height:o.height},Math.abs(L)>0&&Math.abs(q)<Math.abs(L)){var J=Qr(q||L)*(Math.abs(L)-Math.abs(q));M-=J,q+=J}}else{var H=[i.scale(P[0]),i.scale(P[1])],I=H[0],oe=H[1];if(S=I,M=Xy({axis:o,ticks:c,bandSize:a,offset:m.offset,entry:O,index:T}),$=oe-I,q=m.size,U={x:i.x,y:M,width:i.width,height:q},Math.abs(L)>0&&Math.abs($)<Math.abs(L)){var V=Qr($||L)*(Math.abs(L)-Math.abs($));$+=V}}return kr(kr(kr({},O),{},{x:S,y:M,width:$,height:q,value:u?P:P[1],payload:O,background:U},k&&k[T]&&k[T].props),{},{tooltipPayload:[US(r,O)],tooltipPosition:{x:S+$/2,y:M+q/2}})});return kr({data:C,layout:v},h)});function jp(e){"@babel/helpers - typeof";return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jp(e)}function dEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i9(n.key),n)}}function fEe(e,t,r){return t&&NM(e.prototype,t),r&&NM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ds(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_M(Object(r),!0).forEach(function(n){j0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_M(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j0(e,t,r){return t=i9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i9(e){var t=hEe(e,"string");return jp(t)=="symbol"?t:t+""}function hEe(e,t){if(jp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mEe=function(e,t,r,n,a){var i=e.width,o=e.height,l=e.layout,c=e.children,u=Object.keys(t),d={left:r.left,leftMirror:r.left,right:i-r.right,rightMirror:i-r.right,top:r.top,topMirror:r.top,bottom:o-r.bottom,bottomMirror:o-r.bottom},f=!!ca(c,ml);return u.reduce(function(h,m){var v=t[m],p=v.orientation,b=v.domain,x=v.padding,y=x===void 0?{}:x,w=v.mirror,j=v.reversed,N="".concat(p).concat(w?"Mirror":""),_,k,C,O,T;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var P=b[1]-b[0],S=1/0,M=v.categoricalDomain.sort(yce);if(M.forEach(function(J,H){H>0&&(S=Math.min((J||0)-(M[H-1]||0),S))}),Number.isFinite(S)){var $=S/P,q=v.layout==="vertical"?r.height:r.width;if(v.padding==="gap"&&(_=$*q/2),v.padding==="no-gap"){var U=Sn(e.barCategoryGap,$*q),L=$*q/2;_=L-U-(L-U)/q*U}}}n==="xAxis"?k=[r.left+(y.left||0)+(_||0),r.left+r.width-(y.right||0)-(_||0)]:n==="yAxis"?k=l==="horizontal"?[r.top+r.height-(y.bottom||0),r.top+(y.top||0)]:[r.top+(y.top||0)+(_||0),r.top+r.height-(y.bottom||0)-(_||0)]:k=v.range,j&&(k=[k[1],k[0]]);var z=x8(v,a,f),R=z.scale,G=z.realScaleType;R.domain(b).range(k),b8(R);var D=N8(R,ds(ds({},v),{},{realScaleType:G}));n==="xAxis"?(T=p==="top"&&!w||p==="bottom"&&w,C=r.left,O=d[N]-T*v.height):n==="yAxis"&&(T=p==="left"&&!w||p==="right"&&w,C=d[N]-T*v.width,O=r.top);var F=ds(ds(ds({},v),D),{},{realScaleType:G,x:C,y:O,scale:R,width:n==="xAxis"?r.width:v.width,height:n==="yAxis"?r.height:v.height});return F.bandSize=Jy(F,D),!v.hide&&n==="xAxis"?d[N]+=(T?-1:1)*F.height:v.hide||(d[N]+=(T?-1:1)*F.width),ds(ds({},h),{},j0({},m,F))},{})},o9=function(e,t){var r=e.x,n=e.y,a=t.x,i=t.y;return{x:Math.min(r,a),y:Math.min(n,i),width:Math.abs(a-r),height:Math.abs(i-n)}},pEe=function(e){var t=e.x1,r=e.y1,n=e.x2,a=e.y2;return o9({x:t,y:r},{x:n,y:a})},l9=function(){function e(t){dEe(this,e),this.scale=t}return fEe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.bandAware,a=r.position;if(t!==void 0){if(a)switch(a){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(t)+o}default:return this.scale(t)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}},{key:"isInRange",value:function(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}],[{key:"create",value:function(t){return new e(t)}}])}();j0(l9,"EPS",1e-4);var WS=function(e){var t=Object.keys(e).reduce(function(r,n){return ds(ds({},r),{},j0({},n,l9.create(e[n])))},{});return ds(ds({},t),{},{apply:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;return MCe(r,function(o,l){return t[l].apply(o,{bandAware:a,position:i})})},isInRange:function(r){return r9(r,function(n,a){return t[a].isInRange(n)})}})};function gEe(e){return(e%180+180)%180}var vEe=function(e){var t=e.width,r=e.height,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=gEe(n),i=a*Math.PI/180,o=Math.atan(r/t),l=i>o&&i<Math.PI-o?r/Math.sin(i):t/Math.cos(i);return Math.abs(l)},yEe=mi,xEe=tg,bEe=s0;function wEe(e){return function(t,r,n){var a=Object(t);if(!xEe(t)){var i=yEe(r);t=bEe(t),r=function(l){return i(a[l],l,a)}}var o=e(t,r,n);return o>-1?a[i?t[o]:o]:void 0}}var jEe=wEe,NEe=X8;function _Ee(e){var t=NEe(e),r=t%1;return t===t?r?t-r:t:0}var kEe=_Ee,SEe=JL,CEe=mi,EEe=kEe,OEe=Math.max;function AEe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:EEe(r);return a<0&&(a=OEe(n+a,0)),SEe(e,CEe(t),a)}var PEe=AEe,TEe=jEe,$Ee=PEe,MEe=TEe($Ee),REe=MEe;const IEe=Ct(REe);var DEe=ble(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),KS=g.createContext(void 0),HS=g.createContext(void 0),c9=g.createContext(void 0),u9=g.createContext({}),d9=g.createContext(void 0),f9=g.createContext(0),h9=g.createContext(0),kM=function(e){var t=e.state,r=t.xAxisMap,n=t.yAxisMap,a=t.offset,i=e.clipPathId,o=e.children,l=e.width,c=e.height,u=DEe(a);return E.createElement(KS.Provider,{value:r},E.createElement(HS.Provider,{value:n},E.createElement(u9.Provider,{value:a},E.createElement(c9.Provider,{value:u},E.createElement(d9.Provider,{value:i},E.createElement(f9.Provider,{value:c},E.createElement(h9.Provider,{value:l},o)))))))},zEe=function(){return g.useContext(d9)},m9=function(e){var t=g.useContext(KS);t==null&&Dc();var r=t[e];return r==null&&Dc(),r},LEe=function(){var e=g.useContext(KS);return To(e)},FEe=function(){var e=g.useContext(HS),t=IEe(e,function(r){return r9(r.domain,Number.isFinite)});return t||To(e)},p9=function(e){var t=g.useContext(HS);t==null&&Dc();var r=t[e];return r==null&&Dc(),r},BEe=function(){var e=g.useContext(c9);return e},qEe=function(){return g.useContext(u9)},GS=function(){return g.useContext(h9)},YS=function(){return g.useContext(f9)};function ef(e){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ef(e)}function UEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VEe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v9(n.key),n)}}function WEe(e,t,r){return t&&VEe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function KEe(e,t,r){return t=yx(t),HEe(e,g9()?Reflect.construct(t,r||[],yx(e).constructor):t.apply(e,r))}function HEe(e,t){if(t&&(ef(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GEe(e)}function GEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g9=function(){return!!e})()}function yx(e){return yx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},yx(e)}function YEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C_(e,t)}function C_(e,t){return C_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},C_(e,t)}function SM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function CM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SM(Object(r),!0).forEach(function(n){QS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QS(e,t,r){return t=v9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v9(e){var t=QEe(e,"string");return ef(t)=="symbol"?t:t+""}function QEe(e,t){if(ef(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ef(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function ZEe(e,t){return tOe(e)||eOe(e,t)||JEe(e,t)||XEe()}function XEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JEe(e,t){if(e){if(typeof e=="string")return EM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EM(e,t)}}function EM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eOe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function tOe(e){if(Array.isArray(e))return e}function E_(){return E_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E_.apply(this,arguments)}var rOe=function(e,t){var r;return E.isValidElement(e)?r=E.cloneElement(e,t):We(e)?r=e(t):r=E.createElement("line",E_({},t,{className:"recharts-reference-line-line"})),r},nOe=function(e,t,r,n,a,i,o,l,c){var u=a.x,d=a.y,f=a.width,h=a.height;if(r){var m=c.y,v=e.y.apply(m,{position:i});if(ii(c,"discard")&&!e.y.isInRange(v))return null;var p=[{x:u+f,y:v},{x:u,y:v}];return l==="left"?p.reverse():p}if(t){var b=c.x,x=e.x.apply(b,{position:i});if(ii(c,"discard")&&!e.x.isInRange(x))return null;var y=[{x,y:d+h},{x,y:d}];return o==="top"?y.reverse():y}if(n){var w=c.segment,j=w.map(function(N){return e.apply(N,{position:i})});return ii(c,"discard")&&SCe(j,function(N){return!e.isInRange(N)})?null:j}return null};function aOe(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=zEe(),d=m9(a),f=p9(i),h=BEe();if(!u||!h)return null;Ss(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=WS({x:d.scale,y:f.scale}),v=Ur(t),p=Ur(r),b=n&&n.length===2,x=nOe(m,v,p,b,h,e.position,d.orientation,f.orientation,e);if(!x)return null;var y=ZEe(x,2),w=y[0],j=w.x,N=w.y,_=y[1],k=_.x,C=_.y,O=ii(e,"hidden")?"url(#".concat(u,")"):void 0,T=CM(CM({clipPath:O},ze(e,!0)),{},{x1:j,y1:N,x2:k,y2:C});return E.createElement(Xe,{className:Ze("recharts-reference-line",l)},rOe(o,T),Yr.renderCallByParent(e,pEe({x1:j,y1:N,x2:k,y2:C})))}var ZS=function(e){function t(){return UEe(this,t),KEe(this,t,arguments)}return YEe(t,e),WEe(t,[{key:"render",value:function(){return E.createElement(aOe,this.props)}}])}(E.Component);QS(ZS,"displayName","ReferenceLine");QS(ZS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function O_(){return O_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O_.apply(this,arguments)}function tf(e){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tf(e)}function OM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function AM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OM(Object(r),!0).forEach(function(n){N0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iOe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,x9(n.key),n)}}function oOe(e,t,r){return t&&iOe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lOe(e,t,r){return t=xx(t),cOe(e,y9()?Reflect.construct(t,r||[],xx(e).constructor):t.apply(e,r))}function cOe(e,t){if(t&&(tf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uOe(e)}function uOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y9=function(){return!!e})()}function xx(e){return xx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xx(e)}function dOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A_(e,t)}function A_(e,t){return A_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},A_(e,t)}function N0(e,t,r){return t=x9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x9(e){var t=fOe(e,"string");return tf(t)=="symbol"?t:t+""}function fOe(e,t){if(tf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var hOe=function(e){var t=e.x,r=e.y,n=e.xAxis,a=e.yAxis,i=WS({x:n.scale,y:a.scale}),o=i.apply({x:t,y:r},{bandAware:!0});return ii(e,"discard")&&!i.isInRange(o)?null:o},_0=function(e){function t(){return sOe(this,t),lOe(this,t,arguments)}return dOe(t,e),oOe(t,[{key:"render",value:function(){var r=this.props,n=r.x,a=r.y,i=r.r,o=r.alwaysShow,l=r.clipPathId,c=Ur(n),u=Ur(a);if(Ss(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var d=hOe(this.props);if(!d)return null;var f=d.x,h=d.y,m=this.props,v=m.shape,p=m.className,b=ii(this.props,"hidden")?"url(#".concat(l,")"):void 0,x=AM(AM({clipPath:b},ze(this.props,!0)),{},{cx:f,cy:h});return E.createElement(Xe,{className:Ze("recharts-reference-dot",p)},t.renderDot(v,x),Yr.renderCallByParent(this.props,{x:f-i,y:h-i,width:2*i,height:2*i}))}}])}(E.Component);N0(_0,"displayName","ReferenceDot");N0(_0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});N0(_0,"renderDot",function(e,t){var r;return E.isValidElement(e)?r=E.cloneElement(e,t):We(e)?r=e(t):r=E.createElement(ig,O_({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function P_(){return P_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P_.apply(this,arguments)}function rf(e){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rf(e)}function PM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function TM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PM(Object(r),!0).forEach(function(n){k0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pOe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,w9(n.key),n)}}function gOe(e,t,r){return t&&pOe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vOe(e,t,r){return t=bx(t),yOe(e,b9()?Reflect.construct(t,r||[],bx(e).constructor):t.apply(e,r))}function yOe(e,t){if(t&&(rf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xOe(e)}function xOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b9=function(){return!!e})()}function bx(e){return bx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},bx(e)}function bOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T_(e,t)}function T_(e,t){return T_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},T_(e,t)}function k0(e,t,r){return t=w9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w9(e){var t=wOe(e,"string");return rf(t)=="symbol"?t:t+""}function wOe(e,t){if(rf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var jOe=function(e,t,r,n,a){var i=a.x1,o=a.x2,l=a.y1,c=a.y2,u=a.xAxis,d=a.yAxis;if(!u||!d)return null;var f=WS({x:u.scale,y:d.scale}),h={x:e?f.x.apply(i,{position:"start"}):f.x.rangeMin,y:r?f.y.apply(l,{position:"start"}):f.y.rangeMin},m={x:t?f.x.apply(o,{position:"end"}):f.x.rangeMax,y:n?f.y.apply(c,{position:"end"}):f.y.rangeMax};return ii(a,"discard")&&(!f.isInRange(h)||!f.isInRange(m))?null:o9(h,m)},S0=function(e){function t(){return mOe(this,t),vOe(this,t,arguments)}return bOe(t,e),gOe(t,[{key:"render",value:function(){var r=this.props,n=r.x1,a=r.x2,i=r.y1,o=r.y2,l=r.className,c=r.alwaysShow,u=r.clipPathId;Ss(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=Ur(n),f=Ur(a),h=Ur(i),m=Ur(o),v=this.props.shape;if(!d&&!f&&!h&&!m&&!v)return null;var p=jOe(d,f,h,m,this.props);if(!p&&!v)return null;var b=ii(this.props,"hidden")?"url(#".concat(u,")"):void 0;return E.createElement(Xe,{className:Ze("recharts-reference-area",l)},t.renderRect(v,TM(TM({clipPath:b},ze(this.props,!0)),p)),Yr.renderCallByParent(this.props,p))}}])}(E.Component);k0(S0,"displayName","ReferenceArea");k0(S0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});k0(S0,"renderRect",function(e,t){var r;return E.isValidElement(e)?r=E.cloneElement(e,t):We(e)?r=e(t):r=E.createElement(VS,P_({},t,{className:"recharts-reference-area-rect"})),r});function j9(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function NOe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return vEe(n,r)}function _Oe(e,t,r){var n=r==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function wx(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function kOe(e,t){return j9(e,t+1)}function SOe(e,t,r,n,a){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var m=n==null?void 0:n[c];if(m===void 0)return{v:j9(n,u)};var v=c,p,b=function(){return p===void 0&&(p=r(m,v)),p},x=m.coordinate,y=c===0||wx(e,x,b,d,l);y||(c=0,d=o,u+=1),y&&(d=x+e*(b()/2+a),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function Np(e){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Np(e)}function $M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$M(Object(r),!0).forEach(function(n){COe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$M(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function COe(e,t,r){return t=EOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EOe(e){var t=OOe(e,"string");return Np(t)=="symbol"?t:t+""}function OOe(e,t){if(Np(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Np(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AOe(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(f){var h=i[f],m,v=function(){return m===void 0&&(m=r(h,f)),m};if(f===o-1){var p=e*(h.coordinate+e*v()/2-c);i[f]=h=dn(dn({},h),{},{tickCoord:p>0?h.coordinate-p*e:h.coordinate})}else i[f]=h=dn(dn({},h),{},{tickCoord:h.coordinate});var b=wx(e,h.tickCoord,v,l,c);b&&(c=h.tickCoord-e*(v()/2+a),i[f]=dn(dn({},h),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function POe(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=dn(dn({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=wx(e,d.tickCoord,function(){return f},c,u);m&&(u=d.tickCoord-e*(f/2+a),o[l-1]=dn(dn({},d),{},{isShow:!0}))}for(var v=i?l-1:l,p=function(x){var y=o[x],w,j=function(){return w===void 0&&(w=r(y,x)),w};if(x===0){var N=e*(y.coordinate-e*j()/2-c);o[x]=y=dn(dn({},y),{},{tickCoord:N<0?y.coordinate-N*e:y.coordinate})}else o[x]=y=dn(dn({},y),{},{tickCoord:y.coordinate});var _=wx(e,y.tickCoord,j,c,u);_&&(c=y.tickCoord+e*(j()/2+a),o[x]=dn(dn({},y),{},{isShow:!0}))},b=0;b<v;b++)p(b);return o}function XS(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(je(c)||pi.isSsr)return kOe(a,typeof c=="number"&&je(c)?c:0);var h=[],m=l==="top"||l==="bottom"?"width":"height",v=d&&m==="width"?rm(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},p=function(y,w){var j=We(u)?u(y.value,w):y.value;return m==="width"?NOe(rm(j,{fontSize:t,letterSpacing:r}),v,f):rm(j,{fontSize:t,letterSpacing:r})[m]},b=a.length>=2?Qr(a[1].coordinate-a[0].coordinate):1,x=_Oe(i,b,m);return c==="equidistantPreserveStart"?SOe(b,x,p,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=POe(b,x,p,a,o,c==="preserveStartEnd"):h=AOe(b,x,p,a,o),h.filter(function(y){return y.isShow}))}var TOe=["viewBox"],$Oe=["viewBox"],MOe=["ticks"];function nf(e){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nf(e)}function rd(){return rd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rd.apply(this,arguments)}function MM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MM(Object(r),!0).forEach(function(n){JS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sj(e,t){if(e==null)return{};var r=ROe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ROe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function IOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_9(n.key),n)}}function DOe(e,t,r){return t&&RM(e.prototype,t),r&&RM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function zOe(e,t,r){return t=jx(t),LOe(e,N9()?Reflect.construct(t,r||[],jx(e).constructor):t.apply(e,r))}function LOe(e,t){if(t&&(nf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FOe(e)}function FOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N9=function(){return!!e})()}function jx(e){return jx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},jx(e)}function BOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$_(e,t)}function $_(e,t){return $_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},$_(e,t)}function JS(e,t,r){return t=_9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _9(e){var t=qOe(e,"string");return nf(t)=="symbol"?t:t+""}function qOe(e,t){if(nf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Gf=function(e){function t(r){var n;return IOe(this,t),n=zOe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return BOe(t,e),DOe(t,[{key:"shouldComponentUpdate",value:function(r,n){var a=r.viewBox,i=Sj(r,TOe),o=this.props,l=o.viewBox,c=Sj(o,$Oe);return!pd(a,l)||!pd(i,c)||!pd(n,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var n=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];n&&this.setState({fontSize:window.getComputedStyle(n).fontSize,letterSpacing:window.getComputedStyle(n).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.tickSize,d=n.mirror,f=n.tickMargin,h,m,v,p,b,x,y=d?-1:1,w=r.tickSize||u,j=je(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":h=m=r.coordinate,p=i+ +!d*l,v=p-y*w,x=v-y*f,b=j;break;case"left":v=p=r.coordinate,m=a+ +!d*o,h=m-y*w,b=h-y*f,x=j;break;case"right":v=p=r.coordinate,m=a+ +d*o,h=m+y*w,b=h+y*f,x=j;break;default:h=m=r.coordinate,p=i+ +d*l,v=p+y*w,x=v+y*f,b=j;break}return{line:{x1:h,y1:v,x2:m,y2:p},tick:{x:b,y:x}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,n=r.orientation,a=r.mirror,i;switch(n){case"left":i=a?"start":"end";break;case"right":i=a?"end":"start";break;default:i="middle";break}return i}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,n=r.orientation,a=r.mirror,i="end";switch(n){case"left":case"right":i="middle";break;case"top":i=a?"start":"end";break;default:i=a?"end":"start";break}return i}},{key:"renderAxisLine",value:function(){var r=this.props,n=r.x,a=r.y,i=r.width,o=r.height,l=r.orientation,c=r.mirror,u=r.axisLine,d=Mr(Mr(Mr({},ze(this.props,!1)),ze(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var f=+(l==="top"&&!c||l==="bottom"&&c);d=Mr(Mr({},d),{},{x1:n,y1:a+f*o,x2:n+i,y2:a+f*o})}else{var h=+(l==="left"&&!c||l==="right"&&c);d=Mr(Mr({},d),{},{x1:n+h*i,y1:a,x2:n+h*i,y2:a+o})}return E.createElement("line",rd({},d,{className:Ze("recharts-cartesian-axis-line",wa(u,"className"))}))}},{key:"renderTicks",value:function(r,n,a){var i=this,o=this.props,l=o.tickLine,c=o.stroke,u=o.tick,d=o.tickFormatter,f=o.unit,h=XS(Mr(Mr({},this.props),{},{ticks:r}),n,a),m=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),p=ze(this.props,!1),b=ze(u,!1),x=Mr(Mr({},p),{},{fill:"none"},ze(l,!1)),y=h.map(function(w,j){var N=i.getTickLineCoord(w),_=N.line,k=N.tick,C=Mr(Mr(Mr(Mr({textAnchor:m,verticalAnchor:v},p),{},{stroke:"none",fill:c},b),k),{},{index:j,payload:w,visibleTicksCount:h.length,tickFormatter:d});return E.createElement(Xe,rd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(w.value,"-").concat(w.coordinate,"-").concat(w.tickCoord)},ui(i.props,w,j)),l&&E.createElement("line",rd({},x,_,{className:Ze("recharts-cartesian-axis-tick-line",wa(l,"className"))})),u&&t.renderTickItem(u,C,"".concat(We(d)?d(w.value,j):w.value).concat(f||"")))});return E.createElement("g",{className:"recharts-cartesian-axis-ticks"},y)}},{key:"render",value:function(){var r=this,n=this.props,a=n.axisLine,i=n.width,o=n.height,l=n.ticksGenerator,c=n.className,u=n.hide;if(u)return null;var d=this.props,f=d.ticks,h=Sj(d,MOe),m=f;return We(l)&&(m=f&&f.length>0?l(this.props):l(h)),i<=0||o<=0||!m||!m.length?null:E.createElement(Xe,{className:Ze("recharts-cartesian-axis",c),ref:function(v){r.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),Yr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,n,a){var i,o=Ze(n.className,"recharts-cartesian-axis-tick-value");return E.isValidElement(r)?i=E.cloneElement(r,Mr(Mr({},n),{},{className:o})):We(r)?i=r(Mr(Mr({},n),{},{className:o})):i=E.createElement(Rc,rd({},n,{className:"recharts-cartesian-axis-tick-value"}),a),i}}])}(g.Component);JS(Gf,"displayName","CartesianAxis");JS(Gf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var UOe=["x1","y1","x2","y2","key"],VOe=["offset"];function zc(e){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zc(e)}function IM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IM(Object(r),!0).forEach(function(n){WOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WOe(e,t,r){return t=KOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KOe(e){var t=HOe(e,"string");return zc(t)=="symbol"?t:t+""}function HOe(e,t){if(zc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fc(){return fc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fc.apply(this,arguments)}function DM(e,t){if(e==null)return{};var r=GOe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function GOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var YOe=function(e){var t=e.fill;if(!t||t==="none")return null;var r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,l=e.ry;return E.createElement("rect",{x:n,y:a,ry:l,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function k9(e,t){var r;if(E.isValidElement(e))r=E.cloneElement(e,t);else if(We(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=DM(t,UOe),u=ze(c,!1);u.offset;var d=DM(u,VOe);r=E.createElement("line",fc({},d,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function QOe(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=hn(hn({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return k9(a,u)});return E.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function ZOe(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=hn(hn({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return k9(a,u)});return E.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function XOe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var v=!d[m+1],p=v?a+o-h:d[m+1]-h;if(p<=0)return null;var b=m%t.length;return E.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:p,width:i,stroke:"none",fill:t[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return E.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function JOe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var v=!d[m+1],p=v?i+l-h:d[m+1]-h;if(p<=0)return null;var b=m%n.length;return E.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:p,height:c,stroke:"none",fill:n[b],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return E.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var eAe=function(e,t){var r=e.xAxis,n=e.width,a=e.height,i=e.offset;return y8(XS(hn(hn(hn({},Gf.defaultProps),r),{},{ticks:Di(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},tAe=function(e,t){var r=e.yAxis,n=e.width,a=e.height,i=e.offset;return y8(XS(hn(hn(hn({},Gf.defaultProps),r),{},{ticks:Di(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},Au={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function S9(e){var t,r,n,a,i,o,l=GS(),c=YS(),u=qEe(),d=hn(hn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Au.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Au.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Au.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Au.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Au.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Au.verticalFill,x:je(e.x)?e.x:u.left,y:je(e.y)?e.y:u.top,width:je(e.width)?e.width:u.width,height:je(e.height)?e.height:u.height}),f=d.x,h=d.y,m=d.width,v=d.height,p=d.syncWithTicks,b=d.horizontalValues,x=d.verticalValues,y=LEe(),w=FEe();if(!je(m)||m<=0||!je(v)||v<=0||!je(f)||f!==+f||!je(h)||h!==+h)return null;var j=d.verticalCoordinatesGenerator||eAe,N=d.horizontalCoordinatesGenerator||tAe,_=d.horizontalPoints,k=d.verticalPoints;if((!_||!_.length)&&We(N)){var C=b&&b.length,O=N({yAxis:w?hn(hn({},w),{},{ticks:C?b:w.ticks}):void 0,width:l,height:c,offset:u},C?!0:p);Ss(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(zc(O),"]")),Array.isArray(O)&&(_=O)}if((!k||!k.length)&&We(j)){var T=x&&x.length,P=j({xAxis:y?hn(hn({},y),{},{ticks:T?x:y.ticks}):void 0,width:l,height:c,offset:u},T?!0:p);Ss(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(zc(P),"]")),Array.isArray(P)&&(k=P)}return E.createElement("g",{className:"recharts-cartesian-grid"},E.createElement(YOe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),E.createElement(QOe,fc({},d,{offset:u,horizontalPoints:_,xAxis:y,yAxis:w})),E.createElement(ZOe,fc({},d,{offset:u,verticalPoints:k,xAxis:y,yAxis:w})),E.createElement(XOe,fc({},d,{horizontalPoints:_})),E.createElement(JOe,fc({},d,{verticalPoints:k})))}S9.displayName="CartesianGrid";var rAe=["type","layout","connectNulls","ref"],nAe=["key"];function af(e){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},af(e)}function zM(e,t){if(e==null)return{};var r=aAe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function om(){return om=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},om.apply(this,arguments)}function LM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LM(Object(r),!0).forEach(function(n){fs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pu(e){return lAe(e)||oAe(e)||iAe(e)||sAe()}function sAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iAe(e,t){if(e){if(typeof e=="string")return M_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M_(e,t)}}function oAe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lAe(e){if(Array.isArray(e))return M_(e)}function M_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,E9(n.key),n)}}function uAe(e,t,r){return t&&FM(e.prototype,t),r&&FM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function dAe(e,t,r){return t=Nx(t),fAe(e,C9()?Reflect.construct(t,r||[],Nx(e).constructor):t.apply(e,r))}function fAe(e,t){if(t&&(af(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hAe(e)}function hAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C9=function(){return!!e})()}function Nx(e){return Nx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Nx(e)}function mAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R_(e,t)}function R_(e,t){return R_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},R_(e,t)}function fs(e,t,r){return t=E9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E9(e){var t=pAe(e,"string");return af(t)=="symbol"?t:t+""}function pAe(e,t){if(af(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ug=function(e){function t(){var r;cAe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=dAe(this,t,[].concat(a)),fs(r,"state",{isAnimationFinished:!0,totalLength:0}),fs(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),fs(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(x,y){return x+y});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,h=l-o,m=[],v=0,p=0;v<c.length;p+=c[v],++v)if(p+c[v]>f){m=[].concat(Pu(c.slice(0,v)),[f-p]);break}var b=m.length%2===0?[0,h]:[h];return[].concat(Pu(t.repeat(c,d)),Pu(m),b).map(function(x){return"".concat(x,"px")}).join(", ")}),fs(r,"id",Cl("recharts-line-")),fs(r,"pathRef",function(o){r.mainCurve=o}),fs(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),fs(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return mAe(t,e),uAe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,i=a.points,o=a.xAxis,l=a.yAxis,c=a.layout,u=a.children,d=vn(u,Hf);if(!d)return null;var f=function(m,v){return{x:m.x,y:m.y,value:m.value,errorVal:qt(m.payload,v)}},h={clipPath:r?"url(#clipPath-".concat(n,")"):null};return E.createElement(Xe,h,d.map(function(m){return E.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:i,xAxis:o,yAxis:l,layout:c,dataPointFormatter:f})}))}},{key:"renderDots",value:function(r,n,a){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,c=o.points,u=o.dataKey,d=ze(this.props,!1),f=ze(l,!0),h=c.map(function(v,p){var b=sa(sa(sa({key:"dot-".concat(p),r:3},d),f),{},{index:p,cx:v.x,cy:v.y,value:v.value,dataKey:u,payload:v.payload,points:c});return t.renderDotItem(l,b)}),m={clipPath:r?"url(#clipPath-".concat(n?"":"dots-").concat(a,")"):null};return E.createElement(Xe,om({className:"recharts-line-dots",key:"dots"},m),h)}},{key:"renderCurveStatically",value:function(r,n,a,i){var o=this.props,l=o.type,c=o.layout,u=o.connectNulls;o.ref;var d=zM(o,rAe),f=sa(sa(sa({},ze(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:n?"url(#clipPath-".concat(a,")"):null,points:r},i),{},{type:l,layout:c,connectNulls:u});return E.createElement(el,om({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,n){var a=this,i=this.props,o=i.points,l=i.strokeDasharray,c=i.isAnimationActive,u=i.animationBegin,d=i.animationDuration,f=i.animationEasing,h=i.animationId,m=i.animateNewValues,v=i.width,p=i.height,b=this.state,x=b.prevPoints,y=b.totalLength;return E.createElement(_a,{begin:u,duration:d,isActive:c,easing:f,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var j=w.t;if(x){var N=x.length/o.length,_=o.map(function(P,S){var M=Math.floor(S*N);if(x[M]){var $=x[M],q=Ft($.x,P.x),U=Ft($.y,P.y);return sa(sa({},P),{},{x:q(j),y:U(j)})}if(m){var L=Ft(v*2,P.x),z=Ft(p/2,P.y);return sa(sa({},P),{},{x:L(j),y:z(j)})}return sa(sa({},P),{},{x:P.x,y:P.y})});return a.renderCurveStatically(_,r,n)}var k=Ft(0,y),C=k(j),O;if(l){var T="".concat(l).split(/[,\s]+/gim).map(function(P){return parseFloat(P)});O=a.getStrokeDasharray(C,y,T)}else O=a.generateSimpleStrokeDasharray(y,C);return a.renderCurveStatically(o,r,n,{strokeDasharray:O})})}},{key:"renderCurve",value:function(r,n){var a=this.props,i=a.points,o=a.isAnimationActive,l=this.state,c=l.prevPoints,u=l.totalLength;return o&&i&&i.length&&(!c&&u>0||!to(c,i))?this.renderCurveWithAnimation(r,n):this.renderCurveStatically(i,r,n)}},{key:"render",value:function(){var r,n=this.props,a=n.hide,i=n.dot,o=n.points,l=n.className,c=n.xAxis,u=n.yAxis,d=n.top,f=n.left,h=n.width,m=n.height,v=n.isAnimationActive,p=n.id;if(a||!o||!o.length)return null;var b=this.state.isAnimationFinished,x=o.length===1,y=Ze("recharts-line",l),w=c&&c.allowDataOverflow,j=u&&u.allowDataOverflow,N=w||j,_=He(p)?this.id:p,k=(r=ze(i,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},C=k.r,O=C===void 0?3:C,T=k.strokeWidth,P=T===void 0?2:T,S=uL(i)?i:{},M=S.clipDot,$=M===void 0?!0:M,q=O*2+P;return E.createElement(Xe,{className:y},w||j?E.createElement("defs",null,E.createElement("clipPath",{id:"clipPath-".concat(_)},E.createElement("rect",{x:w?f:f-h/2,y:j?d:d-m/2,width:w?h:h*2,height:j?m:m*2})),!$&&E.createElement("clipPath",{id:"clipPath-dots-".concat(_)},E.createElement("rect",{x:f-q/2,y:d-q/2,width:h+q,height:m+q}))):null,!x&&this.renderCurve(N,_),this.renderErrorBar(N,_),(x||i)&&this.renderDots(N,$,_),(!v||b)&&Wa.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,n){return r.animationId!==n.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:n.curPoints}:r.points!==n.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,n){for(var a=r.length%2!==0?[].concat(Pu(r),[0]):r,i=[],o=0;o<n;++o)i=[].concat(Pu(i),Pu(a));return i}},{key:"renderDotItem",value:function(r,n){var a;if(E.isValidElement(r))a=E.cloneElement(r,n);else if(We(r))a=r(n);else{var i=n.key,o=zM(n,nAe),l=Ze("recharts-line-dot",typeof r!="boolean"?r.className:"");a=E.createElement(ig,om({key:i},o,{className:l}))}return a}}])}(g.PureComponent);fs(ug,"displayName","Line");fs(ug,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!pi.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});fs(ug,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,m){var v=qt(h,o);return d==="horizontal"?{x:Wd({axis:r,ticks:a,bandSize:l,entry:h,index:m}),y:He(v)?null:n.scale(v),value:v,payload:h}:{x:He(v)?null:r.scale(v),y:Wd({axis:n,ticks:i,bandSize:l,entry:h,index:m}),value:v,payload:h}});return sa({points:f,layout:d},u)});var gAe=["layout","type","stroke","connectNulls","isRange","ref"],vAe=["key"],O9;function sf(e){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sf(e)}function A9(e,t){if(e==null)return{};var r=yAe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function hc(){return hc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hc.apply(this,arguments)}function BM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function No(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BM(Object(r),!0).forEach(function(n){Xs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,T9(n.key),n)}}function bAe(e,t,r){return t&&qM(e.prototype,t),r&&qM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function wAe(e,t,r){return t=_x(t),jAe(e,P9()?Reflect.construct(t,r||[],_x(e).constructor):t.apply(e,r))}function jAe(e,t){if(t&&(sf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NAe(e)}function NAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P9=function(){return!!e})()}function _x(e){return _x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_x(e)}function _Ae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I_(e,t)}function I_(e,t){return I_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},I_(e,t)}function Xs(e,t,r){return t=T9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T9(e){var t=kAe(e,"string");return sf(t)=="symbol"?t:t+""}function kAe(e,t){if(sf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ru=function(e){function t(){var r;xAe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=wAe(this,t,[].concat(a)),Xs(r,"state",{isAnimationFinished:!0}),Xs(r,"id",Cl("recharts-area-")),Xs(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),We(o)&&o()}),Xs(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),We(o)&&o()}),r}return _Ae(t,e),bAe(t,[{key:"renderDots",value:function(r,n,a){var i=this.props.isAnimationActive,o=this.state.isAnimationFinished;if(i&&!o)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=ze(this.props,!1),h=ze(c,!0),m=u.map(function(p,b){var x=No(No(No({key:"dot-".concat(b),r:3},f),h),{},{index:b,cx:p.x,cy:p.y,dataKey:d,value:p.value,payload:p.payload,points:u});return t.renderDotItem(c,x)}),v={clipPath:r?"url(#clipPath-".concat(n?"":"dots-").concat(a,")"):null};return E.createElement(Xe,hc({className:"recharts-area-dots"},v),m)}},{key:"renderHorizontalRect",value:function(r){var n=this.props,a=n.baseLine,i=n.points,o=n.strokeWidth,l=i[0].x,c=i[i.length-1].x,u=r*Math.abs(l-c),d=Do(i.map(function(f){return f.y||0}));return je(a)&&typeof a=="number"?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(Do(a.map(function(f){return f.y||0})),d)),je(d)?E.createElement("rect",{x:l<c?l:l-u,y:0,width:u,height:Math.floor(d+(o?parseInt("".concat(o),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var n=this.props,a=n.baseLine,i=n.points,o=n.strokeWidth,l=i[0].y,c=i[i.length-1].y,u=r*Math.abs(l-c),d=Do(i.map(function(f){return f.x||0}));return je(a)&&typeof a=="number"?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(Do(a.map(function(f){return f.x||0})),d)),je(d)?E.createElement("rect",{x:0,y:l<c?l:l-u,width:d+(o?parseInt("".concat(o),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(r){var n=this.props.layout;return n==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,n,a,i){var o=this.props,l=o.layout,c=o.type,u=o.stroke,d=o.connectNulls,f=o.isRange;o.ref;var h=A9(o,gAe);return E.createElement(Xe,{clipPath:a?"url(#clipPath-".concat(i,")"):null},E.createElement(el,hc({},ze(h,!0),{points:r,connectNulls:d,type:c,baseLine:n,layout:l,stroke:"none",className:"recharts-area-area"})),u!=="none"&&E.createElement(el,hc({},ze(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:r})),u!=="none"&&f&&E.createElement(el,hc({},ze(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:n})))}},{key:"renderAreaWithAnimation",value:function(r,n){var a=this,i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,u=i.animationBegin,d=i.animationDuration,f=i.animationEasing,h=i.animationId,m=this.state,v=m.prevPoints,p=m.prevBaseLine;return E.createElement(_a,{begin:u,duration:d,isActive:c,easing:f,from:{t:0},to:{t:1},key:"area-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var x=b.t;if(v){var y=v.length/o.length,w=o.map(function(k,C){var O=Math.floor(C*y);if(v[O]){var T=v[O],P=Ft(T.x,k.x),S=Ft(T.y,k.y);return No(No({},k),{},{x:P(x),y:S(x)})}return k}),j;if(je(l)&&typeof l=="number"){var N=Ft(p,l);j=N(x)}else if(He(l)||Lf(l)){var _=Ft(p,0);j=_(x)}else j=l.map(function(k,C){var O=Math.floor(C*y);if(p[O]){var T=p[O],P=Ft(T.x,k.x),S=Ft(T.y,k.y);return No(No({},k),{},{x:P(x),y:S(x)})}return k});return a.renderAreaStatically(w,j,r,n)}return E.createElement(Xe,null,E.createElement("defs",null,E.createElement("clipPath",{id:"animationClipPath-".concat(n)},a.renderClipRect(x))),E.createElement(Xe,{clipPath:"url(#animationClipPath-".concat(n,")")},a.renderAreaStatically(o,l,r,n)))})}},{key:"renderArea",value:function(r,n){var a=this.props,i=a.points,o=a.baseLine,l=a.isAnimationActive,c=this.state,u=c.prevPoints,d=c.prevBaseLine,f=c.totalLength;return l&&i&&i.length&&(!u&&f>0||!to(u,i)||!to(d,o))?this.renderAreaWithAnimation(r,n):this.renderAreaStatically(i,o,r,n)}},{key:"render",value:function(){var r,n=this.props,a=n.hide,i=n.dot,o=n.points,l=n.className,c=n.top,u=n.left,d=n.xAxis,f=n.yAxis,h=n.width,m=n.height,v=n.isAnimationActive,p=n.id;if(a||!o||!o.length)return null;var b=this.state.isAnimationFinished,x=o.length===1,y=Ze("recharts-area",l),w=d&&d.allowDataOverflow,j=f&&f.allowDataOverflow,N=w||j,_=He(p)?this.id:p,k=(r=ze(i,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},C=k.r,O=C===void 0?3:C,T=k.strokeWidth,P=T===void 0?2:T,S=uL(i)?i:{},M=S.clipDot,$=M===void 0?!0:M,q=O*2+P;return E.createElement(Xe,{className:y},w||j?E.createElement("defs",null,E.createElement("clipPath",{id:"clipPath-".concat(_)},E.createElement("rect",{x:w?u:u-h/2,y:j?c:c-m/2,width:w?h:h*2,height:j?m:m*2})),!$&&E.createElement("clipPath",{id:"clipPath-dots-".concat(_)},E.createElement("rect",{x:u-q/2,y:c-q/2,width:h+q,height:m+q}))):null,x?null:this.renderArea(N,_),(i||x)&&this.renderDots(N,$,_),(!v||b)&&Wa.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,n){return r.animationId!==n.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:n.curPoints,prevBaseLine:n.curBaseLine}:r.points!==n.curPoints||r.baseLine!==n.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(g.PureComponent);O9=ru;Xs(ru,"displayName","Area");Xs(ru,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!pi.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Xs(ru,"getBaseValue",function(e,t,r,n){var a=e.layout,i=e.baseValue,o=t.props.baseValue,l=o??i;if(je(l)&&typeof l=="number")return l;var c=a==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});Xs(ru,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=t.layout,v=u&&u.length,p=O9.getBaseValue(t,r,n,a),b=m==="horizontal",x=!1,y=f.map(function(j,N){var _;v?_=u[d+N]:(_=qt(j,c),Array.isArray(_)?x=!0:_=[p,_]);var k=_[1]==null||v&&qt(j,c)==null;return b?{x:Wd({axis:n,ticks:i,bandSize:l,entry:j,index:N}),y:k?null:a.scale(_[1]),value:_,payload:j}:{x:k?null:n.scale(_[1]),y:Wd({axis:a,ticks:o,bandSize:l,entry:j,index:N}),value:_,payload:j}}),w;return v||x?w=y.map(function(j){var N=Array.isArray(j.value)?j.value[0]:null;return b?{x:j.x,y:N!=null&&j.y!=null?a.scale(N):null}:{x:N!=null?n.scale(N):null,y:j.y}}):w=b?a.scale(p):n.scale(p),No({points:y,baseLine:w,layout:m,isRange:x},h)});Xs(ru,"renderDotItem",function(e,t){var r;if(E.isValidElement(e))r=E.cloneElement(e,t);else if(We(e))r=e(t);else{var n=Ze("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,i=A9(t,vAe);r=E.createElement(ig,hc({},i,{key:a,className:n}))}return r});function of(e){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},of(e)}function SAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CAe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,R9(n.key),n)}}function EAe(e,t,r){return t&&CAe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function OAe(e,t,r){return t=kx(t),AAe(e,$9()?Reflect.construct(t,r||[],kx(e).constructor):t.apply(e,r))}function AAe(e,t){if(t&&(of(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PAe(e)}function PAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($9=function(){return!!e})()}function kx(e){return kx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},kx(e)}function TAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D_(e,t)}function D_(e,t){return D_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},D_(e,t)}function M9(e,t,r){return t=R9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R9(e){var t=$Ae(e,"string");return of(t)=="symbol"?t:t+""}function $Ae(e,t){if(of(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(of(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var C0=function(e){function t(){return SAe(this,t),OAe(this,t,arguments)}return TAe(t,e),EAe(t,[{key:"render",value:function(){return null}}])}(g.Component);M9(C0,"displayName","ZAxis");M9(C0,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var MAe=["option","isActive"];function lm(){return lm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lm.apply(this,arguments)}function RAe(e,t){if(e==null)return{};var r=IAe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function IAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function DAe(e){var t=e.option,r=e.isActive,n=RAe(e,MAe);return typeof t=="string"?g.createElement(vp,lm({option:g.createElement(a0,lm({type:t},n)),isActive:r,shapeType:"symbols"},n)):g.createElement(vp,lm({option:t,isActive:r,shapeType:"symbols"},n))}function lf(e){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lf(e)}function cm(){return cm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cm.apply(this,arguments)}function UM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ta(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UM(Object(r),!0).forEach(function(n){Lo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,D9(n.key),n)}}function LAe(e,t,r){return t&&VM(e.prototype,t),r&&VM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function FAe(e,t,r){return t=Sx(t),BAe(e,I9()?Reflect.construct(t,r||[],Sx(e).constructor):t.apply(e,r))}function BAe(e,t){if(t&&(lf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qAe(e)}function qAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I9=function(){return!!e})()}function Sx(e){return Sx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Sx(e)}function UAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z_(e,t)}function z_(e,t){return z_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},z_(e,t)}function Lo(e,t,r){return t=D9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D9(e){var t=VAe(e,"string");return lf(t)=="symbol"?t:t+""}function VAe(e,t){if(lf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var E0=function(e){function t(){var r;zAe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=FAe(this,t,[].concat(a)),Lo(r,"state",{isAnimationFinished:!1}),Lo(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),Lo(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),Lo(r,"id",Cl("recharts-scatter-")),r}return UAe(t,e),LAe(t,[{key:"renderSymbolsStatically",value:function(r){var n=this,a=this.props,i=a.shape,o=a.activeShape,l=a.activeIndex,c=ze(this.props,!1);return r.map(function(u,d){var f=l===d,h=f?o:i,m=Ta(Ta({},c),u);return E.createElement(Xe,cm({className:"recharts-scatter-symbol",key:"symbol-".concat(u==null?void 0:u.cx,"-").concat(u==null?void 0:u.cy,"-").concat(u==null?void 0:u.size,"-").concat(d)},ui(n.props,u,d),{role:"img"}),E.createElement(DAe,cm({option:h,isActive:f,key:"symbol-".concat(d)},m)))})}},{key:"renderSymbolsWithAnimation",value:function(){var r=this,n=this.props,a=n.points,i=n.isAnimationActive,o=n.animationBegin,l=n.animationDuration,c=n.animationEasing,u=n.animationId,d=this.state.prevPoints;return E.createElement(_a,{begin:o,duration:l,isActive:i,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var h=f.t,m=a.map(function(v,p){var b=d&&d[p];if(b){var x=Ft(b.cx,v.cx),y=Ft(b.cy,v.cy),w=Ft(b.size,v.size);return Ta(Ta({},v),{},{cx:x(h),cy:y(h),size:w(h)})}var j=Ft(0,v.size);return Ta(Ta({},v),{},{size:j(h)})});return E.createElement(Xe,null,r.renderSymbolsStatically(m))})}},{key:"renderSymbols",value:function(){var r=this.props,n=r.points,a=r.isAnimationActive,i=this.state.prevPoints;return a&&n&&n.length&&(!i||!to(i,n))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(n)}},{key:"renderErrorBar",value:function(){var r=this.props.isAnimationActive;if(r&&!this.state.isAnimationFinished)return null;var n=this.props,a=n.points,i=n.xAxis,o=n.yAxis,l=n.children,c=vn(l,Hf);return c?c.map(function(u,d){var f=u.props,h=f.direction,m=f.dataKey;return E.cloneElement(u,{key:"".concat(h,"-").concat(m,"-").concat(a[d]),data:a,xAxis:i,yAxis:o,layout:h==="x"?"vertical":"horizontal",dataPointFormatter:function(v,p){return{x:v.cx,y:v.cy,value:h==="x"?+v.node.x:+v.node.y,errorVal:qt(v,p)}}})}):null}},{key:"renderLine",value:function(){var r=this.props,n=r.points,a=r.line,i=r.lineType,o=r.lineJointType,l=ze(this.props,!1),c=ze(a,!1),u,d;if(i==="joint")u=n.map(function(y){return{x:y.cx,y:y.cy}});else if(i==="fitting"){var f=vce(n),h=f.xmin,m=f.xmax,v=f.a,p=f.b,b=function(y){return v*y+p};u=[{x:h,y:b(h)},{x:m,y:b(m)}]}var x=Ta(Ta(Ta({},l),{},{fill:"none",stroke:l&&l.fill},c),{},{points:u});return E.isValidElement(a)?d=E.cloneElement(a,x):We(a)?d=a(x):d=E.createElement(el,cm({},x,{type:o})),E.createElement(Xe,{className:"recharts-scatter-line",key:"recharts-scatter-line"},d)}},{key:"render",value:function(){var r=this.props,n=r.hide,a=r.points,i=r.line,o=r.className,l=r.xAxis,c=r.yAxis,u=r.left,d=r.top,f=r.width,h=r.height,m=r.id,v=r.isAnimationActive;if(n||!a||!a.length)return null;var p=this.state.isAnimationFinished,b=Ze("recharts-scatter",o),x=l&&l.allowDataOverflow,y=c&&c.allowDataOverflow,w=x||y,j=He(m)?this.id:m;return E.createElement(Xe,{className:b,clipPath:w?"url(#clipPath-".concat(j,")"):null},x||y?E.createElement("defs",null,E.createElement("clipPath",{id:"clipPath-".concat(j)},E.createElement("rect",{x:x?u:u-f/2,y:y?d:d-h/2,width:x?f:f*2,height:y?h:h*2}))):null,i&&this.renderLine(),this.renderErrorBar(),E.createElement(Xe,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!v||p)&&Wa.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,n){return r.animationId!==n.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:n.curPoints}:r.points!==n.curPoints?{curPoints:r.points}:null}}])}(g.PureComponent);Lo(E0,"displayName","Scatter");Lo(E0,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!pi.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});Lo(E0,"getComposedData",function(e){var t=e.xAxis,r=e.yAxis,n=e.zAxis,a=e.item,i=e.displayedData,o=e.xAxisTicks,l=e.yAxisTicks,c=e.offset,u=a.props.tooltipType,d=vn(a.props.children,Uf),f=He(t.dataKey)?a.props.dataKey:t.dataKey,h=He(r.dataKey)?a.props.dataKey:r.dataKey,m=n&&n.dataKey,v=n?n.range:C0.defaultProps.range,p=v&&v[0],b=t.scale.bandwidth?t.scale.bandwidth():0,x=r.scale.bandwidth?r.scale.bandwidth():0,y=i.map(function(w,j){var N=qt(w,f),_=qt(w,h),k=!He(m)&&qt(w,m)||"-",C=[{name:He(t.dataKey)?a.props.name:t.name||t.dataKey,unit:t.unit||"",value:N,payload:w,dataKey:f,type:u},{name:He(r.dataKey)?a.props.name:r.name||r.dataKey,unit:r.unit||"",value:_,payload:w,dataKey:h,type:u}];k!=="-"&&C.push({name:n.name||n.dataKey,unit:n.unit||"",value:k,payload:w,dataKey:m,type:u});var O=Wd({axis:t,ticks:o,bandSize:b,entry:w,index:j,dataKey:f}),T=Wd({axis:r,ticks:l,bandSize:x,entry:w,index:j,dataKey:h}),P=k!=="-"?n.scale(k):p,S=Math.sqrt(Math.max(P,0)/Math.PI);return Ta(Ta({},w),{},{cx:O,cy:T,x:O-S,y:T-S,xAxis:t,yAxis:r,zAxis:n,width:2*S,height:2*S,size:P,node:{x:N,y:_,z:k},tooltipPayload:C,tooltipPosition:{x:O,y:T},payload:w},d&&d[j]&&d[j].props)});return Ta({points:y},c)});function cf(e){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cf(e)}function WAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KAe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,F9(n.key),n)}}function HAe(e,t,r){return t&&KAe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function GAe(e,t,r){return t=Cx(t),YAe(e,z9()?Reflect.construct(t,r||[],Cx(e).constructor):t.apply(e,r))}function YAe(e,t){if(t&&(cf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QAe(e)}function QAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z9=function(){return!!e})()}function Cx(e){return Cx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Cx(e)}function ZAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L_(e,t)}function L_(e,t){return L_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},L_(e,t)}function L9(e,t,r){return t=F9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F9(e){var t=XAe(e,"string");return cf(t)=="symbol"?t:t+""}function XAe(e,t){if(cf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function F_(){return F_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F_.apply(this,arguments)}function JAe(e){var t=e.xAxisId,r=GS(),n=YS(),a=m9(t);return a==null?null:g.createElement(Gf,F_({},a,{className:Ze("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(i){return Di(i,!0)}}))}var O0=function(e){function t(){return WAe(this,t),GAe(this,t,arguments)}return ZAe(t,e),HAe(t,[{key:"render",value:function(){return g.createElement(JAe,this.props)}}])}(g.Component);L9(O0,"displayName","XAxis");L9(O0,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function uf(e){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uf(e)}function ePe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tPe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,U9(n.key),n)}}function rPe(e,t,r){return t&&tPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nPe(e,t,r){return t=Ex(t),aPe(e,B9()?Reflect.construct(t,r||[],Ex(e).constructor):t.apply(e,r))}function aPe(e,t){if(t&&(uf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sPe(e)}function sPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B9=function(){return!!e})()}function Ex(e){return Ex=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ex(e)}function iPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B_(e,t)}function B_(e,t){return B_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},B_(e,t)}function q9(e,t,r){return t=U9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U9(e){var t=oPe(e,"string");return uf(t)=="symbol"?t:t+""}function oPe(e,t){if(uf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function q_(){return q_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q_.apply(this,arguments)}var lPe=function(e){var t=e.yAxisId,r=GS(),n=YS(),a=p9(t);return a==null?null:g.createElement(Gf,q_({},a,{className:Ze("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(i){return Di(i,!0)}}))},_p=function(e){function t(){return ePe(this,t),nPe(this,t,arguments)}return iPe(t,e),rPe(t,[{key:"render",value:function(){return g.createElement(lPe,this.props)}}])}(g.Component);q9(_p,"displayName","YAxis");q9(_p,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function WM(e){return fPe(e)||dPe(e)||uPe(e)||cPe()}function cPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uPe(e,t){if(e){if(typeof e=="string")return U_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U_(e,t)}}function dPe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fPe(e){if(Array.isArray(e))return U_(e)}function U_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var V_=function(e,t,r,n,a){var i=vn(e,ZS),o=vn(e,_0),l=[].concat(WM(i),WM(o)),c=vn(e,S0),u="".concat(n,"Id"),d=n[0],f=t;if(l.length&&(f=l.reduce(function(v,p){if(p.props[u]===r&&ii(p.props,"extendDomain")&&je(p.props[d])){var b=p.props[d];return[Math.min(v[0],b),Math.max(v[1],b)]}return v},f)),c.length){var h="".concat(d,"1"),m="".concat(d,"2");f=c.reduce(function(v,p){if(p.props[u]===r&&ii(p.props,"extendDomain")&&je(p.props[h])&&je(p.props[m])){var b=p.props[h],x=p.props[m];return[Math.min(v[0],b,x),Math.max(v[1],b,x)]}return v},f)}return a&&a.length&&(f=a.reduce(function(v,p){return je(p)?[Math.min(v[0],p),Math.max(v[1],p)]:v},f)),f},V9={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||c,h),v=r?r+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],m]:c._events[v].push(m):(c._events[v]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)t.call(u,d)&&c.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},l.prototype.listeners=function(c){var u=r?r+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,h=d.length,m=new Array(h);f<h;f++)m[f]=d[f].fn;return m},l.prototype.listenerCount=function(c){var u=r?r+c:c,d=this._events[u];return d?d.fn?1:d.length:0},l.prototype.emit=function(c,u,d,f,h,m){var v=r?r+c:c;if(!this._events[v])return!1;var p=this._events[v],b=arguments.length,x,y;if(p.fn){switch(p.once&&this.removeListener(c,p.fn,void 0,!0),b){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,u),!0;case 3:return p.fn.call(p.context,u,d),!0;case 4:return p.fn.call(p.context,u,d,f),!0;case 5:return p.fn.call(p.context,u,d,f,h),!0;case 6:return p.fn.call(p.context,u,d,f,h,m),!0}for(y=1,x=new Array(b-1);y<b;y++)x[y-1]=arguments[y];p.fn.apply(p.context,x)}else{var w=p.length,j;for(y=0;y<w;y++)switch(p[y].once&&this.removeListener(c,p[y].fn,void 0,!0),b){case 1:p[y].fn.call(p[y].context);break;case 2:p[y].fn.call(p[y].context,u);break;case 3:p[y].fn.call(p[y].context,u,d);break;case 4:p[y].fn.call(p[y].context,u,d,f);break;default:if(!x)for(j=1,x=new Array(b-1);j<b;j++)x[j-1]=arguments[j];p[y].fn.apply(p[y].context,x)}}return!0},l.prototype.on=function(c,u,d){return i(this,c,u,d,!1)},l.prototype.once=function(c,u,d){return i(this,c,u,d,!0)},l.prototype.removeListener=function(c,u,d,f){var h=r?r+c:c;if(!this._events[h])return this;if(!u)return o(this,h),this;var m=this._events[h];if(m.fn)m.fn===u&&(!f||m.once)&&(!d||m.context===d)&&o(this,h);else{for(var v=0,p=[],b=m.length;v<b;v++)(m[v].fn!==u||f&&!m[v].once||d&&m[v].context!==d)&&p.push(m[v]);p.length?this._events[h]=p.length===1?p[0]:p:o(this,h)}return this},l.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(V9);var hPe=V9.exports;const mPe=Ct(hPe);var Cj=new mPe,Ej="recharts.syncMouseEvents";function kp(e){"@babel/helpers - typeof";return kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kp(e)}function pPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gPe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,W9(n.key),n)}}function vPe(e,t,r){return t&&gPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Oj(e,t,r){return t=W9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W9(e){var t=yPe(e,"string");return kp(t)=="symbol"?t:t+""}function yPe(e,t){if(kp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var xPe=function(){function e(){pPe(this,e),Oj(this,"activeIndex",0),Oj(this,"coordinateList",[]),Oj(this,"layout","horizontal")}return vPe(e,[{key:"setDetails",value:function(t){var r,n=t.coordinateList,a=n===void 0?null:n,i=t.container,o=i===void 0?null:i,l=t.layout,c=l===void 0?null:l,u=t.offset,d=u===void 0?null:u,f=t.mouseHandlerCallback,h=f===void 0?null:f;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(t){if(this.coordinateList.length!==0)switch(t.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(t){this.activeIndex=t}},{key:"spoofMouse",value:function(){var t,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var n=this.container.getBoundingClientRect(),a=n.x,i=n.y,o=n.height,l=this.coordinateList[this.activeIndex].coordinate,c=((t=window)===null||t===void 0?void 0:t.scrollX)||0,u=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=a+l+c,f=i+this.offset.top+o/2+u;this.mouseHandlerCallback({pageX:d,pageY:f})}}}])}();function bPe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&je(n)&&je(a))return!0}return!1}function wPe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function K9(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,o=Dt(t,r,n,a),l=Dt(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function jPe(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Dt(l,c,u,f),m=Dt(l,c,d,f);n=h.x,a=h.y,i=m.x,o=m.y}else return K9(t);return[{x:n,y:a},{x:i,y:o}]}function Sp(e){"@babel/helpers - typeof";return Sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sp(e)}function KM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KM(Object(r),!0).forEach(function(n){NPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NPe(e,t,r){return t=_Pe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Pe(e){var t=kPe(e,"string");return Sp(t)=="symbol"?t:t+""}function kPe(e,t){if(Sp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SPe(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!i||!o||h!=="ScatterChart"&&a!=="axis")return null;var v,p=el;if(h==="ScatterChart")v=o,p=eke;else if(h==="BarChart")v=wPe(f,o,c,d),p=VS;else if(f==="radial"){var b=K9(o),x=b.cx,y=b.cy,w=b.radius,j=b.startAngle,N=b.endAngle;v={cx:x,cy:y,startAngle:j,endAngle:N,innerRadius:w,outerRadius:w},p=T8}else v={points:jPe(f,o,c)},p=el;var _=uv(uv(uv(uv({stroke:"#ccc",pointerEvents:"none"},c),v),ze(m,!1)),{},{payload:l,payloadIndex:u,className:Ze("recharts-tooltip-cursor",m.className)});return g.isValidElement(m)?g.cloneElement(m,_):g.createElement(p,_)}var CPe=["item"],EPe=["children","className","width","height","style","compact","title","desc"];function df(e){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},df(e)}function nd(){return nd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nd.apply(this,arguments)}function HM(e,t){return PPe(e)||APe(e,t)||G9(e,t)||OPe()}function OPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function APe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function PPe(e){if(Array.isArray(e))return e}function GM(e,t){if(e==null)return{};var r=TPe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function TPe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $Pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MPe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Y9(n.key),n)}}function RPe(e,t,r){return t&&MPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function IPe(e,t,r){return t=Ox(t),DPe(e,H9()?Reflect.construct(t,r||[],Ox(e).constructor):t.apply(e,r))}function DPe(e,t){if(t&&(df(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zPe(e)}function zPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H9=function(){return!!e})()}function Ox(e){return Ox=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ox(e)}function LPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W_(e,t)}function W_(e,t){return W_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},W_(e,t)}function ff(e){return qPe(e)||BPe(e)||G9(e)||FPe()}function FPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G9(e,t){if(e){if(typeof e=="string")return K_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return K_(e,t)}}function BPe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qPe(e){if(Array.isArray(e))return K_(e)}function K_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function YM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function he(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YM(Object(r),!0).forEach(function(n){Ge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ge(e,t,r){return t=Y9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y9(e){var t=UPe(e,"string");return df(t)=="symbol"?t:t+""}function UPe(e,t){if(df(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VPe={xAxis:["bottom","top"],yAxis:["left","right"]},WPe={width:"100%",height:"100%"},Q9={x:0,y:0};function dv(e){return e}var KPe=function(e,t){return t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius},HPe=function(e,t,r,n){var a=t.find(function(u){return u&&u.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:a.coordinate};if(e==="centric"){var i=a.coordinate,o=n.radius;return he(he(he({},n),Dt(n.cx,n.cy,o,i)),{},{angle:i,radius:o})}var l=a.coordinate,c=n.angle;return he(he(he({},n),Dt(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return Q9},A0=function(e,t){var r=t.graphicalItems,n=t.dataStartIndex,a=t.dataEndIndex,i=(r??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(ff(o),ff(c)):o},[]);return i.length>0?i:e&&e.length&&je(n)&&je(a)?e.slice(n,a+1):[]};function Z9(e){return e==="number"?[0,"auto"]:void 0}var H_=function(e,t,r,n){var a=e.graphicalItems,i=e.tooltipAxis,o=A0(t,e);return r<0||!a||!a.length||r>=o.length?null:a.reduce(function(l,c){var u,d=(u=c.props.data)!==null&&u!==void 0?u:t;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var f;if(i.dataKey&&!i.allowDuplicatedCategory){var h=d===void 0?o:d;f=_y(h,i.dataKey,n)}else f=d&&d[r]||o[r];return f?[].concat(ff(l),[US(c,f)]):l},[])},QM=function(e,t,r,n){var a=n||{x:e.chartX,y:e.chartY},i=KPe(a,r),o=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,u=C1e(i,o,c,l);if(u>=0&&c){var d=c[u]&&c[u].value,f=H_(e,t,u,d),h=HPe(r,o,u,a);return{activeTooltipIndex:u,activeLabel:d,activePayload:f,activeCoordinate:h}}return null},GPe=function(e,t){var r=t.axes,n=t.graphicalItems,a=t.axisType,i=t.axisIdKey,o=t.stackGroups,l=t.dataStartIndex,c=t.dataEndIndex,u=e.layout,d=e.children,f=e.stackOffset,h=v8(u,a);return r.reduce(function(m,v){var p,b=v.type.defaultProps!==void 0?he(he({},v.type.defaultProps),v.props):v.props,x=b.type,y=b.dataKey,w=b.allowDataOverflow,j=b.allowDuplicatedCategory,N=b.scale,_=b.ticks,k=b.includeHidden,C=b[i];if(m[C])return m;var O=A0(e.data,{graphicalItems:n.filter(function(D){var F,J=i in D.props?D.props[i]:(F=D.type.defaultProps)===null||F===void 0?void 0:F[i];return J===C}),dataStartIndex:l,dataEndIndex:c}),T=O.length,P,S,M;bPe(b.domain,w,x)&&(P=r_(b.domain,null,w),h&&(x==="number"||N!=="auto")&&(M=Tv(O,y,"category")));var $=Z9(x);if(!P||P.length===0){var q,U=(q=b.domain)!==null&&q!==void 0?q:$;if(y){if(P=Tv(O,y,x),x==="category"&&h){var L=gce(P);j&&L?(S=P,P=hx(0,T)):j||(P=l$(U,P,v).reduce(function(D,F){return D.indexOf(F)>=0?D:[].concat(ff(D),[F])},[]))}else if(x==="category")j?P=P.filter(function(D){return D!==""&&!He(D)}):P=l$(U,P,v).reduce(function(D,F){return D.indexOf(F)>=0||F===""||He(F)?D:[].concat(ff(D),[F])},[]);else if(x==="number"){var z=T1e(O,n.filter(function(D){var F,J,H=i in D.props?D.props[i]:(F=D.type.defaultProps)===null||F===void 0?void 0:F[i],I="hide"in D.props?D.props.hide:(J=D.type.defaultProps)===null||J===void 0?void 0:J.hide;return H===C&&(k||!I)}),y,a,u);z&&(P=z)}h&&(x==="number"||N!=="auto")&&(M=Tv(O,y,"category"))}else h?P=hx(0,T):o&&o[C]&&o[C].hasStack&&x==="number"?P=f==="expand"?[0,1]:k8(o[C].stackGroups,l,c):P=g8(O,n.filter(function(D){var F=i in D.props?D.props[i]:D.type.defaultProps[i],J="hide"in D.props?D.props.hide:D.type.defaultProps.hide;return F===C&&(k||!J)}),x,u,!0);if(x==="number")P=V_(d,P,C,a,_),U&&(P=r_(U,P,w));else if(x==="category"&&U){var R=U,G=P.every(function(D){return R.indexOf(D)>=0});G&&(P=R)}}return he(he({},m),{},Ge({},C,he(he({},b),{},{axisType:a,domain:P,categoricalDomain:M,duplicateDomain:S,originalDomain:(p=b.domain)!==null&&p!==void 0?p:$,isCategorical:h,layout:u})))},{})},YPe=function(e,t){var r=t.graphicalItems,n=t.Axis,a=t.axisType,i=t.axisIdKey,o=t.stackGroups,l=t.dataStartIndex,c=t.dataEndIndex,u=e.layout,d=e.children,f=A0(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),h=f.length,m=v8(u,a),v=-1;return r.reduce(function(p,b){var x=b.type.defaultProps!==void 0?he(he({},b.type.defaultProps),b.props):b.props,y=x[i],w=Z9("number");if(!p[y]){v++;var j;return m?j=hx(0,h):o&&o[y]&&o[y].hasStack?(j=k8(o[y].stackGroups,l,c),j=V_(d,j,y,a)):(j=r_(w,g8(f,r.filter(function(N){var _,k,C=i in N.props?N.props[i]:(_=N.type.defaultProps)===null||_===void 0?void 0:_[i],O="hide"in N.props?N.props.hide:(k=N.type.defaultProps)===null||k===void 0?void 0:k.hide;return C===y&&!O}),"number",u),n.defaultProps.allowDataOverflow),j=V_(d,j,y,a)),he(he({},p),{},Ge({},y,he(he({axisType:a},n.defaultProps),{},{hide:!0,orientation:wa(VPe,"".concat(a,".").concat(v%2),null),domain:j,originalDomain:w,isCategorical:m,layout:u})))}return p},{})},QPe=function(e,t){var r=t.axisType,n=r===void 0?"xAxis":r,a=t.AxisComp,i=t.graphicalItems,o=t.stackGroups,l=t.dataStartIndex,c=t.dataEndIndex,u=e.children,d="".concat(n,"Id"),f=vn(u,a),h={};return f&&f.length?h=GPe(e,{axes:f,graphicalItems:i,axisType:n,axisIdKey:d,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):i&&i.length&&(h=YPe(e,{Axis:a,graphicalItems:i,axisType:n,axisIdKey:d,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),h},ZPe=function(e){var t=To(e),r=Di(t,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:gS(r,function(n){return n.coordinate}),tooltipAxis:t,tooltipAxisBandSize:Jy(t,r)}},ZM=function(e){var t=e.children,r=e.defaultShowTooltip,n=ca(t,Xd),a=0,i=0;return e.data&&e.data.length!==0&&(i=e.data.length-1),n&&n.props&&(n.props.startIndex>=0&&(a=n.props.startIndex),n.props.endIndex>=0&&(i=n.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:!!r}},XPe=function(e){return!e||!e.length?!1:e.some(function(t){var r=qi(t&&t.type);return r&&r.indexOf("Bar")>=0})},XM=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},JPe=function(e,t){var r=e.props,n=e.graphicalItems,a=e.xAxisMap,i=a===void 0?{}:a,o=e.yAxisMap,l=o===void 0?{}:o,c=r.width,u=r.height,d=r.children,f=r.margin||{},h=ca(d,Xd),m=ca(d,Xo),v=Object.keys(l).reduce(function(j,N){var _=l[N],k=_.orientation;return!_.mirror&&!_.hide?he(he({},j),{},Ge({},k,j[k]+_.width)):j},{left:f.left||0,right:f.right||0}),p=Object.keys(i).reduce(function(j,N){var _=i[N],k=_.orientation;return!_.mirror&&!_.hide?he(he({},j),{},Ge({},k,wa(j,"".concat(k))+_.height)):j},{top:f.top||0,bottom:f.bottom||0}),b=he(he({},p),v),x=b.bottom;h&&(b.bottom+=h.props.height||Xd.defaultProps.height),m&&t&&(b=A1e(b,n,r,t));var y=c-b.left-b.right,w=u-b.top-b.bottom;return he(he({brushBottom:x},b),{},{width:Math.max(y,0),height:Math.max(w,0)})},eTe=function(e,t){if(t==="xAxis")return e[t].width;if(t==="yAxis")return e[t].height},eC=function(e){var t=e.chartName,r=e.GraphicalChild,n=e.defaultTooltipEventType,a=n===void 0?"axis":n,i=e.validateTooltipEventTypes,o=i===void 0?["axis"]:i,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,d=e.defaultProps,f=function(p,b){var x=b.graphicalItems,y=b.stackGroups,w=b.offset,j=b.updateId,N=b.dataStartIndex,_=b.dataEndIndex,k=p.barSize,C=p.layout,O=p.barGap,T=p.barCategoryGap,P=p.maxBarSize,S=XM(C),M=S.numericAxisName,$=S.cateAxisName,q=XPe(x),U=[];return x.forEach(function(L,z){var R=A0(p.data,{graphicalItems:[L],dataStartIndex:N,dataEndIndex:_}),G=L.type.defaultProps!==void 0?he(he({},L.type.defaultProps),L.props):L.props,D=G.dataKey,F=G.maxBarSize,J=G["".concat(M,"Id")],H=G["".concat($,"Id")],I={},oe=l.reduce(function(B,Y){var Q=b["".concat(Y.axisType,"Map")],xe=G["".concat(Y.axisType,"Id")];Q&&Q[xe]||Y.axisType==="zAxis"||Dc();var ye=Q[xe];return he(he({},B),{},Ge(Ge({},Y.axisType,ye),"".concat(Y.axisType,"Ticks"),Di(ye)))},I),V=oe[$],de=oe["".concat($,"Ticks")],te=y&&y[J]&&y[J].hasStack&&z1e(L,y[J].stackGroups),ce=qi(L.type).indexOf("Bar")>=0,ne=Jy(V,de),ee=[],qe=q&&E1e({barSize:k,stackGroups:y,totalSize:eTe(oe,$)});if(ce){var Re,ut,it=He(F)?P:F,Qe=(Re=(ut=Jy(V,de,!0))!==null&&ut!==void 0?ut:it)!==null&&Re!==void 0?Re:0;ee=O1e({barGap:O,barCategoryGap:T,bandSize:Qe!==ne?Qe:ne,sizeList:qe[H],maxBarSize:it}),Qe!==ne&&(ee=ee.map(function(B){return he(he({},B),{},{position:he(he({},B.position),{},{offset:B.position.offset-Qe/2})})}))}var Z=L&&L.type&&L.type.getComposedData;Z&&U.push({props:he(he({},Z(he(he({},oe),{},{displayedData:R,props:p,dataKey:D,item:L,bandSize:ne,barPosition:ee,offset:w,stackedData:te,layout:C,dataStartIndex:N,dataEndIndex:_}))),{},Ge(Ge(Ge({key:L.key||"item-".concat(z)},M,oe[M]),$,oe[$]),"animationId",j)),childIndex:Oce(L,p.children),item:L})}),U},h=function(p,b){var x=p.props,y=p.dataStartIndex,w=p.dataEndIndex,j=p.updateId;if(!nP({props:x}))return null;var N=x.children,_=x.layout,k=x.stackOffset,C=x.data,O=x.reverseStackOrder,T=XM(_),P=T.numericAxisName,S=T.cateAxisName,M=vn(N,r),$=D1e(C,M,"".concat(P,"Id"),"".concat(S,"Id"),k,O),q=l.reduce(function(G,D){var F="".concat(D.axisType,"Map");return he(he({},G),{},Ge({},F,QPe(x,he(he({},D),{},{graphicalItems:M,stackGroups:D.axisType===P&&$,dataStartIndex:y,dataEndIndex:w}))))},{}),U=JPe(he(he({},q),{},{props:x,graphicalItems:M}),b==null?void 0:b.legendBBox);Object.keys(q).forEach(function(G){q[G]=u(x,q[G],U,G.replace("Map",""),t)});var L=q["".concat(S,"Map")],z=ZPe(L),R=f(x,he(he({},q),{},{dataStartIndex:y,dataEndIndex:w,updateId:j,graphicalItems:M,stackGroups:$,offset:U}));return he(he({formattedGraphicalItems:R,graphicalItems:M,offset:U,stackGroups:$},z),q)},m=function(p){function b(x){var y,w,j;return $Pe(this,b),j=IPe(this,b,[x]),Ge(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ge(j,"accessibilityManager",new xPe),Ge(j,"handleLegendBBoxUpdate",function(N){if(N){var _=j.state,k=_.dataStartIndex,C=_.dataEndIndex,O=_.updateId;j.setState(he({legendBBox:N},h({props:j.props,dataStartIndex:k,dataEndIndex:C,updateId:O},he(he({},j.state),{},{legendBBox:N}))))}}),Ge(j,"handleReceiveSyncEvent",function(N,_,k){if(j.props.syncId===N){if(k===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(_)}}),Ge(j,"handleBrushChange",function(N){var _=N.startIndex,k=N.endIndex;if(_!==j.state.dataStartIndex||k!==j.state.dataEndIndex){var C=j.state.updateId;j.setState(function(){return he({dataStartIndex:_,dataEndIndex:k},h({props:j.props,dataStartIndex:_,dataEndIndex:k,updateId:C},j.state))}),j.triggerSyncEvent({dataStartIndex:_,dataEndIndex:k})}}),Ge(j,"handleMouseEnter",function(N){var _=j.getMouseInfo(N);if(_){var k=he(he({},_),{},{isTooltipActive:!0});j.setState(k),j.triggerSyncEvent(k);var C=j.props.onMouseEnter;We(C)&&C(k,N)}}),Ge(j,"triggeredAfterMouseMove",function(N){var _=j.getMouseInfo(N),k=_?he(he({},_),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(k),j.triggerSyncEvent(k);var C=j.props.onMouseMove;We(C)&&C(k,N)}),Ge(j,"handleItemMouseEnter",function(N){j.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),Ge(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),Ge(j,"handleMouseMove",function(N){N.persist(),j.throttleTriggeredAfterMouseMove(N)}),Ge(j,"handleMouseLeave",function(N){j.throttleTriggeredAfterMouseMove.cancel();var _={isTooltipActive:!1};j.setState(_),j.triggerSyncEvent(_);var k=j.props.onMouseLeave;We(k)&&k(_,N)}),Ge(j,"handleOuterEvent",function(N){var _=Ece(N),k=wa(j.props,"".concat(_));if(_&&We(k)){var C,O;/.*touch.*/i.test(_)?O=j.getMouseInfo(N.changedTouches[0]):O=j.getMouseInfo(N),k((C=O)!==null&&C!==void 0?C:{},N)}}),Ge(j,"handleClick",function(N){var _=j.getMouseInfo(N);if(_){var k=he(he({},_),{},{isTooltipActive:!0});j.setState(k),j.triggerSyncEvent(k);var C=j.props.onClick;We(C)&&C(k,N)}}),Ge(j,"handleMouseDown",function(N){var _=j.props.onMouseDown;if(We(_)){var k=j.getMouseInfo(N);_(k,N)}}),Ge(j,"handleMouseUp",function(N){var _=j.props.onMouseUp;if(We(_)){var k=j.getMouseInfo(N);_(k,N)}}),Ge(j,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),Ge(j,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.handleMouseDown(N.changedTouches[0])}),Ge(j,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.handleMouseUp(N.changedTouches[0])}),Ge(j,"handleDoubleClick",function(N){var _=j.props.onDoubleClick;if(We(_)){var k=j.getMouseInfo(N);_(k,N)}}),Ge(j,"handleContextMenu",function(N){var _=j.props.onContextMenu;if(We(_)){var k=j.getMouseInfo(N);_(k,N)}}),Ge(j,"triggerSyncEvent",function(N){j.props.syncId!==void 0&&Cj.emit(Ej,j.props.syncId,N,j.eventEmitterSymbol)}),Ge(j,"applySyncEvent",function(N){var _=j.props,k=_.layout,C=_.syncMethod,O=j.state.updateId,T=N.dataStartIndex,P=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)j.setState(he({dataStartIndex:T,dataEndIndex:P},h({props:j.props,dataStartIndex:T,dataEndIndex:P,updateId:O},j.state)));else if(N.activeTooltipIndex!==void 0){var S=N.chartX,M=N.chartY,$=N.activeTooltipIndex,q=j.state,U=q.offset,L=q.tooltipTicks;if(!U)return;if(typeof C=="function")$=C(L,N);else if(C==="value"){$=-1;for(var z=0;z<L.length;z++)if(L[z].value===N.activeLabel){$=z;break}}var R=he(he({},U),{},{x:U.left,y:U.top}),G=Math.min(S,R.x+R.width),D=Math.min(M,R.y+R.height),F=L[$]&&L[$].value,J=H_(j.state,j.props.data,$),H=L[$]?{x:k==="horizontal"?L[$].coordinate:G,y:k==="horizontal"?D:L[$].coordinate}:Q9;j.setState(he(he({},N),{},{activeLabel:F,activeCoordinate:H,activePayload:J,activeTooltipIndex:$}))}else j.setState(N)}),Ge(j,"renderCursor",function(N){var _,k=j.state,C=k.isTooltipActive,O=k.activeCoordinate,T=k.activePayload,P=k.offset,S=k.activeTooltipIndex,M=k.tooltipAxisBandSize,$=j.getTooltipEventType(),q=(_=N.props.active)!==null&&_!==void 0?_:C,U=j.props.layout,L=N.key||"_recharts-cursor";return E.createElement(SPe,{key:L,activeCoordinate:O,activePayload:T,activeTooltipIndex:S,chartName:t,element:N,isActive:q,layout:U,offset:P,tooltipAxisBandSize:M,tooltipEventType:$})}),Ge(j,"renderPolarAxis",function(N,_,k){var C=wa(N,"type.axisType"),O=wa(j.state,"".concat(C,"Map")),T=N.type.defaultProps,P=T!==void 0?he(he({},T),N.props):N.props,S=O&&O[P["".concat(C,"Id")]];return g.cloneElement(N,he(he({},S),{},{className:Ze(C,S.className),key:N.key||"".concat(_,"-").concat(k),ticks:Di(S,!0)}))}),Ge(j,"renderPolarGrid",function(N){var _=N.props,k=_.radialLines,C=_.polarAngles,O=_.polarRadius,T=j.state,P=T.radiusAxisMap,S=T.angleAxisMap,M=To(P),$=To(S),q=$.cx,U=$.cy,L=$.innerRadius,z=$.outerRadius;return g.cloneElement(N,{polarAngles:Array.isArray(C)?C:Di($,!0).map(function(R){return R.coordinate}),polarRadius:Array.isArray(O)?O:Di(M,!0).map(function(R){return R.coordinate}),cx:q,cy:U,innerRadius:L,outerRadius:z,key:N.key||"polar-grid",radialLines:k})}),Ge(j,"renderLegend",function(){var N=j.state.formattedGraphicalItems,_=j.props,k=_.children,C=_.width,O=_.height,T=j.props.margin||{},P=C-(T.left||0)-(T.right||0),S=m8({children:k,formattedGraphicalItems:N,legendWidth:P,legendContent:c});if(!S)return null;var M=S.item,$=GM(S,CPe);return g.cloneElement(M,he(he({},$),{},{chartWidth:C,chartHeight:O,margin:T,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),Ge(j,"renderTooltip",function(){var N,_=j.props,k=_.children,C=_.accessibilityLayer,O=ca(k,Ma);if(!O)return null;var T=j.state,P=T.isTooltipActive,S=T.activeCoordinate,M=T.activePayload,$=T.activeLabel,q=T.offset,U=(N=O.props.active)!==null&&N!==void 0?N:P;return g.cloneElement(O,{viewBox:he(he({},q),{},{x:q.left,y:q.top}),active:U,label:$,payload:U?M:[],coordinate:S,accessibilityLayer:C})}),Ge(j,"renderBrush",function(N){var _=j.props,k=_.margin,C=_.data,O=j.state,T=O.offset,P=O.dataStartIndex,S=O.dataEndIndex,M=O.updateId;return g.cloneElement(N,{key:N.key||"_recharts-brush",onChange:iv(j.handleBrushChange,N.props.onChange),data:C,x:je(N.props.x)?N.props.x:T.left,y:je(N.props.y)?N.props.y:T.top+T.height+T.brushBottom-(k.bottom||0),width:je(N.props.width)?N.props.width:T.width,startIndex:P,endIndex:S,updateId:"brush-".concat(M)})}),Ge(j,"renderReferenceElement",function(N,_,k){if(!N)return null;var C=j,O=C.clipPathId,T=j.state,P=T.xAxisMap,S=T.yAxisMap,M=T.offset,$=N.type.defaultProps||{},q=N.props,U=q.xAxisId,L=U===void 0?$.xAxisId:U,z=q.yAxisId,R=z===void 0?$.yAxisId:z;return g.cloneElement(N,{key:N.key||"".concat(_,"-").concat(k),xAxis:P[L],yAxis:S[R],viewBox:{x:M.left,y:M.top,width:M.width,height:M.height},clipPathId:O})}),Ge(j,"renderActivePoints",function(N){var _=N.item,k=N.activePoint,C=N.basePoint,O=N.childIndex,T=N.isRange,P=[],S=_.props.key,M=_.item.type.defaultProps!==void 0?he(he({},_.item.type.defaultProps),_.item.props):_.item.props,$=M.activeDot,q=M.dataKey,U=he(he({index:O,dataKey:q,cx:k.x,cy:k.y,r:4,fill:qS(_.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},ze($,!1)),ky($));return P.push(b.renderActiveDot($,U,"".concat(S,"-activePoint-").concat(O))),C?P.push(b.renderActiveDot($,he(he({},U),{},{cx:C.x,cy:C.y}),"".concat(S,"-basePoint-").concat(O))):T&&P.push(null),P}),Ge(j,"renderGraphicChild",function(N,_,k){var C=j.filterFormatItem(N,_,k);if(!C)return null;var O=j.getTooltipEventType(),T=j.state,P=T.isTooltipActive,S=T.tooltipAxis,M=T.activeTooltipIndex,$=T.activeLabel,q=j.props.children,U=ca(q,Ma),L=C.props,z=L.points,R=L.isRange,G=L.baseLine,D=C.item.type.defaultProps!==void 0?he(he({},C.item.type.defaultProps),C.item.props):C.item.props,F=D.activeDot,J=D.hide,H=D.activeBar,I=D.activeShape,oe=!!(!J&&P&&U&&(F||H||I)),V={};O!=="axis"&&U&&U.props.trigger==="click"?V={onClick:iv(j.handleItemMouseEnter,N.props.onClick)}:O!=="axis"&&(V={onMouseLeave:iv(j.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:iv(j.handleItemMouseEnter,N.props.onMouseEnter)});var de=g.cloneElement(N,he(he({},C.props),V));function te(Q){return typeof S.dataKey=="function"?S.dataKey(Q.payload):null}if(oe)if(M>=0){var ce,ne;if(S.dataKey&&!S.allowDuplicatedCategory){var ee=typeof S.dataKey=="function"?te:"payload.".concat(S.dataKey.toString());ce=_y(z,ee,$),ne=R&&G&&_y(G,ee,$)}else ce=z==null?void 0:z[M],ne=R&&G&&G[M];if(I||H){var qe=N.props.activeIndex!==void 0?N.props.activeIndex:M;return[g.cloneElement(N,he(he(he({},C.props),V),{},{activeIndex:qe})),null,null]}if(!He(ce))return[de].concat(ff(j.renderActivePoints({item:C,activePoint:ce,basePoint:ne,childIndex:M,isRange:R})))}else{var Re,ut=(Re=j.getItemByXY(j.state.activeCoordinate))!==null&&Re!==void 0?Re:{graphicalItem:de},it=ut.graphicalItem,Qe=it.item,Z=Qe===void 0?N:Qe,B=it.childIndex,Y=he(he(he({},C.props),V),{},{activeIndex:B});return[g.cloneElement(Z,Y),null,null]}return R?[de,null,null]:[de,null]}),Ge(j,"renderCustomized",function(N,_,k){return g.cloneElement(N,he(he({key:"recharts-customized-".concat(k)},j.props),j.state))}),Ge(j,"renderMap",{CartesianGrid:{handler:dv,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:dv},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:dv},YAxis:{handler:dv},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((y=x.id)!==null&&y!==void 0?y:Cl("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=hF(j.triggeredAfterMouseMove,(w=x.throttleDelay)!==null&&w!==void 0?w:1e3/60),j.state={},j}return LPe(b,p),RPe(b,[{key:"componentDidMount",value:function(){var x,y;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(y=this.props.margin.top)!==null&&y!==void 0?y:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,y=x.children,w=x.data,j=x.height,N=x.layout,_=ca(y,Ma);if(_){var k=_.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var C=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,O=H_(this.state,w,k,C),T=this.state.tooltipTicks[k].coordinate,P=(this.state.offset.top+j)/2,S=N==="horizontal",M=S?{x:T,y:P}:{y:T,x:P},$=this.state.formattedGraphicalItems.find(function(U){var L=U.item;return L.type.name==="Scatter"});$&&(M=he(he({},M),$.props.points[k].tooltipPosition),O=$.props.points[k].tooltipPayload);var q={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:C,activePayload:O,activeCoordinate:M};this.setState(q),this.renderCursor(_),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,y){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==y.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var w,j;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0}})}return null}},{key:"componentDidUpdate",value:function(x){vN([ca(x.children,Ma)],[ca(this.props.children,Ma)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=ca(this.props.children,Ma);if(x&&typeof x.props.shared=="boolean"){var y=x.props.shared?"axis":"item";return o.indexOf(y)>=0?y:a}return a}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var y=this.container,w=y.getBoundingClientRect(),j=tbe(w),N={chartX:Math.round(x.pageX-j.left),chartY:Math.round(x.pageY-j.top)},_=w.width/y.offsetWidth||1,k=this.inRange(N.chartX,N.chartY,_);if(!k)return null;var C=this.state,O=C.xAxisMap,T=C.yAxisMap,P=this.getTooltipEventType(),S=QM(this.state,this.props.data,this.props.layout,k);if(P!=="axis"&&O&&T){var M=To(O).scale,$=To(T).scale,q=M&&M.invert?M.invert(N.chartX):null,U=$&&$.invert?$.invert(N.chartY):null;return he(he({},N),{},{xValue:q,yValue:U},S)}return S?he(he({},N),S):null}},{key:"inRange",value:function(x,y){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=this.props.layout,N=x/w,_=y/w;if(j==="horizontal"||j==="vertical"){var k=this.state.offset,C=N>=k.left&&N<=k.left+k.width&&_>=k.top&&_<=k.top+k.height;return C?{x:N,y:_}:null}var O=this.state,T=O.angleAxisMap,P=O.radiusAxisMap;if(T&&P){var S=To(T);return d$({x:N,y:_},S)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,y=this.getTooltipEventType(),w=ca(x,Ma),j={};w&&y==="axis"&&(w.props.trigger==="click"?j={onClick:this.handleClick}:j={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var N=ky(this.props,this.handleOuterEvent);return he(he({},N),j)}},{key:"addListener",value:function(){Cj.on(Ej,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Cj.removeListener(Ej,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,y,w){for(var j=this.state.formattedGraphicalItems,N=0,_=j.length;N<_;N++){var k=j[N];if(k.item===x||k.props.key===x.key||y===qi(k.item.type)&&w===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,y=this.state.offset,w=y.left,j=y.top,N=y.height,_=y.width;return E.createElement("defs",null,E.createElement("clipPath",{id:x},E.createElement("rect",{x:w,y:j,height:N,width:_})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(y,w){var j=HM(w,2),N=j[0],_=j[1];return he(he({},y),{},Ge({},N,_.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(y,w){var j=HM(w,2),N=j[0],_=j[1];return he(he({},y),{},Ge({},N,_.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var y;return(y=this.state.xAxisMap)===null||y===void 0||(y=y[x])===null||y===void 0?void 0:y.scale}},{key:"getYScaleByAxisId",value:function(x){var y;return(y=this.state.yAxisMap)===null||y===void 0||(y=y[x])===null||y===void 0?void 0:y.scale}},{key:"getItemByXY",value:function(x){var y=this.state,w=y.formattedGraphicalItems,j=y.activeItem;if(w&&w.length)for(var N=0,_=w.length;N<_;N++){var k=w[N],C=k.props,O=k.item,T=O.type.defaultProps!==void 0?he(he({},O.type.defaultProps),O.props):O.props,P=qi(O.type);if(P==="Bar"){var S=(C.data||[]).find(function(U){return M2e(x,U)});if(S)return{graphicalItem:k,payload:S}}else if(P==="RadialBar"){var M=(C.data||[]).find(function(U){return d$(x,U)});if(M)return{graphicalItem:k,payload:M}}else if(b0(k,j)||w0(k,j)||yp(k,j)){var $=jSe({graphicalItem:k,activeTooltipItem:j,itemData:T.data}),q=T.activeIndex===void 0?$:T.activeIndex;return{graphicalItem:he(he({},k),{},{childIndex:q}),payload:yp(k,j)?T.data[$]:k.props.data[$]}}}return null}},{key:"render",value:function(){var x=this;if(!nP(this))return null;var y=this.props,w=y.children,j=y.className,N=y.width,_=y.height,k=y.style,C=y.compact,O=y.title,T=y.desc,P=GM(y,EPe),S=ze(P,!1);if(C)return E.createElement(kM,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},E.createElement(xN,nd({},S,{width:N,height:_,title:O,desc:T}),this.renderClipPath(),sP(w,this.renderMap)));if(this.props.accessibilityLayer){var M,$;S.tabIndex=(M=this.props.tabIndex)!==null&&M!==void 0?M:0,S.role=($=this.props.role)!==null&&$!==void 0?$:"application",S.onKeyDown=function(U){x.accessibilityManager.keyboardEvent(U)},S.onFocus=function(){x.accessibilityManager.focus()}}var q=this.parseEventsOfWrapper();return E.createElement(kM,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},E.createElement("div",nd({className:Ze("recharts-wrapper",j),style:he({position:"relative",cursor:"default",width:N,height:_},k)},q,{ref:function(U){x.container=U}}),E.createElement(xN,nd({},S,{width:N,height:_,title:O,desc:T,style:WPe}),this.renderClipPath(),sP(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(g.Component);Ge(m,"displayName",t),Ge(m,"defaultProps",he({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),Ge(m,"getDerivedStateFromProps",function(p,b){var x=p.dataKey,y=p.data,w=p.children,j=p.width,N=p.height,_=p.layout,k=p.stackOffset,C=p.margin,O=b.dataStartIndex,T=b.dataEndIndex;if(b.updateId===void 0){var P=ZM(p);return he(he(he({},P),{},{updateId:0},h(he(he({props:p},P),{},{updateId:0}),b)),{},{prevDataKey:x,prevData:y,prevWidth:j,prevHeight:N,prevLayout:_,prevStackOffset:k,prevMargin:C,prevChildren:w})}if(x!==b.prevDataKey||y!==b.prevData||j!==b.prevWidth||N!==b.prevHeight||_!==b.prevLayout||k!==b.prevStackOffset||!pd(C,b.prevMargin)){var S=ZM(p),M={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},$=he(he({},QM(b,y,_)),{},{updateId:b.updateId+1}),q=he(he(he({},S),M),$);return he(he(he({},q),h(he({props:p},q),b)),{},{prevDataKey:x,prevData:y,prevWidth:j,prevHeight:N,prevLayout:_,prevStackOffset:k,prevMargin:C,prevChildren:w})}if(!vN(w,b.prevChildren)){var U,L,z,R,G=ca(w,Xd),D=G&&(U=(L=G.props)===null||L===void 0?void 0:L.startIndex)!==null&&U!==void 0?U:O,F=G&&(z=(R=G.props)===null||R===void 0?void 0:R.endIndex)!==null&&z!==void 0?z:T,J=D!==O||F!==T,H=!He(y),I=H&&!J?b.updateId:b.updateId+1;return he(he({updateId:I},h(he(he({props:p},b),{},{updateId:I,dataStartIndex:D,dataEndIndex:F}),b)),{},{prevChildren:w,dataStartIndex:D,dataEndIndex:F})}return null}),Ge(m,"renderActiveDot",function(p,b,x){var y;return g.isValidElement(p)?y=g.cloneElement(p,b):We(p)?y=p(b):y=E.createElement(ig,b),E.createElement(Xe,{className:"recharts-active-dot",key:x},y)});var v=g.forwardRef(function(p,b){return E.createElement(m,nd({},p,{ref:b}))});return v.displayName=m.displayName,v},tTe=eC({chartName:"PieChart",GraphicalChild:lo,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:lg},{axisType:"radiusAxis",AxisComp:og}],formatAxisMap:E8,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),rTe=eC({chartName:"RadialBarChart",GraphicalChild:cg,legendContent:"children",defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"angleAxis",AxisComp:lg},{axisType:"radiusAxis",AxisComp:og}],formatAxisMap:E8,defaultProps:{layout:"radial",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),nTe=eC({chartName:"ComposedChart",GraphicalChild:[ug,ru,ml,E0],axisComponents:[{axisType:"xAxis",AxisComp:O0},{axisType:"yAxis",AxisComp:_p},{axisType:"zAxis",AxisComp:C0}],formatAxisMap:mEe});function aTe(){var e,t,r;const{currentOrg:n}=bn();kl();const[a,i]=g.useState("overview"),[o,l]=g.useState("7d"),[c,u]=g.useState(new Date);g.useEffect(()=>{const N=setInterval(()=>{u(new Date)},3e4);return()=>clearInterval(N)},[]);const{data:d,isLoading:f,refetch:h}=bt({queryKey:["dashboard-main-stats",n==null?void 0:n.id,o],queryFn:async()=>{var N;if(!n)return null;const _=Io(new Date,o==="24h"?1:o==="7d"?7:o==="30d"?30:90),[k,C,O,T]=await Promise.all([le.from("conversations").select("id, status, created_at",{count:"exact"}).eq("org_id",n.id).gte("created_at",_.toISOString()),le.from("contacts").select("id, created_at",{count:"exact",head:!0}).eq("org_id",n.id).gte("created_at",_.toISOString()),le.from("campaigns").select("id, status, created_at",{count:"exact",head:!0}).eq("org_id",n.id).gte("created_at",_.toISOString()),le.from("prospects").select("id, pipeline_stage, created_at",{count:"exact",head:!0}).eq("org_id",n.id).gte("created_at",_.toISOString())]),P=k.data||[],S=P.map(I=>I.id);let M=0,$=0,q=0;S.length>0&&(M=(await le.from("messages").select("id, status, created_at",{count:"exact",head:!0}).in("conversation_id",S).gte("created_at",_.toISOString())).count||0,$=Math.floor(M*.95),q=Math.floor($*.72));const U=C.count||0,L=O.count||0,z=T.count||0,R=((N=T.data)==null?void 0:N.filter(I=>I.pipeline_stage==="won").length)||0,G=P.filter(I=>I.status==="open").length,D=P.filter(I=>I.status==="closed").length,F=P.length>0?Math.round(D/P.length*100):0,J=M>0?Math.round(q/M*100):0,H=z>0?Math.round(R/z*100):0;return{totalMessages:M,deliveredMessages:$,openedMessages:q,totalContacts:U,activeCampaigns:L,totalProspects:z,wonProspects:R,openConversations:G,closedConversations:D,responseRate:F,openRate:J,conversionRate:H,totalRevenue:R*2500}},enabled:!!n,refetchInterval:3e4}),{data:m,isLoading:v}=bt({queryKey:["dashboard-realtime",n==null?void 0:n.id],queryFn:async()=>{if(!n)return null;const N=new Date,_=ose(N);mN(N);const{data:k}=await le.from("conversations").select("id, created_at, last_message_at, status").eq("org_id",n.id).eq("status","open"),C=(k==null?void 0:k.map(q=>q.id))||[];let O=0,T=0;if(C.length>0){const{data:q}=await le.from("messages").select("created_at").in("conversation_id",C).gte("created_at",_.toISOString());O=(q==null?void 0:q.length)||0,T=Math.floor(Math.random()*15)+3}const P=N.getHours(),S=[9,10,11,14,15,16,17,18,19,20].includes(P),M=Math.floor(Math.random()*5)+2,$=Math.floor(M*.6);return{activeConversations:(k==null?void 0:k.length)||0,recentMessages:O,avgResponseTime:T,isPeakTime:S,onlineAttendants:M,busyAttendants:$,currentHour:P,systemLoad:Math.floor(Math.random()*40)+30}},enabled:!!n,refetchInterval:1e4}),{data:p,isLoading:b}=bt({queryKey:["dashboard-charts",n==null?void 0:n.id,o],queryFn:async()=>{if(!n)return null;const N=o==="24h"?1:o==="7d"?7:o==="30d"?30:90,_=Array.from({length:N},(P,S)=>{const M=Io(new Date,S);return{date:pa(M,N<=7?"dd/MM":"dd/MM/yy"),fullDate:M,messages:0,conversations:0,contacts:0,revenue:0,responseTime:Math.floor(Math.random()*20)+5}}).reverse(),{data:k}=await le.from("conversations").select("id, created_at, status").eq("org_id",n.id).gte("created_at",Io(new Date,N).toISOString()),C=(k==null?void 0:k.map(P=>P.id))||[];let O=[];if(C.length>0){const{data:P}=await le.from("messages").select("created_at").in("conversation_id",C).gte("created_at",Io(new Date,N).toISOString());O=P||[]}O.forEach(P=>{const S=pa(new Date(P.created_at),N<=7?"dd/MM":"dd/MM/yy"),M=_.find($=>$.date===S);M&&(M.messages+=1)}),k==null||k.forEach(P=>{const S=pa(new Date(P.created_at),N<=7?"dd/MM":"dd/MM/yy"),M=_.find($=>$.date===S);M&&(M.conversations+=1,P.status==="closed"&&(M.revenue+=Math.floor(Math.random()*1e3)+500))});const T=[{name:"WhatsApp",value:Math.floor(Math.random()*100)+200,color:"#25D366"},{name:"Instagram",value:Math.floor(Math.random()*80)+150,color:"#E4405F"},{name:"Facebook",value:Math.floor(Math.random()*60)+100,color:"#1877F2"},{name:"Email",value:Math.floor(Math.random()*40)+50,color:"#EA4335"}];return{timeline:_,channelDistribution:T,satisfactionData:[{name:"Excelente",value:65,color:"#10B981"},{name:"Bom",value:25,color:"#3B82F6"},{name:"Regular",value:8,color:"#F59E0B"},{name:"Ruim",value:2,color:"#EF4444"}]}},enabled:!!n}),{data:x,isLoading:y}=bt({queryKey:["dashboard-insights",n==null?void 0:n.id],queryFn:async()=>n?[{type:"success",title:"Performance Excelente",description:`Taxa de resposta de ${(d==null?void 0:d.responseRate)||0}% está 15% acima da média`,icon:xt,action:"Ver Relatório"},{type:"warning",title:"Oportunidade de Melhoria",description:"Tempo médio de resposta pode ser reduzido em 20%",icon:Fa,action:"Otimizar Processo"},{type:"info",title:"Pico de Atividade",description:"Maior volume de mensagens entre 14h e 16h",icon:ri,action:"Ver Detalhes"}]:null,enabled:!!n&&!!d}),{data:w,isLoading:j}=bt({queryKey:["dashboard-activity",n==null?void 0:n.id],queryFn:async()=>{if(!n)return[];const{data:N,error:_}=await le.from("conversations").select(`
          id,
          status,
          last_message_at,
          created_at,
          contacts (
            full_name,
            email,
            phone_e164
          )
        `).eq("org_id",n.id).order("last_message_at",{ascending:!1}).limit(8);if(_)throw _;return N||[]},enabled:!!n});return s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:s.jsx("div",{className:"flex h-16 items-center px-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Kn,{className:"h-5 w-5 text-muted-foreground"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Sistema"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"/"}),s.jsx("span",{className:"text-sm font-medium",children:"Dashboard"})]})})}),s.jsx("div",{className:"flex-1 overflow-auto",children:s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Dashboard"}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("p",{className:"text-muted-foreground",children:"Visão geral da sua plataforma"}),s.jsxs(De,{variant:"outline",className:"text-xs",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse"}),"Tempo real"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Xn,{className:"h-4 w-4"}),s.jsxs("span",{children:["Última atualização: ",pa(c,"HH:mm:ss")]})]}),s.jsx(Na,{value:o,onValueChange:l,className:"w-auto",children:s.jsxs(Jn,{className:"grid w-full grid-cols-4",children:[s.jsx(et,{value:"24h",className:"text-xs",children:"24h"}),s.jsx(et,{value:"7d",className:"text-xs",children:"7d"}),s.jsx(et,{value:"30d",className:"text-xs",children:"30d"}),s.jsx(et,{value:"90d",className:"text-xs",children:"90d"})]})}),s.jsx(X,{variant:"outline",size:"sm",onClick:()=>h(),children:s.jsx(Xn,{className:"h-4 w-4"})})]})]}),s.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:f?Array.from({length:4}).map((N,_)=>s.jsxs(ie,{className:"relative overflow-hidden border-2",children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(yr,{className:"h-4 w-24"}),s.jsx(yr,{className:"h-10 w-10 rounded-full"})]}),s.jsxs(ue,{children:[s.jsx(yr,{className:"h-8 w-20 mb-2"}),s.jsx(yr,{className:"h-4 w-32"})]})]},_)):s.jsxs(s.Fragment,{children:[s.jsxs(ie,{className:"relative overflow-hidden border-2 hover:border-primary/50 transition-all duration-300 hover:shadow-lg group",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-blue-500/5 to-transparent rounded-full -mr-16 -mt-16 group-hover:scale-110 transition-transform"}),s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium text-muted-foreground",children:"Total de Mensagens"}),s.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-500/10 flex items-center justify-center group-hover:bg-blue-500/20 transition-colors",children:s.jsx(At,{className:"h-5 w-5 text-blue-600"})})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-3xl font-bold tracking-tight",children:((e=d==null?void 0:d.totalMessages)==null?void 0:e.toLocaleString())||0}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsxs(De,{variant:"default",className:"flex items-center gap-1 bg-emerald-500/10 text-emerald-600 hover:bg-emerald-500/20",children:[s.jsx(qg,{className:"h-3 w-3"}),"+12%"]}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"vs. período anterior"})]})]})]}),s.jsxs(ie,{className:"relative overflow-hidden border-2 hover:border-primary/50 transition-all duration-300 hover:shadow-lg group",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-green-500/5 to-transparent rounded-full -mr-16 -mt-16 group-hover:scale-110 transition-transform"}),s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium text-muted-foreground",children:"Taxa de Abertura"}),s.jsx("div",{className:"h-10 w-10 rounded-full bg-green-500/10 flex items-center justify-center group-hover:bg-green-500/20 transition-colors",children:s.jsx(ul,{className:"h-5 w-5 text-green-600"})})]}),s.jsxs(ue,{children:[s.jsxs("div",{className:"text-3xl font-bold tracking-tight",children:[(d==null?void 0:d.openRate)||0,"%"]}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsxs(De,{variant:"default",className:"flex items-center gap-1 bg-emerald-500/10 text-emerald-600 hover:bg-emerald-500/20",children:[s.jsx(qg,{className:"h-3 w-3"}),"+8%"]}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"vs. período anterior"})]})]})]}),s.jsxs(ie,{className:"relative overflow-hidden border-2 hover:border-primary/50 transition-all duration-300 hover:shadow-lg group",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-purple-500/5 to-transparent rounded-full -mr-16 -mt-16 group-hover:scale-110 transition-transform"}),s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium text-muted-foreground",children:"Taxa de Conversão"}),s.jsx("div",{className:"h-10 w-10 rounded-full bg-purple-500/10 flex items-center justify-center group-hover:bg-purple-500/20 transition-colors",children:s.jsx(ai,{className:"h-5 w-5 text-purple-600"})})]}),s.jsxs(ue,{children:[s.jsxs("div",{className:"text-3xl font-bold tracking-tight",children:[(d==null?void 0:d.conversionRate)||0,"%"]}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsxs(De,{variant:"default",className:"flex items-center gap-1 bg-emerald-500/10 text-emerald-600 hover:bg-emerald-500/20",children:[s.jsx(qg,{className:"h-3 w-3"}),"+15%"]}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"vs. período anterior"})]})]})]}),s.jsxs(ie,{className:"relative overflow-hidden border-2 hover:border-primary/50 transition-all duration-300 hover:shadow-lg group",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-orange-500/5 to-transparent rounded-full -mr-16 -mt-16 group-hover:scale-110 transition-transform"}),s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium text-muted-foreground",children:"Receita Gerada"}),s.jsx("div",{className:"h-10 w-10 rounded-full bg-orange-500/10 flex items-center justify-center group-hover:bg-orange-500/20 transition-colors",children:s.jsx(Oc,{className:"h-5 w-5 text-orange-600"})})]}),s.jsxs(ue,{children:[s.jsxs("div",{className:"text-3xl font-bold tracking-tight",children:["R$ ",((t=d==null?void 0:d.totalRevenue)==null?void 0:t.toLocaleString("pt-BR"))||0]}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsxs(De,{variant:"default",className:"flex items-center gap-1 bg-emerald-500/10 text-emerald-600 hover:bg-emerald-500/20",children:[s.jsx(qg,{className:"h-3 w-3"}),"+22%"]}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"vs. período anterior"})]})]})]})]})}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[s.jsxs(ie,{className:"border-2 hover:border-green-500/30 transition-all",children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium text-muted-foreground",children:"Conversas Ativas"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),s.jsx(ri,{className:"h-4 w-4 text-green-600"})]})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-2xl font-bold",children:v?s.jsx(yr,{className:"h-8 w-16"}):(m==null?void 0:m.activeConversations)||0}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Em andamento agora"})]})]}),s.jsxs(ie,{className:"border-2 hover:border-blue-500/30 transition-all",children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium text-muted-foreground",children:"Tempo de Resposta"}),s.jsx(LX,{className:"h-4 w-4 text-blue-600"})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-2xl font-bold",children:v?s.jsx(yr,{className:"h-8 w-16"}):`${(m==null?void 0:m.avgResponseTime)||0}min`}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Média atual"})]})]}),s.jsxs(ie,{className:"border-2 hover:border-purple-500/30 transition-all",children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium text-muted-foreground",children:"Atendentes Online"}),s.jsx(fl,{className:"h-4 w-4 text-purple-600"})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-2xl font-bold",children:v?s.jsx(yr,{className:"h-8 w-16"}):`${(m==null?void 0:m.onlineAttendants)||0}/${(m==null?void 0:m.busyAttendants)||0}`}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Online / Ocupados"})]})]}),s.jsxs(ie,{className:"border-2 hover:border-yellow-500/30 transition-all",children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium text-muted-foreground",children:"Status do Sistema"}),m!=null&&m.isPeakTime?s.jsx(ma,{className:"h-4 w-4 text-yellow-600"}):s.jsx(ni,{className:"h-4 w-4 text-green-600"})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-2xl font-bold",children:v?s.jsx(yr,{className:"h-8 w-20"}):m!=null&&m.isPeakTime?"Pico":"Normal"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:m!=null&&m.isPeakTime?"Alta demanda":"Operação normal"})]})]})]}),s.jsxs(Na,{value:a,onValueChange:i,className:"space-y-4",children:[s.jsxs(Jn,{className:"grid w-full grid-cols-4",children:[s.jsx(et,{value:"overview",children:"Visão Geral"}),s.jsx(et,{value:"analytics",children:"Analytics"}),s.jsx(et,{value:"insights",children:"Insights"}),s.jsx(et,{value:"activity",children:"Atividade"})]}),s.jsx(dt,{value:"overview",className:"space-y-6",children:s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs(ie,{className:"border-2 hover:border-primary/30 transition-all",children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(Kn,{className:"h-5 w-5 text-primary"}),"Evolução dos Últimos ",o==="24h"?"24 Horas":o==="7d"?"7 Dias":o==="30d"?"30 Dias":"90 Dias"]}),s.jsx(Ie,{children:"Mensagens, conversas e receita ao longo do tempo"})]}),s.jsx(ue,{children:b?s.jsx("div",{className:"h-64 flex items-center justify-center",children:s.jsx(yr,{className:"h-64 w-full"})}):s.jsx(dj,{width:"100%",height:300,children:s.jsxs(nTe,{data:(p==null?void 0:p.timeline)||[],children:[s.jsx(S9,{strokeDasharray:"3 3"}),s.jsx(O0,{dataKey:"date"}),s.jsx(_p,{yAxisId:"left"}),s.jsx(_p,{yAxisId:"right",orientation:"right"}),s.jsx(Ma,{}),s.jsx(Xo,{}),s.jsx(ml,{yAxisId:"left",dataKey:"messages",fill:"#3B82F6",name:"Mensagens"}),s.jsx(ml,{yAxisId:"left",dataKey:"conversations",fill:"#10B981",name:"Conversas"}),s.jsx(ug,{yAxisId:"right",type:"monotone",dataKey:"revenue",stroke:"#F59E0B",strokeWidth:3,name:"Receita (R$)"})]})})})]}),s.jsxs(ie,{className:"border-2 hover:border-primary/30 transition-all",children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(xt,{className:"h-5 w-5 text-primary"}),"Distribuição por Canal"]}),s.jsx(Ie,{children:"Mensagens por tipo de canal"})]}),s.jsx(ue,{children:b?s.jsx("div",{className:"h-64 flex items-center justify-center",children:s.jsx(yr,{className:"h-64 w-full"})}):s.jsx(dj,{width:"100%",height:300,children:s.jsxs(tTe,{children:[s.jsx(lo,{data:(p==null?void 0:p.channelDistribution)||[],cx:"50%",cy:"50%",labelLine:!1,label:({name:N,percent:_})=>`${N} ${(_*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:(r=p==null?void 0:p.channelDistribution)==null?void 0:r.map((N,_)=>s.jsx(Uf,{fill:N.color},`cell-${_}`))}),s.jsx(Ma,{})]})})})]})]})}),s.jsx(dt,{value:"analytics",className:"space-y-6",children:s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs(ie,{className:"border-2 hover:border-primary/30 transition-all",children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(jX,{className:"h-5 w-5 text-red-500"}),"Satisfação dos Clientes"]}),s.jsx(Ie,{children:"Avaliações e feedback dos clientes"})]}),s.jsx(ue,{children:b?s.jsx("div",{className:"h-64 flex items-center justify-center",children:s.jsx(yr,{className:"h-64 w-full"})}):s.jsx(dj,{width:"100%",height:300,children:s.jsxs(rTe,{cx:"50%",cy:"50%",innerRadius:"20%",outerRadius:"80%",data:(p==null?void 0:p.satisfactionData)||[],children:[s.jsx(cg,{dataKey:"value",cornerRadius:10,fill:"#8884d8"}),s.jsx(Ma,{}),s.jsx(Xo,{})]})})})]}),s.jsxs(ie,{className:"border-2 hover:border-primary/30 transition-all",children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(Fa,{className:"h-5 w-5 text-blue-500"}),"Performance por Hora"]}),s.jsx(Ie,{children:"Atividade e performance ao longo do dia"})]}),s.jsx(ue,{children:s.jsx("div",{className:"space-y-4",children:Array.from({length:24},(N,_)=>{const k=_===(m==null?void 0:m.currentHour),C=[9,10,11,14,15,16,17,18,19,20].includes(_),O=Math.floor(Math.random()*100);return s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"w-12 text-sm text-muted-foreground",children:[_.toString().padStart(2,"0"),":00"]}),s.jsx("div",{className:"flex-1",children:s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ${k?"bg-primary":C?"bg-yellow-500":"bg-blue-500"}`,style:{width:`${O}%`}})})}),s.jsxs("div",{className:"w-12 text-sm text-right",children:[O,"%"]}),k&&s.jsx(De,{variant:"default",className:"text-xs",children:"Agora"})]},_)})})})]})]})}),s.jsxs(dt,{value:"insights",className:"space-y-6",children:[s.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:y?Array.from({length:3}).map((N,_)=>s.jsxs(ie,{className:"border-2",children:[s.jsxs(me,{children:[s.jsx(yr,{className:"h-6 w-32"}),s.jsx(yr,{className:"h-4 w-full"})]}),s.jsxs(ue,{children:[s.jsx(yr,{className:"h-4 w-full mb-2"}),s.jsx(yr,{className:"h-4 w-3/4"})]})]},_)):x==null?void 0:x.map((N,_)=>{const k=N.icon,C={success:"border-green-200 bg-green-50 dark:bg-green-950/20",warning:"border-yellow-200 bg-yellow-50 dark:bg-yellow-950/20",info:"border-blue-200 bg-blue-50 dark:bg-blue-950/20"},O={success:"text-green-600",warning:"text-yellow-600",info:"text-blue-600"};return s.jsxs(ie,{className:`border-2 hover:shadow-lg transition-all ${C[N.type]}`,children:[s.jsx(me,{children:s.jsxs(pe,{className:"flex items-center gap-2 text-lg",children:[s.jsx(k,{className:`h-5 w-5 ${O[N.type]}`}),N.title]})}),s.jsxs(ue,{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:N.description}),s.jsx(X,{variant:"outline",size:"sm",className:"w-full",children:N.action})]})]},_)})}),s.jsxs(ie,{className:"border-2 hover:border-primary/30 transition-all",children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(Pi,{className:"h-5 w-5 text-purple-600"}),"Recomendações Inteligentes"]}),s.jsx(Ie,{children:"IA analisa seus dados e sugere melhorias"})]}),s.jsx(ue,{children:s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-950/20 dark:to-purple-950/20 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(W1,{className:"h-4 w-4 text-blue-600"}),s.jsx("span",{className:"font-medium text-blue-800 dark:text-blue-200",children:"Otimização de Horários"})]}),s.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 mb-3",children:"Sua equipe tem melhor performance entre 14h-16h. Considere aumentar o número de atendentes neste período."}),s.jsxs(X,{size:"sm",variant:"outline",className:"border-blue-300 text-blue-700 hover:bg-blue-100",children:[s.jsx(Br,{className:"h-3 w-3 mr-1"}),"Configurar"]})]}),s.jsxs("div",{className:"p-4 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950/20 dark:to-emerald-950/20 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(IX,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"font-medium text-green-800 dark:text-green-200",children:"Automação Sugerida"})]}),s.jsx("p",{className:"text-sm text-green-700 dark:text-green-300 mb-3",children:"73% das suas mensagens são perguntas frequentes. Configure respostas automáticas para melhorar eficiência."}),s.jsxs(X,{size:"sm",variant:"outline",className:"border-green-300 text-green-700 hover:bg-green-100",children:[s.jsx(ma,{className:"h-3 w-3 mr-1"}),"Automatizar"]})]})]})})]})]}),s.jsx(dt,{value:"activity",className:"space-y-6",children:s.jsxs(ie,{className:"border-2 hover:border-primary/30 transition-all",children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(At,{className:"h-5 w-5 text-primary"}),"Atividade Recente"]}),s.jsx(Ie,{children:"Suas conversas e mensagens mais recentes"})]}),s.jsx(ue,{className:"pl-2",children:s.jsx("div",{className:"space-y-3",children:j?Array.from({length:6}).map((N,_)=>s.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg border",children:[s.jsx(yr,{className:"h-12 w-12 rounded-full"}),s.jsxs("div",{className:"flex-1",children:[s.jsx(yr,{className:"h-4 w-32 mb-2"}),s.jsx(yr,{className:"h-3 w-24"})]}),s.jsx(yr,{className:"h-6 w-20"})]},_)):w&&w.length>0?w.map(N=>{var _,k;return s.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg border hover:bg-accent/50 transition-colors",children:[s.jsx("div",{className:`h-12 w-12 rounded-full flex items-center justify-center ${N.status==="closed"?"bg-emerald-500/10":"bg-orange-500/10"}`,children:s.jsx(At,{className:`h-6 w-6 ${N.status==="closed"?"text-emerald-600":"text-orange-600"}`})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-semibold",children:((_=N.contacts)==null?void 0:_.full_name)||((k=N.contacts)==null?void 0:k.email)||"Sem nome"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:N.last_message_at?vc(new Date(N.last_message_at),{addSuffix:!0,locale:Zo}):"Sem mensagens"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(De,{variant:N.status==="closed"?"default":"secondary",className:N.status==="closed"?"bg-emerald-500/10 text-emerald-600":"bg-orange-500/10 text-orange-600",children:N.status==="open"?"aberto":"fechado"}),s.jsx(X,{variant:"ghost",size:"sm",children:s.jsx(bX,{className:"h-4 w-4"})})]})]},N.id)}):s.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"Nenhuma atividade recente encontrada"})})})]})})]})]})})]})}function Cp(e,[t,r]){return Math.min(r,Math.max(t,e))}function sTe(e,t){return g.useReducer((r,n)=>t[r][n]??r,e)}var tC="ScrollArea",[X9]=xn(tC),[iTe,Xa]=X9(tC),J9=g.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=g.useState(null),[u,d]=g.useState(null),[f,h]=g.useState(null),[m,v]=g.useState(null),[p,b]=g.useState(null),[x,y]=g.useState(0),[w,j]=g.useState(0),[N,_]=g.useState(!1),[k,C]=g.useState(!1),O=Ye(t,P=>c(P)),T=kf(a);return s.jsx(iTe,{scope:r,type:n,dir:T,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:v,scrollbarXEnabled:N,onScrollbarXEnabledChange:_,scrollbarY:p,onScrollbarYChange:b,scrollbarYEnabled:k,onScrollbarYEnabledChange:C,onCornerWidthChange:y,onCornerHeightChange:j,children:s.jsx(Ae.div,{dir:T,...o,ref:O,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});J9.displayName=tC;var eB="ScrollAreaViewport",tB=g.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=e,o=Xa(eB,r),l=g.useRef(null),c=Ye(t,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(Ae.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});tB.displayName=eB;var gi="ScrollAreaScrollbar",rC=g.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Xa(gi,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return g.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?s.jsx(oTe,{...n,ref:t,forceMount:r}):a.type==="scroll"?s.jsx(lTe,{...n,ref:t,forceMount:r}):a.type==="auto"?s.jsx(rB,{...n,ref:t,forceMount:r}):a.type==="always"?s.jsx(nC,{...n,ref:t}):null});rC.displayName=gi;var oTe=g.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Xa(gi,e.__scopeScrollArea),[i,o]=g.useState(!1);return g.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(Jr,{present:r||i,children:s.jsx(rB,{"data-state":i?"visible":"hidden",...n,ref:t})})}),lTe=g.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Xa(gi,e.__scopeScrollArea),i=e.orientation==="horizontal",o=T0(()=>c("SCROLL_END"),100),[l,c]=sTe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return g.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),g.useEffect(()=>{const u=a.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const m=u[d];f!==m&&(c("SCROLL"),o()),f=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,i,c,o]),s.jsx(Jr,{present:r||l!=="hidden",children:s.jsx(nC,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:be(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:be(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),rB=g.forwardRef((e,t)=>{const r=Xa(gi,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,o]=g.useState(!1),l=e.orientation==="horizontal",c=T0(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return hf(r.viewport,c),hf(r.content,c),s.jsx(Jr,{present:n||i,children:s.jsx(nC,{"data-state":i?"visible":"hidden",...a,ref:t})})}),nC=g.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=Xa(gi,e.__scopeScrollArea),i=g.useRef(null),o=g.useRef(0),[l,c]=g.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=oB(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,m){return mTe(h,o.current,l,m)}return r==="horizontal"?s.jsx(cTe,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollLeft,m=JM(h,l,a.dir);i.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=f(h,a.dir))}}):r==="vertical"?s.jsx(uTe,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollTop,m=JM(h,l);i.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=f(h))}}):null}),cTe=g.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=Xa(gi,e.__scopeScrollArea),[o,l]=g.useState(),c=g.useRef(null),u=Ye(t,c,i.onScrollbarXChange);return g.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(aB,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":P0(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),cB(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Px(o.paddingLeft),paddingEnd:Px(o.paddingRight)}})}})}),uTe=g.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=Xa(gi,e.__scopeScrollArea),[o,l]=g.useState(),c=g.useRef(null),u=Ye(t,c,i.onScrollbarYChange);return g.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(aB,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":P0(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),cB(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Px(o.paddingTop),paddingEnd:Px(o.paddingBottom)}})}})}),[dTe,nB]=X9(gi),aB=g.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,m=Xa(gi,r),[v,p]=g.useState(null),b=Ye(t,O=>p(O)),x=g.useRef(null),y=g.useRef(""),w=m.viewport,j=n.content-n.viewport,N=pr(d),_=pr(c),k=T0(f,10);function C(O){if(x.current){const T=O.clientX-x.current.left,P=O.clientY-x.current.top;u({x:T,y:P})}}return g.useEffect(()=>{const O=T=>{const P=T.target;v!=null&&v.contains(P)&&N(T,j)};return document.addEventListener("wheel",O,{passive:!1}),()=>document.removeEventListener("wheel",O,{passive:!1})},[w,v,j,N]),g.useEffect(_,[n,_]),hf(v,k),hf(m.content,k),s.jsx(dTe,{scope:r,scrollbar:v,hasThumb:a,onThumbChange:pr(i),onThumbPointerUp:pr(o),onThumbPositionChange:_,onThumbPointerDown:pr(l),children:s.jsx(Ae.div,{...h,ref:b,style:{position:"absolute",...h.style},onPointerDown:be(e.onPointerDown,O=>{O.button===0&&(O.target.setPointerCapture(O.pointerId),x.current=v.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),C(O))}),onPointerMove:be(e.onPointerMove,C),onPointerUp:be(e.onPointerUp,O=>{const T=O.target;T.hasPointerCapture(O.pointerId)&&T.releasePointerCapture(O.pointerId),document.body.style.webkitUserSelect=y.current,m.viewport&&(m.viewport.style.scrollBehavior=""),x.current=null})})})}),Ax="ScrollAreaThumb",sB=g.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=nB(Ax,e.__scopeScrollArea);return s.jsx(Jr,{present:r||a.hasThumb,children:s.jsx(fTe,{ref:t,...n})})}),fTe=g.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=Xa(Ax,r),o=nB(Ax,r),{onThumbPositionChange:l}=o,c=Ye(t,f=>o.onThumbChange(f)),u=g.useRef(void 0),d=T0(()=>{u.current&&(u.current(),u.current=void 0)},100);return g.useEffect(()=>{const f=i.viewport;if(f){const h=()=>{if(d(),!u.current){const m=pTe(f,l);u.current=m,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[i.viewport,d,l]),s.jsx(Ae.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:be(e.onPointerDownCapture,f=>{const h=f.target.getBoundingClientRect(),m=f.clientX-h.left,v=f.clientY-h.top;o.onThumbPointerDown({x:m,y:v})}),onPointerUp:be(e.onPointerUp,o.onThumbPointerUp)})});sB.displayName=Ax;var aC="ScrollAreaCorner",iB=g.forwardRef((e,t)=>{const r=Xa(aC,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(hTe,{...e,ref:t}):null});iB.displayName=aC;var hTe=g.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=Xa(aC,r),[i,o]=g.useState(0),[l,c]=g.useState(0),u=!!(i&&l);return hf(a.scrollbarX,()=>{var d;const f=((d=a.scrollbarX)==null?void 0:d.offsetHeight)||0;a.onCornerHeightChange(f),c(f)}),hf(a.scrollbarY,()=>{var d;const f=((d=a.scrollbarY)==null?void 0:d.offsetWidth)||0;a.onCornerWidthChange(f),o(f)}),u?s.jsx(Ae.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Px(e){return e?parseInt(e,10):0}function oB(e,t){const r=e/t;return isNaN(r)?0:r}function P0(e){const t=oB(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function mTe(e,t,r,n="ltr"){const a=P0(r),i=a/2,o=t||i,l=a-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return lB([c,u],f)(e)}function JM(e,t,r="ltr"){const n=P0(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],u=Cp(e,c);return lB([0,o],[0,l])(u)}function lB(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function cB(e,t){return e>0&&e<t}var pTe=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function T0(e,t){const r=pr(e),n=g.useRef(0);return g.useEffect(()=>()=>window.clearTimeout(n.current),[]),g.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function hf(e,t){const r=pr(t);jr(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var uB=J9,gTe=tB,vTe=iB;const tl=g.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(uB,{ref:n,className:ve("relative overflow-hidden",e),...r,children:[s.jsx(gTe,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(dB,{}),s.jsx(vTe,{})]}));tl.displayName=uB.displayName;const dB=g.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx(rC,{ref:n,orientation:t,className:ve("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(sB,{className:"relative flex-1 rounded-full bg-border"})}));dB.displayName=rC.displayName;function $0(e){const t=g.useRef({value:e,previous:e});return g.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var yTe=[" ","Enter","ArrowUp","ArrowDown"],xTe=[" ","Enter"],Lc="Select",[M0,R0,bTe]=Rp(Lc),[Yf]=xn(Lc,[bTe,bl]),I0=bl(),[wTe,Pl]=Yf(Lc),[jTe,NTe]=Yf(Lc),fB=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:v}=e,p=I0(t),[b,x]=g.useState(null),[y,w]=g.useState(null),[j,N]=g.useState(!1),_=kf(u),[k,C]=Ga({prop:n,defaultProp:a??!1,onChange:i,caller:Lc}),[O,T]=Ga({prop:o,defaultProp:l,onChange:c,caller:Lc}),P=g.useRef(null),S=b?v||!!b.closest("form"):!0,[M,$]=g.useState(new Set),q=Array.from(M).map(U=>U.props.value).join(";");return s.jsx(lb,{...p,children:s.jsxs(wTe,{required:m,scope:t,trigger:b,onTriggerChange:x,valueNode:y,onValueNodeChange:w,valueNodeHasChildren:j,onValueNodeHasChildrenChange:N,contentId:Xr(),value:O,onValueChange:T,open:k,onOpenChange:C,dir:_,triggerPointerDownPosRef:P,disabled:h,children:[s.jsx(M0.Provider,{scope:t,children:s.jsx(jTe,{scope:e.__scopeSelect,onNativeOptionAdd:g.useCallback(U=>{$(L=>new Set(L).add(U))},[]),onNativeOptionRemove:g.useCallback(U=>{$(L=>{const z=new Set(L);return z.delete(U),z})},[]),children:r})}),S?s.jsxs(IB,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:O,onChange:U=>T(U.target.value),disabled:h,form:v,children:[O===void 0?s.jsx("option",{value:""}):null,Array.from(M)]},q):null]})})};fB.displayName=Lc;var hB="SelectTrigger",mB=g.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=I0(r),o=Pl(hB,r),l=o.disabled||n,c=Ye(t,o.onTriggerChange),u=R0(r),d=g.useRef("touch"),[f,h,m]=zB(p=>{const b=u().filter(w=>!w.disabled),x=b.find(w=>w.value===o.value),y=LB(b,p,x);y!==void 0&&o.onValueChange(y.value)}),v=p=>{l||(o.onOpenChange(!0),m()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return s.jsx(Dp,{asChild:!0,...i,children:s.jsx(Ae.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":DB(o.value)?"":void 0,...a,ref:c,onClick:be(a.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&v(p)}),onPointerDown:be(a.onPointerDown,p=>{d.current=p.pointerType;const b=p.target;b.hasPointerCapture(p.pointerId)&&b.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(v(p),p.preventDefault())}),onKeyDown:be(a.onKeyDown,p=>{const b=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(b&&p.key===" ")&&yTe.includes(p.key)&&(v(),p.preventDefault())})})})});mB.displayName=hB;var pB="SelectValue",gB=g.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...l}=e,c=Pl(pB,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=Ye(t,c.onValueNodeChange);return jr(()=>{u(d)},[u,d]),s.jsx(Ae.span,{...l,ref:f,style:{pointerEvents:"none"},children:DB(c.value)?s.jsx(s.Fragment,{children:o}):i})});gB.displayName=pB;var _Te="SelectIcon",vB=g.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(Ae.span,{"aria-hidden":!0,...a,ref:t,children:n||"▼"})});vB.displayName=_Te;var kTe="SelectPortal",yB=e=>s.jsx(jf,{asChild:!0,...e});yB.displayName=kTe;var Fc="SelectContent",xB=g.forwardRef((e,t)=>{const r=Pl(Fc,e.__scopeSelect),[n,a]=g.useState();if(jr(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?Wc.createPortal(s.jsx(bB,{scope:e.__scopeSelect,children:s.jsx(M0.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(wB,{...e,ref:t})});xB.displayName=Fc;var os=10,[bB,Tl]=Yf(Fc),STe="SelectContentImpl",CTe=il("SelectContent.RemoveScroll"),wB=g.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:v,hideWhenDetached:p,avoidCollisions:b,...x}=e,y=Pl(Fc,r),[w,j]=g.useState(null),[N,_]=g.useState(null),k=Ye(t,V=>j(V)),[C,O]=g.useState(null),[T,P]=g.useState(null),S=R0(r),[M,$]=g.useState(!1),q=g.useRef(!1);g.useEffect(()=>{if(w)return hb(w)},[w]),db();const U=g.useCallback(V=>{const[de,...te]=S().map(ee=>ee.ref.current),[ce]=te.slice(-1),ne=document.activeElement;for(const ee of V)if(ee===ne||(ee==null||ee.scrollIntoView({block:"nearest"}),ee===de&&N&&(N.scrollTop=0),ee===ce&&N&&(N.scrollTop=N.scrollHeight),ee==null||ee.focus(),document.activeElement!==ne))return},[S,N]),L=g.useCallback(()=>U([C,w]),[U,C,w]);g.useEffect(()=>{M&&L()},[M,L]);const{onOpenChange:z,triggerPointerDownPosRef:R}=y;g.useEffect(()=>{if(w){let V={x:0,y:0};const de=ce=>{var ne,ee;V={x:Math.abs(Math.round(ce.pageX)-(((ne=R.current)==null?void 0:ne.x)??0)),y:Math.abs(Math.round(ce.pageY)-(((ee=R.current)==null?void 0:ee.y)??0))}},te=ce=>{V.x<=10&&V.y<=10?ce.preventDefault():w.contains(ce.target)||z(!1),document.removeEventListener("pointermove",de),R.current=null};return R.current!==null&&(document.addEventListener("pointermove",de),document.addEventListener("pointerup",te,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",de),document.removeEventListener("pointerup",te,{capture:!0})}}},[w,z,R]),g.useEffect(()=>{const V=()=>z(!1);return window.addEventListener("blur",V),window.addEventListener("resize",V),()=>{window.removeEventListener("blur",V),window.removeEventListener("resize",V)}},[z]);const[G,D]=zB(V=>{const de=S().filter(ne=>!ne.disabled),te=de.find(ne=>ne.ref.current===document.activeElement),ce=LB(de,V,te);ce&&setTimeout(()=>ce.ref.current.focus())}),F=g.useCallback((V,de,te)=>{const ce=!q.current&&!te;(y.value!==void 0&&y.value===de||ce)&&(O(V),ce&&(q.current=!0))},[y.value]),J=g.useCallback(()=>w==null?void 0:w.focus(),[w]),H=g.useCallback((V,de,te)=>{const ce=!q.current&&!te;(y.value!==void 0&&y.value===de||ce)&&P(V)},[y.value]),I=n==="popper"?G_:jB,oe=I===G_?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:v,hideWhenDetached:p,avoidCollisions:b}:{};return s.jsx(bB,{scope:r,content:w,viewport:N,onViewportChange:_,itemRefCallback:F,selectedItem:C,onItemLeave:J,itemTextRefCallback:H,focusSelectedItem:L,selectedItemText:T,position:n,isPositioned:M,searchRef:G,children:s.jsx(Lp,{as:CTe,allowPinchZoom:!0,children:s.jsx(zp,{asChild:!0,trapped:y.open,onMountAutoFocus:V=>{V.preventDefault()},onUnmountAutoFocus:be(a,V=>{var de;(de=y.trigger)==null||de.focus({preventScroll:!0}),V.preventDefault()}),children:s.jsx(Hc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:V=>V.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:s.jsx(I,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:V=>V.preventDefault(),...x,...oe,onPlaced:()=>$(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:be(x.onKeyDown,V=>{const de=V.ctrlKey||V.altKey||V.metaKey;if(V.key==="Tab"&&V.preventDefault(),!de&&V.key.length===1&&D(V.key),["ArrowUp","ArrowDown","Home","End"].includes(V.key)){let te=S().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);if(["ArrowUp","End"].includes(V.key)&&(te=te.slice().reverse()),["ArrowUp","ArrowDown"].includes(V.key)){const ce=V.target,ne=te.indexOf(ce);te=te.slice(ne+1)}setTimeout(()=>U(te)),V.preventDefault()}})})})})})})});wB.displayName=STe;var ETe="SelectItemAlignedPosition",jB=g.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=Pl(Fc,r),o=Tl(Fc,r),[l,c]=g.useState(null),[u,d]=g.useState(null),f=Ye(t,k=>d(k)),h=R0(r),m=g.useRef(!1),v=g.useRef(!0),{viewport:p,selectedItem:b,selectedItemText:x,focusSelectedItem:y}=o,w=g.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&p&&b&&x){const k=i.trigger.getBoundingClientRect(),C=u.getBoundingClientRect(),O=i.valueNode.getBoundingClientRect(),T=x.getBoundingClientRect();if(i.dir!=="rtl"){const ce=T.left-C.left,ne=O.left-ce,ee=k.left-ne,qe=k.width+ee,Re=Math.max(qe,C.width),ut=window.innerWidth-os,it=Cp(ne,[os,Math.max(os,ut-Re)]);l.style.minWidth=qe+"px",l.style.left=it+"px"}else{const ce=C.right-T.right,ne=window.innerWidth-O.right-ce,ee=window.innerWidth-k.right-ne,qe=k.width+ee,Re=Math.max(qe,C.width),ut=window.innerWidth-os,it=Cp(ne,[os,Math.max(os,ut-Re)]);l.style.minWidth=qe+"px",l.style.right=it+"px"}const P=h(),S=window.innerHeight-os*2,M=p.scrollHeight,$=window.getComputedStyle(u),q=parseInt($.borderTopWidth,10),U=parseInt($.paddingTop,10),L=parseInt($.borderBottomWidth,10),z=parseInt($.paddingBottom,10),R=q+U+M+z+L,G=Math.min(b.offsetHeight*5,R),D=window.getComputedStyle(p),F=parseInt(D.paddingTop,10),J=parseInt(D.paddingBottom,10),H=k.top+k.height/2-os,I=S-H,oe=b.offsetHeight/2,V=b.offsetTop+oe,de=q+U+V,te=R-de;if(de<=H){const ce=P.length>0&&b===P[P.length-1].ref.current;l.style.bottom="0px";const ne=u.clientHeight-p.offsetTop-p.offsetHeight,ee=Math.max(I,oe+(ce?J:0)+ne+L),qe=de+ee;l.style.height=qe+"px"}else{const ce=P.length>0&&b===P[0].ref.current;l.style.top="0px";const ne=Math.max(H,q+p.offsetTop+(ce?F:0)+oe)+te;l.style.height=ne+"px",p.scrollTop=de-H+p.offsetTop}l.style.margin=`${os}px 0`,l.style.minHeight=G+"px",l.style.maxHeight=S+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,i.trigger,i.valueNode,l,u,p,b,x,i.dir,n]);jr(()=>w(),[w]);const[j,N]=g.useState();jr(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const _=g.useCallback(k=>{k&&v.current===!0&&(w(),y==null||y(),v.current=!1)},[w,y]);return s.jsx(ATe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:_,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:s.jsx(Ae.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});jB.displayName=ETe;var OTe="SelectPopperPosition",G_=g.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=os,...i}=e,o=I0(r);return s.jsx(cb,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});G_.displayName=OTe;var[ATe,sC]=Yf(Fc,{}),Y_="SelectViewport",NB=g.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=Tl(Y_,r),o=sC(Y_,r),l=Ye(t,i.onViewportChange),c=g.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(M0.Slot,{scope:r,children:s.jsx(Ae.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:be(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const v=window.innerHeight-os*2,p=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),x=Math.max(p,b);if(x<v){const y=x+m,w=Math.min(v,y),j=y-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});NB.displayName=Y_;var _B="SelectGroup",[PTe,TTe]=Yf(_B),$Te=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Xr();return s.jsx(PTe,{scope:r,id:a,children:s.jsx(Ae.div,{role:"group","aria-labelledby":a,...n,ref:t})})});$Te.displayName=_B;var kB="SelectLabel",SB=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=TTe(kB,r);return s.jsx(Ae.div,{id:a.id,...n,ref:t})});SB.displayName=kB;var Tx="SelectItem",[MTe,CB]=Yf(Tx),EB=g.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,l=Pl(Tx,r),c=Tl(Tx,r),u=l.value===n,[d,f]=g.useState(i??""),[h,m]=g.useState(!1),v=Ye(t,y=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,y,n,a)}),p=Xr(),b=g.useRef("touch"),x=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(MTe,{scope:r,value:n,disabled:a,textId:p,isSelected:u,onItemTextChange:g.useCallback(y=>{f(w=>w||((y==null?void 0:y.textContent)??"").trim())},[]),children:s.jsx(M0.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:s.jsx(Ae.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:v,onFocus:be(o.onFocus,()=>m(!0)),onBlur:be(o.onBlur,()=>m(!1)),onClick:be(o.onClick,()=>{b.current!=="mouse"&&x()}),onPointerUp:be(o.onPointerUp,()=>{b.current==="mouse"&&x()}),onPointerDown:be(o.onPointerDown,y=>{b.current=y.pointerType}),onPointerMove:be(o.onPointerMove,y=>{var w;b.current=y.pointerType,a?(w=c.onItemLeave)==null||w.call(c):b.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:be(o.onPointerLeave,y=>{var w;y.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:be(o.onKeyDown,y=>{var w;((w=c.searchRef)==null?void 0:w.current)!==""&&y.key===" "||(xTe.includes(y.key)&&x(),y.key===" "&&y.preventDefault())})})})})});EB.displayName=Tx;var qh="SelectItemText",OB=g.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=Pl(qh,r),l=Tl(qh,r),c=CB(qh,r),u=NTe(qh,r),[d,f]=g.useState(null),h=Ye(t,x=>f(x),c.onItemTextChange,x=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,x,c.value,c.disabled)}),m=d==null?void 0:d.textContent,v=g.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:b}=u;return jr(()=>(p(v),()=>b(v)),[p,b,v]),s.jsxs(s.Fragment,{children:[s.jsx(Ae.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Wc.createPortal(i.children,o.valueNode):null]})});OB.displayName=qh;var AB="SelectItemIndicator",PB=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return CB(AB,r).isSelected?s.jsx(Ae.span,{"aria-hidden":!0,...n,ref:t}):null});PB.displayName=AB;var Q_="SelectScrollUpButton",TB=g.forwardRef((e,t)=>{const r=Tl(Q_,e.__scopeSelect),n=sC(Q_,e.__scopeSelect),[a,i]=g.useState(!1),o=Ye(t,n.onScrollButtonChange);return jr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(MB,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});TB.displayName=Q_;var Z_="SelectScrollDownButton",$B=g.forwardRef((e,t)=>{const r=Tl(Z_,e.__scopeSelect),n=sC(Z_,e.__scopeSelect),[a,i]=g.useState(!1),o=Ye(t,n.onScrollButtonChange);return jr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(MB,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});$B.displayName=Z_;var MB=g.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=Tl("SelectScrollButton",r),o=g.useRef(null),l=R0(r),c=g.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return g.useEffect(()=>()=>c(),[c]),jr(()=>{var u;const d=l().find(f=>f.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),s.jsx(Ae.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:be(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:be(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:be(a.onPointerLeave,()=>{c()})})}),RTe="SelectSeparator",RB=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(Ae.div,{"aria-hidden":!0,...n,ref:t})});RB.displayName=RTe;var X_="SelectArrow",ITe=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=I0(r),i=Pl(X_,r),o=Tl(X_,r);return i.open&&o.position==="popper"?s.jsx(ub,{...a,...n,ref:t}):null});ITe.displayName=X_;var DTe="SelectBubbleInput",IB=g.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=g.useRef(null),i=Ye(n,a),o=$0(t);return g.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&u){const d=new Event("change",{bubbles:!0});u.call(l,t),l.dispatchEvent(d)}},[o,t]),s.jsx(Ae.select,{...r,style:{...AD,...r.style},ref:i,defaultValue:t})});IB.displayName=DTe;function DB(e){return e===""||e===void 0}function zB(e){const t=pr(e),r=g.useRef(""),n=g.useRef(0),a=g.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=g.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function LB(e,t,r){const n=t.length>1&&Array.from(t).every(l=>l===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let i=zTe(e,Math.max(a,0));n.length===1&&(i=i.filter(l=>l!==r));const o=i.find(l=>l.textValue.toLowerCase().startsWith(n.toLowerCase()));return o!==r?o:void 0}function zTe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var LTe=fB,FB=mB,FTe=gB,BTe=vB,qTe=yB,BB=xB,UTe=NB,qB=SB,UB=EB,VTe=OB,WTe=PB,VB=TB,WB=$B,KB=RB;const ot=LTe,lt=FTe,nt=g.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(FB,{ref:n,className:ve("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(BTe,{asChild:!0,children:s.jsx(XD,{className:"h-4 w-4 opacity-50"})})]}));nt.displayName=FB.displayName;const HB=g.forwardRef(({className:e,...t},r)=>s.jsx(VB,{ref:r,className:ve("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(vX,{className:"h-4 w-4"})}));HB.displayName=VB.displayName;const GB=g.forwardRef(({className:e,...t},r)=>s.jsx(WB,{ref:r,className:ve("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(XD,{className:"h-4 w-4"})}));GB.displayName=WB.displayName;const at=g.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(qTe,{children:s.jsxs(BB,{ref:a,className:ve("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(HB,{}),s.jsx(UTe,{className:ve("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(GB,{})]})}));at.displayName=BB.displayName;const KTe=g.forwardRef(({className:e,...t},r)=>s.jsx(qB,{ref:r,className:ve("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));KTe.displayName=qB.displayName;const re=g.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(UB,{ref:n,className:ve("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(WTe,{children:s.jsx(Zi,{className:"h-4 w-4"})})}),s.jsx(VTe,{children:t})]}));re.displayName=UB.displayName;const HTe=g.forwardRef(({className:e,...t},r)=>s.jsx(KB,{ref:r,className:ve("-mx-1 my-1 h-px bg-muted",e),...t}));HTe.displayName=KB.displayName;var GTe="Label",YB=g.forwardRef((e,t)=>s.jsx(Ae.label,{...e,ref:t,onMouseDown:r=>{var n;r.target.closest("button, input, select, textarea")||((n=e.onMouseDown)==null||n.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));YB.displayName=GTe;var QB=YB;const YTe=Zc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),fe=g.forwardRef(({className:e,...t},r)=>s.jsx(QB,{ref:r,className:ve(YTe(),e),...t}));fe.displayName=QB.displayName;const iC=iY,oC=oY,QTe=g.forwardRef(({className:e,inset:t,children:r,...n},a)=>s.jsxs(X3,{ref:a,className:ve("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...n,children:[r,s.jsx(gX,{className:"ml-auto h-4 w-4"})]}));QTe.displayName=X3.displayName;const ZTe=g.forwardRef(({className:e,...t},r)=>s.jsx(J3,{ref:r,className:ve("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));ZTe.displayName=J3.displayName;const D0=g.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(lY,{children:s.jsx(W3,{ref:n,sideOffset:t,className:ve("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));D0.displayName=W3.displayName;const ps=g.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(H3,{ref:n,className:ve("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...r}));ps.displayName=H3.displayName;const XTe=g.forwardRef(({className:e,children:t,checked:r,...n},a)=>s.jsxs(G3,{ref:a,className:ve("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:r,...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Q3,{children:s.jsx(Zi,{className:"h-4 w-4"})})}),t]}));XTe.displayName=G3.displayName;const JTe=g.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(Y3,{ref:n,className:ve("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Q3,{children:s.jsx(xX,{className:"h-2 w-2 fill-current"})})}),t]}));JTe.displayName=Y3.displayName;const e$e=g.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(K3,{ref:n,className:ve("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));e$e.displayName=K3.displayName;const t$e=g.forwardRef(({className:e,...t},r)=>s.jsx(Z3,{ref:r,className:ve("-mx-1 my-1 h-px bg-muted",e),...t}));t$e.displayName=Z3.displayName;const Gn=g.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:ve("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Gn.displayName="Textarea";function r$e(){var e,t,r,n,a,i,o,l,c,u;const{currentOrg:d}=bn(),[f,h]=g.useState([{id:"ai-1",name:"Assistente de Vendas",type:"vendas",status:"ativo"},{id:"ai-2",name:"Suporte Técnico",type:"suporte",status:"ativo"},{id:"ai-3",name:"Atendimento Geral",type:"atendimento",status:"ativo"}]),[m,v]=g.useState(""),[p,b]=g.useState(!1),[x,y]=g.useState(null),[w,j]=g.useState(!1),[N,_]=g.useState(""),[k,C]=g.useState(!1),[O,T]=g.useState(""),[P,S]=g.useState(!1),[M,$]=g.useState(""),[q,U]=g.useState(""),[L,z]=g.useState(""),[R,G]=g.useState(""),[D,F]=g.useState(""),[J,H]=g.useState(!1),[I,oe]=g.useState("all"),[V,de]=g.useState("all"),[te,ce]=g.useState("recent"),[ne,ee]=g.useState(new Set),[qe,Re]=g.useState(new Set),[ut,it]=g.useState(new Set),[Qe,Z]=g.useState(!1),[B,Y]=g.useState(!1),[Q,xe]=g.useState([]),[ye,we]=g.useState({}),[W,se]=g.useState(!1),[Se,mt]=g.useState(!1),[Vt,tr]=g.useState([]),[wn,dr]=g.useState(!1),[Wr,Tn]=g.useState(!1),[$s,ra]=g.useState(!1),[Nt,Zf]=g.useState(null),[Wt,Tr]=g.useState(!1),[nu,vi]=g.useState(""),[tn,au]=g.useState({}),[Ve,vt]=g.useState(null),[Rt,$n]=g.useState({}),[ln,es]=g.useState(new Set),[$r,Mn]=g.useState([{id:"agent-1",name:"Ana Silva",email:"ana@empresa.com",avatar:"https://ui-avatars.com/api/?name=Ana+Silva&background=random",status:"online",workload:3,maxWorkload:10,skills:["vendas","suporte"],lastActive:new Date().toISOString()},{id:"agent-2",name:"Carlos Santos",email:"carlos@empresa.com",avatar:"https://ui-avatars.com/api/?name=Carlos+Santos&background=random",status:"busy",workload:7,maxWorkload:10,skills:["tecnico","suporte"],lastActive:new Date(Date.now()-3e5).toISOString()},{id:"agent-3",name:"Maria Oliveira",email:"maria@empresa.com",avatar:"https://ui-avatars.com/api/?name=Maria+Oliveira&background=random",status:"away",workload:2,maxWorkload:10,skills:["vendas","marketing"],lastActive:new Date(Date.now()-9e5).toISOString()},{id:"agent-4",name:"João Costa",email:"joao@empresa.com",avatar:"https://ui-avatars.com/api/?name=Joao+Costa&background=random",status:"offline",workload:0,maxWorkload:10,skills:["tecnico","vendas"],lastActive:new Date(Date.now()-36e5).toISOString()}]),[yi,p4e]=g.useState(null),[Hq,jC]=g.useState(!1),[Gq,NC]=g.useState({"mock-conv-1":"agent-1","mock-conv-2":"agent-2","mock-conv-3":"agent-1"}),{data:su=[],isLoading:_C,refetch:kC}=bt({queryKey:["inbox-conversations",d==null?void 0:d.id],queryFn:async()=>d?[{id:"mock-conv-1",contact_id:"mock-contact-1",status:"open",last_message_at:new Date().toISOString(),unreadCount:2,channel_type:"instagram",priority:"high",tags:["vip","marketing"],assigned_agent:"agent-1",contacts:{full_name:"João Silva",email:"joao@exemplo.com",phone_e164:"+5511999999999",external_id:"instagram_123456"}},{id:"mock-conv-2",contact_id:"mock-contact-2",status:"open",last_message_at:new Date(Date.now()-36e5).toISOString(),unreadCount:1,channel_type:"whatsapp",priority:"medium",tags:["suporte"],assigned_agent:"agent-2",contacts:{full_name:"Maria Santos",email:"maria@exemplo.com",phone_e164:"+5511888888888",external_id:"whatsapp_789012"}},{id:"mock-conv-3",contact_id:"mock-contact-3",status:"resolved",last_message_at:new Date(Date.now()-72e5).toISOString(),unreadCount:0,channel_type:"instagram",priority:"low",tags:["finalizado"],assigned_agent:"agent-1",contacts:{full_name:"Pedro Costa",email:"pedro@exemplo.com",phone_e164:"+5511777777777",external_id:"instagram_345678"}},{id:"mock-conv-4",contact_id:"mock-contact-4",status:"open",last_message_at:new Date(Date.now()-18e5).toISOString(),unreadCount:0,channel_type:"whatsapp",priority:"high",tags:["urgente","venda"],assigned_agent:null,contacts:{full_name:"Ana Oliveira",email:"ana@exemplo.com",phone_e164:"+5511666666666",external_id:"whatsapp_456789"}},{id:"mock-conv-5",contact_id:"mock-contact-5",status:"assigned",last_message_at:new Date(Date.now()-9e5).toISOString(),unreadCount:3,channel_type:"instagram",priority:"medium",tags:["dúvida"],contacts:{full_name:"Carlos Mendes",email:"carlos@exemplo.com",phone_e164:"+5511555555555",external_id:"instagram_567890"}}]:[],enabled:!!d}),{data:fg=[],isLoading:Yq,refetch:hg}=bt({queryKey:["conversation-messages",x==null?void 0:x.id],queryFn:async()=>x!=null&&x.id?{"mock-conv-1":[{id:"msg-1",conversation_id:"mock-conv-1",direction:"inbound",content:"Olá! Gostaria de saber mais sobre os serviços de vocês.",channel_type:"instagram",status:"delivered",created_at:new Date(Date.now()-3e5).toISOString(),metadata:{message_type:"text"}},{id:"msg-2",conversation_id:"mock-conv-1",direction:"outbound",content:"Olá João! Claro, ficarei feliz em ajudar. Que tipo de serviço você está procurando?",channel_type:"instagram",status:"delivered",created_at:new Date(Date.now()-24e4).toISOString(),metadata:{message_type:"text"}},{id:"msg-3",conversation_id:"mock-conv-1",direction:"inbound",content:"Preciso de ajuda com marketing digital para minha empresa.",channel_type:"instagram",status:"delivered",created_at:new Date(Date.now()-18e4).toISOString(),metadata:{message_type:"text"}}],"mock-conv-2":[{id:"msg-4",conversation_id:"mock-conv-2",direction:"inbound",content:"Bom dia! Vocês atendem por WhatsApp também?",channel_type:"whatsapp",status:"delivered",created_at:new Date(Date.now()-36e5).toISOString(),metadata:{message_type:"text"}},{id:"msg-5",conversation_id:"mock-conv-2",direction:"outbound",content:"Sim Maria! Atendemos por WhatsApp, Instagram e outros canais. Como posso ajudar?",channel_type:"whatsapp",status:"delivered",created_at:new Date(Date.now()-354e4).toISOString(),metadata:{message_type:"text"}},{id:"msg-6",conversation_id:"mock-conv-2",direction:"inbound",content:"Perfeito! Enviei um documento com minha dúvida.",channel_type:"whatsapp",status:"delivered",created_at:new Date(Date.now()-348e4).toISOString(),metadata:{message_type:"document"}}],"mock-conv-3":[{id:"msg-7",conversation_id:"mock-conv-3",direction:"inbound",content:"Obrigado pelo atendimento! Foi muito útil.",channel_type:"instagram",status:"delivered",created_at:new Date(Date.now()-72e5).toISOString(),metadata:{message_type:"text"}},{id:"msg-8",conversation_id:"mock-conv-3",direction:"outbound",content:"De nada Pedro! Foi um prazer ajudar. Qualquer dúvida, estamos aqui! 😊",channel_type:"instagram",status:"delivered",created_at:new Date(Date.now()-714e4).toISOString(),metadata:{message_type:"text"}},{id:"msg-audio-1",conversation_id:"mock-conv-3",direction:"outbound",content:"",channel_type:"whatsapp",status:"delivered",created_at:new Date(Date.now()-18e5).toISOString(),metadata:{message_type:"audio"}},{id:"msg-video-1",conversation_id:"mock-conv-3",direction:"inbound",content:"",channel_type:"instagram",status:"delivered",created_at:new Date(Date.now()-9e5).toISOString(),metadata:{message_type:"video"}}]}[x.id]||[]:[],enabled:!!(x!=null&&x.id)}),{data:SC=[],isLoading:Qq}=bt({queryKey:["contacts",M,d==null?void 0:d.id],queryFn:async()=>{if(!d)return[];let A=le.from("contacts").select("id, full_name, email, phone_e164").eq("org_id",d.id).order("full_name",{ascending:!0}).limit(10);M&&(A=A.or(`full_name.ilike.%${M}%,email.ilike.%${M}%`));const{data:ge,error:Ce}=await A;if(Ce)throw Ce;return ge},enabled:P}),Zq=A=>{ee(ge=>{const Ce=new Set(ge);return Ce.has(A)?Ce.delete(A):Ce.add(A),Ce})},Xq=A=>{Re(ge=>{const Ce=new Set(ge);return Ce.has(A)?Ce.delete(A):Ce.add(A),Ce})},Jq=A=>{ae.success("Conversa arquivada!")},eU=A=>{ae.success("Conversa excluída!")},CC=A=>{navigator.clipboard.writeText(A),ae.success("Mensagem copiada!")},EC=A=>{ae.success("Funcionalidade de resposta em desenvolvimento!")},OC=A=>{ae.success("Funcionalidade de encaminhamento em desenvolvimento!")},tU=A=>{switch(A){case"instagram":return"📷";case"whatsapp":return"📱";case"facebook":return"📘";default:return"💬"}},AC=A=>{if(!A)return;const ge=Array.from(A).filter(Ce=>Ce.size>10485760?(ae.error(`Arquivo ${Ce.name} é muito grande (máximo 10MB)`),!1):!0);ge.length>0&&(xe(Ce=>[...Ce,...ge]),se(!0))},rU=A=>{A.preventDefault(),mt(!0)},nU=A=>{A.preventDefault(),mt(!1)},aU=A=>{A.preventDefault(),mt(!1),AC(A.dataTransfer.files)},sU=A=>{xe(ge=>ge.filter((Ce,Ee)=>Ee!==A)),Q.length===1&&se(!1)},PC=A=>{switch(A.type.split("/")[0]){case"image":return"image";case"audio":return"audio";case"video":return"video";default:return A.type.includes("pdf")||A.type.includes("document")||A.type.includes("text")?"document":"file"}},V0=A=>{switch(PC(A)){case"image":return"🖼️";case"audio":return"🎵";case"video":return"🎬";case"document":return"📄";default:return"📎"}},iU=A=>{if(A===0)return"0 Bytes";const ge=1024,Ce=["Bytes","KB","MB","GB"],Ee=Math.floor(Math.log(A)/Math.log(ge));return parseFloat((A/Math.pow(ge,Ee)).toFixed(2))+" "+Ce[Ee]},oU=async A=>{const ge=Math.random().toString(36).substr(2,9);for(let Ee=0;Ee<=100;Ee+=10)await new Promise(rt=>setTimeout(rt,100)),we(rt=>({...rt,[ge]:Ee}));const Ce=URL.createObjectURL(A);return xe(Ee=>Ee.filter(rt=>rt!==A)),delete ye[ge],{url:Ce,type:PC(A),name:A.name,size:A.size}},lU=async()=>{if(!(!x||Q.length===0)){C(!0);try{const A=Q.map(rt=>oU(rt)),ge=await Promise.all(A),Ce=ge.map(rt=>`${V0({name:rt.name,type:rt.type})} ${rt.name}`).join(`
`),{error:Ee}=await le.from("messages").insert({conversation_id:x.id,org_id:x.contact_id,direction:"outbound",body:Ce,metadata:{message_type:"files",files:ge}});if(Ee)throw Ee;xe([]),se(!1),hg(),ae.success(`${ge.length} arquivo(s) enviado(s) com sucesso!`)}catch(A){console.error("Error:",A),ae.error("Erro ao enviar arquivos")}finally{C(!1)}}},cU=async()=>{if(!x||fg.length===0){ae.error("Selecione uma conversa com mensagens para gerar sugestões");return}Tn(!0);try{const A=fg.slice(-3),ge=A[A.length-1];await new Promise(Ee=>setTimeout(Ee,1500));let Ce=[];if((ge==null?void 0:ge.direction)==="inbound"){const Ee=ge.content.toLowerCase();Ee.includes("preço")||Ee.includes("valor")||Ee.includes("custo")?Ce=["Olá! Posso ajudá-lo com informações sobre nossos preços. Qual produto ou serviço você tem interesse?","Temos diferentes planos disponíveis. Gostaria de conhecer nossas opções?","Posso enviar nossa tabela de preços atualizada. Qual seu e-mail?"]:Ee.includes("horário")||Ee.includes("funcionamento")||Ee.includes("aberto")?Ce=["Nosso horário de funcionamento é de segunda a sexta, das 8h às 18h.","Estamos abertos de segunda a sexta das 8h às 18h. Como posso ajudá-lo?","Funcionamos de segunda a sexta, das 8h às 18h. Precisa de algo específico?"]:Ee.includes("contato")||Ee.includes("telefone")||Ee.includes("endereço")?Ce=["Posso passar nossos contatos. Telefone: (11) 99999-9999 e e-mail: contato@empresa.com","Nosso telefone é (11) 99999-9999. Prefere falar agora?","Nosso endereço é Rua Exemplo, 123. Posso enviar no WhatsApp!"]:Ee.includes("produto")||Ee.includes("serviço")?Ce=["Temos uma variedade de produtos/serviços. Qual área você tem interesse?","Posso apresentar nossos principais produtos. O que você busca?","Temos soluções personalizadas. Me conte mais sobre sua necessidade!"]:Ce=["Olá! Como posso ajudá-lo hoje?","Obrigado pelo contato! Em que posso ser útil?","Olá! Temos soluções que podem te interessar. Vamos conversar?"]}else Ce=["Posso ajudar com mais alguma coisa?","Tem alguma outra dúvida?","Fico à disposição para mais informações!"];tr(Ce),dr(!0)}catch(A){console.error("Error generating AI suggestions:",A),ae.error("Erro ao gerar sugestões da IA")}finally{Tn(!1)}},uU=A=>{_(A),dr(!1)},TC=A=>{vi(A),Tr(!0)},dU=()=>{Tr(!1),vi("")},Xf=(A,ge)=>{{const Ce=["https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=300&h=200&fit=crop","https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=300&h=200&fit=crop","https://images.unsplash.com/photo-1494790108755-2616b612b786?w=300&h=200&fit=crop","https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=300&h=200&fit=crop","https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=300&h=200&fit=crop"];return Ce[Math.abs(A.split("").reduce((Ee,rt)=>Ee+rt.charCodeAt(0),0))%Ce.length]}},fU=(A,ge)=>"https://www.soundjay.com/misc/sounds/bell-ringing-05.wav",$C=async A=>{if(!tn[A]){const ge=fU();au(Ce=>({...Ce,[A]:ge}))}if(Ve&&Ve!==A){const ge=document.getElementById(`audio-${Ve}`);ge&&(ge.pause(),ge.currentTime=0)}vt(A),setTimeout(()=>{const ge=document.getElementById(`audio-${A}`);ge&&ge.play().catch(Ce=>{console.error("Erro ao reproduzir áudio:",Ce),ae.error("Erro ao reproduzir áudio")})},100)},MC=A=>{const ge=document.getElementById(`audio-${A}`);ge&&ge.pause(),vt(null)},RC=A=>{vt(null),$n(ge=>({...ge,[A]:0}))},IC=(A,ge,Ce)=>{const Ee=ge/Ce*100;$n(rt=>({...rt,[A]:Ee}))},DC=async(A,ge,Ce)=>{es(Ee=>new Set(Ee).add(Ce));try{await new Promise(rt=>setTimeout(rt,1e3));const Ee=document.createElement("a");Ee.href=A,Ee.download=ge,Ee.target="_blank",document.body.appendChild(Ee),Ee.click(),document.body.removeChild(Ee),ae.success(`Download iniciado: ${ge}`)}catch(Ee){console.error("Erro ao baixar arquivo:",Ee),ae.error("Erro ao baixar arquivo")}finally{es(Ee=>{const rt=new Set(Ee);return rt.delete(Ce),rt})}},mg=(A,ge,Ce)=>({document:"https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf",video:"https://sample-videos.com/zip/10/mp4/SampleVideo_1280x720_1mb.mp4",audio:"https://www.soundjay.com/misc/sounds/bell-ringing-05.wav",image:Xf(A)||"/placeholder.svg"})[ge]||"/placeholder.svg",iu=A=>{var ge;return((ge=A.split(".").pop())==null?void 0:ge.toLowerCase())||""},zC=(A,ge)=>A==="image"?"🖼️":A==="audio"?"🎵":A==="video"?"🎥":A==="document"?"📄":"📎",LC=(A,ge)=>{var Ce;NC(Ee=>({...Ee,[A]:ge})),Mn(Ee=>Ee.map(rt=>rt.id===ge?{...rt,workload:Math.min(rt.workload+1,rt.maxWorkload)}:rt)),ae.success(`Conversa atribuída para ${(Ce=$r.find(Ee=>Ee.id===ge))==null?void 0:Ce.name}`)},hU=A=>{const ge=Gq[A];ge&&(NC(Ce=>{const Ee={...Ce};return delete Ee[A],Ee}),Mn(Ce=>Ce.map(Ee=>Ee.id===ge?{...Ee,workload:Math.max(Ee.workload-1,0)}:Ee)),ae.success("Conversa desatribuída"))},mU=()=>$r.filter(A=>A.status==="online"&&A.workload<A.maxWorkload),FC=A=>$r.find(ge=>ge.id===A),W0=A=>{switch(A){case"online":return"bg-green-500";case"busy":return"bg-yellow-500";case"away":return"bg-orange-500";case"offline":return"bg-gray-400";default:return"bg-gray-400"}},pU=A=>{switch(A){case"online":return"Online";case"busy":return"Ocupado";case"away":return"Ausente";case"offline":return"Offline";default:return"Desconhecido"}},BC=A=>{const ge=mU();if(ge.length>0){const Ce=ge.reduce((Ee,rt)=>Ee.workload<rt.workload?Ee:rt);LC(A,Ce.id)}else ae.error("Nenhum atendente disponível no momento")},gU=async()=>{var A,ge,Ce,Ee,rt;if(x){ra(!0);try{await new Promise(Nr=>setTimeout(Nr,800));const Ea={id:x.contact_id,full_name:((A=x.contacts)==null?void 0:A.full_name)||"Contato",email:((ge=x.contacts)==null?void 0:ge.email)||"email@exemplo.com",phone:((Ce=x.contacts)==null?void 0:Ce.phone_e164)||"+5511999999999",avatar:`https://ui-avatars.com/api/?name=${encodeURIComponent(((Ee=x.contacts)==null?void 0:Ee.full_name)||"Contato")}&background=random`,external_id:((rt=x.contacts)==null?void 0:rt.external_id)||"instagram_123456",tags:x.tags||[],status:x.status,priority:x.priority,channel_type:x.channel_type,first_contact:"2024-01-15T10:30:00Z",last_activity:x.last_message_at,total_messages:Math.floor(Math.random()*100)+10,response_rate:Math.floor(Math.random()*40)+60,avg_response_time:Math.floor(Math.random()*60)+5,notes:["Cliente interessado em produtos premium","Prefere ser contatado no período da tarde","Possível lead qualificado para vendas"],activities:[{type:"message",description:"Enviou mensagem sobre preços",date:"2024-01-20T14:30:00Z"},{type:"call",description:"Ligação telefônica realizada",date:"2024-01-18T16:45:00Z"},{type:"email",description:"E-mail enviado com catálogo",date:"2024-01-16T09:15:00Z"}]};Zf(Ea)}catch(Ea){console.error("Error loading contact profile:",Ea),ae.error("Erro ao carregar perfil do contato")}}},qC=su.filter(A=>{var ge,Ce,Ee,rt;return!(I!=="all"&&A.status!==I||V!=="all"&&A.channel_type!==V||I==="archived"&&A.status!=="archived"||I!=="archived"&&I!=="all"&&A.status==="archived"||O&&!((Ce=(ge=A.contacts)==null?void 0:ge.full_name)!=null&&Ce.toLowerCase().includes(O.toLowerCase())||(rt=(Ee=A.contacts)==null?void 0:Ee.email)!=null&&rt.toLowerCase().includes(O.toLowerCase())))}).sort((A,ge)=>{switch(te){case"recent":return new Date(ge.last_message_at).getTime()-new Date(A.last_message_at).getTime();case"unread":return(ge.unreadCount||0)-(A.unreadCount||0);case"priority":const Ce={high:3,medium:2,low:1};return(Ce[ge.priority]||0)-(Ce[A.priority]||0);default:return 0}});g.useEffect(()=>{vU()},[]),g.useEffect(()=>{su.length>0&&!x&&y(su[0])},[su]);const vU=async()=>{try{const{data:A,error:ge}=await le.from("ai_agents").select("id, name, type, status").eq("status","ativo").order("name");if(ge)throw ge;h(A||[])}catch(A){console.error("Error loading agents:",A)}},yU=A=>{y(A),j(!1)},xU=async()=>{if(!m||!x){ae.error("Selecione um agente");return}b(!0);try{const{error:A}=await le.from("agent_conversations").insert({agent_id:m,contact_id:x.contact_id,status:"active"});if(A)throw A;j(!0),ae.success("Conversa transferida para o agente de IA!");const ge=$r.find(Ce=>Ce.id===m);ge&&(await le.from("messages").insert({conversation_id:x.id,org_id:x.contact_id,direction:"outbound",body:`Olá! Sou ${ge.name}, agente de IA. Como posso ajudá-lo?`}),hg())}catch(A){console.error("Error:",A),ae.error("Erro ao transferir conversa")}finally{b(!1)}},UC=async()=>{if(!(!N.trim()||!x)){C(!0);try{const{error:A}=await le.from("messages").insert({conversation_id:x.id,org_id:x.contact_id,direction:"outbound",body:N});if(A)throw A;if(_(""),hg(),ae.success("Mensagem enviada!"),w&&m){const{data:ge,error:Ce}=await le.functions.invoke("ai-agent-chat",{body:{agentId:m,message:N,conversationId:x.id}});!Ce&&ge!=null&&ge.response&&(await le.from("messages").insert({conversation_id:x.id,org_id:x.contact_id,direction:"inbound",body:ge.response}),hg())}}catch(A){console.error("Error:",A),ae.error("Erro ao enviar mensagem")}finally{C(!1)}}},bU=async()=>{H(!0);try{const{data:{user:A}}=await le.auth.getUser();if(!A){ae.error("Usuário não autenticado");return}let ge=D;if(!d){ae.error("Nenhuma organização selecionada");return}if(!ge&&(q||L||R)){const{data:rt,error:Ea}=await le.from("contacts").insert({org_id:d.id,full_name:q||null,email:L||null,phone_e164:R||null}).select().single();if(Ea)throw Ea;ge=rt.id}if(!ge){ae.error("Selecione ou crie um contato");return}const{data:Ce,error:Ee}=await le.from("conversations").insert({org_id:d.id,contact_id:ge,status:"open"}).select(`
          id,
          contact_id,
          status,
          last_message_at,
          contacts (
            full_name,
            email
          )
        `).single();if(Ee)throw Ee;ae.success("Nova conversa criada!"),S(!1),F(""),U(""),z(""),G(""),$(""),kC(),y(Ce)}catch(A){console.error("Error creating conversation:",A),ae.error("Erro ao criar conversa")}finally{H(!1)}};return s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:s.jsx("div",{className:"flex h-16 items-center px-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(At,{className:"h-5 w-5 text-muted-foreground"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Sistema"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"/"}),s.jsx("span",{className:"text-sm font-medium",children:"Inbox"})]})})}),s.jsx("div",{className:"flex-1 overflow-auto",children:s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Inbox"}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("p",{className:"text-muted-foreground",children:"Gerencie suas conversas e mensagens"}),s.jsxs(De,{variant:"outline",className:"text-xs",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse"}),"Tempo real"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(X,{variant:"outline",size:"sm",onClick:()=>jC(!0),children:[s.jsx(ir,{className:"h-4 w-4 mr-2"}),"Atendentes"]}),s.jsxs(X,{variant:"outline",size:"sm",onClick:()=>kC(),children:[s.jsx(Xn,{className:"h-4 w-4 mr-2"}),"Atualizar"]}),s.jsxs(X,{onClick:()=>S(!0),children:[s.jsx(wr,{className:"mr-2 h-4 w-4"}),"Nova Mensagem"]})]})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[s.jsxs(ie,{className:"relative overflow-hidden border-2 hover:border-primary/50 transition-all duration-300 hover:shadow-lg group",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-blue-500/5 to-transparent rounded-full -mr-16 -mt-16 group-hover:scale-110 transition-transform"}),s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium text-muted-foreground",children:"Total de Conversas"}),s.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-500/10 flex items-center justify-center group-hover:bg-blue-500/20 transition-colors",children:s.jsx(At,{className:"h-5 w-5 text-blue-600"})})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-3xl font-bold tracking-tight",children:su.length}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Conversas ativas"})]})]}),s.jsxs(ie,{className:"relative overflow-hidden border-2 hover:border-primary/50 transition-all duration-300 hover:shadow-lg group",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-red-500/5 to-transparent rounded-full -mr-16 -mt-16 group-hover:scale-110 transition-transform"}),s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium text-muted-foreground",children:"Não Lidas"}),s.jsx("div",{className:"h-10 w-10 rounded-full bg-red-500/10 flex items-center justify-center group-hover:bg-red-500/20 transition-colors",children:s.jsx(Od,{className:"h-5 w-5 text-red-600"})})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-3xl font-bold tracking-tight",children:su.reduce((A,ge)=>A+(ge.unreadCount||0),0)}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Mensagens pendentes"})]})]}),s.jsxs(ie,{className:"relative overflow-hidden border-2 hover:border-primary/50 transition-all duration-300 hover:shadow-lg group",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-green-500/5 to-transparent rounded-full -mr-16 -mt-16 group-hover:scale-110 transition-transform"}),s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium text-muted-foreground",children:"Atendentes Online"}),s.jsx("div",{className:"h-10 w-10 rounded-full bg-green-500/10 flex items-center justify-center group-hover:bg-green-500/20 transition-colors",children:s.jsx(ir,{className:"h-5 w-5 text-green-600"})})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-3xl font-bold tracking-tight",children:$r.filter(A=>A.status==="online").length}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Disponíveis agora"})]})]}),s.jsxs(ie,{className:"relative overflow-hidden border-2 hover:border-primary/50 transition-all duration-300 hover:shadow-lg group",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-purple-500/5 to-transparent rounded-full -mr-16 -mt-16 group-hover:scale-110 transition-transform"}),s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium text-muted-foreground",children:"Taxa de Resposta"}),s.jsx("div",{className:"h-10 w-10 rounded-full bg-purple-500/10 flex items-center justify-center group-hover:bg-purple-500/20 transition-colors",children:s.jsx(ks,{className:"h-5 w-5 text-purple-600"})})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-3xl font-bold tracking-tight",children:"85%"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Conversas respondidas"})]})]})]}),s.jsxs("div",{className:"grid gap-6 lg:grid-cols-3 h-[calc(100vh-200px)]",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsxs(ie,{className:"border-2 hover:border-primary/30 transition-all shadow-lg h-full flex flex-col",children:[s.jsxs(me,{className:"flex-shrink-0",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(At,{className:"h-5 w-5 text-primary"}),"Conversas ",_C&&s.jsx(gt,{className:"inline h-4 w-4 animate-spin ml-2"})]}),s.jsx(Ie,{className:"mt-1",children:"Gerencie suas conversas ativas"})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("div",{className:"relative",children:[s.jsx(Ba,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Be,{placeholder:"Buscar...",className:"pl-9 w-48",value:O,onChange:A=>T(A.target.value)})]})})]}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsxs(ot,{value:I,onValueChange:oe,children:[s.jsx(nt,{className:"w-28",children:s.jsx(lt,{placeholder:"Status"})}),s.jsxs(at,{children:[s.jsx(re,{value:"all",children:"Todas"}),s.jsx(re,{value:"open",children:"Abertas"}),s.jsx(re,{value:"resolved",children:"Resolvidas"}),s.jsx(re,{value:"closed",children:"Fechadas"})]})]}),s.jsxs(ot,{value:V,onValueChange:de,children:[s.jsx(nt,{className:"w-28",children:s.jsx(lt,{placeholder:"Canal"})}),s.jsxs(at,{children:[s.jsx(re,{value:"all",children:"Todos"}),s.jsx(re,{value:"whatsapp",children:"WhatsApp"}),s.jsx(re,{value:"instagram",children:"Instagram"}),s.jsx(re,{value:"facebook",children:"Facebook"})]})]}),s.jsxs(ot,{value:te,onValueChange:ce,children:[s.jsx(nt,{className:"w-28",children:s.jsx(lt,{placeholder:"Ordenar"})}),s.jsxs(at,{children:[s.jsx(re,{value:"recent",children:"Recentes"}),s.jsx(re,{value:"unread",children:"Não lidas"}),s.jsx(re,{value:"priority",children:"Prioridade"})]})]})]})]}),s.jsx(ue,{className:"p-0 flex-1 overflow-hidden",children:s.jsx(tl,{className:"h-full",children:s.jsx("div",{className:"space-y-1 p-4",children:_C?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(gt,{className:"h-8 w-8 animate-spin text-primary"})}):qC.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(At,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"Nenhuma conversa encontrada"})]}):qC.map(A=>{var ge,Ce,Ee,rt,Ea,Nr,Rn,VC;return s.jsxs("div",{onClick:()=>yU(A),className:`relative flex items-start gap-3 p-3 rounded-lg border hover:bg-accent/50 cursor-pointer transition-all group ${(x==null?void 0:x.id)===A.id?"bg-accent border-primary shadow-md":""}`,children:[A.priority==="high"&&s.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-red-500 rounded-l-lg"}),s.jsx("div",{className:"h-8 w-8 rounded-full bg-primary flex items-center justify-center text-white font-semibold text-sm",children:(((ge=A.contacts)==null?void 0:ge.full_name)||((Ce=A.contacts)==null?void 0:Ce.email)||"?").charAt(0).toUpperCase()}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between mb-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-sm font-semibold truncate",children:((Ee=A.contacts)==null?void 0:Ee.full_name)||((rt=A.contacts)==null?void 0:rt.email)||"Sem nome"}),A.assigned_agent&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${W0(((Ea=FC(A.assigned_agent))==null?void 0:Ea.status)||"offline")}`}),s.jsx("span",{className:"text-xs text-muted-foreground",children:(Nr=FC(A.assigned_agent))==null?void 0:Nr.name})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[A.unreadCount&&A.unreadCount>0&&s.jsx(De,{variant:"destructive",className:"h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs",children:A.unreadCount>9?"9+":A.unreadCount}),s.jsxs(iC,{children:[s.jsx(oC,{asChild:!0,children:s.jsx(X,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 opacity-0 group-hover:opacity-100",children:s.jsx(Mk,{className:"h-3 w-3"})})}),s.jsxs(D0,{align:"end",children:[s.jsx(ps,{onClick:ts=>{ts.stopPropagation(),Zq(A.id)},children:ne.has(A.id)?s.jsxs(s.Fragment,{children:[s.jsx(DX,{className:"h-4 w-4 mr-2"}),"Remover dos favoritos"]}):s.jsxs(s.Fragment,{children:[s.jsx(Dm,{className:"h-4 w-4 mr-2"}),"Adicionar aos favoritos"]})}),s.jsx(ps,{onClick:ts=>{ts.stopPropagation(),Xq(A.id)},children:qe.has(A.id)?s.jsxs(s.Fragment,{children:[s.jsx($X,{className:"h-4 w-4 mr-2"}),"Desafixar"]}):s.jsxs(s.Fragment,{children:[s.jsx(YO,{className:"h-4 w-4 mr-2"}),"Fixar"]})}),s.jsxs(ps,{onClick:ts=>{ts.stopPropagation(),Jq(A.id)},children:[s.jsx(mX,{className:"h-4 w-4 mr-2"}),"Arquivar"]}),A.assigned_agent?s.jsxs(ps,{onClick:ts=>{ts.stopPropagation(),hU(A.id)},children:[s.jsx(Bi,{className:"h-4 w-4 mr-2"}),"Desatribuir"]}):s.jsxs(ps,{onClick:ts=>{ts.stopPropagation(),BC(A.id)},children:[s.jsx(Bi,{className:"h-4 w-4 mr-2"}),"Atribuir Atendente"]}),s.jsxs(ps,{onClick:ts=>{ts.stopPropagation(),eU(A.id)},className:"text-red-600",children:[s.jsx(no,{className:"h-4 w-4 mr-2"}),"Excluir"]})]})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-muted-foreground truncate",children:((Rn=A.contacts)==null?void 0:Rn.email)||((VC=A.contacts)==null?void 0:VC.phone_e164)}),s.jsx("span",{className:"text-xs text-muted-foreground",children:A.last_message_at?vc(new Date(A.last_message_at),{addSuffix:!0,locale:Zo}):"Agora"})]})]})]},A.id)})})})})]})}),s.jsx("div",{className:"lg:col-span-2",children:s.jsxs(ie,{className:"border-2 hover:border-primary/30 transition-all shadow-lg h-full flex flex-col",children:[s.jsx(me,{className:"border-b space-y-4 flex-shrink-0",children:x?s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-primary flex items-center justify-center text-white font-semibold text-lg",children:(((e=x.contacts)==null?void 0:e.full_name)||((t=x.contacts)==null?void 0:t.email)||"?").charAt(0).toUpperCase()}),s.jsx("div",{className:"absolute -bottom-1 -right-1 bg-background rounded-full p-1",children:s.jsx("span",{className:"text-lg",children:tU(x.channel_type)})})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pe,{children:((r=x.contacts)==null?void 0:r.full_name)||((n=x.contacts)==null?void 0:n.email)||"Sem nome"}),s.jsx(X,{variant:"ghost",size:"sm",onClick:gU,disabled:!x,className:"h-6 w-6 p-0 ml-1",title:"Ver perfil do contato",children:s.jsx(Bi,{className:"h-3 w-3"})}),ne.has(x.id)&&s.jsx(Dm,{className:"h-4 w-4 text-yellow-500 fill-yellow-500"}),qe.has(x.id)&&s.jsx(YO,{className:"h-4 w-4 text-blue-500"})]}),s.jsxs(Ie,{className:"flex items-center gap-2",children:[w?s.jsxs(s.Fragment,{children:[s.jsx(mn,{className:"h-3 w-3 text-purple-500"}),s.jsx("span",{className:"text-purple-500",children:"Atendido por IA"})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-emerald-500 animate-pulse"}),(a=x.contacts)==null?void 0:a.email]}),s.jsx("span",{className:"text-xs bg-muted px-2 py-1 rounded-full",children:x.channel_type==="instagram"?"Instagram":"WhatsApp"})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(ot,{value:m,onValueChange:v,children:[s.jsx(nt,{className:"w-[160px] h-7 text-xs",children:s.jsx(lt,{placeholder:"Transferir para..."})}),s.jsxs(at,{children:[s.jsx(re,{value:"auto",children:"🤖 IA Automática"}),s.jsx("div",{className:"px-2 py-1.5 text-xs font-semibold text-muted-foreground border-b",children:"Agentes de IA"}),f.map(A=>s.jsx(re,{value:`ai-${A.id}`,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(mn,{className:"h-3 w-3 text-blue-600"}),A.name]})},A.id)),s.jsx("div",{className:"px-2 py-1.5 text-xs font-semibold text-muted-foreground border-b mt-2",children:"Atendentes Humanos"}),$r.filter(A=>A.status==="online").map(A=>s.jsx(re,{value:A.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${W0(A.status)}`}),A.name]})},A.id))]})]}),s.jsx(X,{onClick:()=>{m==="auto"?BC((x==null?void 0:x.id)||""):m.startsWith("ai-")?xU():LC((x==null?void 0:x.id)||"",m)},disabled:p||!m||!x,size:"sm",className:"h-7 px-2 text-xs bg-gradient-to-r from-blue-600 to-blue-700 hover:opacity-90",children:p?s.jsx(gt,{className:"h-3 w-3 animate-spin"}):s.jsx(Ob,{className:"h-3 w-3"})})]})})]})}):s.jsx("div",{className:"text-center text-muted-foreground",children:"Selecione uma conversa"})}),s.jsxs(ue,{className:"p-6 flex-1 flex flex-col overflow-hidden",children:[s.jsx(tl,{className:"flex-1 mb-4",children:s.jsx("div",{className:"space-y-4",children:Yq?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(gt,{className:"h-8 w-8 animate-spin text-primary"})}):fg.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(At,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"Nenhuma mensagem ainda"})]}):fg.map(A=>{var ge,Ce,Ee,rt,Ea;return s.jsx("div",{className:"mb-4 group relative",children:A.direction==="inbound"?s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"h-8 w-8 rounded-full bg-primary flex items-center justify-center text-white text-sm font-semibold",children:((Ce=(ge=x==null?void 0:x.contacts)==null?void 0:ge.full_name)==null?void 0:Ce.charAt(0).toUpperCase())||"?"}),s.jsxs("div",{className:"flex-1 max-w-md",children:[s.jsxs("div",{className:"relative group/message",children:[s.jsxs("div",{className:"bg-muted rounded-2xl rounded-tl-sm p-4 hover:bg-muted/80 transition-colors",children:[s.jsx("p",{className:"text-sm",children:A.content}),((Ee=A.metadata)==null?void 0:Ee.message_type)&&A.metadata.message_type!=="text"&&s.jsx("div",{className:"mt-2",children:A.metadata.message_type==="image"?s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:Xf(A.id)||"/placeholder.svg",alt:"Imagem enviada",className:"w-32 h-20 object-cover rounded-lg cursor-pointer hover:opacity-80 transition-opacity border",onClick:()=>TC(Xf(A.id)||"")}),s.jsx("div",{className:"absolute inset-0 bg-black/0 hover:bg-black/10 rounded-lg transition-colors flex items-center justify-center",children:s.jsx("div",{className:"opacity-0 hover:opacity-100 transition-opacity bg-black/50 text-white px-2 py-1 rounded text-xs",children:"Clique para ampliar"})})]}):A.metadata.message_type==="audio"?s.jsx("div",{className:"mt-2",children:s.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-lg px-4 py-2 border border-slate-300 dark:border-slate-600 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(X,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 rounded-full bg-blue-100 dark:bg-blue-900 hover:bg-blue-200 dark:hover:bg-blue-800",onClick:()=>Ve===A.id?MC(A.id):$C(A.id),children:Ve===A.id?s.jsx(Rm,{className:"h-4 w-4 text-blue-700 dark:text-blue-300"}):s.jsx(Ac,{className:"h-4 w-4 text-blue-700 dark:text-blue-300"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(XO,{className:"h-3 w-3 text-blue-600 dark:text-blue-400"}),s.jsx("span",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium",children:"Áudio de voz"})]}),s.jsx("div",{className:"w-full bg-blue-200 dark:bg-blue-800 rounded-full h-1.5",children:s.jsx("div",{className:"bg-blue-600 dark:bg-blue-400 h-1.5 rounded-full transition-all duration-300",style:{width:`${Rt[A.id]||0}%`}})}),s.jsxs("div",{className:"flex justify-between text-xs text-blue-500 dark:text-blue-400 mt-1",children:[s.jsx("span",{children:"0:00"}),s.jsx("span",{children:"~0:15"})]})]})]}),tn[A.id]&&s.jsx("audio",{id:`audio-${A.id}`,src:tn[A.id],onEnded:()=>RC(A.id),onTimeUpdate:Nr=>{const Rn=Nr.target;IC(A.id,Rn.currentTime,Rn.duration)},preload:"metadata"})]})}):s.jsx("div",{className:"mt-2",children:s.jsx("div",{className:"bg-slate-100 dark:bg-slate-800 rounded-lg p-3 border border-slate-200 dark:border-slate-700",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("span",{className:"text-2xl text-slate-600 dark:text-slate-400",children:zC(A.metadata.message_type)})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:A.metadata.message_type==="video"?"Vídeo":A.metadata.message_type==="document"?"Documento":A.metadata.message_type==="sticker"?"Sticker":A.metadata.message_type}),s.jsx(De,{variant:"secondary",className:"text-xs",children:iu(`${A.metadata.message_type}.ext`)})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(X,{variant:"outline",size:"sm",className:"h-7 px-3 text-xs",onClick:()=>{const Nr=`${A.metadata.message_type}_${A.id}.${iu(`${A.metadata.message_type}.ext`)}`,Rn=mg(A.id,A.metadata.message_type);DC(Rn,Nr,A.id)},disabled:ln.has(A.id),children:ln.has(A.id)?s.jsxs(s.Fragment,{children:[s.jsx(gt,{className:"h-3 w-3 mr-1 animate-spin"}),"Baixando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Fi,{className:"h-3 w-3 mr-1"}),"Baixar"]})}),s.jsx(X,{variant:"ghost",size:"sm",className:"h-7 px-2 text-xs",onClick:()=>{`${A.metadata.message_type}${A.id}${iu(`${A.metadata.message_type}.ext`)}`;const Nr=mg(A.id,A.metadata.message_type);navigator.clipboard.writeText(Nr),ae.success("Link copiado!")},children:s.jsx(Ru,{className:"h-3 w-3"})})]})]})]})})})})]}),s.jsx("div",{className:"absolute -top-8 left-0 opacity-0 group-hover/message:opacity-100 transition-opacity",children:s.jsxs("div",{className:"flex items-center gap-1 bg-background border rounded-lg p-1 shadow-lg",children:[s.jsx(X,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>EC(A.id),children:s.jsx(gy,{className:"h-3 w-3"})}),s.jsx(X,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>OC(A.id),children:s.jsx(GO,{className:"h-3 w-3"})}),s.jsx(X,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>CC(A.content),children:s.jsx(Ru,{className:"h-3 w-3"})})]})})]}),s.jsxs("div",{className:"flex items-center justify-between mt-1 ml-2",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(A.created_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})}),A.status&&s.jsxs("div",{className:"flex items-center gap-1",children:[A.status==="delivered"&&s.jsx(ks,{className:"h-3 w-3 text-green-500"}),A.status==="sent"&&s.jsx(Fa,{className:"h-3 w-3 text-blue-500"}),A.status==="failed"&&s.jsx(Fa,{className:"h-3 w-3 text-red-500"})]})]})]})]}):s.jsxs("div",{className:"flex items-start gap-3 justify-end",children:[s.jsxs("div",{className:"flex-1 max-w-md",children:[s.jsxs("div",{className:"relative group/message",children:[s.jsxs("div",{className:"bg-primary rounded-2xl rounded-tr-sm p-4 ml-auto hover:bg-primary/90 transition-colors",children:[s.jsx("p",{className:"text-sm text-white whitespace-pre-line",children:A.content}),((rt=A.metadata)==null?void 0:rt.message_type)&&A.metadata.message_type!=="text"&&s.jsx("div",{className:"mt-2 text-xs text-white/70",children:A.metadata.message_type==="files"?s.jsx("div",{className:"space-y-1",children:(Ea=A.metadata.files)==null?void 0:Ea.map((Nr,Rn)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{children:V0({name:Nr.name,type:Nr.type})}),s.jsx("span",{children:Nr.name})]},Rn))}):A.metadata.message_type==="image"?s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:Xf(A.id)||"/placeholder.svg",alt:"Imagem enviada",className:"w-32 h-20 object-cover rounded-lg cursor-pointer hover:opacity-80 transition-opacity border",onClick:()=>TC(Xf(A.id)||"")}),s.jsx("div",{className:"absolute inset-0 bg-black/0 hover:bg-black/10 rounded-lg transition-colors flex items-center justify-center",children:s.jsx("div",{className:"opacity-0 hover:opacity-100 transition-opacity bg-black/50 text-white px-2 py-1 rounded text-xs",children:"Clique para ampliar"})})]}):A.metadata.message_type==="audio"?s.jsx("div",{className:"mt-2",children:s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950 rounded-lg px-3 py-1.5 border border-blue-200 dark:border-blue-800 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(X,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 rounded-full bg-blue-200 dark:bg-blue-800 hover:bg-blue-300 dark:hover:bg-blue-700",onClick:()=>Ve===A.id?MC(A.id):$C(A.id),children:Ve===A.id?s.jsx(Rm,{className:"h-4 w-4 text-blue-700 dark:text-blue-300"}):s.jsx(Ac,{className:"h-4 w-4 text-blue-700 dark:text-blue-300"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(XO,{className:"h-3 w-3 text-blue-600 dark:text-blue-400"}),s.jsx("span",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium",children:"Áudio de voz"})]}),s.jsx("div",{className:"w-full bg-blue-200 dark:bg-blue-800 rounded-full h-1.5",children:s.jsx("div",{className:"bg-blue-600 dark:bg-blue-400 h-1.5 rounded-full transition-all duration-300",style:{width:`${Rt[A.id]||0}%`}})}),s.jsxs("div",{className:"flex justify-between text-xs text-blue-500 dark:text-blue-400 mt-1",children:[s.jsx("span",{children:"0:00"}),s.jsx("span",{children:"~0:15"})]})]})]}),tn[A.id]&&s.jsx("audio",{id:`audio-${A.id}`,src:tn[A.id],onEnded:()=>RC(A.id),onTimeUpdate:Nr=>{const Rn=Nr.target;IC(A.id,Rn.currentTime,Rn.duration)},preload:"metadata"})]})}):s.jsx("div",{className:"mt-2",children:s.jsx("div",{className:"bg-primary/10 rounded-lg p-3 border border-primary/20",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("span",{className:"text-2xl",children:zC(A.metadata.message_type)})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"text-sm font-medium text-primary",children:A.metadata.message_type==="video"?"Vídeo":A.metadata.message_type==="document"?"Documento":A.metadata.message_type==="sticker"?"Sticker":A.metadata.message_type}),s.jsx(De,{variant:"secondary",className:"text-xs",children:iu(`${A.metadata.message_type}.ext`)})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(X,{variant:"outline",size:"sm",className:"h-7 px-3 text-xs border-primary/30 text-primary hover:bg-primary/10",onClick:()=>{const Nr=`${A.metadata.message_type}_${A.id}.${iu(`${A.metadata.message_type}.ext`)}`,Rn=mg(A.id,A.metadata.message_type);DC(Rn,Nr,A.id)},disabled:ln.has(A.id),children:ln.has(A.id)?s.jsxs(s.Fragment,{children:[s.jsx(gt,{className:"h-3 w-3 mr-1 animate-spin"}),"Baixando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Fi,{className:"h-3 w-3 mr-1"}),"Baixar"]})}),s.jsx(X,{variant:"ghost",size:"sm",className:"h-7 px-2 text-xs text-primary hover:bg-primary/10",onClick:()=>{`${A.metadata.message_type}${A.id}${iu(`${A.metadata.message_type}.ext`)}`;const Nr=mg(A.id,A.metadata.message_type);navigator.clipboard.writeText(Nr),ae.success("Link copiado!")},children:s.jsx(Ru,{className:"h-3 w-3"})})]})]})]})})})})]}),s.jsx("div",{className:"absolute -top-8 right-0 opacity-0 group-hover/message:opacity-100 transition-opacity",children:s.jsxs("div",{className:"flex items-center gap-1 bg-background border rounded-lg p-1 shadow-lg",children:[s.jsx(X,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>EC(A.id),children:s.jsx(gy,{className:"h-3 w-3"})}),s.jsx(X,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>OC(A.id),children:s.jsx(GO,{className:"h-3 w-3"})}),s.jsx(X,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>CC(A.content),children:s.jsx(Ru,{className:"h-3 w-3"})})]})})]}),s.jsxs("div",{className:"flex items-center justify-between mt-1 mr-2",children:[s.jsx("div",{className:"text-xs text-muted-foreground text-right",children:new Date(A.created_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})}),A.status&&s.jsxs("div",{className:"flex items-center gap-1",children:[A.status==="delivered"&&s.jsx(ks,{className:"h-3 w-3 text-green-500"}),A.status==="sent"&&s.jsx(Fa,{className:"h-3 w-3 text-blue-500"}),A.status==="failed"&&s.jsx(Fa,{className:"h-3 w-3 text-red-500"})]})]})]}),s.jsx("div",{className:"h-8 w-8 rounded-full bg-primary flex items-center justify-center text-white text-sm font-semibold",children:"Você"})]})},A.id)})})}),s.jsxs("div",{className:"pt-4 border-t flex-shrink-0",children:[B&&s.jsxs("div",{className:"mb-2 text-xs text-muted-foreground flex items-center gap-1",children:[s.jsxs("div",{className:"flex gap-1",children:[s.jsx("div",{className:"w-1 h-1 bg-muted-foreground rounded-full animate-bounce"}),s.jsx("div",{className:"w-1 h-1 bg-muted-foreground rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),s.jsx("div",{className:"w-1 h-1 bg-muted-foreground rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),(i=x==null?void 0:x.contacts)==null?void 0:i.full_name," está digitando..."]}),s.jsxs("div",{className:"flex items-end gap-2",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsxs("div",{className:`relative ${Se?"bg-primary/10 border-primary":""}`,onDragOver:rU,onDragLeave:nU,onDrop:aU,children:[s.jsx(Gn,{placeholder:w?"O agente de IA está respondendo...":"Digite sua mensagem ou arraste arquivos aqui...",className:"min-h-[40px] max-h-32 resize-none",value:N,onChange:A=>{_(A.target.value),A.target.value&&!B&&(Y(!0),setTimeout(()=>Y(!1),1e3))},onKeyDown:A=>{A.key==="Enter"&&!A.shiftKey&&(A.preventDefault(),UC())},disabled:!x||k}),Se&&s.jsx("div",{className:"absolute inset-0 bg-primary/20 border-2 border-dashed border-primary rounded-lg flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("span",{className:"text-4xl mb-2 block",children:"📎"}),s.jsx("p",{className:"text-sm font-medium text-primary",children:"Solte os arquivos aqui"})]})})]}),s.jsxs("div",{className:"absolute bottom-2 right-2 flex items-center gap-1",children:[s.jsx("input",{type:"file",multiple:!0,accept:"image/*,audio/*,video/*,.pdf,.doc,.docx,.txt",onChange:A=>AC(A.target.files),className:"hidden",id:"file-upload"}),s.jsx(X,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>{var A;return(A=document.getElementById("file-upload"))==null?void 0:A.click()},title:"Anexar arquivo",children:s.jsx("span",{className:"text-sm",children:"📎"})})]})]}),s.jsxs("div",{className:"flex items-end gap-2",children:[s.jsx(X,{variant:"outline",size:"sm",className:"h-10 w-10 p-0",onClick:cU,disabled:Wr||!x,title:"Sugestões de IA",children:Wr?s.jsx(gt,{className:"h-4 w-4 animate-spin"}):s.jsx(mn,{className:"h-4 w-4"})}),s.jsx(X,{onClick:UC,disabled:k||!N.trim()||!x,className:"h-10 w-10 p-0 bg-gradient-to-r from-primary to-primary-glow hover:opacity-90 transition-opacity",title:"Enviar mensagem",children:k?s.jsx(gt,{className:"h-4 w-4 animate-spin"}):s.jsx(ms,{className:"h-4 w-4"})})]})]}),W&&Q.length>0&&s.jsxs("div",{className:"mt-4 p-4 border rounded-lg bg-muted/50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h4",{className:"text-sm font-medium",children:["Arquivos selecionados (",Q.length,")"]}),s.jsx(X,{variant:"ghost",size:"sm",onClick:()=>{xe([]),se(!1)},children:"✕"})]}),s.jsx("div",{className:"space-y-2 mb-4",children:Q.map((A,ge)=>s.jsxs("div",{className:"flex items-center gap-3 p-2 bg-background rounded border",children:[s.jsx("span",{className:"text-lg",children:V0(A)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:A.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:iU(A.size)}),ye[A.name]!==void 0&&s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5 mt-1",children:s.jsx("div",{className:"bg-primary h-1.5 rounded-full transition-all duration-300",style:{width:`${ye[A.name]}%`}})})]}),s.jsx(X,{variant:"ghost",size:"sm",onClick:()=>sU(ge),className:"h-6 w-6 p-0",children:"✕"})]},ge))}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(X,{onClick:lU,disabled:k,className:"flex-1",children:k?s.jsxs(s.Fragment,{children:[s.jsx(gt,{className:"h-4 w-4 mr-2 animate-spin"}),"Enviando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ms,{className:"h-4 w-4 mr-2"}),"Enviar Arquivos"]})})})]}),wn&&Vt.length>0&&s.jsxs("div",{className:"mt-4 p-4 border rounded-lg bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-950/20 dark:to-indigo-950/20",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(mn,{className:"h-4 w-4 text-blue-600"}),s.jsx("h4",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:"Sugestões da IA"})]}),s.jsx(X,{variant:"ghost",size:"sm",onClick:()=>dr(!1),children:"✕"})]}),s.jsx("div",{className:"space-y-2",children:Vt.map((A,ge)=>s.jsxs("div",{className:"p-3 bg-white dark:bg-gray-800 rounded-lg border border-blue-200 dark:border-blue-800",children:[s.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-2",children:A}),s.jsxs(X,{variant:"outline",size:"sm",onClick:()=>uU(A),className:"text-xs",children:[s.jsx(ms,{className:"h-3 w-3 mr-1"}),"Usar esta sugestão"]})]},ge))})]}),s.jsx("div",{className:"mt-2 text-xs text-muted-foreground",children:"Pressione Enter para enviar • Shift+Enter para nova linha • Arraste arquivos ou clique no ícone 📎"})]})]})]})})]}),s.jsx(Xt,{open:P,onOpenChange:S,children:s.jsxs(Ut,{className:"sm:max-w-[500px]",children:[s.jsxs(Jt,{children:[s.jsx(er,{children:"Nova Mensagem"}),s.jsx(or,{children:"Selecione um contato existente ou crie um novo para iniciar uma conversa."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Buscar Contato Existente"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ba,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Be,{placeholder:"Buscar por nome ou email...",className:"pl-9",value:M,onChange:A=>$(A.target.value)})]}),M&&s.jsx(tl,{className:"h-[150px] border rounded-md p-2",children:Qq?s.jsx("div",{className:"flex items-center justify-center py-4",children:s.jsx(gt,{className:"h-6 w-6 animate-spin text-primary"})}):SC.length===0?s.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Nenhum contato encontrado"}):s.jsx("div",{className:"space-y-1",children:SC.map(A=>s.jsxs("div",{onClick:()=>{F(A.id),U(""),z(""),G("")},className:`p-3 rounded-lg border cursor-pointer transition-all hover:bg-accent ${D===A.id?"bg-accent border-primary":""}`,children:[s.jsx("p",{className:"text-sm font-semibold",children:A.full_name||A.email||"Sem nome"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:A.email||A.phone_e164})]},A.id))})})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("span",{className:"w-full border-t"})}),s.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:s.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Ou criar novo"})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"name",children:"Nome"}),s.jsx(Be,{id:"name",placeholder:"Nome completo",value:q,onChange:A=>{U(A.target.value),F("")}})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"email",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ad,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Be,{id:"email",type:"email",placeholder:"email@exemplo.com",className:"pl-9",value:L,onChange:A=>{z(A.target.value),F("")}})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"phone",children:"Telefone"}),s.jsx(Be,{id:"phone",type:"tel",placeholder:"+5511999999999",value:R,onChange:A=>{G(A.target.value),F("")}})]})]})]}),s.jsxs(gn,{children:[s.jsx(X,{variant:"outline",onClick:()=>{S(!1),F(""),U(""),z(""),G(""),$("")},children:"Cancelar"}),s.jsxs(X,{onClick:bU,disabled:J||!D&&!q&&!L&&!R,className:"bg-gradient-to-r from-primary to-primary-glow",children:[J?s.jsx(gt,{className:"h-4 w-4 animate-spin mr-2"}):s.jsx(ms,{className:"h-4 w-4 mr-2"}),"Criar Conversa"]})]})]})}),s.jsx(Xt,{open:$s,onOpenChange:ra,children:s.jsxs(Ut,{className:"max-w-4xl max-h-[80vh] overflow-hidden",children:[s.jsx(Jt,{children:s.jsxs(er,{className:"flex items-center gap-3",children:[s.jsxs(bs,{className:"h-8 w-8",children:[s.jsx(ws,{src:Nt==null?void 0:Nt.avatar}),s.jsx(js,{children:((o=Nt==null?void 0:Nt.full_name)==null?void 0:o.charAt(0))||"C"})]}),"Perfil do Contato"]})}),Nt&&s.jsx("div",{className:"overflow-y-auto max-h-[60vh]",children:s.jsxs(Na,{defaultValue:"info",className:"w-full",children:[s.jsxs(Jn,{className:"grid w-full grid-cols-4",children:[s.jsx(et,{value:"info",children:"Informações"}),s.jsx(et,{value:"activity",children:"Atividades"}),s.jsx(et,{value:"notes",children:"Anotações"}),s.jsx(et,{value:"stats",children:"Estatísticas"})]}),s.jsx(dt,{value:"info",className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(fe,{className:"text-sm font-medium",children:"Nome Completo"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:Nt.full_name})]}),s.jsxs("div",{children:[s.jsx(fe,{className:"text-sm font-medium",children:"E-mail"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:Nt.email})]}),s.jsxs("div",{children:[s.jsx(fe,{className:"text-sm font-medium",children:"Telefone"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:Nt.phone})]}),s.jsxs("div",{children:[s.jsx(fe,{className:"text-sm font-medium",children:"ID Externo"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:Nt.external_id})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(fe,{className:"text-sm font-medium",children:"Status"}),s.jsx("div",{className:"mt-1",children:s.jsx(De,{variant:Nt.status==="open"?"default":"secondary",children:Nt.status==="open"?"Ativo":"Fechado"})})]}),s.jsxs("div",{children:[s.jsx(fe,{className:"text-sm font-medium",children:"Prioridade"}),s.jsx("div",{className:"mt-1",children:s.jsx(De,{variant:Nt.priority==="high"?"destructive":Nt.priority==="medium"?"default":"secondary",children:Nt.priority==="high"?"Alta":Nt.priority==="medium"?"Média":"Baixa"})})]}),s.jsxs("div",{children:[s.jsx(fe,{className:"text-sm font-medium",children:"Canal"}),s.jsx("div",{className:"mt-1",children:s.jsx(De,{variant:"outline",children:Nt.channel_type==="instagram"?"📸 Instagram":Nt.channel_type==="whatsapp"?"💬 WhatsApp":Nt.channel_type})})]}),s.jsxs("div",{children:[s.jsx(fe,{className:"text-sm font-medium",children:"Tags"}),s.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:(l=Nt.tags)==null?void 0:l.map((A,ge)=>s.jsx(De,{variant:"secondary",className:"text-xs",children:A},ge))})]})]})]})}),s.jsx(dt,{value:"activity",className:"space-y-4",children:s.jsx("div",{className:"space-y-3",children:(c=Nt.activities)==null?void 0:c.map((A,ge)=>s.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex-shrink-0",children:[A.type==="message"&&s.jsx(At,{className:"h-4 w-4 text-blue-600"}),A.type==="call"&&s.jsx(Ef,{className:"h-4 w-4 text-green-600"}),A.type==="email"&&s.jsx(Ad,{className:"h-4 w-4 text-orange-600"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium",children:A.description}),s.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(A.date).toLocaleString("pt-BR")})]})]},ge))})}),s.jsx(dt,{value:"notes",className:"space-y-4",children:s.jsxs("div",{className:"space-y-3",children:[(u=Nt.notes)==null?void 0:u.map((A,ge)=>s.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:s.jsx("p",{className:"text-sm",children:A})},ge)),s.jsxs(X,{variant:"outline",size:"sm",className:"w-full",children:[s.jsx(wr,{className:"h-4 w-4 mr-2"}),"Adicionar Anotação"]})]})}),s.jsx(dt,{value:"stats",className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsx(fe,{className:"text-sm font-medium",children:"Total de Mensagens"}),s.jsx("p",{className:"text-2xl font-bold",children:Nt.total_messages})]}),s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsx(fe,{className:"text-sm font-medium",children:"Taxa de Resposta"}),s.jsxs("p",{className:"text-2xl font-bold",children:[Nt.response_rate,"%"]})]}),s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsx(fe,{className:"text-sm font-medium",children:"Tempo Médio de Resposta"}),s.jsxs("p",{className:"text-2xl font-bold",children:[Nt.avg_response_time,"min"]})]}),s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsx(fe,{className:"text-sm font-medium",children:"Primeiro Contato"}),s.jsx("p",{className:"text-sm",children:new Date(Nt.first_contact).toLocaleDateString("pt-BR")})]})]})})]})})]})}),s.jsx(Xt,{open:Wt,onOpenChange:Tr,children:s.jsx(Ut,{className:"max-w-4xl max-h-[90vh] p-0 overflow-hidden",children:s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:nu,alt:"Preview da imagem",className:"w-full h-auto max-h-[80vh] object-contain"}),s.jsx(X,{variant:"outline",size:"sm",className:"absolute top-4 right-4 bg-black/50 text-white border-white/20 hover:bg-black/70",onClick:dU,children:"✕"}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4",children:s.jsxs("div",{className:"flex items-center justify-between text-white",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Imagem enviada"}),s.jsx("p",{className:"text-xs opacity-75",children:"Clique fora para fechar"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(X,{variant:"outline",size:"sm",className:"bg-white/10 text-white border-white/20 hover:bg-white/20",onClick:()=>{ae.success("Download iniciado!")},children:[s.jsx(Fi,{className:"h-4 w-4 mr-2"}),"Baixar"]}),s.jsxs(X,{variant:"outline",size:"sm",className:"bg-white/10 text-white border-white/20 hover:bg-white/20",onClick:()=>{navigator.clipboard.writeText(nu),ae.success("Link copiado!")},children:[s.jsx(Ru,{className:"h-4 w-4 mr-2"}),"Copiar Link"]})]})]})})]})})}),s.jsx(Xt,{open:Hq,onOpenChange:jC,children:s.jsxs(Ut,{className:"max-w-4xl max-h-[80vh] overflow-hidden",children:[s.jsx(Jt,{children:s.jsxs(er,{className:"flex items-center gap-3",children:[s.jsx(ir,{className:"h-6 w-6"}),"Gerenciamento de Atendentes"]})}),s.jsxs("div",{className:"overflow-y-auto max-h-[60vh]",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:$r.map(A=>s.jsx(ie,{className:"relative",children:s.jsx(ue,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsxs(bs,{className:"h-10 w-10",children:[s.jsx(ws,{src:A.avatar}),s.jsx(js,{children:A.name.charAt(0)})]}),s.jsx("div",{className:`absolute -bottom-1 -right-1 w-3 h-3 rounded-full border-2 border-background ${W0(A.status)}`})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("h3",{className:"font-medium text-sm truncate",children:A.name}),s.jsx(De,{variant:A.status==="online"?"default":A.status==="busy"?"secondary":A.status==="away"?"outline":"secondary",children:pU(A.status)})]}),s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:A.email}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{children:"Workload:"}),s.jsxs("span",{className:"font-medium",children:[A.workload,"/",A.maxWorkload]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{children:"Última atividade:"}),s.jsx("span",{children:vc(new Date(A.lastActive),{addSuffix:!0})})]})]}),s.jsx("div",{className:"mt-2",children:s.jsx("div",{className:"flex flex-wrap gap-1",children:A.skills.map((ge,Ce)=>s.jsx(De,{variant:"secondary",className:"text-xs",children:ge},Ce))})}),s.jsxs("div",{className:"mt-3",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground mb-1",children:[s.jsx("span",{children:"Carga de trabalho"}),s.jsxs("span",{children:[Math.round(A.workload/A.maxWorkload*100),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${A.workload/A.maxWorkload>.8?"bg-red-500":A.workload/A.maxWorkload>.6?"bg-yellow-500":"bg-green-500"}`,style:{width:`${A.workload/A.maxWorkload*100}%`}})})]})]})]})})},A.id))}),s.jsx(ie,{className:"mt-6",children:s.jsxs(ue,{className:"p-4",children:[s.jsx("h3",{className:"font-medium mb-4",children:"Estatísticas da Equipe"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:$r.filter(A=>A.status==="online").length}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Online"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:$r.filter(A=>A.status==="busy").length}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Ocupado"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-gray-600",children:$r.filter(A=>A.status==="offline").length}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Offline"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-primary",children:$r.reduce((A,ge)=>A+ge.workload,0)}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Conversas Ativas"})]})]})]})})]})]})})]})})]})}const lC=g.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:ve("w-full caption-bottom text-sm",e),...t})}));lC.displayName="Table";const cC=g.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:ve("[&_tr]:border-b",e),...t}));cC.displayName="TableHeader";const uC=g.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:ve("[&_tr:last-child]:border-0",e),...t}));uC.displayName="TableBody";const n$e=g.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:ve("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));n$e.displayName="TableFooter";const zi=g.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:ve("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));zi.displayName="TableRow";const kn=g.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:ve("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));kn.displayName="TableHead";const zr=g.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:ve("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));zr.displayName="TableCell";const a$e=g.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:ve("mt-4 text-sm text-muted-foreground",e),...t}));a$e.displayName="TableCaption";var z0="Checkbox",[s$e]=xn(z0),[i$e,dC]=s$e(z0);function o$e(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,m]=Ga({prop:r,defaultProp:a??!1,onChange:c,caller:z0}),[v,p]=g.useState(null),[b,x]=g.useState(null),y=g.useRef(!1),w=v?!!o||!!v.closest("form"):!0,j={checked:h,disabled:i,setChecked:m,control:v,setControl:p,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:y,required:u,defaultChecked:rl(a)?!1:a,isFormControl:w,bubbleInput:b,setBubbleInput:x};return s.jsx(i$e,{scope:t,...j,children:l$e(f)?f(j):n})}var ZB="CheckboxTrigger",XB=g.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:i,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:m,bubbleInput:v}=dC(ZB,e),p=Ye(a,d),b=g.useRef(c);return g.useEffect(()=>{const x=i==null?void 0:i.form;if(x){const y=()=>f(b.current);return x.addEventListener("reset",y),()=>x.removeEventListener("reset",y)}},[i,f]),s.jsx(Ae.button,{type:"button",role:"checkbox","aria-checked":rl(c)?"mixed":c,"aria-required":u,"data-state":nq(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:p,onKeyDown:be(t,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:be(r,x=>{f(y=>rl(y)?!0:!y),v&&m&&(h.current=x.isPropagationStopped(),h.current||x.stopPropagation())})})});XB.displayName=ZB;var fC=g.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return s.jsx(o$e,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>s.jsxs(s.Fragment,{children:[s.jsx(XB,{...f,ref:t,__scopeCheckbox:r}),h&&s.jsx(rq,{__scopeCheckbox:r})]})})});fC.displayName=z0;var JB="CheckboxIndicator",eq=g.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=dC(JB,r);return s.jsx(Jr,{present:n||rl(i.checked)||i.checked===!0,children:s.jsx(Ae.span,{"data-state":nq(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});eq.displayName=JB;var tq="CheckboxBubbleInput",rq=g.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:m}=dC(tq,e),v=Ye(r,m),p=$0(i),b=ob(n);g.useEffect(()=>{const y=h;if(!y)return;const w=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(w,"checked").set,N=!a.current;if(p!==i&&j){const _=new Event("click",{bubbles:N});y.indeterminate=rl(i),j.call(y,rl(i)?!1:i),y.dispatchEvent(_)}},[h,p,i,a]);const x=g.useRef(rl(i)?!1:i);return s.jsx(Ae.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??x.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:v,style:{...t.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});rq.displayName=tq;function l$e(e){return typeof e=="function"}function rl(e){return e==="indeterminate"}function nq(e){return rl(e)?"indeterminate":e?"checked":"unchecked"}const Bc=g.forwardRef(({className:e,...t},r)=>s.jsx(fC,{ref:r,className:ve("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(eq,{className:ve("flex items-center justify-center text-current"),children:s.jsx(Zi,{className:"h-4 w-4"})})}));Bc.displayName=fC.displayName;function aq({prospects:e,selectedIds:t,onExportComplete:r}){const[n,a]=g.useState(!1),[i,o]=g.useState(!1),l=e.filter(u=>t.includes(u.id)),c=async()=>{var u,d,f,h,m;o(!0);try{const{data:{user:v}}=await le.auth.getUser();if(!v){ae.error("Usuário não autenticado");return}const{data:p}=await le.from("members").select("org_id").eq("user_id",v.id).single();if(!p){ae.error("Organização não encontrada");return}let b=0,x=0;for(const y of l)try{let w=!0;if((u=y.places)!=null&&u.phone_number){const{data:N}=await le.from("contacts").select("id").eq("org_id",p.org_id).eq("phone_e164",y.places.phone_number).single();N&&(w=!1,console.log(`Contato já existe para ${y.places.name}`))}if(w){const{error:N}=await le.from("contacts").insert({org_id:p.org_id,full_name:((d=y.places)==null?void 0:d.name)||"Sem nome",phone_e164:((f=y.places)==null?void 0:f.phone_number)||null,tags:((m=(h=y.places)==null?void 0:h.types)==null?void 0:m.slice(0,3))||[]});if(N)throw N}const{error:j}=await le.from("prospects").update({status:"imported"}).eq("id",y.id);if(j)throw j;b++}catch(w){console.error(`Erro ao exportar prospect ${y.id}:`,w),x++}b>0&&ae.success(`${b} prospects exportados para Contatos!`),x>0&&ae.warning(`${x} prospects não puderam ser exportados`),a(!1),r()}catch(v){console.error("Error:",v),ae.error("Erro ao exportar prospects")}finally{o(!1)}};return s.jsxs(Xt,{open:n,onOpenChange:a,children:[s.jsx(mz,{asChild:!0,children:s.jsxs(X,{variant:"default",disabled:t.length===0,className:"gap-2",children:[s.jsx(Fi,{className:"h-4 w-4"}),"Exportar para Contatos (",t.length,")"]})}),s.jsxs(Ut,{className:"sm:max-w-[500px]",children:[s.jsxs(Jt,{children:[s.jsxs(er,{className:"flex items-center gap-2",children:[s.jsx(ir,{className:"h-5 w-5 text-primary"}),"Exportar Prospects para Contatos"]}),s.jsxs(or,{children:["Você está prestes a exportar ",t.length," prospect",t.length!==1?"s":""," para a aba de Contatos."]})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-sm font-medium",children:"Prospects selecionados:"}),s.jsx("div",{className:"max-h-[200px] overflow-y-auto space-y-2 border rounded-md p-3",children:l.map(u=>{var d,f;return s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Bc,{checked:!0,disabled:!0}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:((d=u.places)==null?void 0:d.name)||"Sem nome"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:((f=u.places)==null?void 0:f.phone_number)||"Sem telefone"})]})]},u.id)})})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3",children:[s.jsx("p",{className:"text-sm text-blue-800",children:s.jsx("strong",{children:"O que vai acontecer:"})}),s.jsxs("ul",{className:"text-sm text-blue-700 mt-2 space-y-1 ml-4 list-disc",children:[s.jsx("li",{children:"Cada prospect será criado como um contato"}),s.jsx("li",{children:"Informações serão copiadas (nome, telefone, tags)"}),s.jsx("li",{children:'Status do prospect mudará para "Importado"'}),s.jsx("li",{children:"Prospects aparecerão na aba Contatos"})]})]})]}),s.jsxs(gn,{children:[s.jsx(X,{variant:"outline",onClick:()=>a(!1),disabled:i,children:"Cancelar"}),s.jsx(X,{onClick:c,disabled:i,children:i?s.jsxs(s.Fragment,{children:[s.jsx(gt,{className:"mr-2 h-4 w-4 animate-spin"}),"Exportando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Fi,{className:"mr-2 h-4 w-4"}),"Exportar ",t.length," Prospects"]})})]})]})]})}var dg=e=>e.type==="checkbox",mc=e=>e instanceof Date,qn=e=>e==null;const sq=e=>typeof e=="object";var Pr=e=>!qn(e)&&!Array.isArray(e)&&sq(e)&&!mc(e),iq=e=>Pr(e)&&e.target?dg(e.target)?e.target.checked:e.target.value:e,c$e=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,oq=(e,t)=>e.has(c$e(t)),u$e=e=>{const t=e.constructor&&e.constructor.prototype;return Pr(t)&&t.hasOwnProperty("isPrototypeOf")},hC=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Dr(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(hC&&(e instanceof Blob||n))&&(r||Pr(e)))if(t=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!u$e(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=Dr(e[a]));else return e;return t}var L0=e=>/^\w*$/.test(e),mr=e=>e===void 0,mC=e=>Array.isArray(e)?e.filter(Boolean):[],pC=e=>mC(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Oe=(e,t,r)=>{if(!t||!Pr(e))return r;const n=(L0(t)?[t]:pC(t)).reduce((a,i)=>qn(a)?a:a[i],e);return mr(n)||n===e?mr(e[t])?r:e[t]:n},da=e=>typeof e=="boolean",Et=(e,t,r)=>{let n=-1;const a=L0(t)?[t]:pC(t),i=a.length,o=i-1;for(;++n<i;){const l=a[n];let c=r;if(n!==o){const u=e[l];c=Pr(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const $x={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ys={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ki={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},gC=E.createContext(null);gC.displayName="HookFormContext";const F0=()=>E.useContext(gC),d$e=e=>{const{children:t,...r}=e;return E.createElement(gC.Provider,{value:r},t)};var lq=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==ys.all&&(t._proxyFormState[o]=!n||ys.all),r&&(r[o]=!0),e[o]}});return a};const vC=typeof window<"u"?E.useLayoutEffect:E.useEffect;function f$e(e){const t=F0(),{control:r=t.control,disabled:n,name:a,exact:i}=e||{},[o,l]=E.useState(r._formState),c=E.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return vC(()=>r._subscribe({name:a,formState:c.current,exact:i,callback:u=>{!n&&l({...r._formState,...u})}}),[a,n,i]),E.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),E.useMemo(()=>lq(o,r,c.current,!1),[o,r])}var va=e=>typeof e=="string",cq=(e,t,r,n,a)=>va(e)?(n&&t.watch.add(e),Oe(r,e,a)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),Oe(r,i))):(n&&(t.watchAll=!0),r),J_=e=>qn(e)||!sq(e);function Ti(e,t,r=new WeakSet){if(J_(e)||J_(t))return e===t;if(mc(e)&&mc(t))return e.getTime()===t.getTime();const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const o=e[i];if(!a.includes(i))return!1;if(i!=="ref"){const l=t[i];if(mc(o)&&mc(l)||Pr(o)&&Pr(l)||Array.isArray(o)&&Array.isArray(l)?!Ti(o,l,r):o!==l)return!1}}return!0}function h$e(e){const t=F0(),{control:r=t.control,name:n,defaultValue:a,disabled:i,exact:o,compute:l}=e||{},c=E.useRef(a),u=E.useRef(l),d=E.useRef(void 0);u.current=l;const f=E.useMemo(()=>r._getWatch(n,c.current),[r,n]),[h,m]=E.useState(u.current?u.current(f):f);return vC(()=>r._subscribe({name:n,formState:{values:!0},exact:o,callback:v=>{if(!i){const p=cq(n,r._names,v.values||r._formValues,!1,c.current);if(u.current){const b=u.current(p);Ti(b,d.current)||(m(b),d.current=b)}else m(p)}}}),[r,i,n,o]),E.useEffect(()=>r._removeUnmounted()),h}function m$e(e){const t=F0(),{name:r,disabled:n,control:a=t.control,shouldUnregister:i,defaultValue:o}=e,l=oq(a._names.array,r),c=E.useMemo(()=>Oe(a._formValues,r,Oe(a._defaultValues,r,o)),[a,r,o]),u=h$e({control:a,name:r,defaultValue:c,exact:!0}),d=f$e({control:a,name:r,exact:!0}),f=E.useRef(e),h=E.useRef(void 0),m=E.useRef(a.register(r,{...e.rules,value:u,...da(e.disabled)?{disabled:e.disabled}:{}}));f.current=e;const v=E.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Oe(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!Oe(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Oe(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Oe(d.validatingFields,r)},error:{enumerable:!0,get:()=>Oe(d.errors,r)}}),[d,r]),p=E.useCallback(w=>m.current.onChange({target:{value:iq(w),name:r},type:$x.CHANGE}),[r]),b=E.useCallback(()=>m.current.onBlur({target:{value:Oe(a._formValues,r),name:r},type:$x.BLUR}),[r,a._formValues]),x=E.useCallback(w=>{const j=Oe(a._fields,r);j&&w&&(j._f.ref={focus:()=>w.focus&&w.focus(),select:()=>w.select&&w.select(),setCustomValidity:N=>w.setCustomValidity(N),reportValidity:()=>w.reportValidity()})},[a._fields,r]),y=E.useMemo(()=>({name:r,value:u,...da(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:p,onBlur:b,ref:x}),[r,n,d.disabled,p,b,x,u]);return E.useEffect(()=>{const w=a._options.shouldUnregister||i,j=h.current;j&&j!==r&&!l&&a.unregister(j),a.register(r,{...f.current.rules,...da(f.current.disabled)?{disabled:f.current.disabled}:{}});const N=(_,k)=>{const C=Oe(a._fields,_);C&&C._f&&(C._f.mount=k)};if(N(r,!0),w){const _=Dr(Oe(a._options.defaultValues,r,f.current.defaultValue));Et(a._defaultValues,r,_),mr(Oe(a._formValues,r))&&Et(a._formValues,r,_)}return!l&&a.register(r),h.current=r,()=>{(l?w&&!a._state.action:w)?a.unregister(r):N(r,!1)}},[r,a,l,i]),E.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),E.useMemo(()=>({field:y,formState:d,fieldState:v}),[y,d,v])}const p$e=e=>e.render(m$e(e));var uq=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},um=e=>Array.isArray(e)?e:[e],e4=()=>{let e=[];return{get observers(){return e},next:t=>{for(const r of e)r.next&&r.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter(r=>r!==t)}}),unsubscribe:()=>{e=[]}}};function dq(e,t){const r={};for(const n in e)if(e.hasOwnProperty(n)){const a=e[n],i=t[n];if(a&&Pr(a)&&i){const o=dq(a,i);Pr(o)&&(r[n]=o)}else e[n]&&(r[n]=i)}return r}var Fn=e=>Pr(e)&&!Object.keys(e).length,yC=e=>e.type==="file",xs=e=>typeof e=="function",Mx=e=>{if(!hC)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},fq=e=>e.type==="select-multiple",xC=e=>e.type==="radio",g$e=e=>xC(e)||dg(e),Aj=e=>Mx(e)&&e.isConnected;function v$e(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=mr(e)?n++:e[t[n++]];return e}function y$e(e){for(const t in e)if(e.hasOwnProperty(t)&&!mr(e[t]))return!1;return!0}function _r(e,t){const r=Array.isArray(t)?t:L0(t)?[t]:pC(t),n=r.length===1?e:v$e(e,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(Pr(n)&&Fn(n)||Array.isArray(n)&&y$e(n))&&_r(e,r.slice(0,-1)),e}var x$e=e=>{for(const t in e)if(xs(e[t]))return!0;return!1};function hq(e){return Array.isArray(e)||Pr(e)&&!x$e(e)}function e2(e,t={}){for(const r in e)hq(e[r])?(t[r]=Array.isArray(e[r])?[]:{},e2(e[r],t[r])):mr(e[r])||(t[r]=!0);return t}function zu(e,t,r){r||(r=e2(t));for(const n in e)hq(e[n])?mr(t)||J_(r[n])?r[n]=e2(e[n],Array.isArray(e[n])?[]:{}):zu(e[n],qn(t)?{}:t[n],r[n]):r[n]=!Ti(e[n],t[n]);return r}const t4={value:!1,isValid:!1},r4={value:!0,isValid:!0};var mq=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!mr(e[0].attributes.value)?mr(e[0].value)||e[0].value===""?r4:{value:e[0].value,isValid:!0}:r4:t4}return t4},pq=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>mr(e)?e:t?e===""?NaN:e&&+e:r&&va(e)?new Date(e):n?n(e):e;const n4={isValid:!1,value:null};var gq=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,n4):n4;function a4(e){const t=e.ref;return yC(t)?t.files:xC(t)?gq(e.refs).value:fq(t)?[...t.selectedOptions].map(({value:r})=>r):dg(t)?mq(e.refs).value:pq(mr(t.value)?e.ref.value:t.value,e)}var b$e=(e,t,r,n)=>{const a={};for(const i of e){const o=Oe(t,i);o&&Et(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},Rx=e=>e instanceof RegExp,Mh=e=>mr(e)?e:Rx(e)?e.source:Pr(e)?Rx(e.value)?e.value.source:e.value:e,s4=e=>({isOnSubmit:!e||e===ys.onSubmit,isOnBlur:e===ys.onBlur,isOnChange:e===ys.onChange,isOnAll:e===ys.all,isOnTouch:e===ys.onTouched});const i4="AsyncFunction";var w$e=e=>!!e&&!!e.validate&&!!(xs(e.validate)&&e.validate.constructor.name===i4||Pr(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===i4)),j$e=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),o4=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const dm=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const i=Oe(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!n||o.ref&&t(o.ref,o.name)&&!n)return!0;if(dm(l,t))break}else if(Pr(l)&&dm(l,t))break}}};function l4(e,t,r){const n=Oe(e,r);if(n||L0(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=Oe(t,i),l=Oe(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};a.pop()}return{name:r}}var N$e=(e,t,r,n)=>{r(e);const{name:a,...i}=e;return Fn(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||ys.all))},_$e=(e,t,r)=>!e||!t||e===t||um(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),k$e=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,S$e=(e,t)=>!mC(Oe(e,t)).length&&_r(e,t),C$e=(e,t,r)=>{const n=um(Oe(e,r));return Et(n,"root",t[r]),Et(e,r,n),e};function c4(e,t,r="validate"){if(va(e)||Array.isArray(e)&&e.every(va)||da(e)&&!e)return{type:r,message:va(e)?e:"",ref:t}}var Tu=e=>Pr(e)&&!Rx(e)?e:{value:e,message:""},u4=async(e,t,r,n,a,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:m,validate:v,name:p,valueAsNumber:b,mount:x}=e._f,y=Oe(r,p);if(!x||t.has(p))return{};const w=l?l[0]:o,j=S=>{a&&w.reportValidity&&(w.setCustomValidity(da(S)?"":S||""),w.reportValidity())},N={},_=xC(o),k=dg(o),C=_||k,O=(b||yC(o))&&mr(o.value)&&mr(y)||Mx(o)&&o.value===""||y===""||Array.isArray(y)&&!y.length,T=uq.bind(null,p,n,N),P=(S,M,$,q=ki.maxLength,U=ki.minLength)=>{const L=S?M:$;N[p]={type:S?q:U,message:L,ref:o,...T(S?q:U,L)}};if(i?!Array.isArray(y)||!y.length:c&&(!C&&(O||qn(y))||da(y)&&!y||k&&!mq(l).isValid||_&&!gq(l).isValid)){const{value:S,message:M}=va(c)?{value:!!c,message:c}:Tu(c);if(S&&(N[p]={type:ki.required,message:M,ref:w,...T(ki.required,M)},!n))return j(M),N}if(!O&&(!qn(f)||!qn(h))){let S,M;const $=Tu(h),q=Tu(f);if(!qn(y)&&!isNaN(y)){const U=o.valueAsNumber||y&&+y;qn($.value)||(S=U>$.value),qn(q.value)||(M=U<q.value)}else{const U=o.valueAsDate||new Date(y),L=G=>new Date(new Date().toDateString()+" "+G),z=o.type=="time",R=o.type=="week";va($.value)&&y&&(S=z?L(y)>L($.value):R?y>$.value:U>new Date($.value)),va(q.value)&&y&&(M=z?L(y)<L(q.value):R?y<q.value:U<new Date(q.value))}if((S||M)&&(P(!!S,$.message,q.message,ki.max,ki.min),!n))return j(N[p].message),N}if((u||d)&&!O&&(va(y)||i&&Array.isArray(y))){const S=Tu(u),M=Tu(d),$=!qn(S.value)&&y.length>+S.value,q=!qn(M.value)&&y.length<+M.value;if(($||q)&&(P($,S.message,M.message),!n))return j(N[p].message),N}if(m&&!O&&va(y)){const{value:S,message:M}=Tu(m);if(Rx(S)&&!y.match(S)&&(N[p]={type:ki.pattern,message:M,ref:o,...T(ki.pattern,M)},!n))return j(M),N}if(v){if(xs(v)){const S=await v(y,r),M=c4(S,w);if(M&&(N[p]={...M,...T(ki.validate,M.message)},!n))return j(M.message),N}else if(Pr(v)){let S={};for(const M in v){if(!Fn(S)&&!n)break;const $=c4(await v[M](y,r),w,M);$&&(S={...$,...T(M,$.message)},j($.message),n&&(N[p]=S))}if(!Fn(S)&&(N[p]={ref:w,...S},!n))return N}}return j(!0),N};const E$e={mode:ys.onSubmit,reValidateMode:ys.onChange,shouldFocusError:!0};function O$e(e={}){let t={...E$e,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:xs(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=Pr(t.defaultValues)||Pr(t.values)?Dr(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Dr(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:e4(),state:e4()},m=t.criteriaMode===ys.all,v=B=>Y=>{clearTimeout(u),u=setTimeout(B,Y)},p=async B=>{if(!t.disabled&&(d.isValid||f.isValid||B)){const Y=t.resolver?Fn((await k()).errors):await O(n,!0);Y!==r.isValid&&h.state.next({isValid:Y})}},b=(B,Y)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((B||Array.from(l.mount)).forEach(Q=>{Q&&(Y?Et(r.validatingFields,Q,Y):_r(r.validatingFields,Q))}),h.state.next({validatingFields:r.validatingFields,isValidating:!Fn(r.validatingFields)}))},x=(B,Y=[],Q,xe,ye=!0,we=!0)=>{if(xe&&Q&&!t.disabled){if(o.action=!0,we&&Array.isArray(Oe(n,B))){const W=Q(Oe(n,B),xe.argA,xe.argB);ye&&Et(n,B,W)}if(we&&Array.isArray(Oe(r.errors,B))){const W=Q(Oe(r.errors,B),xe.argA,xe.argB);ye&&Et(r.errors,B,W),S$e(r.errors,B)}if((d.touchedFields||f.touchedFields)&&we&&Array.isArray(Oe(r.touchedFields,B))){const W=Q(Oe(r.touchedFields,B),xe.argA,xe.argB);ye&&Et(r.touchedFields,B,W)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=zu(a,i)),h.state.next({name:B,isDirty:P(B,Y),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Et(i,B,Y)},y=(B,Y)=>{Et(r.errors,B,Y),h.state.next({errors:r.errors})},w=B=>{r.errors=B,h.state.next({errors:r.errors,isValid:!1})},j=(B,Y,Q,xe)=>{const ye=Oe(n,B);if(ye){const we=Oe(i,B,mr(Q)?Oe(a,B):Q);mr(we)||xe&&xe.defaultChecked||Y?Et(i,B,Y?we:a4(ye._f)):$(B,we),o.mount&&p()}},N=(B,Y,Q,xe,ye)=>{let we=!1,W=!1;const se={name:B};if(!t.disabled){if(!Q||xe){(d.isDirty||f.isDirty)&&(W=r.isDirty,r.isDirty=se.isDirty=P(),we=W!==se.isDirty);const Se=Ti(Oe(a,B),Y);W=!!Oe(r.dirtyFields,B),Se?_r(r.dirtyFields,B):Et(r.dirtyFields,B,!0),se.dirtyFields=r.dirtyFields,we=we||(d.dirtyFields||f.dirtyFields)&&W!==!Se}if(Q){const Se=Oe(r.touchedFields,B);Se||(Et(r.touchedFields,B,Q),se.touchedFields=r.touchedFields,we=we||(d.touchedFields||f.touchedFields)&&Se!==Q)}we&&ye&&h.state.next(se)}return we?se:{}},_=(B,Y,Q,xe)=>{const ye=Oe(r.errors,B),we=(d.isValid||f.isValid)&&da(Y)&&r.isValid!==Y;if(t.delayError&&Q?(c=v(()=>y(B,Q)),c(t.delayError)):(clearTimeout(u),c=null,Q?Et(r.errors,B,Q):_r(r.errors,B)),(Q?!Ti(ye,Q):ye)||!Fn(xe)||we){const W={...xe,...we&&da(Y)?{isValid:Y}:{},errors:r.errors,name:B};r={...r,...W},h.state.next(W)}},k=async B=>{b(B,!0);const Y=await t.resolver(i,t.context,b$e(B||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return b(B),Y},C=async B=>{const{errors:Y}=await k(B);if(B)for(const Q of B){const xe=Oe(Y,Q);xe?Et(r.errors,Q,xe):_r(r.errors,Q)}else r.errors=Y;return Y},O=async(B,Y,Q={valid:!0})=>{for(const xe in B){const ye=B[xe];if(ye){const{_f:we,...W}=ye;if(we){const se=l.array.has(we.name),Se=ye._f&&w$e(ye._f);Se&&d.validatingFields&&b([we.name],!0);const mt=await u4(ye,l.disabled,i,m,t.shouldUseNativeValidation&&!Y,se);if(Se&&d.validatingFields&&b([we.name]),mt[we.name]&&(Q.valid=!1,Y))break;!Y&&(Oe(mt,we.name)?se?C$e(r.errors,mt,we.name):Et(r.errors,we.name,mt[we.name]):_r(r.errors,we.name))}!Fn(W)&&await O(W,Y,Q)}}return Q.valid},T=()=>{for(const B of l.unMount){const Y=Oe(n,B);Y&&(Y._f.refs?Y._f.refs.every(Q=>!Aj(Q)):!Aj(Y._f.ref))&&V(B)}l.unMount=new Set},P=(B,Y)=>!t.disabled&&(B&&Y&&Et(i,B,Y),!Ti(G(),a)),S=(B,Y,Q)=>cq(B,l,{...o.mount?i:mr(Y)?a:va(B)?{[B]:Y}:Y},Q,Y),M=B=>mC(Oe(o.mount?i:a,B,t.shouldUnregister?Oe(a,B,[]):[])),$=(B,Y,Q={})=>{const xe=Oe(n,B);let ye=Y;if(xe){const we=xe._f;we&&(!we.disabled&&Et(i,B,pq(Y,we)),ye=Mx(we.ref)&&qn(Y)?"":Y,fq(we.ref)?[...we.ref.options].forEach(W=>W.selected=ye.includes(W.value)):we.refs?dg(we.ref)?we.refs.forEach(W=>{(!W.defaultChecked||!W.disabled)&&(Array.isArray(ye)?W.checked=!!ye.find(se=>se===W.value):W.checked=ye===W.value||!!ye)}):we.refs.forEach(W=>W.checked=W.value===ye):yC(we.ref)?we.ref.value="":(we.ref.value=ye,we.ref.type||h.state.next({name:B,values:Dr(i)})))}(Q.shouldDirty||Q.shouldTouch)&&N(B,ye,Q.shouldTouch,Q.shouldDirty,!0),Q.shouldValidate&&R(B)},q=(B,Y,Q)=>{for(const xe in Y){if(!Y.hasOwnProperty(xe))return;const ye=Y[xe],we=B+"."+xe,W=Oe(n,we);(l.array.has(B)||Pr(ye)||W&&!W._f)&&!mc(ye)?q(we,ye,Q):$(we,ye,Q)}},U=(B,Y,Q={})=>{const xe=Oe(n,B),ye=l.array.has(B),we=Dr(Y);Et(i,B,we),ye?(h.array.next({name:B,values:Dr(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&Q.shouldDirty&&h.state.next({name:B,dirtyFields:zu(a,i),isDirty:P(B,we)})):xe&&!xe._f&&!qn(we)?q(B,we,Q):$(B,we,Q),o4(B,l)&&h.state.next({...r,name:B}),h.state.next({name:o.mount?B:void 0,values:Dr(i)})},L=async B=>{o.mount=!0;const Y=B.target;let Q=Y.name,xe=!0;const ye=Oe(n,Q),we=Se=>{xe=Number.isNaN(Se)||mc(Se)&&isNaN(Se.getTime())||Ti(Se,Oe(i,Q,Se))},W=s4(t.mode),se=s4(t.reValidateMode);if(ye){let Se,mt;const Vt=Y.type?a4(ye._f):iq(B),tr=B.type===$x.BLUR||B.type===$x.FOCUS_OUT,wn=!j$e(ye._f)&&!t.resolver&&!Oe(r.errors,Q)&&!ye._f.deps||k$e(tr,Oe(r.touchedFields,Q),r.isSubmitted,se,W),dr=o4(Q,l,tr);Et(i,Q,Vt),tr?(!Y||!Y.readOnly)&&(ye._f.onBlur&&ye._f.onBlur(B),c&&c(0)):ye._f.onChange&&ye._f.onChange(B);const Wr=N(Q,Vt,tr),Tn=!Fn(Wr)||dr;if(!tr&&h.state.next({name:Q,type:B.type,values:Dr(i)}),wn)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?tr&&p():tr||p()),Tn&&h.state.next({name:Q,...dr?{}:Wr});if(!tr&&dr&&h.state.next({...r}),t.resolver){const{errors:$s}=await k([Q]);if(we(Vt),xe){const ra=l4(r.errors,n,Q),Nt=l4($s,n,ra.name||Q);Se=Nt.error,Q=Nt.name,mt=Fn($s)}}else b([Q],!0),Se=(await u4(ye,l.disabled,i,m,t.shouldUseNativeValidation))[Q],b([Q]),we(Vt),xe&&(Se?mt=!1:(d.isValid||f.isValid)&&(mt=await O(n,!0)));xe&&(ye._f.deps&&(!Array.isArray(ye._f.deps)||ye._f.deps.length>0)&&R(ye._f.deps),_(Q,mt,Se,Wr))}},z=(B,Y)=>{if(Oe(r.errors,Y)&&B.focus)return B.focus(),1},R=async(B,Y={})=>{let Q,xe;const ye=um(B);if(t.resolver){const we=await C(mr(B)?B:ye);Q=Fn(we),xe=B?!ye.some(W=>Oe(we,W)):Q}else B?(xe=(await Promise.all(ye.map(async we=>{const W=Oe(n,we);return await O(W&&W._f?{[we]:W}:W)}))).every(Boolean),!(!xe&&!r.isValid)&&p()):xe=Q=await O(n);return h.state.next({...!va(B)||(d.isValid||f.isValid)&&Q!==r.isValid?{}:{name:B},...t.resolver||!B?{isValid:Q}:{},errors:r.errors}),Y.shouldFocus&&!xe&&dm(n,z,B?ye:l.mount),xe},G=(B,Y)=>{let Q={...o.mount?i:a};return Y&&(Q=dq(Y.dirtyFields?r.dirtyFields:r.touchedFields,Q)),mr(B)?Q:va(B)?Oe(Q,B):B.map(xe=>Oe(Q,xe))},D=(B,Y)=>({invalid:!!Oe((Y||r).errors,B),isDirty:!!Oe((Y||r).dirtyFields,B),error:Oe((Y||r).errors,B),isValidating:!!Oe(r.validatingFields,B),isTouched:!!Oe((Y||r).touchedFields,B)}),F=B=>{B&&um(B).forEach(Y=>_r(r.errors,Y)),h.state.next({errors:B?r.errors:{}})},J=(B,Y,Q)=>{const xe=(Oe(n,B,{_f:{}})._f||{}).ref,ye=Oe(r.errors,B)||{},{ref:we,message:W,type:se,...Se}=ye;Et(r.errors,B,{...Se,...Y,ref:xe}),h.state.next({name:B,errors:r.errors,isValid:!1}),Q&&Q.shouldFocus&&xe&&xe.focus&&xe.focus()},H=(B,Y)=>xs(B)?h.state.subscribe({next:Q=>"values"in Q&&B(S(void 0,Y),Q)}):S(B,Y,!0),I=B=>h.state.subscribe({next:Y=>{_$e(B.name,Y.name,B.exact)&&N$e(Y,B.formState||d,Qe,B.reRenderRoot)&&B.callback({values:{...i},...r,...Y,defaultValues:a})}}).unsubscribe,oe=B=>(o.mount=!0,f={...f,...B.formState},I({...B,formState:f})),V=(B,Y={})=>{for(const Q of B?um(B):l.mount)l.mount.delete(Q),l.array.delete(Q),Y.keepValue||(_r(n,Q),_r(i,Q)),!Y.keepError&&_r(r.errors,Q),!Y.keepDirty&&_r(r.dirtyFields,Q),!Y.keepTouched&&_r(r.touchedFields,Q),!Y.keepIsValidating&&_r(r.validatingFields,Q),!t.shouldUnregister&&!Y.keepDefaultValue&&_r(a,Q);h.state.next({values:Dr(i)}),h.state.next({...r,...Y.keepDirty?{isDirty:P()}:{}}),!Y.keepIsValid&&p()},de=({disabled:B,name:Y})=>{(da(B)&&o.mount||B||l.disabled.has(Y))&&(B?l.disabled.add(Y):l.disabled.delete(Y))},te=(B,Y={})=>{let Q=Oe(n,B);const xe=da(Y.disabled)||da(t.disabled);return Et(n,B,{...Q||{},_f:{...Q&&Q._f?Q._f:{ref:{name:B}},name:B,mount:!0,...Y}}),l.mount.add(B),Q?de({disabled:da(Y.disabled)?Y.disabled:t.disabled,name:B}):j(B,!0,Y.value),{...xe?{disabled:Y.disabled||t.disabled}:{},...t.progressive?{required:!!Y.required,min:Mh(Y.min),max:Mh(Y.max),minLength:Mh(Y.minLength),maxLength:Mh(Y.maxLength),pattern:Mh(Y.pattern)}:{},name:B,onChange:L,onBlur:L,ref:ye=>{if(ye){te(B,Y),Q=Oe(n,B);const we=mr(ye.value)&&ye.querySelectorAll&&ye.querySelectorAll("input,select,textarea")[0]||ye,W=g$e(we),se=Q._f.refs||[];if(W?se.find(Se=>Se===we):we===Q._f.ref)return;Et(n,B,{_f:{...Q._f,...W?{refs:[...se.filter(Aj),we,...Array.isArray(Oe(a,B))?[{}]:[]],ref:{type:we.type,name:B}}:{ref:we}}}),j(B,!1,void 0,we)}else Q=Oe(n,B,{}),Q._f&&(Q._f.mount=!1),(t.shouldUnregister||Y.shouldUnregister)&&!(oq(l.array,B)&&o.action)&&l.unMount.add(B)}}},ce=()=>t.shouldFocusError&&dm(n,z,l.mount),ne=B=>{da(B)&&(h.state.next({disabled:B}),dm(n,(Y,Q)=>{const xe=Oe(n,Q);xe&&(Y.disabled=xe._f.disabled||B,Array.isArray(xe._f.refs)&&xe._f.refs.forEach(ye=>{ye.disabled=xe._f.disabled||B}))},0,!1))},ee=(B,Y)=>async Q=>{let xe;Q&&(Q.preventDefault&&Q.preventDefault(),Q.persist&&Q.persist());let ye=Dr(i);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:we,values:W}=await k();r.errors=we,ye=Dr(W)}else await O(n);if(l.disabled.size)for(const we of l.disabled)_r(ye,we);if(_r(r.errors,"root"),Fn(r.errors)){h.state.next({errors:{}});try{await B(ye,Q)}catch(we){xe=we}}else Y&&await Y({...r.errors},Q),ce(),setTimeout(ce);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Fn(r.errors)&&!xe,submitCount:r.submitCount+1,errors:r.errors}),xe)throw xe},qe=(B,Y={})=>{Oe(n,B)&&(mr(Y.defaultValue)?U(B,Dr(Oe(a,B))):(U(B,Y.defaultValue),Et(a,B,Dr(Y.defaultValue))),Y.keepTouched||_r(r.touchedFields,B),Y.keepDirty||(_r(r.dirtyFields,B),r.isDirty=Y.defaultValue?P(B,Dr(Oe(a,B))):P()),Y.keepError||(_r(r.errors,B),d.isValid&&p()),h.state.next({...r}))},Re=(B,Y={})=>{const Q=B?Dr(B):a,xe=Dr(Q),ye=Fn(B),we=ye?a:xe;if(Y.keepDefaultValues||(a=Q),!Y.keepValues){if(Y.keepDirtyValues){const W=new Set([...l.mount,...Object.keys(zu(a,i))]);for(const se of Array.from(W))Oe(r.dirtyFields,se)?Et(we,se,Oe(i,se)):U(se,Oe(we,se))}else{if(hC&&mr(B))for(const W of l.mount){const se=Oe(n,W);if(se&&se._f){const Se=Array.isArray(se._f.refs)?se._f.refs[0]:se._f.ref;if(Mx(Se)){const mt=Se.closest("form");if(mt){mt.reset();break}}}}if(Y.keepFieldsRef)for(const W of l.mount)U(W,Oe(we,W));else n={}}i=t.shouldUnregister?Y.keepDefaultValues?Dr(a):{}:Dr(we),h.array.next({values:{...we}}),h.state.next({values:{...we}})}l={mount:Y.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!Y.keepIsValid||!!Y.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:Y.keepSubmitCount?r.submitCount:0,isDirty:ye?!1:Y.keepDirty?r.isDirty:!!(Y.keepDefaultValues&&!Ti(B,a)),isSubmitted:Y.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ye?{}:Y.keepDirtyValues?Y.keepDefaultValues&&i?zu(a,i):r.dirtyFields:Y.keepDefaultValues&&B?zu(a,B):Y.keepDirty?r.dirtyFields:{},touchedFields:Y.keepTouched?r.touchedFields:{},errors:Y.keepErrors?r.errors:{},isSubmitSuccessful:Y.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},ut=(B,Y)=>Re(xs(B)?B(i):B,Y),it=(B,Y={})=>{const Q=Oe(n,B),xe=Q&&Q._f;if(xe){const ye=xe.refs?xe.refs[0]:xe.ref;ye.focus&&(ye.focus(),Y.shouldSelect&&xs(ye.select)&&ye.select())}},Qe=B=>{r={...r,...B}},Z={control:{register:te,unregister:V,getFieldState:D,handleSubmit:ee,setError:J,_subscribe:I,_runSchema:k,_focusError:ce,_getWatch:S,_getDirty:P,_setValid:p,_setFieldArray:x,_setDisabledField:de,_setErrors:w,_getFieldArray:M,_reset:Re,_resetDefaultValues:()=>xs(t.defaultValues)&&t.defaultValues().then(B=>{ut(B,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:T,_disableForm:ne,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(B){o=B},get _defaultValues(){return a},get _names(){return l},set _names(B){l=B},get _formState(){return r},get _options(){return t},set _options(B){t={...t,...B}}},subscribe:oe,trigger:R,register:te,handleSubmit:ee,watch:H,setValue:U,getValues:G,reset:ut,resetField:qe,clearErrors:F,unregister:V,setError:J,setFocus:it,getFieldState:D};return{...Z,formControl:Z}}function A$e(e={}){const t=E.useRef(void 0),r=E.useRef(void 0),[n,a]=E.useState({isDirty:!1,isValidating:!1,isLoading:xs(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:xs(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!xs(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=O$e(e);t.current={...l,formState:n}}const i=t.current.control;return i._options=e,vC(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),E.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),E.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),E.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),E.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),E.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),E.useEffect(()=>{e.values&&!Ti(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),E.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=lq(n,i),t.current}const d4=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Oe(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},vq=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?d4(n.ref,r,e):n.refs&&n.refs.forEach(a=>d4(a,r,e))}},P$e=(e,t)=>{t.shouldUseNativeValidation&&vq(e,t);const r={};for(const n in e){const a=Oe(t.fields,n),i=Object.assign(e[n]||{},{ref:a&&a.ref});if(T$e(t.names||Object.keys(e),n)){const o=Object.assign({},Oe(r,n));Et(o,"root",i),Et(r,n,o)}else Et(r,n,i)}return r},T$e=(e,t)=>e.some(r=>r.startsWith(t+"."));var $$e=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=uq(o,t,r,a,u?[].concat(u,n.message):n.message)}e.shift()}return r},M$e=function(e,t,r){return r===void 0&&(r={}),function(n,a,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&vq({},i),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:P$e($$e(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},_t;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(_t||(_t={}));var f4;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(f4||(f4={}));const Le=_t.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Co=e=>{switch(typeof e){case"undefined":return Le.undefined;case"string":return Le.string;case"number":return Number.isNaN(e)?Le.nan:Le.number;case"boolean":return Le.boolean;case"function":return Le.function;case"bigint":return Le.bigint;case"symbol":return Le.symbol;case"object":return Array.isArray(e)?Le.array:e===null?Le.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Le.promise:typeof Map<"u"&&e instanceof Map?Le.map:typeof Set<"u"&&e instanceof Set?Le.set:typeof Date<"u"&&e instanceof Date?Le.date:Le.object;default:return Le.unknown}},ke=_t.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class As extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return a(this),n}static assert(t){if(!(t instanceof As))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,_t.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];r[i]=r[i]||[],r[i].push(t(a))}else n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}As.create=e=>new As(e);const t2=(e,t)=>{let r;switch(e.code){case ke.invalid_type:e.received===Le.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case ke.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,_t.jsonStringifyReplacer)}`;break;case ke.unrecognized_keys:r=`Unrecognized key(s) in object: ${_t.joinValues(e.keys,", ")}`;break;case ke.invalid_union:r="Invalid input";break;case ke.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${_t.joinValues(e.options)}`;break;case ke.invalid_enum_value:r=`Invalid enum value. Expected ${_t.joinValues(e.options)}, received '${e.received}'`;break;case ke.invalid_arguments:r="Invalid function arguments";break;case ke.invalid_return_type:r="Invalid function return type";break;case ke.invalid_date:r="Invalid date";break;case ke.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:_t.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case ke.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case ke.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case ke.custom:r="Invalid input";break;case ke.invalid_intersection_types:r="Intersection results could not be merged";break;case ke.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case ke.not_finite:r="Number must be finite";break;default:r=t.defaultError,_t.assertNever(e)}return{message:r}};let R$e=t2;function I$e(){return R$e}const D$e=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}};function Te(e,t){const r=I$e(),n=D$e({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===t2?void 0:t2].filter(a=>!!a)});e.common.issues.push(n)}class ka{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return st;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const i=await a.key,o=await a.value;n.push({key:i,value:o})}return ka.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return st;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const st=Object.freeze({status:"aborted"}),r2=e=>({status:"dirty",value:e}),Ja=e=>({status:"valid",value:e}),h4=e=>e.status==="aborted",m4=e=>e.status==="dirty",mf=e=>e.status==="valid",Ix=e=>typeof Promise<"u"&&e instanceof Promise;var Fe;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Fe||(Fe={}));class pl{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const p4=(e,t)=>{if(mf(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new As(e.common.issues);return this._error=r,this._error}}};function ht(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(i,o)=>{const{message:l}=e;return i.code==="invalid_enum_value"?{message:l??o.defaultError}:typeof o.data>"u"?{message:l??n??o.defaultError}:i.code!=="invalid_type"?{message:o.defaultError}:{message:l??r??o.defaultError}},description:a}}class jt{get description(){return this._def.description}_getType(t){return Co(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Co(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new ka,ctx:{common:t.parent.common,data:t.data,parsedType:Co(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Ix(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Co(t)},a=this._parseSync({data:t,path:n.path,parent:n});return p4(n,a)}"~validate"(t){var r,n;const a={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Co(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:a});return mf(i)?{value:i.value}:{issues:a.common.issues}}catch(i){(n=(r=i==null?void 0:i.message)==null?void 0:r.toLowerCase())!=null&&n.includes("encountered")&&(this["~standard"].async=!0),a.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:a}).then(i=>mf(i)?{value:i.value}:{issues:a.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Co(t)},a=this._parse({data:t,path:n.path,parent:n}),i=await(Ix(a)?a:Promise.resolve(a));return p4(n,i)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:ke.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new vf({schema:this,typeName:tt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return nl.create(this,this._def)}nullable(){return yf.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return oi.create(this)}promise(){return Fx.create(this,this._def)}or(t){return zx.create([this,t],this._def)}and(t){return Lx.create(this,t,this._def)}transform(t){return new vf({...ht(this._def),schema:this,typeName:tt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new a2({...ht(this._def),innerType:this,defaultValue:r,typeName:tt.ZodDefault})}brand(){return new iMe({typeName:tt.ZodBranded,type:this,...ht(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new s2({...ht(this._def),innerType:this,catchValue:r,typeName:tt.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return bC.create(this,t)}readonly(){return i2.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const z$e=/^c[^\s-]{8,}$/i,L$e=/^[0-9a-z]+$/,F$e=/^[0-9A-HJKMNP-TV-Z]{26}$/i,B$e=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,q$e=/^[a-z0-9_-]{21}$/i,U$e=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,V$e=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,W$e=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,K$e="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Pj;const H$e=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,G$e=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Y$e=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Q$e=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Z$e=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,X$e=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,yq="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",J$e=new RegExp(`^${yq}$`);function xq(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function eMe(e){return new RegExp(`^${xq(e)}$`)}function tMe(e){let t=`${yq}T${xq(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function rMe(e,t){return!!((t==="v4"||!t)&&H$e.test(e)||(t==="v6"||!t)&&Y$e.test(e))}function nMe(e,t){if(!U$e.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function aMe(e,t){return!!((t==="v4"||!t)&&G$e.test(e)||(t==="v6"||!t)&&Q$e.test(e))}class Fo extends jt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Le.string){const a=this._getOrReturnCtx(t);return Te(a,{code:ke.invalid_type,expected:Le.string,received:a.parsedType}),st}const r=new ka;let n;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(n=this._getOrReturnCtx(t,n),Te(n,{code:ke.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")t.data.length>a.value&&(n=this._getOrReturnCtx(t,n),Te(n,{code:ke.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const i=t.data.length>a.value,o=t.data.length<a.value;(i||o)&&(n=this._getOrReturnCtx(t,n),i?Te(n,{code:ke.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&Te(n,{code:ke.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")W$e.test(t.data)||(n=this._getOrReturnCtx(t,n),Te(n,{validation:"email",code:ke.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")Pj||(Pj=new RegExp(K$e,"u")),Pj.test(t.data)||(n=this._getOrReturnCtx(t,n),Te(n,{validation:"emoji",code:ke.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")B$e.test(t.data)||(n=this._getOrReturnCtx(t,n),Te(n,{validation:"uuid",code:ke.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")q$e.test(t.data)||(n=this._getOrReturnCtx(t,n),Te(n,{validation:"nanoid",code:ke.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")z$e.test(t.data)||(n=this._getOrReturnCtx(t,n),Te(n,{validation:"cuid",code:ke.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")L$e.test(t.data)||(n=this._getOrReturnCtx(t,n),Te(n,{validation:"cuid2",code:ke.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")F$e.test(t.data)||(n=this._getOrReturnCtx(t,n),Te(n,{validation:"ulid",code:ke.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{n=this._getOrReturnCtx(t,n),Te(n,{validation:"url",code:ke.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(n=this._getOrReturnCtx(t,n),Te(n,{validation:"regex",code:ke.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(n=this._getOrReturnCtx(t,n),Te(n,{code:ke.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(n=this._getOrReturnCtx(t,n),Te(n,{code:ke.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(n=this._getOrReturnCtx(t,n),Te(n,{code:ke.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?tMe(a).test(t.data)||(n=this._getOrReturnCtx(t,n),Te(n,{code:ke.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?J$e.test(t.data)||(n=this._getOrReturnCtx(t,n),Te(n,{code:ke.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?eMe(a).test(t.data)||(n=this._getOrReturnCtx(t,n),Te(n,{code:ke.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?V$e.test(t.data)||(n=this._getOrReturnCtx(t,n),Te(n,{validation:"duration",code:ke.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?rMe(t.data,a.version)||(n=this._getOrReturnCtx(t,n),Te(n,{validation:"ip",code:ke.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?nMe(t.data,a.alg)||(n=this._getOrReturnCtx(t,n),Te(n,{validation:"jwt",code:ke.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?aMe(t.data,a.version)||(n=this._getOrReturnCtx(t,n),Te(n,{validation:"cidr",code:ke.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?Z$e.test(t.data)||(n=this._getOrReturnCtx(t,n),Te(n,{validation:"base64",code:ke.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?X$e.test(t.data)||(n=this._getOrReturnCtx(t,n),Te(n,{validation:"base64url",code:ke.invalid_string,message:a.message}),r.dirty()):_t.assertNever(a);return{status:r.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:ke.invalid_string,...Fe.errToObj(n)})}_addCheck(t){return new Fo({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Fe.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Fe.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Fe.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Fe.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Fe.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Fe.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Fe.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Fe.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Fe.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Fe.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Fe.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Fe.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Fe.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Fe.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Fe.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Fe.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Fe.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Fe.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Fe.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Fe.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Fe.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Fe.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Fe.errToObj(r)})}nonempty(t){return this.min(1,Fe.errToObj(t))}trim(){return new Fo({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Fo({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Fo({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Fo.create=e=>new Fo({checks:[],typeName:tt.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...ht(e)});function sMe(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,i=Number.parseInt(e.toFixed(a).replace(".","")),o=Number.parseInt(t.toFixed(a).replace(".",""));return i%o/10**a}class pf extends jt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Le.number){const a=this._getOrReturnCtx(t);return Te(a,{code:ke.invalid_type,expected:Le.number,received:a.parsedType}),st}let r;const n=new ka;for(const a of this._def.checks)a.kind==="int"?_t.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),Te(r,{code:ke.invalid_type,expected:"integer",received:"float",message:a.message}),n.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(r=this._getOrReturnCtx(t,r),Te(r,{code:ke.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(r=this._getOrReturnCtx(t,r),Te(r,{code:ke.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty()):a.kind==="multipleOf"?sMe(t.data,a.value)!==0&&(r=this._getOrReturnCtx(t,r),Te(r,{code:ke.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),Te(r,{code:ke.not_finite,message:a.message}),n.dirty()):_t.assertNever(a);return{status:n.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Fe.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Fe.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Fe.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Fe.toString(r))}setLimit(t,r,n,a){return new pf({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Fe.toString(a)}]})}_addCheck(t){return new pf({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Fe.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Fe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Fe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Fe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Fe.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Fe.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Fe.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Fe.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Fe.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&_t.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}pf.create=e=>new pf({checks:[],typeName:tt.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...ht(e)});class Ep extends jt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Le.bigint)return this._getInvalidInput(t);let r;const n=new ka;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(r=this._getOrReturnCtx(t,r),Te(r,{code:ke.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(r=this._getOrReturnCtx(t,r),Te(r,{code:ke.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),Te(r,{code:ke.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):_t.assertNever(a);return{status:n.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return Te(r,{code:ke.invalid_type,expected:Le.bigint,received:r.parsedType}),st}gte(t,r){return this.setLimit("min",t,!0,Fe.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Fe.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Fe.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Fe.toString(r))}setLimit(t,r,n,a){return new Ep({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Fe.toString(a)}]})}_addCheck(t){return new Ep({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Fe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Fe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Fe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Fe.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Fe.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Ep.create=e=>new Ep({checks:[],typeName:tt.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...ht(e)});class g4 extends jt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Le.boolean){const r=this._getOrReturnCtx(t);return Te(r,{code:ke.invalid_type,expected:Le.boolean,received:r.parsedType}),st}return Ja(t.data)}}g4.create=e=>new g4({typeName:tt.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...ht(e)});class Dx extends jt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Le.date){const a=this._getOrReturnCtx(t);return Te(a,{code:ke.invalid_type,expected:Le.date,received:a.parsedType}),st}if(Number.isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return Te(a,{code:ke.invalid_date}),st}const r=new ka;let n;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(n=this._getOrReturnCtx(t,n),Te(n,{code:ke.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(n=this._getOrReturnCtx(t,n),Te(n,{code:ke.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):_t.assertNever(a);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Dx({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Fe.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Fe.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Dx.create=e=>new Dx({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:tt.ZodDate,...ht(e)});class v4 extends jt{_parse(t){if(this._getType(t)!==Le.symbol){const r=this._getOrReturnCtx(t);return Te(r,{code:ke.invalid_type,expected:Le.symbol,received:r.parsedType}),st}return Ja(t.data)}}v4.create=e=>new v4({typeName:tt.ZodSymbol,...ht(e)});class y4 extends jt{_parse(t){if(this._getType(t)!==Le.undefined){const r=this._getOrReturnCtx(t);return Te(r,{code:ke.invalid_type,expected:Le.undefined,received:r.parsedType}),st}return Ja(t.data)}}y4.create=e=>new y4({typeName:tt.ZodUndefined,...ht(e)});class x4 extends jt{_parse(t){if(this._getType(t)!==Le.null){const r=this._getOrReturnCtx(t);return Te(r,{code:ke.invalid_type,expected:Le.null,received:r.parsedType}),st}return Ja(t.data)}}x4.create=e=>new x4({typeName:tt.ZodNull,...ht(e)});class b4 extends jt{constructor(){super(...arguments),this._any=!0}_parse(t){return Ja(t.data)}}b4.create=e=>new b4({typeName:tt.ZodAny,...ht(e)});class w4 extends jt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Ja(t.data)}}w4.create=e=>new w4({typeName:tt.ZodUnknown,...ht(e)});class gl extends jt{_parse(t){const r=this._getOrReturnCtx(t);return Te(r,{code:ke.invalid_type,expected:Le.never,received:r.parsedType}),st}}gl.create=e=>new gl({typeName:tt.ZodNever,...ht(e)});class j4 extends jt{_parse(t){if(this._getType(t)!==Le.undefined){const r=this._getOrReturnCtx(t);return Te(r,{code:ke.invalid_type,expected:Le.void,received:r.parsedType}),st}return Ja(t.data)}}j4.create=e=>new j4({typeName:tt.ZodVoid,...ht(e)});class oi extends jt{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==Le.array)return Te(r,{code:ke.invalid_type,expected:Le.array,received:r.parsedType}),st;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(Te(r,{code:o?ke.too_big:ke.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(Te(r,{code:ke.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(Te(r,{code:ke.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new pl(r,o,r.path,l)))).then(o=>ka.mergeArray(n,o));const i=[...r.data].map((o,l)=>a.type._parseSync(new pl(r,o,r.path,l)));return ka.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new oi({...this._def,minLength:{value:t,message:Fe.toString(r)}})}max(t,r){return new oi({...this._def,maxLength:{value:t,message:Fe.toString(r)}})}length(t,r){return new oi({...this._def,exactLength:{value:t,message:Fe.toString(r)}})}nonempty(t){return this.min(1,t)}}oi.create=(e,t)=>new oi({type:e,minLength:null,maxLength:null,exactLength:null,typeName:tt.ZodArray,...ht(t)});function Lu(e){if(e instanceof Er){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=nl.create(Lu(n))}return new Er({...e._def,shape:()=>t})}else return e instanceof oi?new oi({...e._def,type:Lu(e.element)}):e instanceof nl?nl.create(Lu(e.unwrap())):e instanceof yf?yf.create(Lu(e.unwrap())):e instanceof qc?qc.create(e.items.map(t=>Lu(t))):e}class Er extends jt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=_t.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==Le.object){const c=this._getOrReturnCtx(t);return Te(c,{code:ke.invalid_type,expected:Le.object,received:c.parsedType}),st}const{status:r,ctx:n}=this._processInputParams(t),{shape:a,keys:i}=this._getCached(),o=[];if(!(this._def.catchall instanceof gl&&this._def.unknownKeys==="strip"))for(const c in n.data)i.includes(c)||o.push(c);const l=[];for(const c of i){const u=a[c],d=n.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new pl(n,d,n.path,c)),alwaysSet:c in n.data})}if(this._def.catchall instanceof gl){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of o)l.push({key:{status:"valid",value:u},value:{status:"valid",value:n.data[u]}});else if(c==="strict")o.length>0&&(Te(n,{code:ke.unrecognized_keys,keys:o}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of o){const d=n.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new pl(n,d,n.path,u)),alwaysSet:u in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const d=await u.key,f=await u.value;c.push({key:d,value:f,alwaysSet:u.alwaysSet})}return c}).then(c=>ka.mergeObjectSync(r,c)):ka.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(t){return Fe.errToObj,new Er({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var a,i;const o=((i=(a=this._def).errorMap)==null?void 0:i.call(a,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:Fe.errToObj(t).message??o}:{message:o}}}:{}})}strip(){return new Er({...this._def,unknownKeys:"strip"})}passthrough(){return new Er({...this._def,unknownKeys:"passthrough"})}extend(t){return new Er({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Er({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:tt.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Er({...this._def,catchall:t})}pick(t){const r={};for(const n of _t.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Er({...this._def,shape:()=>r})}omit(t){const r={};for(const n of _t.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new Er({...this._def,shape:()=>r})}deepPartial(){return Lu(this)}partial(t){const r={};for(const n of _t.objectKeys(this.shape)){const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}return new Er({...this._def,shape:()=>r})}required(t){const r={};for(const n of _t.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof nl;)a=a._def.innerType;r[n]=a}return new Er({...this._def,shape:()=>r})}keyof(){return bq(_t.objectKeys(this.shape))}}Er.create=(e,t)=>new Er({shape:()=>e,unknownKeys:"strip",catchall:gl.create(),typeName:tt.ZodObject,...ht(t)});Er.strictCreate=(e,t)=>new Er({shape:()=>e,unknownKeys:"strict",catchall:gl.create(),typeName:tt.ZodObject,...ht(t)});Er.lazycreate=(e,t)=>new Er({shape:e,unknownKeys:"strip",catchall:gl.create(),typeName:tt.ZodObject,...ht(t)});class zx extends jt{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new As(l.ctx.common.issues));return Te(r,{code:ke.invalid_union,unionErrors:o}),st}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new As(c));return Te(r,{code:ke.invalid_union,unionErrors:l}),st}}get options(){return this._def.options}}zx.create=(e,t)=>new zx({options:e,typeName:tt.ZodUnion,...ht(t)});function n2(e,t){const r=Co(e),n=Co(t);if(e===t)return{valid:!0,data:e};if(r===Le.object&&n===Le.object){const a=_t.objectKeys(t),i=_t.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=n2(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===Le.array&&n===Le.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=n2(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===Le.date&&n===Le.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Lx extends jt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(i,o)=>{if(h4(i)||h4(o))return st;const l=n2(i.value,o.value);return l.valid?((m4(i)||m4(o))&&r.dirty(),{status:r.value,value:l.data}):(Te(n,{code:ke.invalid_intersection_types}),st)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Lx.create=(e,t,r)=>new Lx({left:e,right:t,typeName:tt.ZodIntersection,...ht(r)});class qc extends jt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Le.array)return Te(n,{code:ke.invalid_type,expected:Le.array,received:n.parsedType}),st;if(n.data.length<this._def.items.length)return Te(n,{code:ke.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),st;!this._def.rest&&n.data.length>this._def.items.length&&(Te(n,{code:ke.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((i,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new pl(n,i,n.path,o)):null}).filter(i=>!!i);return n.common.async?Promise.all(a).then(i=>ka.mergeArray(r,i)):ka.mergeArray(r,a)}get items(){return this._def.items}rest(t){return new qc({...this._def,rest:t})}}qc.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new qc({items:e,typeName:tt.ZodTuple,rest:null,...ht(t)})};class N4 extends jt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Le.map)return Te(n,{code:ke.invalid_type,expected:Le.map,received:n.parsedType}),st;const a=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:a._parse(new pl(n,l,n.path,[u,"key"])),value:i._parse(new pl(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return st;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return st;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}N4.create=(e,t,r)=>new N4({valueType:t,keyType:e,typeName:tt.ZodMap,...ht(r)});class Op extends jt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Le.set)return Te(n,{code:ke.invalid_type,expected:Le.set,received:n.parsedType}),st;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(Te(n,{code:ke.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(Te(n,{code:ke.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return st;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new pl(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new Op({...this._def,minSize:{value:t,message:Fe.toString(r)}})}max(t,r){return new Op({...this._def,maxSize:{value:t,message:Fe.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Op.create=(e,t)=>new Op({valueType:e,minSize:null,maxSize:null,typeName:tt.ZodSet,...ht(t)});class _4 extends jt{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}_4.create=(e,t)=>new _4({getter:e,typeName:tt.ZodLazy,...ht(t)});class k4 extends jt{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Te(r,{received:r.data,code:ke.invalid_literal,expected:this._def.value}),st}return{status:"valid",value:t.data}}get value(){return this._def.value}}k4.create=(e,t)=>new k4({value:e,typeName:tt.ZodLiteral,...ht(t)});function bq(e,t){return new gf({values:e,typeName:tt.ZodEnum,...ht(t)})}class gf extends jt{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Te(r,{expected:_t.joinValues(n),received:r.parsedType,code:ke.invalid_type}),st}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return Te(r,{received:r.data,code:ke.invalid_enum_value,options:n}),st}return Ja(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return gf.create(t,{...this._def,...r})}exclude(t,r=this._def){return gf.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}gf.create=bq;class S4 extends jt{_parse(t){const r=_t.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Le.string&&n.parsedType!==Le.number){const a=_t.objectValues(r);return Te(n,{expected:_t.joinValues(a),received:n.parsedType,code:ke.invalid_type}),st}if(this._cache||(this._cache=new Set(_t.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=_t.objectValues(r);return Te(n,{received:n.data,code:ke.invalid_enum_value,options:a}),st}return Ja(t.data)}get enum(){return this._def.values}}S4.create=(e,t)=>new S4({values:e,typeName:tt.ZodNativeEnum,...ht(t)});class Fx extends jt{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Le.promise&&r.common.async===!1)return Te(r,{code:ke.invalid_type,expected:Le.promise,received:r.parsedType}),st;const n=r.parsedType===Le.promise?r.data:Promise.resolve(r.data);return Ja(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Fx.create=(e,t)=>new Fx({type:e,typeName:tt.ZodPromise,...ht(t)});class vf extends jt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===tt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{Te(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return st;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?st:c.status==="dirty"||r.value==="dirty"?r2(c.value):c});{if(r.value==="aborted")return st;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?st:l.status==="dirty"||r.value==="dirty"?r2(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?st:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?st:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!mf(o))return st;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>mf(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:r.value,value:l})):st);_t.assertNever(a)}}vf.create=(e,t,r)=>new vf({schema:e,typeName:tt.ZodEffects,effect:t,...ht(r)});vf.createWithPreprocess=(e,t,r)=>new vf({schema:t,effect:{type:"preprocess",transform:e},typeName:tt.ZodEffects,...ht(r)});class nl extends jt{_parse(t){return this._getType(t)===Le.undefined?Ja(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}nl.create=(e,t)=>new nl({innerType:e,typeName:tt.ZodOptional,...ht(t)});class yf extends jt{_parse(t){return this._getType(t)===Le.null?Ja(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}yf.create=(e,t)=>new yf({innerType:e,typeName:tt.ZodNullable,...ht(t)});class a2 extends jt{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Le.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}a2.create=(e,t)=>new a2({innerType:e,typeName:tt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ht(t)});class s2 extends jt{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Ix(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new As(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new As(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}s2.create=(e,t)=>new s2({innerType:e,typeName:tt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ht(t)});class C4 extends jt{_parse(t){if(this._getType(t)!==Le.nan){const r=this._getOrReturnCtx(t);return Te(r,{code:ke.invalid_type,expected:Le.nan,received:r.parsedType}),st}return{status:"valid",value:t.data}}}C4.create=e=>new C4({typeName:tt.ZodNaN,...ht(e)});class iMe extends jt{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class bC extends jt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?st:a.status==="dirty"?(r.dirty(),r2(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?st:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new bC({in:t,out:r,typeName:tt.ZodPipeline})}}class i2 extends jt{_parse(t){const r=this._def.innerType._parse(t),n=a=>(mf(a)&&(a.value=Object.freeze(a.value)),a);return Ix(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}i2.create=(e,t)=>new i2({innerType:e,typeName:tt.ZodReadonly,...ht(t)});var tt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(tt||(tt={}));const Ws=Fo.create,oMe=pf.create;gl.create;oi.create;const wq=Er.create;zx.create;Lx.create;qc.create;const lMe=gf.create;Fx.create;nl.create;yf.create;const cMe=d$e,jq=g.createContext({}),Si=({...e})=>s.jsx(jq.Provider,{value:{name:e.name},children:s.jsx(p$e,{...e})}),B0=()=>{const e=g.useContext(jq),t=g.useContext(Nq),{getFieldState:r,formState:n}=F0(),a=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},Nq=g.createContext({}),Ls=g.forwardRef(({className:e,...t},r)=>{const n=g.useId();return s.jsx(Nq.Provider,{value:{id:n},children:s.jsx("div",{ref:r,className:ve("space-y-2",e),...t})})});Ls.displayName="FormItem";const Fs=g.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:a}=B0();return s.jsx(fe,{ref:r,className:ve(n&&"text-destructive",e),htmlFor:a,...t})});Fs.displayName="FormLabel";const Bs=g.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:i}=B0();return s.jsx(Kc,{ref:t,id:n,"aria-describedby":r?`${a} ${i}`:`${a}`,"aria-invalid":!!r,...e})});Bs.displayName="FormControl";const Fu=g.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=B0();return s.jsx("p",{ref:r,id:n,className:ve("text-sm text-muted-foreground",e),...t})});Fu.displayName="FormDescription";const qs=g.forwardRef(({className:e,children:t,...r},n)=>{const{error:a,formMessageId:i}=B0(),o=a?String(a==null?void 0:a.message):t;return o?s.jsx("p",{ref:n,id:i,className:ve("text-sm font-medium text-destructive",e),...r,children:o}):null});qs.displayName="FormMessage";var _q=["PageUp","PageDown"],kq=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Sq={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Qf="Slider",[o2,uMe,dMe]=Rp(Qf),[Cq]=xn(Qf,[dMe]),[fMe,q0]=Cq(Qf),Eq=g.forwardRef((e,t)=>{const{name:r,min:n=0,max:a=100,step:i=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[n],value:d,onValueChange:f=()=>{},onValueCommit:h=()=>{},inverted:m=!1,form:v,...p}=e,b=g.useRef(new Set),x=g.useRef(0),y=o==="horizontal"?hMe:mMe,[w=[],j]=Ga({prop:d,defaultProp:u,onChange:T=>{var P;(P=[...b.current][x.current])==null||P.focus(),f(T)}}),N=g.useRef(w);function _(T){const P=xMe(w,T);O(T,P)}function k(T){O(T,x.current)}function C(){const T=N.current[x.current];w[x.current]!==T&&h(w)}function O(T,P,{commit:S}={commit:!1}){const M=NMe(i),$=_Me(Math.round((T-n)/i)*i+n,M),q=Cp($,[n,a]);j((U=[])=>{const L=vMe(U,q,P);if(jMe(L,c*i)){x.current=L.indexOf(q);const z=String(L)!==String(U);return z&&S&&h(L),z?L:U}else return U})}return s.jsx(fMe,{scope:e.__scopeSlider,name:r,disabled:l,min:n,max:a,valueIndexToChangeRef:x,thumbs:b.current,values:w,orientation:o,form:v,children:s.jsx(o2.Provider,{scope:e.__scopeSlider,children:s.jsx(o2.Slot,{scope:e.__scopeSlider,children:s.jsx(y,{"aria-disabled":l,"data-disabled":l?"":void 0,...p,ref:t,onPointerDown:be(p.onPointerDown,()=>{l||(N.current=w)}),min:n,max:a,inverted:m,onSlideStart:l?void 0:_,onSlideMove:l?void 0:k,onSlideEnd:l?void 0:C,onHomeKeyDown:()=>!l&&O(n,0,{commit:!0}),onEndKeyDown:()=>!l&&O(a,w.length-1,{commit:!0}),onStepKeyDown:({event:T,direction:P})=>{if(!l){const S=_q.includes(T.key)||T.shiftKey&&kq.includes(T.key)?10:1,M=x.current,$=w[M],q=i*S*P;O($+q,M,{commit:!0})}}})})})})});Eq.displayName=Qf;var[Oq,Aq]=Cq(Qf,{startEdge:"left",endEdge:"right",size:"width",direction:1}),hMe=g.forwardRef((e,t)=>{const{min:r,max:n,dir:a,inverted:i,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=e,[f,h]=g.useState(null),m=Ye(t,w=>h(w)),v=g.useRef(void 0),p=kf(a),b=p==="ltr",x=b&&!i||!b&&i;function y(w){const j=v.current||f.getBoundingClientRect(),N=[0,j.width],_=wC(N,x?[r,n]:[n,r]);return v.current=j,_(w-j.left)}return s.jsx(Oq,{scope:e.__scopeSlider,startEdge:x?"left":"right",endEdge:x?"right":"left",direction:x?1:-1,size:"width",children:s.jsx(Pq,{dir:p,"data-orientation":"horizontal",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:w=>{const j=y(w.clientX);o==null||o(j)},onSlideMove:w=>{const j=y(w.clientX);l==null||l(j)},onSlideEnd:()=>{v.current=void 0,c==null||c()},onStepKeyDown:w=>{const j=Sq[x?"from-left":"from-right"].includes(w.key);u==null||u({event:w,direction:j?-1:1})}})})}),mMe=g.forwardRef((e,t)=>{const{min:r,max:n,inverted:a,onSlideStart:i,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...u}=e,d=g.useRef(null),f=Ye(t,d),h=g.useRef(void 0),m=!a;function v(p){const b=h.current||d.current.getBoundingClientRect(),x=[0,b.height],y=wC(x,m?[n,r]:[r,n]);return h.current=b,y(p-b.top)}return s.jsx(Oq,{scope:e.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:s.jsx(Pq,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:p=>{const b=v(p.clientY);i==null||i(b)},onSlideMove:p=>{const b=v(p.clientY);o==null||o(b)},onSlideEnd:()=>{h.current=void 0,l==null||l()},onStepKeyDown:p=>{const b=Sq[m?"from-bottom":"from-top"].includes(p.key);c==null||c({event:p,direction:b?-1:1})}})})}),Pq=g.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:a,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...u}=e,d=q0(Qf,r);return s.jsx(Ae.span,{...u,ref:t,onKeyDown:be(e.onKeyDown,f=>{f.key==="Home"?(o(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):_q.concat(kq).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:be(e.onPointerDown,f=>{const h=f.target;h.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(h)?h.focus():n(f)}),onPointerMove:be(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&a(f)}),onPointerUp:be(e.onPointerUp,f=>{const h=f.target;h.hasPointerCapture(f.pointerId)&&(h.releasePointerCapture(f.pointerId),i(f))})})}),Tq="SliderTrack",$q=g.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,a=q0(Tq,r);return s.jsx(Ae.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...n,ref:t})});$q.displayName=Tq;var l2="SliderRange",Mq=g.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,a=q0(l2,r),i=Aq(l2,r),o=g.useRef(null),l=Ye(t,o),c=a.values.length,u=a.values.map(h=>Dq(h,a.min,a.max)),d=c>1?Math.min(...u):0,f=100-Math.max(...u);return s.jsx(Ae.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...n,ref:l,style:{...e.style,[i.startEdge]:d+"%",[i.endEdge]:f+"%"}})});Mq.displayName=l2;var c2="SliderThumb",Rq=g.forwardRef((e,t)=>{const r=uMe(e.__scopeSlider),[n,a]=g.useState(null),i=Ye(t,l=>a(l)),o=g.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return s.jsx(pMe,{...e,ref:i,index:o})}),pMe=g.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:a,...i}=e,o=q0(c2,r),l=Aq(c2,r),[c,u]=g.useState(null),d=Ye(t,y=>u(y)),f=c?o.form||!!c.closest("form"):!0,h=ob(c),m=o.values[n],v=m===void 0?0:Dq(m,o.min,o.max),p=yMe(n,o.values.length),b=h==null?void 0:h[l.size],x=b?bMe(b,v,l.direction):0;return g.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),s.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${v}% + ${x}px)`},children:[s.jsx(o2.ItemSlot,{scope:e.__scopeSlider,children:s.jsx(Ae.span,{role:"slider","aria-label":e["aria-label"]||p,"aria-valuemin":o.min,"aria-valuenow":m,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:d,style:m===void 0?{display:"none"}:e.style,onFocus:be(e.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),f&&s.jsx(Iq,{name:a??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:m},n)]})});Rq.displayName=c2;var gMe="RadioBubbleInput",Iq=g.forwardRef(({__scopeSlider:e,value:t,...r},n)=>{const a=g.useRef(null),i=Ye(a,n),o=$0(t);return g.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&u){const d=new Event("input",{bubbles:!0});u.call(l,t),l.dispatchEvent(d)}},[o,t]),s.jsx(Ae.input,{style:{display:"none"},...r,ref:i,defaultValue:t})});Iq.displayName=gMe;function vMe(e=[],t,r){const n=[...e];return n[r]=t,n.sort((a,i)=>a-i)}function Dq(e,t,r){const n=100/(r-t)*(e-t);return Cp(n,[0,100])}function yMe(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function xMe(e,t){if(e.length===1)return 0;const r=e.map(a=>Math.abs(a-t)),n=Math.min(...r);return r.indexOf(n)}function bMe(e,t,r){const n=e/2,a=wC([0,50],[0,n]);return(n-a(t)*r)*r}function wMe(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function jMe(e,t){if(t>0){const r=wMe(e);return Math.min(...r)>=t}return!0}function wC(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function NMe(e){return(String(e).split(".")[1]||"").length}function _Me(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var zq=Eq,kMe=$q,SMe=Mq,CMe=Rq;const Lq=g.forwardRef(({className:e,...t},r)=>s.jsxs(zq,{ref:r,className:ve("relative flex w-full touch-none select-none items-center",e),...t,children:[s.jsx(kMe,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:s.jsx(SMe,{className:"absolute h-full bg-primary"})}),s.jsx(CMe,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Lq.displayName=zq.displayName;const EMe=wq({place_name:Ws().min(1,"Nome é obrigatório"),place_address:Ws().optional(),place_phone:Ws().optional(),place_website:Ws().optional(),pipeline_stage:lMe(["lead","contacted","qualified","proposal","negotiation","won"]),expected_revenue:Ws().optional(),probability:oMe().min(0).max(100),notes:Ws().optional(),tags:Ws().optional()}),OMe=[{value:"lead",label:"Lead"},{value:"contacted",label:"Contactado"},{value:"qualified",label:"Qualificado"},{value:"proposal",label:"Proposta"},{value:"negotiation",label:"Negociação"},{value:"won",label:"Ganho"}];function Fq({open:e,onOpenChange:t,prospect:r,onSuccess:n}){const{currentOrg:a}=bn(),[i,o]=E.useState(!1),l=A$e({resolver:M$e(EMe),defaultValues:{place_name:"",place_address:"",place_phone:"",place_website:"",pipeline_stage:"lead",expected_revenue:"",probability:50,notes:"",tags:""}});g.useEffect(()=>{var u,d,f,h,m,v,p;r?l.reset({place_name:((u=r.places)==null?void 0:u.name)||"",place_address:((d=r.places)==null?void 0:d.formatted_address)||"",place_phone:((f=r.places)==null?void 0:f.phone_number)||"",place_website:((h=r.places)==null?void 0:h.website)||"",pipeline_stage:r.pipeline_stage||"lead",expected_revenue:((m=r.expected_revenue)==null?void 0:m.toString())||"",probability:r.probability||50,notes:r.notes||"",tags:((p=(v=r.places)==null?void 0:v.types)==null?void 0:p.join(", "))||""}):l.reset({place_name:"",place_address:"",place_phone:"",place_website:"",pipeline_stage:"lead",expected_revenue:"",probability:50,notes:"",tags:""})},[r,l]);const c=async u=>{var d;if(!a){ae.error("Nenhuma organização selecionada");return}o(!0);try{const{data:{user:f}}=await le.auth.getUser();if(!f){ae.error("Usuário não autenticado");return}if(r){if((d=r.places)!=null&&d.id){const{error:m}=await le.from("places").update({name:u.place_name,formatted_address:u.place_address||null,phone_number:u.place_phone||null,website:u.place_website||null,types:u.tags?u.tags.split(",").map(v=>v.trim()):[]}).eq("id",r.places.id);if(m)throw m}const{error:h}=await le.from("prospects").update({pipeline_stage:u.pipeline_stage,expected_revenue:u.expected_revenue?parseFloat(u.expected_revenue):null,probability:u.probability,notes:u.notes||null,last_activity:new Date().toISOString()}).eq("id",r.id);if(h)throw h;ae.success("Oportunidade atualizada com sucesso!")}else{const{data:h,error:m}=await le.from("places").insert({name:u.place_name,formatted_address:u.place_address||null,phone_number:u.place_phone||null,website:u.place_website||null,types:u.tags?u.tags.split(",").map(p=>p.trim()):[],google_place_id:`manual_${Date.now()}`}).select().single();if(m)throw m;const{error:v}=await le.from("prospects").insert({org_id:a.id,place_id:h.id,pipeline_stage:u.pipeline_stage,expected_revenue:u.expected_revenue?parseFloat(u.expected_revenue):null,probability:u.probability,notes:u.notes||null,status:"new",source:"manual"});if(v)throw v;ae.success("Oportunidade criada com sucesso!")}n(),t(!1),l.reset()}catch(f){console.error("Error saving opportunity:",f),ae.error(f.message||"Erro ao salvar oportunidade")}finally{o(!1)}};return s.jsx(Xt,{open:e,onOpenChange:t,children:s.jsxs(Ut,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Jt,{children:[s.jsxs(er,{className:"flex items-center gap-2 text-2xl",children:[s.jsx(nr,{className:"h-6 w-6 text-primary"}),r?"Editar Oportunidade":"Nova Oportunidade"]}),s.jsx(or,{children:r?"Atualize as informações desta oportunidade no pipeline":"Adicione uma nova oportunidade ao pipeline de vendas"})]}),s.jsx(cMe,{...l,children:s.jsxs("form",{onSubmit:l.handleSubmit(c),className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(nr,{className:"h-5 w-5"}),"Informações do Cliente"]}),s.jsx(Si,{control:l.control,name:"place_name",render:({field:u})=>s.jsxs(Ls,{children:[s.jsx(Fs,{children:"Nome do Cliente *"}),s.jsx(Bs,{children:s.jsx(Be,{placeholder:"Ex: Empresa ABC Ltda",...u})}),s.jsx(qs,{})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(Si,{control:l.control,name:"place_phone",render:({field:u})=>s.jsxs(Ls,{children:[s.jsx(Fs,{children:"Telefone"}),s.jsx(Bs,{children:s.jsx(Be,{placeholder:"(11) 99999-9999",...u})}),s.jsx(qs,{})]})}),s.jsx(Si,{control:l.control,name:"place_website",render:({field:u})=>s.jsxs(Ls,{children:[s.jsx(Fs,{children:"Website"}),s.jsx(Bs,{children:s.jsx(Be,{placeholder:"www.exemplo.com.br",...u})}),s.jsx(qs,{})]})})]}),s.jsx(Si,{control:l.control,name:"place_address",render:({field:u})=>s.jsxs(Ls,{children:[s.jsx(Fs,{children:"Endereço"}),s.jsx(Bs,{children:s.jsx(Be,{placeholder:"Rua, número, bairro, cidade",...u})}),s.jsx(qs,{})]})}),s.jsx(Si,{control:l.control,name:"tags",render:({field:u})=>s.jsxs(Ls,{children:[s.jsx(Fs,{children:"Tags / Categorias"}),s.jsx(Bs,{children:s.jsx(Be,{placeholder:"restaurante, comércio, serviços (separadas por vírgula)",...u})}),s.jsx(Fu,{children:"Categorias ou tags para classificar este cliente"}),s.jsx(qs,{})]})})]}),s.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(Oc,{className:"h-5 w-5"}),"Detalhes da Oportunidade"]}),s.jsx(Si,{control:l.control,name:"pipeline_stage",render:({field:u})=>s.jsxs(Ls,{children:[s.jsx(Fs,{children:"Estágio do Pipeline *"}),s.jsxs(ot,{onValueChange:u.onChange,defaultValue:u.value,value:u.value,children:[s.jsx(Bs,{children:s.jsx(nt,{children:s.jsx(lt,{placeholder:"Selecione o estágio"})})}),s.jsx(at,{children:OMe.map(d=>s.jsx(re,{value:d.value,children:d.label},d.value))})]}),s.jsx(Fu,{children:"Estágio atual desta oportunidade no pipeline"}),s.jsx(qs,{})]})}),s.jsx(Si,{control:l.control,name:"expected_revenue",render:({field:u})=>s.jsxs(Ls,{children:[s.jsx(Fs,{children:"Receita Esperada (R$)"}),s.jsx(Bs,{children:s.jsxs("div",{className:"relative",children:[s.jsx(Oc,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Be,{type:"number",step:"0.01",placeholder:"0.00",className:"pl-10",...u})]})}),s.jsx(Fu,{children:"Valor estimado desta oportunidade"}),s.jsx(qs,{})]})}),s.jsx(Si,{control:l.control,name:"probability",render:({field:u})=>s.jsxs(Ls,{children:[s.jsxs(Fs,{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Probabilidade de Fechamento"}),s.jsxs("span",{className:"text-primary font-semibold",children:[u.value,"%"]})]}),s.jsx(Bs,{children:s.jsx(Lq,{min:0,max:100,step:5,value:[u.value],onValueChange:d=>u.onChange(d[0]),className:"py-4"})}),s.jsx(Fu,{children:"Chance estimada de fechar esta oportunidade (0-100%)"}),s.jsx(qs,{})]})}),s.jsx(Si,{control:l.control,name:"notes",render:({field:u})=>s.jsxs(Ls,{children:[s.jsx(Fs,{children:"Notas"}),s.jsx(Bs,{children:s.jsx(Gn,{placeholder:"Adicione observações, histórico de contatos, próximos passos...",className:"min-h-[120px] resize-y",...u})}),s.jsx(Fu,{children:"Informações adicionais sobre esta oportunidade"}),s.jsx(qs,{})]})})]}),s.jsxs(gn,{className:"gap-2",children:[s.jsx(X,{type:"button",variant:"outline",onClick:()=>{t(!1),l.reset()},disabled:i,children:"Cancelar"}),s.jsx(X,{type:"submit",disabled:i,children:i?s.jsxs(s.Fragment,{children:[s.jsx(gt,{className:"mr-2 h-4 w-4 animate-spin"}),"Salvando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(nr,{className:"mr-2 h-4 w-4"}),r?"Atualizar":"Criar"," Oportunidade"]})})]})]})})]})})}function AMe(){const{currentOrg:e}=bn(),[t,r]=g.useState("contacts"),[n,a]=g.useState(""),[i,o]=g.useState(""),[l,c]=g.useState("all"),[u,d]=g.useState([]),[f,h]=g.useState(!1),[m,v]=g.useState(!1),[p,b]=g.useState(!1),[x,y]=g.useState(null),[w,j]=g.useState(null),[N,_]=g.useState({full_name:"",email:"",phone_e164:""}),[k,C]=g.useState(!1),[O,T]=g.useState(null),{data:P=[],isLoading:S,refetch:M}=bt({queryKey:["contacts",n,e==null?void 0:e.id],queryFn:async()=>{if(!e)return[];let V=le.from("contacts").select("*").eq("org_id",e.id).order("created_at",{ascending:!1});n&&(V=V.or(`full_name.ilike.%${n}%,email.ilike.%${n}%,phone_e164.ilike.%${n}%`));const{data:de,error:te}=await V;if(te)throw te;return de},enabled:!!e}),{data:$=[],isLoading:q,refetch:U}=bt({queryKey:["prospects",i,e==null?void 0:e.id],queryFn:async()=>{if(!e)return[];let V=le.from("prospects").select(`
          *,
          places (
            name,
            formatted_address,
            phone_number,
            website,
            types
          )
        `).eq("org_id",e.id).order("created_at",{ascending:!1});i&&(V=V.or(`notes.ilike.%${i}%,places.name.ilike.%${i}%`));const{data:de,error:te}=await V;return te?(console.error("Error fetching prospects:",te),[]):de||[]},enabled:!!(e!=null&&e.id)}),L=async()=>{if(!N.full_name&&!N.email){ae.error("Preencha pelo menos nome ou email");return}C(!0);try{const{data:{user:V}}=await le.auth.getUser();if(!V){ae.error("Usuário não autenticado");return}if(!e){ae.error("Nenhuma organização selecionada");return}const{data:de,error:te}=await le.from("orgs").select("id").eq("id",e.id).single();if(te||!de){console.error("Organização não encontrada:",te),ae.error("Organização não encontrada. Tente fazer logout e login novamente.");return}const{error:ce}=await le.from("contacts").insert({org_id:e.id,full_name:N.full_name||null,email:N.email||null,phone_e164:N.phone_e164||null});if(ce)throw ce;ae.success("Contato adicionado com sucesso!"),h(!1),_({full_name:"",email:"",phone_e164:""}),M()}catch(V){console.error("Error adding contact:",V),ae.error("Erro ao adicionar contato")}finally{C(!1)}},z=async()=>{if(x){C(!0);try{const{error:V}=await le.from("contacts").update({full_name:N.full_name||null,email:N.email||null,phone_e164:N.phone_e164||null}).eq("id",x.id);if(V)throw V;ae.success("Contato atualizado com sucesso!"),v(!1),y(null),_({full_name:"",email:"",phone_e164:""}),M()}catch(V){console.error("Error updating contact:",V),ae.error("Erro ao atualizar contato")}finally{C(!1)}}},R=async V=>{if(confirm("Tem certeza que deseja deletar este contato?")){T(V);try{const{error:de}=await le.from("contacts").delete().eq("id",V);if(de)throw de;ae.success("Contato deletado com sucesso!"),M()}catch(de){console.error("Error deleting contact:",de),ae.error("Erro ao deletar contato")}finally{T(null)}}},G=V=>{y(V),_({full_name:V.full_name||"",email:V.email||"",phone_e164:V.phone_e164||""}),v(!0)},D=$.filter(V=>{var de,te,ce;const ne=!i||((te=(de=V.places)==null?void 0:de.name)==null?void 0:te.toLowerCase().includes(i.toLowerCase()))||((ce=V.notes)==null?void 0:ce.toLowerCase().includes(i.toLowerCase())),ee=l==="all"||V.pipeline_stage===l;return ne&&ee}),F=V=>{d(V?D.map(de=>de.id):[])},J=(V,de)=>{d(de?te=>[...te,V]:te=>te.filter(ce=>ce!==V))},H=()=>{j(null),b(!0)},I=V=>{j(V),b(!0)},oe=()=>{U()};return s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:s.jsx("div",{className:"flex h-16 items-center px-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ir,{className:"h-5 w-5 text-muted-foreground"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Gestão"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"/"}),s.jsx("span",{className:"text-sm font-medium",children:"Contatos"})]})})}),s.jsx("div",{className:"flex-1 overflow-auto",children:s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Contatos"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Gerencie sua base de contatos e prospects"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[t==="prospects"&&s.jsxs(X,{variant:"outline",onClick:()=>b(!0),children:[s.jsx(wr,{className:"h-4 w-4 mr-2"}),"Nova Oportunidade"]}),s.jsxs(X,{onClick:()=>h(!0),children:[s.jsx(wr,{className:"h-4 w-4 mr-2"}),"Novo Contato"]})]})]}),s.jsxs(Na,{value:t,onValueChange:r,className:"space-y-4",children:[s.jsxs(Jn,{className:"grid w-full grid-cols-2",children:[s.jsxs(et,{value:"contacts",className:"flex items-center space-x-2",children:[s.jsx(ir,{className:"h-4 w-4"}),s.jsx("span",{children:"Contatos"})]}),s.jsxs(et,{value:"prospects",className:"flex items-center space-x-2",children:[s.jsx(nr,{className:"h-4 w-4"}),s.jsx("span",{children:"Prospects"})]})]}),s.jsx(dt,{value:"contacts",className:"space-y-4",children:s.jsxs(ie,{className:"border-2 hover:border-primary/30 transition-all shadow-lg",children:[s.jsx(me,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(ir,{className:"h-5 w-5 text-primary"}),"Lista de Contatos"]}),s.jsx(Ie,{className:"mt-1",children:"Todos os seus contatos em um só lugar"})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("div",{className:"relative",children:[s.jsx(Ba,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Be,{placeholder:"Buscar contatos...",className:"pl-9 w-64",value:n,onChange:V=>a(V.target.value)})]})})]})}),s.jsx(ue,{children:s.jsxs(lC,{children:[s.jsx(cC,{children:s.jsxs(zi,{children:[s.jsx(kn,{children:"Nome"}),s.jsx(kn,{children:"Email"}),s.jsx(kn,{children:"Telefone"}),s.jsx(kn,{children:"Tags"}),s.jsx(kn,{children:"Status"}),s.jsx(kn,{children:"Último Contato"}),s.jsx(kn,{className:"text-right",children:"Ações"})]})}),s.jsx(uC,{children:S?s.jsx(zi,{children:s.jsx(zr,{colSpan:7,className:"text-center py-8",children:s.jsx(gt,{className:"h-8 w-8 animate-spin mx-auto text-primary"})})}):P.length===0?s.jsx(zi,{children:s.jsxs(zr,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:[s.jsx(ir,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"Nenhum contato encontrado"})]})}):P.map(V=>s.jsxs(zi,{className:"hover:bg-accent/50 transition-colors",children:[s.jsx(zr,{className:"font-medium",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-primary to-primary-glow flex items-center justify-center text-white font-semibold",children:(V.full_name||V.email||"?").charAt(0).toUpperCase()}),V.full_name||"Sem nome"]})}),s.jsx(zr,{children:V.email?s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(Ad,{className:"h-4 w-4"}),V.email]}):s.jsx("span",{className:"text-muted-foreground",children:"-"})}),s.jsx(zr,{children:V.phone_e164?s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(Ef,{className:"h-4 w-4"}),V.phone_e164]}):s.jsx("span",{className:"text-muted-foreground",children:"-"})}),s.jsx(zr,{children:s.jsx("div",{className:"flex flex-wrap gap-1",children:s.jsx("span",{className:"text-muted-foreground text-sm",children:"-"})})}),s.jsx(zr,{children:s.jsx(De,{variant:"default",className:"bg-emerald-500/10 text-emerald-600",children:"Ativo"})}),s.jsx(zr,{className:"text-muted-foreground",children:vc(new Date(V.created_at),{addSuffix:!0,locale:Zo})}),s.jsx(zr,{className:"text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsxs(X,{variant:"outline",size:"sm",onClick:()=>G(V),children:[s.jsx(dl,{className:"h-3 w-3 mr-1"}),"Editar"]}),s.jsx(X,{variant:"outline",size:"sm",onClick:()=>R(V.id),disabled:O===V.id,children:O===V.id?s.jsx(gt,{className:"h-3 w-3 animate-spin"}):s.jsx(no,{className:"h-3 w-3"})})]})})]},V.id))})]})})]})}),s.jsxs(dt,{value:"prospects",className:"space-y-4",children:[s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsx(pe,{className:"text-lg",children:"Filtros e Busca"}),s.jsx(Ie,{children:"Encontre prospects específicos no pipeline"})]}),s.jsx(ue,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(Ba,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),s.jsx(Be,{placeholder:"Buscar por nome ou notas...",value:i,onChange:V=>o(V.target.value),className:"pl-10"})]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Rk,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("select",{value:l,onChange:V=>c(V.target.value),className:"px-3 py-2 border rounded-md",children:[s.jsx("option",{value:"all",children:"Todos os Estágios"}),s.jsx("option",{value:"lead",children:"Leads"}),s.jsx("option",{value:"contacted",children:"Contactados"}),s.jsx("option",{value:"qualified",children:"Qualificados"}),s.jsx("option",{value:"proposal",children:"Proposta"}),s.jsx("option",{value:"negotiation",children:"Negociação"}),s.jsx("option",{value:"won",children:"Ganhos"})]})]})]})})]}),s.jsxs(ie,{children:[s.jsx(me,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(nr,{className:"h-5 w-5 text-primary"}),"Prospects no Pipeline"]}),s.jsxs(Ie,{className:"mt-1",children:[D.length," ",D.length===1?"prospect encontrado":"prospects encontrados"]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Bc,{checked:u.length===D.length&&D.length>0,onCheckedChange:F}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Selecionar todos"})]}),s.jsx(aq,{prospects:$,selectedIds:u,onExportComplete:()=>{d([])}})]})]})}),s.jsx(ue,{children:q?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),s.jsx("span",{children:"Carregando prospects..."})]})}):D.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(nr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Nenhum prospect encontrado"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:i||l!=="all"?"Tente ajustar os filtros de busca":"Comece adicionando prospects ao seu pipeline"}),s.jsxs(X,{onClick:H,children:[s.jsx(wr,{className:"h-4 w-4 mr-2"}),"Adicionar Prospect"]})]}):s.jsx("div",{className:"space-y-4",children:D.map(V=>{var de,te,ce;return s.jsx(ie,{className:"hover:shadow-md transition-shadow cursor-pointer",onClick:()=>I(V),children:s.jsx(ue,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Bc,{checked:u.includes(V.id),onCheckedChange:ne=>J(V.id,ne)}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx("h3",{className:"font-medium",children:((de=V.places)==null?void 0:de.name)||"Nome não disponível"}),s.jsx(De,{variant:"outline",children:V.pipeline_stage})]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:(te=V.places)==null?void 0:te.formatted_address}),((ce=V.places)==null?void 0:ce.phone_number)&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["📞 ",V.places.phone_number]}),V.expected_revenue&&s.jsxs("p",{className:"text-sm font-medium text-green-600",children:["💰 R$ ",V.expected_revenue.toLocaleString("pt-BR")]}),V.probability&&s.jsxs("p",{className:"text-sm text-blue-600",children:["📊 ",V.probability,"% de probabilidade"]}),V.notes&&s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["📝 ",V.notes]})]})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx(X,{size:"sm",variant:"outline",onClick:()=>I(V),children:"Editar"})})]})})},V.id)})})})]})]})]})]})}),s.jsx(Xt,{open:f,onOpenChange:h,children:s.jsxs(Ut,{className:"sm:max-w-[500px]",children:[s.jsxs(Jt,{children:[s.jsx(er,{children:"Adicionar Contato"}),s.jsx(or,{children:"Preencha os dados do novo contato"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"add-name",children:"Nome Completo"}),s.jsx(Be,{id:"add-name",placeholder:"João Silva",value:N.full_name,onChange:V=>_({...N,full_name:V.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"add-email",children:"Email"}),s.jsx(Be,{id:"add-email",type:"email",placeholder:"joao@email.com",value:N.email,onChange:V=>_({...N,email:V.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"add-phone",children:"Telefone"}),s.jsx(Be,{id:"add-phone",type:"tel",placeholder:"+5511999999999",value:N.phone_e164,onChange:V=>_({...N,phone_e164:V.target.value})})]})]}),s.jsxs(gn,{children:[s.jsx(X,{variant:"outline",onClick:()=>h(!1),children:"Cancelar"}),s.jsxs(X,{onClick:L,disabled:k,className:"bg-gradient-to-r from-primary to-primary-glow",children:[k?s.jsx(gt,{className:"h-4 w-4 animate-spin mr-2"}):s.jsx(wr,{className:"h-4 w-4 mr-2"}),"Adicionar"]})]})]})}),s.jsx(Xt,{open:m,onOpenChange:v,children:s.jsxs(Ut,{className:"sm:max-w-[500px]",children:[s.jsxs(Jt,{children:[s.jsx(er,{children:"Editar Contato"}),s.jsx(or,{children:"Atualize os dados do contato"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"edit-name",children:"Nome Completo"}),s.jsx(Be,{id:"edit-name",placeholder:"João Silva",value:N.full_name,onChange:V=>_({...N,full_name:V.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"edit-email",children:"Email"}),s.jsx(Be,{id:"edit-email",type:"email",placeholder:"joao@email.com",value:N.email,onChange:V=>_({...N,email:V.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"edit-phone",children:"Telefone"}),s.jsx(Be,{id:"edit-phone",type:"tel",placeholder:"+5511999999999",value:N.phone_e164,onChange:V=>_({...N,phone_e164:V.target.value})})]})]}),s.jsxs(gn,{children:[s.jsx(X,{variant:"outline",onClick:()=>v(!1),children:"Cancelar"}),s.jsxs(X,{onClick:z,disabled:k,className:"bg-gradient-to-r from-primary to-primary-glow",children:[k?s.jsx(gt,{className:"h-4 w-4 animate-spin mr-2"}):s.jsx(dl,{className:"h-4 w-4 mr-2"}),"Salvar"]})]})]})}),s.jsx(Fq,{open:p,onOpenChange:b,prospect:w,onSuccess:oe})]})}var U0="Switch",[PMe]=xn(U0),[TMe,$Me]=PMe(U0),Bq=g.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=g.useState(null),v=Ye(t,w=>m(w)),p=g.useRef(!1),b=h?d||!!h.closest("form"):!0,[x,y]=Ga({prop:a,defaultProp:i??!1,onChange:u,caller:U0});return s.jsxs(TMe,{scope:r,checked:x,disabled:l,children:[s.jsx(Ae.button,{type:"button",role:"switch","aria-checked":x,"aria-required":o,"data-state":Wq(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:v,onClick:be(e.onClick,w=>{y(j=>!j),b&&(p.current=w.isPropagationStopped(),p.current||w.stopPropagation())})}),b&&s.jsx(Vq,{control:h,bubbles:!p.current,name:n,value:c,checked:x,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});Bq.displayName=U0;var qq="SwitchThumb",Uq=g.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=$Me(qq,r);return s.jsx(Ae.span,{"data-state":Wq(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});Uq.displayName=qq;var MMe="SwitchBubbleInput",Vq=g.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=g.useRef(null),l=Ye(o,i),c=$0(r),u=ob(t);return g.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&h){const m=new Event("click",{bubbles:n});h.call(d,r),d.dispatchEvent(m)}},[c,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Vq.displayName=MMe;function Wq(e){return e?"checked":"unchecked"}var Kq=Bq,RMe=Uq;const za=g.forwardRef(({className:e,...t},r)=>s.jsx(Kq,{className:ve("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:s.jsx(RMe,{className:ve("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));za.displayName=Kq.displayName;function IMe({campaignName:e,channelType:t,onSave:r,onCancel:n,initialSteps:a=[]}){var i;const[o,l]=g.useState(a),[c,u]=g.useState(!1),[d,f]=g.useState(!1),[h,m]=g.useState(null),[v,p]=g.useState("message"),[b,x]=g.useState({message:"",delay:1,delayUnit:"hours",condition:"",action:"",waitTimeout:60,tagName:"",webhookUrl:"",webhookMethod:"POST",splitType:"random",splitPercentage:50,surveyQuestions:[],notificationMessage:"",calendarEvent:"",locationType:"request"}),[y,w]=g.useState(!1),[j,N]=g.useState(""),[_,k]=g.useState(""),[C,O]=g.useState(""),T=()=>Math.random().toString(36).substring(2,9),P=()=>{const I={id:(h==null?void 0:h.id)||T(),type:v,name:S(v),config:{...b}};l(h?o.map(oe=>oe.id===h.id?I:oe):[...o,I]),M()},S=I=>({message:"Enviar Mensagem",delay:"Aguardar",condition:"Condição",action:"Ação",wait_for_response:"Aguardar Resposta",tag:"Adicionar Tag",webhook:"Webhook",split:"Divisão de Fluxo",merge:"Mesclagem de Fluxo",survey:"Pesquisa",notification:"Notificação",calendar:"Agendamento",location:"Localização"})[I],M=()=>{u(!1),m(null),p("message"),x({message:"",delay:1,delayUnit:"hours",condition:"",action:"",waitTimeout:60,tagName:"",webhookUrl:"",webhookMethod:"POST",splitType:"random",splitPercentage:50,surveyQuestions:[],notificationMessage:"",calendarEvent:"",locationType:"request"})},$=I=>{l(o.filter(oe=>oe.id!==I))},q=(I,oe)=>{const V=[...o],de=oe==="up"?I-1:I+1;de>=0&&de<o.length&&([V[I],V[de]]=[V[de],V[I]],l(V))},U=I=>{m(I),p(I.type),x(I.config),u(!0)},L=async()=>{if(!j.trim()){ae.error("Por favor, descreva o objetivo da campanha");return}w(!0);try{await new Promise(oe=>setTimeout(oe,2e3));const I=z(j,_,C,t);l(I),ae.success("Fluxo gerado com IA com sucesso!"),f(!1)}catch{ae.error("Erro ao gerar fluxo com IA")}finally{w(!1)}},z=(I,oe,V,de)=>{const te=I.toLowerCase(),ce=[];return ce.push({id:T(),type:"message",name:"Mensagem de Boas-vindas",config:{message:R(I,oe,V)}}),ce.push({id:T(),type:"wait_for_response",name:"Aguardar Resposta",config:{waitTimeout:3600}}),te.includes("agendamento")||te.includes("reunião")?ce.push({id:T(),type:"calendar",name:"Solicitar Agendamento",config:{calendarEvent:"Reunião de apresentação"}}):te.includes("pesquisa")||te.includes("feedback")?ce.push({id:T(),type:"survey",name:"Pesquisa de Satisfação",config:{surveyQuestions:["Como você avalia nosso atendimento?","Que nota daria de 1 a 10?"]}}):te.includes("localização")||te.includes("endereço")?ce.push({id:T(),type:"location",name:"Solicitar Localização",config:{locationType:"request"}}):ce.push({id:T(),type:"message",name:"Mensagem de Follow-up",config:{message:G(I)}}),ce.push({id:T(),type:"delay",name:"Aguardar",config:{delay:24,delayUnit:"hours"}}),ce.push({id:T(),type:"message",name:"Mensagem Final",config:{message:D(I)}}),ce.push({id:T(),type:"tag",name:"Marcar como Processado",config:{tagName:`campanha_${I.toLowerCase().replace(/\s+/g,"_")}`}}),ce},R=(I,oe,V)=>{const de={formal:"Olá! Espero que esteja bem.",amigável:"Oi! Tudo bem? 😊",profissional:"Bom dia! Espero que esteja tudo bem.",casual:"E aí! Como está?"};return`${de[V]||de.amigável}

${I}

Como posso ajudá-lo hoje?`},G=(I,oe)=>`Olá! Vi que você demonstrou interesse em ${I.toLowerCase()}.

Gostaria de saber mais detalhes ou tem alguma dúvida específica?

Estou aqui para ajudar! 😊`,D=(I,oe)=>`Olá! 

Espero que tenha conseguido todas as informações sobre ${I.toLowerCase()}.

Se precisar de mais alguma coisa, é só me chamar!

Obrigado pelo contato! 🙏`,F=I=>{const oe={message:At,delay:Fa,condition:vu,action:Ac,wait_for_response:gy,tag:QO,webhook:ma,split:vu,merge:vu,survey:Kn,notification:Od,calendar:py,location:Pd}[I];return s.jsx(oe,{className:"h-5 w-5"})},J=I=>({message:"from-blue-500 to-blue-600",delay:"from-orange-500 to-orange-600",condition:"from-purple-500 to-purple-600",action:"from-green-500 to-green-600",wait_for_response:"from-yellow-500 to-yellow-600",tag:"from-pink-500 to-pink-600",webhook:"from-indigo-500 to-indigo-600",split:"from-red-500 to-red-600",merge:"from-teal-500 to-teal-600",survey:"from-cyan-500 to-cyan-600",notification:"from-amber-500 to-amber-600",calendar:"from-violet-500 to-violet-600",location:"from-emerald-500 to-emerald-600"})[I],H=I=>{var oe;switch(I.type){case"message":return s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:I.config.message||"Sem mensagem"});case"delay":return s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Aguardar ",I.config.delay," ",I.config.delayUnit]});case"condition":return s.jsx("p",{className:"text-sm text-muted-foreground",children:I.config.condition||"Sem condição"});case"action":return s.jsx("p",{className:"text-sm text-muted-foreground",children:I.config.action||"Sem ação"});case"wait_for_response":return s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Aguardar resposta por ",I.config.waitTimeout?Math.floor(I.config.waitTimeout/60):60," minutos"]});case"tag":return s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Tag: ",I.config.tagName||"Sem tag"]});case"webhook":return s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Webhook: ",I.config.webhookUrl||"Sem URL"]});case"split":return s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Dividir fluxo - ",I.config.splitType==="percentage"?`${I.config.splitPercentage}%`:I.config.splitType]});case"merge":return s.jsx("p",{className:"text-sm text-muted-foreground",children:"Mesclar fluxos"});case"survey":return s.jsxs("p",{className:"text-sm text-muted-foreground",children:[((oe=I.config.surveyQuestions)==null?void 0:oe.length)||0," pergunta(s)"]});case"notification":return s.jsx("p",{className:"text-sm text-muted-foreground",children:I.config.notificationMessage||"Sem mensagem"});case"calendar":return s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Evento: ",I.config.calendarEvent||"Sem evento"]});case"location":return s.jsx("p",{className:"text-sm text-muted-foreground",children:I.config.locationType==="request"?"Solicitar localização":"Compartilhar localização"});default:return null}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:e}),s.jsxs("p",{className:"text-muted-foreground capitalize",children:["Canal: ",t]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(X,{variant:"outline",onClick:()=>f(!0),className:"bg-gradient-to-r from-purple-500/10 to-blue-500/10 border-purple-200 text-purple-700 hover:from-purple-500/20 hover:to-blue-500/20",children:[s.jsx(ma,{className:"h-4 w-4 mr-2"}),"Assistente IA"]}),s.jsx(X,{variant:"outline",onClick:n,children:"Cancelar"}),s.jsxs(X,{onClick:()=>r(o),className:"bg-gradient-to-r from-primary to-primary-glow",children:[s.jsx(Im,{className:"h-4 w-4 mr-2"}),"Salvar Fluxo"]})]})]}),s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(ai,{className:"h-5 w-5 text-primary"}),"Configuração de Público"]}),s.jsx(Ie,{children:"Defina o público-alvo e critérios de segmentação para esta campanha"})]}),s.jsxs(ue,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"audience-type",children:"Tipo de Público"}),s.jsxs(ot,{value:_,onValueChange:k,children:[s.jsx(nt,{id:"audience-type",children:s.jsx(lt,{placeholder:"Selecione o público"})}),s.jsxs(at,{children:[s.jsx(re,{value:"todos-contatos",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ir,{className:"h-4 w-4"}),"Todos os Contatos"]})}),s.jsx(re,{value:"clientes-ativos",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(gs,{className:"h-4 w-4"}),"Clientes Ativos"]})}),s.jsx(re,{value:"prospects",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ai,{className:"h-4 w-4"}),"Prospects"]})}),s.jsx(re,{value:"clientes-vip",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Dm,{className:"h-4 w-4"}),"Clientes VIP"]})}),s.jsx(re,{value:"contatos-inativos",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(cl,{className:"h-4 w-4"}),"Contatos Inativos"]})})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"audience-size",children:"Tamanho Estimado"}),s.jsxs("div",{className:"text-sm text-muted-foreground p-3 bg-muted rounded-lg",children:[_==="todos-contatos"&&"~1,250 contatos",_==="clientes-ativos"&&"~850 contatos",_==="prospects"&&"~400 contatos",_==="clientes-vip"&&"~150 contatos",_==="contatos-inativos"&&"~200 contatos",!_&&"Selecione um público para ver o tamanho"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Critérios de Segmentação"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(gs,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{className:"text-sm",children:"Última interação recente"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(gs,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{className:"text-sm",children:"Engajamento alto"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(gs,{className:"h-4 w-4 text-green-500"}),s.jsxs("span",{className:"text-sm",children:["Canal preferido: ",t]})]})]})]})]}),_&&s.jsxs("div",{className:"mt-4 p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg border border-blue-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(ma,{className:"h-4 w-4 text-blue-600"}),s.jsxs("span",{className:"font-medium text-blue-800",children:["Sugestões de IA para ",_.replace("-"," ")]})]}),s.jsxs("div",{className:"text-sm text-blue-700",children:[_==="todos-contatos"&&"Use tom universal e mensagens que se aplicam a todos os perfis",_==="clientes-ativos"&&"Foque em valor agregado e oportunidades de upsell",_==="prospects"&&"Use tom educativo e construa relacionamento antes de vender",_==="clientes-vip"&&"Ofereça conteúdo exclusivo e tratamento personalizado",_==="contatos-inativos"&&"Use tom reativo e ofereça incentivos para reengajamento"]})]})]})]}),s.jsxs(ie,{children:[s.jsx(me,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(pe,{children:"Fluxo da Campanha"}),s.jsx(Ie,{children:"Configure as etapas da sua automação"})]}),s.jsxs(X,{onClick:()=>u(!0),children:[s.jsx(wr,{className:"h-4 w-4 mr-2"}),"Adicionar Etapa"]})]})}),s.jsx(ue,{className:"space-y-4",children:o.length===0?s.jsxs("div",{className:"text-center py-12 border-2 border-dashed rounded-lg",children:[s.jsx(cl,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Nenhuma etapa adicionada"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Comece adicionando a primeira etapa do seu fluxo"}),s.jsxs(X,{onClick:()=>u(!0),children:[s.jsx(wr,{className:"h-4 w-4 mr-2"}),"Adicionar Primeira Etapa"]})]}):s.jsxs("div",{className:"space-y-3",children:[o.map((I,oe)=>s.jsxs("div",{className:"relative",children:[oe<o.length-1&&s.jsx("div",{className:"absolute left-6 top-full h-3 w-0.5 bg-border -translate-y-1/2 z-0"}),s.jsx(ie,{className:"border-2 hover:border-primary/50 transition-all relative z-10",children:s.jsx(ue,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`h-12 w-12 rounded-lg bg-gradient-to-br ${J(I.type)} flex items-center justify-center text-white flex-shrink-0`,children:F(I.type)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:"font-semibold",children:I.name}),s.jsxs(De,{variant:"outline",className:"text-xs",children:["Etapa ",oe+1]})]}),H(I)]}),s.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[s.jsx(X,{variant:"ghost",size:"sm",onClick:()=>q(oe,"up"),disabled:oe===0,children:s.jsx(PX,{className:"h-4 w-4"})}),s.jsx(X,{variant:"ghost",size:"sm",onClick:()=>q(oe,"down"),disabled:oe===o.length-1,children:s.jsx(AX,{className:"h-4 w-4"})}),s.jsx(X,{variant:"ghost",size:"sm",onClick:()=>U(I),children:"Editar"}),s.jsx(X,{variant:"ghost",size:"sm",onClick:()=>$(I.id),children:s.jsx(no,{className:"h-4 w-4 text-destructive"})})]})]})})})]},I.id)),s.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[s.jsx("div",{className:"h-12 w-12 rounded-lg bg-gradient-to-br from-emerald-500 to-emerald-600 flex items-center justify-center text-white",children:s.jsx(gs,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",children:"Fim do Fluxo"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Campanha finalizada"})]})]})]})})]}),s.jsx(Xt,{open:c,onOpenChange:u,children:s.jsxs(Ut,{className:"max-w-2xl",children:[s.jsxs(Jt,{children:[s.jsx(er,{children:h?"Editar Etapa":"Adicionar Etapa"}),s.jsx(or,{children:"Configure a etapa do fluxo de automação"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Tipo de Etapa"}),s.jsxs(ot,{value:v,onValueChange:I=>p(I),children:[s.jsx(nt,{children:s.jsx(lt,{})}),s.jsxs(at,{children:[s.jsx(re,{value:"message",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(At,{className:"h-4 w-4"}),"Enviar Mensagem"]})}),s.jsx(re,{value:"delay",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Fa,{className:"h-4 w-4"}),"Aguardar (Timer)"]})}),s.jsx(re,{value:"condition",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vu,{className:"h-4 w-4"}),"Condição"]})}),s.jsx(re,{value:"action",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ac,{className:"h-4 w-4"}),"Ação"]})}),s.jsx(re,{value:"wait_for_response",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(gy,{className:"h-4 w-4"}),"Aguardar Resposta"]})}),s.jsx(re,{value:"tag",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(QO,{className:"h-4 w-4"}),"Adicionar Tag"]})}),s.jsx(re,{value:"webhook",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ma,{className:"h-4 w-4"}),"Webhook"]})}),s.jsx(re,{value:"split",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vu,{className:"h-4 w-4"}),"Divisão de Fluxo"]})}),s.jsx(re,{value:"merge",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vu,{className:"h-4 w-4"}),"Mesclagem de Fluxo"]})}),s.jsx(re,{value:"survey",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Kn,{className:"h-4 w-4"}),"Pesquisa"]})}),s.jsx(re,{value:"notification",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Od,{className:"h-4 w-4"}),"Notificação"]})}),s.jsx(re,{value:"calendar",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(py,{className:"h-4 w-4"}),"Agendamento"]})}),s.jsx(re,{value:"location",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Pd,{className:"h-4 w-4"}),"Localização"]})})]})]})]}),v==="message"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Mensagem"}),s.jsx(Gn,{placeholder:"Digite a mensagem que será enviada...",value:b.message,onChange:I=>x({...b,message:I.target.value}),rows:5}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Você pode usar variáveis como ","{nome}",", ","{email}",", etc."]})]}),v==="delay"&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Tempo de Espera"}),s.jsx(Be,{type:"number",min:"1",value:b.delay,onChange:I=>x({...b,delay:parseInt(I.target.value)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Unidade"}),s.jsxs(ot,{value:b.delayUnit,onValueChange:I=>x({...b,delayUnit:I}),children:[s.jsx(nt,{children:s.jsx(lt,{})}),s.jsxs(at,{children:[s.jsx(re,{value:"minutes",children:"Minutos"}),s.jsx(re,{value:"hours",children:"Horas"}),s.jsx(re,{value:"days",children:"Dias"})]})]})]})]}),v==="condition"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Condição"}),s.jsxs(ot,{value:b.condition,onValueChange:I=>x({...b,condition:I}),children:[s.jsx(nt,{children:s.jsx(lt,{placeholder:"Selecione uma condição"})}),s.jsxs(at,{children:[s.jsx(re,{value:"opened",children:"Abriu a mensagem anterior"}),s.jsx(re,{value:"clicked",children:"Clicou no link"}),s.jsx(re,{value:"replied",children:"Respondeu a mensagem"}),s.jsx(re,{value:"not_opened",children:"Não abriu a mensagem"})]})]})]}),v==="action"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Ação"}),s.jsxs(ot,{value:b.action,onValueChange:I=>x({...b,action:I}),children:[s.jsx(nt,{children:s.jsx(lt,{placeholder:"Selecione uma ação"})}),s.jsxs(at,{children:[s.jsx(re,{value:"add_tag",children:"Adicionar Tag"}),s.jsx(re,{value:"remove_tag",children:"Remover Tag"}),s.jsx(re,{value:"move_list",children:"Mover para Lista"}),s.jsx(re,{value:"notify_team",children:"Notificar Equipe"})]})]})]}),v==="wait_for_response"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Tempo de Espera (minutos)"}),s.jsx(Be,{type:"number",min:"1",max:"1440",value:b.waitTimeout?Math.floor(b.waitTimeout/60):60,onChange:I=>x({...b,waitTimeout:parseInt(I.target.value)*60})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Tempo máximo para aguardar uma resposta do contato"})]}),v==="tag"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Nome da Tag"}),s.jsx(Be,{placeholder:"Ex: interessado, vip, atendido",value:b.tagName,onChange:I=>x({...b,tagName:I.target.value})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Tag que será adicionada ao contato"})]}),v==="webhook"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"URL do Webhook"}),s.jsx(Be,{placeholder:"https://api.exemplo.com/webhook",value:b.webhookUrl,onChange:I=>x({...b,webhookUrl:I.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Método HTTP"}),s.jsxs(ot,{value:b.webhookMethod,onValueChange:I=>x({...b,webhookMethod:I}),children:[s.jsx(nt,{children:s.jsx(lt,{})}),s.jsxs(at,{children:[s.jsx(re,{value:"GET",children:"GET"}),s.jsx(re,{value:"POST",children:"POST"}),s.jsx(re,{value:"PUT",children:"PUT"})]})]})]})]}),v==="survey"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Perguntas da Pesquisa"}),s.jsx(Gn,{placeholder:"Digite as perguntas, uma por linha...",value:((i=b.surveyQuestions)==null?void 0:i.join(`
`))||"",onChange:I=>x({...b,surveyQuestions:I.target.value.split(`
`).filter(oe=>oe.trim())}),rows:4}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Uma pergunta por linha"})]}),v==="notification"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Mensagem de Notificação"}),s.jsx(Gn,{placeholder:"Mensagem que será enviada como notificação...",value:b.notificationMessage,onChange:I=>x({...b,notificationMessage:I.target.value}),rows:3})]}),v==="calendar"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Evento do Calendário"}),s.jsx(Be,{placeholder:"Ex: Reunião de apresentação, Call comercial",value:b.calendarEvent,onChange:I=>x({...b,calendarEvent:I.target.value})})]}),v==="location"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Tipo de Localização"}),s.jsxs(ot,{value:b.locationType,onValueChange:I=>x({...b,locationType:I}),children:[s.jsx(nt,{children:s.jsx(lt,{})}),s.jsxs(at,{children:[s.jsx(re,{value:"request",children:"Solicitar Localização"}),s.jsx(re,{value:"share",children:"Compartilhar Localização"})]})]})]})]}),s.jsxs(gn,{children:[s.jsx(X,{variant:"outline",onClick:M,children:"Cancelar"}),s.jsx(X,{onClick:P,children:h?"Atualizar":"Adicionar"})]})]})}),s.jsx(Xt,{open:d,onOpenChange:f,children:s.jsxs(Ut,{className:"max-w-2xl",children:[s.jsxs(Jt,{children:[s.jsxs(er,{className:"flex items-center space-x-2",children:[s.jsx(ma,{className:"h-5 w-5 text-purple-600"}),s.jsx("span",{children:"Assistente IA para Fluxo"})]}),s.jsx(or,{children:"Descreva o objetivo da campanha e deixe a IA criar o fluxo automaticamente"})]}),s.jsxs("div",{className:"space-y-6 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"objective",children:"Objetivo da Campanha *"}),s.jsx(Gn,{id:"objective",placeholder:"Ex: Agendar reunião com clientes interessados em nosso produto...",value:j,onChange:I=>N(I.target.value),rows:3}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Seja específico sobre o que você quer alcançar com esta campanha"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"audience",children:"Público-Alvo"}),s.jsxs(ot,{value:_,onValueChange:k,children:[s.jsx(nt,{id:"audience",children:s.jsx(lt,{placeholder:"Selecione o público"})}),s.jsxs(at,{children:[s.jsx(re,{value:"novos-contatos",children:"Novos Contatos"}),s.jsx(re,{value:"clientes-existentes",children:"Clientes Existentes"}),s.jsx(re,{value:"prospects",children:"Prospects"}),s.jsx(re,{value:"clientes-vip",children:"Clientes VIP"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"tone",children:"Tom da Comunicação"}),s.jsxs(ot,{value:C,onValueChange:O,children:[s.jsx(nt,{id:"tone",children:s.jsx(lt,{placeholder:"Selecione o tom"})}),s.jsxs(at,{children:[s.jsx(re,{value:"formal",children:"Formal"}),s.jsx(re,{value:"profissional",children:"Profissional"}),s.jsx(re,{value:"amigável",children:"Amigável"}),s.jsx(re,{value:"casual",children:"Casual"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Exemplos de Objetivos"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:["Agendar reunião de apresentação","Coletar feedback de clientes","Enviar informações sobre promoções","Solicitar localização para entrega","Realizar pesquisa de satisfação","Convidar para eventos"].map(I=>s.jsx(X,{variant:"outline",size:"sm",onClick:()=>N(I),className:"text-left justify-start h-auto p-2",children:s.jsx("span",{className:"text-sm",children:I})},I))})]})]}),s.jsxs(gn,{className:"flex justify-between",children:[s.jsx(X,{variant:"outline",onClick:()=>f(!1),children:"Cancelar"}),s.jsx(X,{onClick:L,disabled:y||!j.trim(),className:"bg-gradient-to-r from-purple-600 to-blue-600",children:y?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Gerando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ma,{className:"h-4 w-4 mr-2"}),"Gerar Fluxo com IA"]})})]})]})})]})}function DMe(){var e,t,r,n,a,i,o,l,c,u,d,f,h,m;const[v,p]=g.useState(!1),[b,x]=g.useState(!1),[y,w]=g.useState(null),[j,N]=g.useState("campaigns"),[_,k]=g.useState({name:"",description:"",channel_type:"whatsapp",category:"marketing",priority:"medium",schedule_type:"immediate",scheduled_date:"",scheduled_time:"",recurring_type:"none",recurring_days:[],recurring_time:"",max_messages_per_day:100,respect_working_hours:!0,working_hours_start:"09:00",working_hours_end:"18:00",working_days:[1,2,3,4,5],timezone:"America/Sao_Paulo",auto_optimize:!1,a_b_testing:!1,success_metrics:[]}),[C,O]=g.useState(!1),[T,P]=g.useState(null),[S,M]=g.useState(null),[$,q]=g.useState(!1),[U,L]=g.useState(!1),[z,R]=g.useState({period:"30d",channel:"all",campaignType:"all"});g.useEffect(()=>{v&&M(null)},[v]);const G=[{id:"welcome-series",name:"Série de Boas-vindas",description:"Sequência automática para novos clientes",channel_type:"whatsapp",steps:[{type:"message",name:"Mensagem de Boas-vindas",config:{message:"Olá! Bem-vindo à nossa empresa. Estamos felizes em tê-lo conosco!"}},{type:"delay",name:"Aguardar 1 dia",config:{delay:1,delayUnit:"days"}},{type:"message",name:"Apresentar Produtos",config:{message:"Que tal conhecer nossos produtos? Temos ofertas especiais para você!"}}]},{id:"follow-up-sales",name:"Follow-up de Vendas",description:"Sequência para prospects interessados",channel_type:"whatsapp",steps:[{type:"message",name:"Verificar Interesse",config:{message:"Olá! Vi que você demonstrou interesse em nossos produtos. Posso ajudá-lo?"}},{type:"delay",name:"Aguardar 2 dias",config:{delay:2,delayUnit:"days"}},{type:"message",name:"Oferta Especial",config:{message:"Temos uma oferta especial que pode interessá-lo. Gostaria de saber mais?"}},{type:"delay",name:"Aguardar 3 dias",config:{delay:3,delayUnit:"days"}},{type:"message",name:"Última Chance",config:{message:"Esta é nossa última oportunidade de oferecer este desconto especial!"}}]},{id:"event-promotion",name:"Promoção de Evento",description:"Campanha para divulgar eventos",channel_type:"whatsapp",steps:[{type:"message",name:"Convite do Evento",config:{message:"Você está convidado para nosso evento especial! Data: [DATA]"}},{type:"delay",name:"Lembrete 1 semana",config:{delay:7,delayUnit:"days"}},{type:"message",name:"Lembrete do Evento",config:{message:"Lembrete: Nosso evento é amanhã! Não perca!"}},{type:"delay",name:"Lembrete 1 dia",config:{delay:1,delayUnit:"days"}},{type:"message",name:"Último Lembrete",config:{message:"Hoje é o grande dia! Nos vemos no evento!"}}]},{id:"customer-satisfaction",name:"Pesquisa de Satisfação",description:"Coletar feedback dos clientes",channel_type:"whatsapp",steps:[{type:"message",name:"Solicitar Feedback",config:{message:"Olá! Como foi sua experiência conosco? Gostaríamos de saber sua opinião!"}},{type:"delay",name:"Aguardar 3 dias",config:{delay:3,delayUnit:"days"}},{type:"message",name:"Lembrete Feedback",config:{message:"Não esqueça de nos dar seu feedback! É muito importante para nós!"}}]}],{data:D,isLoading:F}=bt({queryKey:["campaigns-analytics"],queryFn:async()=>{const{data:{user:W}}=await le.auth.getUser();if(!W)throw new Error("Usuário não autenticado");const{data:se}=await le.from("members").select("org_id").eq("user_id",W.id).single();if(!se)throw new Error("Organização não encontrada");const{data:Se}=await le.from("conversations").select("id").eq("org_id",se.org_id),mt=(Se==null?void 0:Se.map(Wt=>Wt.id))||[];let Vt=0,tr=0,wn=0,dr=0,Wr=0;if(mt.length>0){const{data:Wt}=await le.from("messages").select("status, created_at, channel_type").in("conversation_id",mt).gte("created_at",new Date(Date.now()-2592e6).toISOString());Vt=(Wt==null?void 0:Wt.length)||0,tr=(Wt==null?void 0:Wt.filter(Tr=>Tr.status==="delivered"||Tr.status==="read").length)||0,wn=(Wt==null?void 0:Wt.filter(Tr=>Tr.status==="read").length)||0,dr=(Wt==null?void 0:Wt.filter(Tr=>Tr.status==="clicked").length)||0,Wr=(Wt==null?void 0:Wt.filter(Tr=>Tr.status==="replied").length)||0}const{data:Tn}=await le.from("campaigns").select("*").eq("org_id",se.org_id).order("created_at",{ascending:!1}),$s=[];for(let Wt=6;Wt>=0;Wt--){const Tr=new Date;Tr.setDate(Tr.getDate()-Wt);const nu=Tr.toISOString().split("T")[0],vi=Math.floor(Vt/30)+Math.floor(Math.random()*20),tn=Math.floor(vi*.95),au=Math.floor(tn*.6),Ve=Math.floor(au*.15),vt=Math.floor(Ve*.8);$s.push({date:nu,sent:vi,delivered:tn,opened:au,clicked:Ve,replied:vt})}const ra=Vt>0?wn/Vt*100:0,Nt=wn>0?dr/wn*100:0,Zf=Vt>0?Wr/Vt*100:0;return{totalSent:Vt,totalDelivered:tr,totalOpened:wn,totalClicked:dr,totalReplied:Wr,openRate:Math.round(ra*10)/10,clickRate:Math.round(Nt*10)/10,replyRate:Math.round(Zf*10)/10,campaigns:(Tn==null?void 0:Tn.map(Wt=>({id:Wt.id,name:Wt.name,sent:Math.floor(Math.random()*1e3)+500,delivered:Math.floor(Math.random()*900)+450,opened:Math.floor(Math.random()*600)+300,clicked:Math.floor(Math.random()*100)+50,replied:Math.floor(Math.random()*80)+20,openRate:Math.round((Math.random()*20+50)*10)/10,clickRate:Math.round((Math.random()*10+10)*10)/10,replyRate:Math.round((Math.random()*15+5)*10)/10,status:Wt.status})))||[],dailyStats:$s}}}),{data:J=[],isLoading:H,refetch:I}=bt({queryKey:["campaigns"],queryFn:async()=>{const{data:W,error:se}=await le.from("campaigns").select("*").order("created_at",{ascending:!1});if(se)throw se;return W}}),{data:oe}=bt({queryKey:["campaigns-stats"],queryFn:async()=>{const{count:W}=await le.from("campaigns").select("*",{count:"exact",head:!0}),{count:se}=await le.from("campaign_messages").select("*",{count:"exact",head:!0}),{data:Se}=await le.from("campaign_messages").select("status"),mt=(Se==null?void 0:Se.filter(Wr=>Wr.status==="delivered").length)||0,Vt=(Se==null?void 0:Se.length)||1,tr=Math.round(mt/Vt*100),{count:wn}=await le.from("campaigns").select("*",{count:"exact",head:!0}).eq("status","active"),{count:dr}=await le.from("campaigns").select("*",{count:"exact",head:!0}).eq("status","paused");return{totalCampaigns:W||0,totalMessages:se||0,openRate:tr,activeCampaigns:wn||0,pausedCampaigns:dr||0}}}),V=async()=>{if(!_.name){ae.error("Nome da campanha é obrigatório");return}p(!1),x(!0)},de=async W=>{O(!0);try{const{data:{user:se}}=await le.auth.getUser();if(!se){ae.error("Usuário não autenticado");return}const{data:Se}=await le.from("members").select("org_id").eq("user_id",se.id).single();if(!Se){ae.error("Organização não encontrada");return}if(y){const{error:mt}=await le.from("campaigns").update({name:_.name,channel_type:_.channel_type,audience_query:{steps:W}}).eq("id",y.id);if(mt)throw mt;ae.success("Campanha atualizada!")}else{const{error:mt}=await le.from("campaigns").insert({org_id:Se.org_id,name:_.name,channel_type:_.channel_type,status:"draft",audience_query:{steps:W}});if(mt)throw mt;ae.success("Campanha criada com sucesso!")}x(!1),k({name:"",description:"",channel_type:"whatsapp",category:"marketing",priority:"medium",schedule_type:"immediate",scheduled_date:"",scheduled_time:"",recurring_type:"none",recurring_days:[],recurring_time:"",max_messages_per_day:100,respect_working_hours:!0,working_hours_start:"09:00",working_hours_end:"18:00",working_days:[1,2,3,4,5],timezone:"America/Sao_Paulo",auto_optimize:!1,a_b_testing:!1,success_metrics:[]}),w(null),I()}catch(se){console.error("Error:",se),ae.error("Erro ao salvar campanha")}finally{O(!1)}},te=W=>{k({name:W.name,description:W.description||"",channel_type:W.channel_type,category:W.category||"marketing",priority:W.priority||"medium",schedule_type:"immediate",scheduled_date:"",scheduled_time:"",recurring_type:"none",recurring_days:[],recurring_time:"",max_messages_per_day:100,respect_working_hours:!0,working_hours_start:"09:00",working_hours_end:"18:00",working_days:[1,2,3,4,5],timezone:"America/Sao_Paulo",auto_optimize:!1,a_b_testing:!1,success_metrics:[]}),w({...W,audience_query:{steps:W.steps}}),x(!0)},ce=async()=>{q(!0);try{await new Promise(mt=>setTimeout(mt,1500));const W=_.category,se=_.channel_type,Se={campaignType:W,channelType:se,contentSuggestions:{recommendedName:ne(W,se),recommendedDescription:ee(W),tone:qe(W),topics:Re(W),callToAction:ut(W,se)},optimizationTips:["Mantenha mensagens concisas e objetivas","Use tom conversacional, não comercial","Evite spam - respeite o limite de mensagens por dia","Personalize com o nome do contato quando possível","Inclua chamadas para ação simples e diretas"],analyticsInsights:{avgOpenRate:it(W,"openRate"),avgResponseRate:it(W,"responseRate"),bestPerformingType:Qe(),improvementTip:Z(W)}};M(Se),ae.success("Sugestões de campanha geradas com sucesso!")}catch{ae.error("Erro ao gerar sugestões de IA")}finally{q(!1)}},ne=(W,se)=>({marketing:`Campanha de Marketing - ${se}`,sales:`Prospecção Comercial - ${se}`,support:`Suporte ao Cliente - ${se}`,nurturing:`Nutrição de Leads - ${se}`,announcement:`Comunicado Importante - ${se}`})[W]||`Nova Campanha - ${se}`,ee=W=>({marketing:"Campanha focada em divulgação e engajamento de marca",sales:"Campanha de prospecção e conversão de leads em clientes",support:"Campanha de suporte e atendimento ao cliente",nurturing:"Campanha de nutrição e relacionamento com leads",announcement:"Campanha para comunicados importantes e novidades"})[W]||"Campanha personalizada",qe=W=>({marketing:"Amigável e envolvente",sales:"Profissional e persuasivo",support:"Empático e solucionador",nurturing:"Cuidadoso e educativo",announcement:"Claro e direto"})[W]||"Profissional",Re=W=>({marketing:["Benefícios do produto","Depoimentos","Cases de sucesso"],sales:["Ofertas exclusivas","Demonstrações","Propostas comerciais"],support:["Soluções para problemas","Tutoriais","FAQ"],nurturing:["Educação sobre produto","Dicas úteis","Conteúdo relevante"],announcement:["Novidades","Mudanças importantes","Avisos"]})[W]||["Conteúdo relevante"],ut=(W,se)=>({marketing:se==="whatsapp"?"Responda SIM para saber mais":"Clique para saber mais",sales:"Agende uma demonstração",support:"Como posso ajudar?",nurturing:"Tem alguma dúvida?",announcement:"Confirme o recebimento"})[W]||"Entre em contato",it=(W,se)=>{var Se;return((Se={marketing:{openRate:"78%",responseRate:"12%"},sales:{openRate:"82%",responseRate:"18%"},support:{openRate:"85%",responseRate:"25%"},nurturing:{openRate:"75%",responseRate:"15%"},announcement:{openRate:"88%",responseRate:"22%"}}[W])==null?void 0:Se[se])||"N/A"},Qe=()=>"Suporte ao Cliente",Z=W=>({marketing:"Foque em storytelling e benefícios emocionais",sales:"Use prova social e urgência limitada",support:"Seja proativo e antecipe necessidades",nurturing:"Eduque primeiro, venda depois",announcement:"Seja claro e direto na comunicação"})[W]||"Personalize sua abordagem",B=(W,se)=>{switch(W){case"name":k({..._,name:se});break;case"description":k({..._,description:se});break;case"category":k({..._,category:se});break}ae.success("Sugestão aplicada com sucesso!")},Y=async()=>{q(!0);try{await new Promise(W=>setTimeout(W,1500)),k(W=>({...W,respect_working_hours:!0,auto_optimize:!0,max_messages_per_day:Math.min(W.max_messages_per_day,150),scheduled_time:"14:30"})),ae.success("Campanha otimizada com IA!")}catch{ae.error("Erro ao otimizar campanha")}finally{q(!1)}},Q=async W=>{if(confirm("Tem certeza que deseja deletar esta campanha?")){P(W);try{const{error:se}=await le.from("campaigns").delete().eq("id",W);if(se)throw se;ae.success("Campanha deletada!"),I()}catch(se){console.error("Error:",se),ae.error("Erro ao deletar campanha")}finally{P(null)}}},xe=async W=>{try{const se=W.status==="active"?"paused":"active",{error:Se}=await le.from("campaigns").update({status:se}).eq("id",W.id);if(Se)throw Se;ae.success(`Campanha ${se==="active"?"ativada":"pausada"}!`),I()}catch(se){console.error("Error:",se),ae.error("Erro ao atualizar status")}},ye=W=>{w(W),k({name:W.name,description:W.description||"",channel_type:W.channel_type,category:W.category||"marketing",priority:W.priority||"medium",schedule_type:W.schedule_type||"immediate",scheduled_date:W.scheduled_date||"",scheduled_time:W.scheduled_time||"",recurring_type:W.recurring_type||"none",recurring_days:W.recurring_days||[],recurring_time:W.recurring_time||"",max_messages_per_day:W.max_messages_per_day||100,respect_working_hours:W.respect_working_hours||!0,working_hours_start:W.working_hours_start||"09:00",working_hours_end:W.working_hours_end||"18:00",working_days:W.working_days||[1,2,3,4,5],timezone:W.timezone||"America/Sao_Paulo",auto_optimize:W.auto_optimize||!1,a_b_testing:W.a_b_testing||!1,success_metrics:W.success_metrics||[]}),x(!0)},we=W=>{const se={active:{label:"Ativa",className:"bg-emerald-500/10 text-emerald-600 hover:bg-emerald-500/20"},scheduled:{label:"Agendada",className:"bg-blue-500/10 text-blue-600 hover:bg-blue-500/20"},paused:{label:"Pausada",className:"bg-orange-500/10 text-orange-600 hover:bg-orange-500/20"},draft:{label:"Rascunho",className:"bg-gray-500/10 text-gray-600 hover:bg-gray-500/20"}},Se=se[W]||se.draft;return s.jsx(De,{className:Se.className,children:Se.label})};return oe!=null&&oe.totalCampaigns.toString(),oe!=null&&oe.totalMessages.toString(),`${(oe==null?void 0:oe.openRate)||0}`,b?s.jsx("div",{className:"p-8 bg-gradient-to-br from-background via-background to-primary/5 min-h-screen",children:s.jsx(IMe,{campaignName:_.name,channelType:_.channel_type,onSave:de,onCancel:()=>{x(!1),w(null),k({name:"",description:"",channel_type:"whatsapp",category:"marketing",priority:"medium",schedule_type:"immediate",scheduled_date:"",scheduled_time:"",recurring_type:"none",recurring_days:[],recurring_time:"",max_messages_per_day:100,respect_working_hours:!0,working_hours_start:"09:00",working_hours_end:"18:00",working_days:[1,2,3,4,5],timezone:"America/Sao_Paulo",auto_optimize:!1,a_b_testing:!1,success_metrics:[]})},initialSteps:((e=y==null?void 0:y.audience_query)==null?void 0:e.steps)||[]})}):s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:s.jsx("div",{className:"flex h-16 items-center px-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ms,{className:"h-5 w-5 text-muted-foreground"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Marketing"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"/"}),s.jsx("span",{className:"text-sm font-medium",children:"Campanhas"})]})})}),s.jsx("div",{className:"flex-1 overflow-auto",children:s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Campanhas"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Crie e gerencie suas campanhas de marketing"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs(X,{variant:"outline",onClick:()=>L(!0),className:"bg-gradient-to-r from-purple-500/10 to-blue-500/10 border-purple-200 text-purple-700 hover:from-purple-500/20 hover:to-blue-500/20",children:[s.jsx(mn,{className:"h-4 w-4 mr-2"}),"Assistente IA Orgânica"]}),s.jsxs(X,{onClick:()=>p(!0),children:[s.jsx(wr,{className:"h-4 w-4 mr-2"}),"Nova Campanha"]})]})]}),s.jsxs(Na,{value:j,onValueChange:N,className:"space-y-4",children:[s.jsxs(Jn,{className:"grid w-full grid-cols-3",children:[s.jsxs(et,{value:"campaigns",className:"flex items-center space-x-2",children:[s.jsx(ms,{className:"h-4 w-4"}),s.jsx("span",{children:"Campanhas"})]}),s.jsxs(et,{value:"analytics",className:"flex items-center space-x-2",children:[s.jsx(Kn,{className:"h-4 w-4"}),s.jsx("span",{children:"Analytics"})]}),s.jsxs(et,{value:"templates",className:"flex items-center space-x-2",children:[s.jsx(At,{className:"h-4 w-4"}),s.jsx("span",{children:"Templates"})]})]}),s.jsxs(dt,{value:"campaigns",className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs(ie,{children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Total Campanhas"}),s.jsx(ms,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-2xl font-bold",children:(oe==null?void 0:oe.totalCampaigns)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:(oe==null?void 0:oe.totalCampaigns)===1?"campanha criada":"campanhas criadas"})]})]}),s.jsxs(ie,{children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Ativas"}),s.jsx(Ac,{className:"h-4 w-4 text-green-500"})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:(oe==null?void 0:oe.activeCampaigns)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:(oe==null?void 0:oe.activeCampaigns)===1?"campanha ativa":"campanhas ativas"})]})]}),s.jsxs(ie,{children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Pausadas"}),s.jsx(Rm,{className:"h-4 w-4 text-yellow-500"})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:(oe==null?void 0:oe.pausedCampaigns)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:(oe==null?void 0:oe.pausedCampaigns)===1?"campanha pausada":"campanhas pausadas"})]})]}),s.jsxs(ie,{children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Taxa de Abertura"}),s.jsx(xt,{className:"h-4 w-4 text-blue-500"})]}),s.jsxs(ue,{children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[((oe==null?void 0:oe.openRate)||0).toFixed(1),"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"média de abertura"})]})]})]}),s.jsxs(ie,{className:"border-2 hover:border-primary/30 transition-all shadow-lg",children:[s.jsx(me,{children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(ms,{className:"h-5 w-5 text-primary"}),"Todas as Campanhas"]}),s.jsx(Ie,{className:"mt-1",children:"Gerencie suas campanhas de marketing"})]})})}),s.jsx(ue,{children:H?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(gt,{className:"h-8 w-8 animate-spin mx-auto text-primary"}),s.jsx("p",{className:"text-muted-foreground mt-4",children:"Carregando campanhas..."})]}):J.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(ms,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Nenhuma campanha encontrada"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Comece criando sua primeira campanha de marketing."}),s.jsxs(X,{onClick:()=>p(!0),children:[s.jsx(wr,{className:"h-4 w-4 mr-2"}),"Criar Primeira Campanha"]})]}):s.jsx("div",{className:"grid gap-4",children:J.map(W=>s.jsx(ie,{className:"border hover:border-primary/30 transition-all",children:s.jsx(ue,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold",children:W.name}),we(W.status)]}),s.jsxs("p",{className:"text-sm text-muted-foreground capitalize",children:["Canal: ",W.channel_type]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(X,{variant:"outline",size:"sm",onClick:()=>xe(W),children:W.status==="active"?s.jsxs(s.Fragment,{children:[s.jsx(Rm,{className:"h-3 w-3 mr-1"}),"Pausar"]}):s.jsxs(s.Fragment,{children:[s.jsx(Ac,{className:"h-3 w-3 mr-1"}),"Ativar"]})}),s.jsxs(X,{variant:"outline",size:"sm",onClick:()=>ye(W),children:[s.jsx(K1,{className:"h-3 w-3 mr-1"}),"Editar Fluxo"]}),s.jsx(X,{variant:"outline",size:"sm",onClick:()=>Q(W.id),disabled:T===W.id,children:T===W.id?s.jsx(gt,{className:"h-3 w-3 animate-spin"}):s.jsx(no,{className:"h-3 w-3"})})]})]})})},W.id))})})]})]}),s.jsx(dt,{value:"analytics",className:"space-y-4",children:F?s.jsxs("div",{className:"flex items-center justify-center py-12",children:[s.jsx(gt,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("span",{className:"ml-2 text-muted-foreground",children:"Carregando analytics..."})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(Br,{className:"h-5 w-5"}),"Filtros de Analytics"]}),s.jsx(Ie,{children:"Configure os filtros para visualizar dados específicos"})]}),s.jsx(ue,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Período"}),s.jsxs(ot,{value:z.period,onValueChange:W=>R({...z,period:W}),children:[s.jsx(nt,{children:s.jsx(lt,{})}),s.jsxs(at,{children:[s.jsx(re,{value:"7d",children:"Últimos 7 dias"}),s.jsx(re,{value:"30d",children:"Últimos 30 dias"}),s.jsx(re,{value:"90d",children:"Últimos 90 dias"}),s.jsx(re,{value:"1y",children:"Último ano"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Canal"}),s.jsxs(ot,{value:z.channel,onValueChange:W=>R({...z,channel:W}),children:[s.jsx(nt,{children:s.jsx(lt,{})}),s.jsxs(at,{children:[s.jsx(re,{value:"all",children:"Todos os canais"}),s.jsx(re,{value:"whatsapp",children:"WhatsApp"}),s.jsx(re,{value:"instagram",children:"Instagram"}),s.jsx(re,{value:"messenger",children:"Messenger"}),s.jsx(re,{value:"telegram",children:"Telegram"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Tipo de Campanha"}),s.jsxs(ot,{value:z.campaignType,onValueChange:W=>R({...z,campaignType:W}),children:[s.jsx(nt,{children:s.jsx(lt,{})}),s.jsxs(at,{children:[s.jsx(re,{value:"all",children:"Todos os tipos"}),s.jsx(re,{value:"marketing",children:"Marketing"}),s.jsx(re,{value:"sales",children:"Vendas"}),s.jsx(re,{value:"support",children:"Suporte"}),s.jsx(re,{value:"nurturing",children:"Nutrição"}),s.jsx(re,{value:"announcement",children:"Anúncio"})]})]})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[s.jsxs(ie,{className:"hover:shadow-md transition-shadow",children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Enviadas"}),s.jsx(ms,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-2xl font-bold",children:((t=D==null?void 0:D.totalSent)==null?void 0:t.toLocaleString())||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"mensagens totais"}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx(xt,{className:"h-3 w-3 text-green-500 mr-1"}),s.jsx("span",{className:"text-xs text-green-600",children:"+12% vs período anterior"})]})]})]}),s.jsxs(ie,{className:"hover:shadow-md transition-shadow",children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Entregues"}),s.jsx(gs,{className:"h-4 w-4 text-green-500"})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:((r=D==null?void 0:D.totalDelivered)==null?void 0:r.toLocaleString())||0}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[D!=null&&D.totalSent?(D.totalDelivered/D.totalSent*100).toFixed(1):0,"% taxa de entrega"]}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx(xt,{className:"h-3 w-3 text-green-500 mr-1"}),s.jsx("span",{className:"text-xs text-green-600",children:"+2% vs período anterior"})]})]})]}),s.jsxs(ie,{className:"hover:shadow-md transition-shadow",children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Abertas"}),s.jsx(ul,{className:"h-4 w-4 text-blue-500"})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:((n=D==null?void 0:D.totalOpened)==null?void 0:n.toLocaleString())||0}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[(D==null?void 0:D.openRate)||0,"% taxa de abertura"]}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx(xt,{className:"h-3 w-3 text-green-500 mr-1"}),s.jsx("span",{className:"text-xs text-green-600",children:"+5% vs período anterior"})]})]})]}),s.jsxs(ie,{className:"hover:shadow-md transition-shadow",children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Cliques"}),s.jsx(OX,{className:"h-4 w-4 text-purple-500"})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:((a=D==null?void 0:D.totalClicked)==null?void 0:a.toLocaleString())||0}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[(D==null?void 0:D.clickRate)||0,"% taxa de clique"]}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx(xt,{className:"h-3 w-3 text-green-500 mr-1"}),s.jsx("span",{className:"text-xs text-green-600",children:"+8% vs período anterior"})]})]})]}),s.jsxs(ie,{className:"hover:shadow-md transition-shadow",children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Respostas"}),s.jsx(At,{className:"h-4 w-4 text-orange-500"})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:((i=D==null?void 0:D.totalReplied)==null?void 0:i.toLocaleString())||0}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[(D==null?void 0:D.replyRate)||0,"% taxa de resposta"]}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx(xt,{className:"h-3 w-3 text-green-500 mr-1"}),s.jsx("span",{className:"text-xs text-green-600",children:"+3% vs período anterior"})]})]})]})]}),s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(xt,{className:"h-5 w-5 text-primary"}),"Tendência de Engajamento"]}),s.jsx(Ie,{children:"Evolução das métricas nos últimos 7 dias"})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-7 gap-3",children:(o=D==null?void 0:D.dailyStats)==null?void 0:o.map((W,se)=>{const Se=W.sent>0?W.opened/W.sent*100:0,mt=W.opened>0?W.clicked/W.opened*100:0,Vt=W.sent>0?W.replied/W.sent*100:0;return s.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-white p-4 rounded-lg border hover:shadow-md transition-all",children:[s.jsxs("div",{className:"text-center mb-3",children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900",children:new Date(W.date).toLocaleDateString("pt-BR",{weekday:"short"})}),s.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(W.date).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-gray-900",children:W.sent}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"enviadas"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex justify-between items-center text-xs",children:[s.jsx("span",{className:"text-blue-600 font-medium",children:"Abertura"}),s.jsxs("span",{className:"font-semibold",children:[Se.toFixed(1),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-500",style:{width:`${Math.min(Se,100)}%`}})})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex justify-between items-center text-xs",children:[s.jsx("span",{className:"text-purple-600 font-medium",children:"Clique"}),s.jsxs("span",{className:"font-semibold",children:[mt.toFixed(1),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-purple-500 h-2 rounded-full transition-all duration-500",style:{width:`${Math.min(mt,100)}%`}})})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex justify-between items-center text-xs",children:[s.jsx("span",{className:"text-orange-600 font-medium",children:"Resposta"}),s.jsxs("span",{className:"font-semibold",children:[Vt.toFixed(1),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-orange-500 h-2 rounded-full transition-all duration-500",style:{width:`${Math.min(Vt,100)}%`}})})]})]}),s.jsxs("div",{className:"mt-3 pt-3 border-t",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:`w-2 h-2 rounded-full ${Se>=60?"bg-green-500":Se>=40?"bg-yellow-500":"bg-red-500"}`})}),s.jsx("div",{className:"text-xs text-center mt-1 text-muted-foreground",children:Se>=60?"Excelente":Se>=40?"Bom":"Melhorar"})]})]},se)})}),s.jsx("div",{className:"mt-6 pt-6 border-t",children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:((l=D==null?void 0:D.dailyStats)==null?void 0:l.reduce((W,se)=>W+se.sent,0))||0}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Enviadas"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[(c=D==null?void 0:D.dailyStats)!=null&&c.length?(D.dailyStats.reduce((W,se)=>W+(se.sent>0?se.opened/se.sent*100:0),0)/D.dailyStats.length).toFixed(1):0,"%"]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Média Abertura"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[(u=D==null?void 0:D.dailyStats)!=null&&u.length?(D.dailyStats.reduce((W,se)=>W+(se.opened>0?se.clicked/se.opened*100:0),0)/D.dailyStats.length).toFixed(1):0,"%"]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Média Clique"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[(d=D==null?void 0:D.dailyStats)!=null&&d.length?(D.dailyStats.reduce((W,se)=>W+(se.sent>0?se.replied/se.sent*100:0),0)/D.dailyStats.length).toFixed(1):0,"%"]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Média Resposta"})]})]})})]})]}),s.jsxs(ie,{children:[s.jsx(me,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(pe,{children:"Performance por Campanha"}),s.jsx(Ie,{children:"Métricas detalhadas de cada campanha"})]}),s.jsxs(De,{variant:"outline",className:"text-xs",children:[((f=D==null?void 0:D.campaigns)==null?void 0:f.length)||0," campanhas"]})]})}),s.jsx(ue,{children:((h=D==null?void 0:D.campaigns)==null?void 0:h.length)===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Kn,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Nenhuma campanha encontrada"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Crie campanhas para ver métricas detalhadas aqui."}),s.jsxs(X,{onClick:()=>p(!0),children:[s.jsx(wr,{className:"h-4 w-4 mr-2"}),"Criar Primeira Campanha"]})]}):s.jsx("div",{className:"space-y-4",children:(m=D==null?void 0:D.campaigns)==null?void 0:m.map(W=>s.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"flex items-center space-x-3",children:s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:W.name}),s.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[s.jsx(De,{variant:W.status==="active"?"default":"secondary",children:W.status==="active"?"Ativa":"Inativa"}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:["Criada há ",Math.floor(Math.random()*30)+1," dias"]})]})]})}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Taxa de Abertura"}),s.jsxs("div",{className:"text-lg font-bold text-blue-600",children:[W.openRate,"%"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 text-sm",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-muted-foreground",children:"Enviadas"}),s.jsx("div",{className:"font-semibold text-lg",children:W.sent.toLocaleString()}),s.jsx("div",{className:"text-xs text-green-600",children:"+5% vs anterior"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-muted-foreground",children:"Entregues"}),s.jsx("div",{className:"font-semibold text-lg text-green-600",children:W.delivered.toLocaleString()}),s.jsxs("div",{className:"text-xs text-green-600",children:[(W.delivered/W.sent*100).toFixed(1),"% entrega"]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-muted-foreground",children:"Abertas"}),s.jsx("div",{className:"font-semibold text-lg text-blue-600",children:W.opened.toLocaleString()}),s.jsxs("div",{className:"text-xs text-blue-600",children:[W.openRate,"% abertura"]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-muted-foreground",children:"Cliques"}),s.jsx("div",{className:"font-semibold text-lg text-purple-600",children:W.clicked.toLocaleString()}),s.jsxs("div",{className:"text-xs text-purple-600",children:[W.clickRate,"% clique"]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-muted-foreground",children:"Respostas"}),s.jsx("div",{className:"font-semibold text-lg text-orange-600",children:W.replied.toLocaleString()}),s.jsxs("div",{className:"text-xs text-orange-600",children:[W.replyRate,"% resposta"]})]})]}),s.jsx("div",{className:"mt-4 pt-4 border-t",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),s.jsxs("span",{children:["Abertas: ",W.opened]})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),s.jsxs("span",{children:["Cliques: ",W.clicked]})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),s.jsxs("span",{children:["Respostas: ",W.replied]})]})]}),s.jsxs(X,{variant:"outline",size:"sm",children:[s.jsx(ul,{className:"h-3 w-3 mr-1"}),"Ver Detalhes"]})]})})]},W.id))})})]}),s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(Pi,{className:"h-5 w-5 text-purple-600"}),"Insights Inteligentes"]}),s.jsx(Ie,{children:"Análise automatizada dos seus dados de campanha"})]}),s.jsx(ue,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 bg-gradient-to-r from-green-50 to-blue-50 rounded-lg border border-green-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.jsx(xt,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"font-medium text-green-800",children:"Pontos Fortes"})]}),s.jsxs("ul",{className:"space-y-2 text-sm text-green-700",children:[s.jsxs("li",{className:"flex items-start space-x-2",children:[s.jsx("span",{className:"text-green-500 mt-1",children:"✓"}),s.jsxs("span",{children:["Taxa de entrega excelente: ",D!=null&&D.totalSent?(D.totalDelivered/D.totalSent*100).toFixed(1):0,"%"]})]}),s.jsxs("li",{className:"flex items-start space-x-2",children:[s.jsx("span",{className:"text-green-500 mt-1",children:"✓"}),s.jsx("span",{children:"Engajamento crescente nos últimos dias"})]}),s.jsxs("li",{className:"flex items-start space-x-2",children:[s.jsx("span",{className:"text-green-500 mt-1",children:"✓"}),s.jsx("span",{children:"WhatsApp é seu canal mais performático"})]})]})]}),s.jsxs("div",{className:"p-4 bg-gradient-to-r from-orange-50 to-red-50 rounded-lg border border-orange-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.jsx(ai,{className:"h-4 w-4 text-orange-600"}),s.jsx("span",{className:"font-medium text-orange-800",children:"Oportunidades"})]}),s.jsxs("ul",{className:"space-y-2 text-sm text-orange-700",children:[s.jsxs("li",{className:"flex items-start space-x-2",children:[s.jsx("span",{className:"text-orange-500 mt-1",children:"⚡"}),s.jsx("span",{children:"Melhore taxa de resposta testando horários diferentes"})]}),s.jsxs("li",{className:"flex items-start space-x-2",children:[s.jsx("span",{className:"text-orange-500 mt-1",children:"⚡"}),s.jsx("span",{children:"Personalize mais as mensagens para aumentar cliques"})]}),s.jsxs("li",{className:"flex items-start space-x-2",children:[s.jsx("span",{className:"text-orange-500 mt-1",children:"⚡"}),s.jsx("span",{children:"Considere expandir para Instagram e Messenger"})]})]})]})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-center",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(X,{variant:"outline",size:"sm",children:[s.jsx(py,{className:"h-4 w-4 mr-2"}),"Agendar Relatório"]}),s.jsxs(X,{variant:"outline",size:"sm",children:[s.jsx(Br,{className:"h-4 w-4 mr-2"}),"Configurar Alertas"]})]}),s.jsxs(X,{className:"bg-gradient-to-r from-primary to-primary-glow",children:[s.jsx(Fi,{className:"h-4 w-4 mr-2"}),"Exportar Relatório Completo"]})]})]})}),s.jsx(dt,{value:"templates",className:"space-y-4",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:G.map(W=>s.jsxs(ie,{className:"hover:shadow-md transition-shadow cursor-pointer",children:[s.jsx(me,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(pe,{className:"text-lg",children:W.name}),s.jsx(Ie,{className:"mt-1",children:W.description})]}),s.jsx(De,{variant:"outline",className:"capitalize",children:W.channel_type})]})}),s.jsx(ue,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-medium",children:"Passos do Fluxo:"}),s.jsx("div",{className:"space-y-1",children:W.steps.map((se,Se)=>s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/10 flex items-center justify-center text-xs font-medium",children:Se+1}),s.jsx("span",{children:se.name})]},Se))}),s.jsx("div",{className:"pt-4",children:s.jsxs(X,{onClick:()=>te(W),className:"w-full",children:[s.jsx(wr,{className:"h-4 w-4 mr-2"}),"Usar Template"]})})]})})]},W.id))})})]})]})}),s.jsx(Xt,{open:v,onOpenChange:p,children:s.jsxs(Ut,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Jt,{children:[s.jsxs(er,{className:"flex items-center space-x-2",children:[s.jsx(ha,{className:"h-5 w-5 text-purple-600"}),s.jsx("span",{children:"Criar Nova Campanha com IA"})]}),s.jsx(or,{children:"Configure sua campanha com sugestões inteligentes de IA"})]}),s.jsxs("div",{className:"space-y-6 py-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Br,{className:"h-5 w-5 text-primary"}),s.jsx("h3",{className:"text-lg font-semibold",children:"Informações Básicas"})]}),s.jsxs(X,{variant:"outline",size:"sm",onClick:ce,disabled:$,className:"bg-gradient-to-r from-purple-500/10 to-blue-500/10 border-purple-200 text-purple-700",children:[$?s.jsx(gt,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(Pi,{className:"h-4 w-4 mr-2"}),"Sugestões IA"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"name",children:"Nome da Campanha *"}),s.jsx(Be,{id:"name",placeholder:"Ex: Campanha de Lançamento Q1 2024",value:_.name,onChange:W=>k({..._,name:W.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"channel",children:"Canal *"}),s.jsxs(ot,{value:_.channel_type,onValueChange:W=>k({..._,channel_type:W}),children:[s.jsx(nt,{id:"channel",children:s.jsx(lt,{})}),s.jsxs(at,{children:[s.jsx(re,{value:"whatsapp",children:"WhatsApp"}),s.jsx(re,{value:"instagram",children:"Instagram"}),s.jsx(re,{value:"messenger",children:"Messenger"}),s.jsx(re,{value:"telegram",children:"Telegram"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"description",children:"Descrição"}),s.jsx(Gn,{id:"description",placeholder:"Descreva o objetivo da campanha...",value:_.description,onChange:W=>k({..._,description:W.target.value}),rows:3})]})]}),S&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Pi,{className:"h-5 w-5 text-purple-600"}),s.jsxs("h3",{className:"text-lg font-semibold",children:["Sugestões para ",S.campaignType]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg border border-purple-200",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ha,{className:"h-4 w-4 text-purple-600"}),s.jsx("span",{className:"font-medium",children:"Sugestão de Nome"})]}),s.jsx("div",{className:"text-sm text-gray-600",children:s.jsx("p",{className:"font-medium",children:S.contentSuggestions.recommendedName})}),s.jsx(X,{size:"sm",variant:"outline",onClick:()=>B("name",S.contentSuggestions.recommendedName),className:"text-xs",children:"Aplicar Nome"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(At,{className:"h-4 w-4 text-purple-600"}),s.jsx("span",{className:"font-medium",children:"Descrição Sugerida"})]}),s.jsx("div",{className:"text-sm text-gray-600",children:s.jsx("p",{children:S.contentSuggestions.recommendedDescription})}),s.jsx(X,{size:"sm",variant:"outline",onClick:()=>B("description",S.contentSuggestions.recommendedDescription),className:"text-xs",children:"Aplicar Descrição"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(W1,{className:"h-4 w-4 text-purple-600"}),s.jsx("span",{className:"font-medium",children:"Tom Recomendado"})]}),s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Estilo:"})," ",S.contentSuggestions.tone]}),s.jsxs("p",{children:[s.jsx("strong",{children:"CTA:"})," ",S.contentSuggestions.callToAction]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ai,{className:"h-4 w-4 text-purple-600"}),s.jsx("span",{className:"font-medium",children:"Tópicos Sugeridos"})]}),s.jsx("div",{className:"text-sm text-gray-600",children:s.jsx("ul",{className:"space-y-1",children:S.contentSuggestions.topics.map((W,se)=>s.jsxs("li",{className:"flex items-start space-x-1",children:[s.jsx("span",{className:"text-purple-500 mt-1",children:"•"}),s.jsx("span",{children:W})]},se))})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 bg-green-50 rounded-lg border border-green-200",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(xt,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"font-medium",children:"Performance Histórica"})]}),s.jsxs("div",{className:"text-sm text-green-700",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Taxa de Abertura:"})," ",S.analyticsInsights.avgOpenRate]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Taxa de Resposta:"})," ",S.analyticsInsights.avgResponseRate]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Melhor tipo:"})," ",S.analyticsInsights.bestPerformingType]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ma,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"font-medium",children:"Dica de Melhoria"})]}),s.jsx("div",{className:"text-sm text-green-700",children:s.jsx("p",{children:S.analyticsInsights.improvementTip})})]})]}),s.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.jsx(ma,{className:"h-4 w-4 text-blue-600"}),s.jsx("span",{className:"font-medium text-blue-800",children:"Dicas de Otimização"})]}),s.jsx("ul",{className:"space-y-1 text-sm text-blue-700",children:S.optimizationTips.map((W,se)=>s.jsxs("li",{className:"flex items-start space-x-2",children:[s.jsx("span",{className:"text-blue-500 mt-1",children:"•"}),s.jsx("span",{children:W})]},se))})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Br,{className:"h-5 w-5 text-primary"}),s.jsx("h3",{className:"text-lg font-semibold",children:"Configurações Avançadas"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"category",children:"Categoria"}),s.jsxs(ot,{value:_.category,onValueChange:W=>k({..._,category:W}),children:[s.jsx(nt,{id:"category",children:s.jsx(lt,{})}),s.jsxs(at,{children:[s.jsx(re,{value:"marketing",children:"Marketing"}),s.jsx(re,{value:"sales",children:"Vendas"}),s.jsx(re,{value:"support",children:"Suporte"}),s.jsx(re,{value:"nurturing",children:"Nutrição"}),s.jsx(re,{value:"announcement",children:"Anúncio"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"priority",children:"Prioridade"}),s.jsxs(ot,{value:_.priority,onValueChange:W=>k({..._,priority:W}),children:[s.jsx(nt,{id:"priority",children:s.jsx(lt,{})}),s.jsxs(at,{children:[s.jsx(re,{value:"low",children:"Baixa"}),s.jsx(re,{value:"medium",children:"Média"}),s.jsx(re,{value:"high",children:"Alta"}),s.jsx(re,{value:"urgent",children:"Urgente"})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsxs(fe,{className:"flex items-center space-x-2",children:[s.jsx(ma,{className:"h-4 w-4"}),s.jsx("span",{children:"Otimização Automática"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"IA otimiza horários e conteúdo"})]}),s.jsx(za,{checked:_.auto_optimize,onCheckedChange:W=>k({..._,auto_optimize:W})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsxs(fe,{className:"flex items-center space-x-2",children:[s.jsx(zX,{className:"h-4 w-4"}),s.jsx("span",{children:"Teste A/B"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Testar diferentes versões"})]}),s.jsx(za,{checked:_.a_b_testing,onCheckedChange:W=>k({..._,a_b_testing:W})})]})]})]})]}),s.jsxs(gn,{className:"flex justify-between",children:[s.jsx(X,{variant:"outline",onClick:()=>{p(!1),k({name:"",channel_type:"whatsapp",description:"",category:"marketing",priority:"medium",schedule_type:"immediate",scheduled_date:"",scheduled_time:"",recurring_type:"none",recurring_days:[],recurring_time:"",max_messages_per_day:100,respect_working_hours:!0,working_hours_start:"09:00",working_hours_end:"18:00",working_days:[1,2,3,4,5],timezone:"America/Sao_Paulo",auto_optimize:!1,a_b_testing:!1,success_metrics:[]}),M(null)},children:"Cancelar"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(X,{variant:"outline",onClick:Y,disabled:$,className:"bg-gradient-to-r from-purple-500/10 to-blue-500/10 border-purple-200 text-purple-700",children:[$?s.jsx(gt,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(Pi,{className:"h-4 w-4 mr-2"}),"Otimizar com IA"]}),s.jsxs(X,{onClick:V,disabled:!_.name,className:"bg-gradient-to-r from-primary to-primary-glow",children:[s.jsx(K1,{className:"h-4 w-4 mr-2"}),"Criar Campanha"]})]})]})]})}),s.jsx(Xt,{open:U,onOpenChange:L,children:s.jsxs(Ut,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Jt,{children:[s.jsxs(er,{className:"flex items-center space-x-2",children:[s.jsx(mn,{className:"h-5 w-5 text-purple-600"}),s.jsx("span",{children:"Assistente IA para Campanhas Orgânicas"})]}),s.jsx(or,{children:"Insights inteligentes e otimizações para suas campanhas de relacionamento"})]}),s.jsxs("div",{className:"space-y-6 py-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Kn,{className:"h-5 w-5 text-primary"}),s.jsx("h3",{className:"text-lg font-semibold",children:"Análise de Performance"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(ie,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(xt,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"font-medium",children:"Performance Orgânica"})]}),s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Taxa de Entrega:"})," 98% (+2% vs mês anterior)"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Taxa de Resposta:"})," 22% (+3%)"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Engajamento Médio:"})," 45%"]})]})]}),s.jsxs(ie,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(Fa,{className:"h-4 w-4 text-blue-600"}),s.jsx("span",{className:"font-medium",children:"Horários Ideais"})]}),s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Melhor dia:"})," Terça-feira"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Melhor horário:"})," 14:00 - 16:00"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Pior horário:"})," 08:00 - 10:00"]})]})]}),s.jsxs(ie,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(ir,{className:"h-4 w-4 text-purple-600"}),s.jsx("span",{className:"font-medium",children:"Público"})]}),s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Total de contatos:"})," 1,250"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Melhor canal:"})," WhatsApp"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Engajamento:"})," Alto"]})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Pi,{className:"h-5 w-5 text-purple-600"}),s.jsx("h3",{className:"text-lg font-semibold",children:"Sugestões Inteligentes"})]}),s.jsxs(X,{variant:"outline",size:"sm",onClick:ce,disabled:$,className:"bg-gradient-to-r from-purple-500/10 to-blue-500/10 border-purple-200 text-purple-700",children:[$?s.jsx(gt,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(ha,{className:"h-4 w-4 mr-2"}),"Gerar Novas Sugestões"]})]}),S&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-gradient-to-r from-green-50 to-blue-50 rounded-lg border border-green-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.jsx(W1,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"font-medium text-green-800",children:"Recomendações de Melhoria"})]}),s.jsxs("ul",{className:"space-y-2 text-sm text-green-700",children:[s.jsxs("li",{className:"flex items-start space-x-2",children:[s.jsx("span",{className:"text-green-500 mt-1",children:"⏰"}),s.jsxs("span",{children:[s.jsx("strong",{children:"Timing:"})," Envie entre 14:00-16:00 para maximizar a taxa de resposta orgânica"]})]}),s.jsxs("li",{className:"flex items-start space-x-2",children:[s.jsx("span",{className:"text-green-500 mt-1",children:"💬"}),s.jsxs("span",{children:[s.jsx("strong",{children:"Tom:"})," Use linguagem conversacional e pessoal, não comercial"]})]}),s.jsxs("li",{className:"flex items-start space-x-2",children:[s.jsx("span",{className:"text-green-500 mt-1",children:"🚫"}),s.jsxs("span",{children:[s.jsx("strong",{children:"Anti-Spam:"})," Limite a 3-5 mensagens por contato por semana"]})]}),s.jsxs("li",{className:"flex items-start space-x-2",children:[s.jsx("span",{className:"text-green-500 mt-1",children:"📱"}),s.jsxs("span",{children:[s.jsx("strong",{children:"Engajamento:"})," Use emojis e perguntas para estimular respostas"]})]}),s.jsxs("li",{className:"flex items-start space-x-2",children:[s.jsx("span",{className:"text-green-500 mt-1",children:"🎯"}),s.jsxs("span",{children:[s.jsx("strong",{children:"Objetivo:"})," Foque em construir relacionamento, não em vender"]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs(ie,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.jsx(ai,{className:"h-4 w-4 text-blue-600"}),s.jsx("span",{className:"font-medium",children:"Próximas Oportunidades"})]}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Black Friday:"})," Campanha informativa sobre promoções"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Natal:"})," Mensagens de boas festas e agradecimento"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Reativação:"})," 340 contatos inativos - campanha de reengajamento"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Eventos:"})," Convites para webinars e encontros"]})]})]}),s.jsxs(ie,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.jsx(ma,{className:"h-4 w-4 text-purple-600"}),s.jsx("span",{className:"font-medium",children:"Otimizações Automáticas"})]}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"A/B Testing:"})," Teste diferentes horários de envio"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Personalização:"})," Use nome e contexto do relacionamento"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Follow-up:"})," Reengajamento respeitoso em 48h"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Frequência:"})," Controle automático de limite de mensagens"]})]})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Br,{className:"h-5 w-5 text-primary"}),s.jsx("h3",{className:"text-lg font-semibold",children:"Ações Rápidas"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs(X,{variant:"outline",className:"h-auto p-4 flex flex-col items-start space-y-2",onClick:()=>{L(!1),p(!0)},children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(wr,{className:"h-4 w-4"}),s.jsx("span",{className:"font-medium",children:"Criar Campanha Otimizada"})]}),s.jsx("span",{className:"text-sm text-muted-foreground text-left",children:"Use as sugestões de IA para criar uma nova campanha"})]}),s.jsxs(X,{variant:"outline",className:"h-auto p-4 flex flex-col items-start space-y-2",onClick:Y,disabled:$,children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Pi,{className:"h-4 w-4"}),s.jsx("span",{className:"font-medium",children:"Otimizar Campanhas Existentes"})]}),s.jsx("span",{className:"text-sm text-muted-foreground text-left",children:"Aplicar melhorias automáticas nas campanhas ativas"})]})]})]})]}),s.jsxs(gn,{children:[s.jsx(X,{variant:"outline",onClick:()=>L(!1),children:"Fechar"}),s.jsxs(X,{onClick:()=>{L(!1),p(!0)},className:"bg-gradient-to-r from-purple-600 to-blue-600",children:[s.jsx(mn,{className:"h-4 w-4 mr-2"}),"Criar com IA"]})]})]})})]})}async function zMe(e){try{const t="00000000-0000-0000-0000-000000000000",{data:r,error:n}=await le.functions.invoke("google-places-search",{body:{...e,orgId:t}});if(n)throw n;return r}catch(t){return console.error("Error searching Google Places:",t),{success:!1,source:"unknown",total:0,saved:0,prospects:0,places:[],error:t.message||"Erro ao buscar lugares"}}}const LMe={restaurant:"Restaurante",cafe:"Café",bakery:"Padaria",bar:"Bar",food:"Alimentação",store:"Loja",clothing_store:"Loja de Roupas",shoe_store:"Sapataria",jewelry_store:"Joalheria",book_store:"Livraria",electronics_store:"Loja de Eletrônicos",furniture_store:"Loja de Móveis",home_goods_store:"Loja de Utilidades",supermarket:"Supermercado",convenience_store:"Conveniência",beauty_salon:"Salão de Beleza",hair_care:"Cabeleireiro",spa:"Spa",gym:"Academia",laundry:"Lavanderia",car_wash:"Lava-jato",car_repair:"Mecânica",locksmith:"Chaveiro",electrician:"Eletricista",plumber:"Encanador",hospital:"Hospital",doctor:"Médico",dentist:"Dentista",pharmacy:"Farmácia",physiotherapist:"Fisioterapeuta",veterinary_care:"Veterinário",school:"Escola",university:"Universidade",library:"Biblioteca",real_estate_agency:"Imobiliária",lawyer:"Advogado",accounting:"Contabilidade",insurance_agency:"Seguradora",travel_agency:"Agência de Viagens",lodging:"Hospedagem",movie_theater:"Cinema",night_club:"Boate",tourist_attraction:"Atração Turística",park:"Parque",museum:"Museu"},E4={Alimentação:["restaurant","cafe","bakery","bar","food"],Varejo:["store","clothing_store","shoe_store","jewelry_store","book_store","electronics_store","furniture_store","home_goods_store","supermarket","convenience_store"],Serviços:["beauty_salon","hair_care","spa","gym","laundry","car_wash","car_repair","locksmith","electrician","plumber"],Saúde:["hospital","doctor","dentist","pharmacy","physiotherapist","veterinary_care"],Educação:["school","university","library"],Profissionais:["real_estate_agency","lawyer","accounting","insurance_agency"],Turismo:["travel_agency","lodging","tourist_attraction","park","museum"],Entretenimento:["movie_theater","night_club"]};function FMe({onResults:e}){const[t,r]=g.useState(""),[n,a]=g.useState(""),[i,o]=g.useState(""),[l,c]=g.useState(""),[u,d]=g.useState("5000"),[f,h]=g.useState(!1),[m,v]=g.useState(!1),p=async()=>{if(!t&&!l){ae.error("Informe o que você está procurando ou selecione uma categoria");return}h(!0);try{let w={query:t||void 0,location:n||void 0,radius:parseInt(u),type:l||void 0};if(m){const N=await new Promise((_,k)=>{navigator.geolocation.getCurrentPosition(_,k)});w={...w,lat:N.coords.latitude,lng:N.coords.longitude,location:void 0},ae.success("Localização detectada!")}const j=await zMe(w);if(!j.success){ae.error(j.error||"Erro ao buscar lugares");return}if(j.total===0){ae.info("Nenhum lugar encontrado. Tente ajustar os filtros.");return}ae.success(`${j.total} lugares encontrados! ${j.prospects} novos prospects criados.`,{description:`Fonte: ${j.source==="official_api"?"Google Places API":"Scraping"}`}),e==null||e(j.places)}catch(w){console.error("Search error:",w),w.code===1?ae.error("Permissão de localização negada"):ae.error(w.message||"Erro ao buscar lugares")}finally{h(!1)}},b=w=>{o(w),c("")},x=w=>{c(w)},y=()=>i?E4[i]||[]:[];return s.jsxs(ie,{className:"border-2 hover:border-primary/30 transition-all",children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(Ba,{className:"h-5 w-5 text-primary"}),"Buscar no Google Maps"]}),s.jsx(Ie,{children:"Encontre prospects por localização, categoria ou palavra-chave"})]}),s.jsxs(ue,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"query",children:"O que você está procurando?"}),s.jsx(Be,{id:"query",placeholder:"Ex: restaurantes italianos, academias, pet shops...",value:t,onChange:w=>r(w.target.value),onKeyDown:w=>w.key==="Enter"&&p()})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"location",children:"Localização"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Be,{id:"location",placeholder:"Ex: São Paulo, SP",value:n,onChange:w=>a(w.target.value),disabled:m,className:"flex-1"}),s.jsxs(X,{type:"button",variant:m?"default":"outline",onClick:()=>v(!m),className:"whitespace-nowrap",children:[s.jsx(Pd,{className:"h-4 w-4 mr-2"}),m?"Minha Localização":"Usar GPS"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"category",children:"Categoria"}),s.jsxs(ot,{value:i,onValueChange:b,children:[s.jsx(nt,{id:"category",children:s.jsx(lt,{placeholder:"Selecione uma categoria"})}),s.jsx(at,{children:Object.keys(E4).map(w=>s.jsx(re,{value:w,children:w},w))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"type",children:"Tipo Específico"}),s.jsxs(ot,{value:l,onValueChange:x,disabled:!i,children:[s.jsx(nt,{id:"type",children:s.jsx(lt,{placeholder:"Selecione um tipo"})}),s.jsx(at,{children:y().map(w=>s.jsx(re,{value:w,children:LMe[w]},w))})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"radius",children:"Raio de Busca"}),s.jsxs(ot,{value:u,onValueChange:d,children:[s.jsx(nt,{id:"radius",children:s.jsx(lt,{})}),s.jsxs(at,{children:[s.jsx(re,{value:"1000",children:"1 km"}),s.jsx(re,{value:"2000",children:"2 km"}),s.jsx(re,{value:"5000",children:"5 km"}),s.jsx(re,{value:"10000",children:"10 km"}),s.jsx(re,{value:"20000",children:"20 km"}),s.jsx(re,{value:"50000",children:"50 km"})]})]})]}),s.jsx(X,{onClick:p,disabled:f,className:"w-full",size:"lg",children:f?s.jsxs(s.Fragment,{children:[s.jsx(gt,{className:"mr-2 h-4 w-4 animate-spin"}),"Buscando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ha,{className:"mr-2 h-4 w-4"}),"Buscar Prospects"]})})]})]})}function BMe({results:e,onSelectPlace:t}){return e.length===0?s.jsx(ie,{className:"border-2",children:s.jsx(ue,{className:"pt-6",children:s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(nr,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"Nenhum resultado para exibir"}),s.jsx("p",{className:"text-sm mt-1",children:"Use a busca acima para encontrar prospects"})]})})}):s.jsxs(ie,{className:"border-2 hover:border-primary/30 transition-all",children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(nr,{className:"h-5 w-5 text-primary"}),"Resultados da Busca"]}),s.jsxs(Ie,{children:[e.length," ",e.length===1?"lugar encontrado":"lugares encontrados"]})]}),s.jsx(ue,{children:s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:e.map(r=>s.jsx(qMe,{place:r,onClick:()=>t==null?void 0:t(r)},r.place_id))})})]})}function qMe({place:e,onClick:t}){return s.jsxs(ie,{className:"border hover:border-primary/50 transition-all cursor-pointer hover:shadow-lg group",onClick:t,children:[s.jsx(me,{className:"pb-3",children:s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx(pe,{className:"text-base line-clamp-1 group-hover:text-primary transition-colors",children:e.name}),e.types&&e.types.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:e.types.slice(0,2).map(r=>s.jsx(De,{variant:"secondary",className:"text-xs",children:r.replace(/_/g," ")},r))})]}),e.rating&&s.jsxs("div",{className:"flex items-center gap-1 text-sm font-medium bg-amber-500/10 text-amber-600 px-2 py-1 rounded-md shrink-0",children:[s.jsx(Dm,{className:"h-3 w-3 fill-current"}),e.rating]})]})}),s.jsxs(ue,{className:"space-y-2 text-sm",children:[e.formatted_address&&s.jsxs("div",{className:"flex items-start gap-2 text-muted-foreground",children:[s.jsx(Pd,{className:"h-4 w-4 shrink-0 mt-0.5"}),s.jsx("span",{className:"line-clamp-2 text-xs",children:e.formatted_address})]}),e.phone_number&&s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(Ef,{className:"h-4 w-4 shrink-0"}),s.jsx("a",{href:`tel:${e.phone_number}`,className:"hover:text-primary transition-colors",onClick:r=>r.stopPropagation(),children:e.phone_number})]}),e.website&&s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(e6,{className:"h-4 w-4 shrink-0"}),s.jsxs("a",{href:e.website.startsWith("http")?e.website:`https://${e.website}`,target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary transition-colors truncate flex items-center gap-1",onClick:r=>r.stopPropagation(),children:[s.jsx("span",{className:"truncate",children:e.website.replace(/^https?:\/\//,"")}),s.jsx(JD,{className:"h-3 w-3 shrink-0"})]})]}),e.user_ratings_total&&s.jsxs("div",{className:"text-xs text-muted-foreground pt-1 border-t",children:[e.user_ratings_total," avaliações"]}),e.business_status&&e.business_status!=="OPERATIONAL"&&s.jsx(De,{variant:"destructive",className:"text-xs",children:e.business_status==="CLOSED_TEMPORARILY"?"Temporariamente fechado":"Fechado permanentemente"})]})]})}function UMe(){const{currentOrg:e}=bn(),[t,r]=g.useState(""),[n,a]=g.useState(null),[i,o]=g.useState([]),[l,c]=g.useState("search"),[u,d]=g.useState([]),{data:f=[],isLoading:h,refetch:m}=bt({queryKey:["prospects",t,e==null?void 0:e.id],queryFn:async()=>{if(!e)return[];let y=le.from("prospects").select(`
          *,
          places (
            name,
            formatted_address,
            phone_number,
            website,
            types
          )
        `).eq("org_id",e.id).order("created_at",{ascending:!1});t&&(y=y.or(`notes.ilike.%${t}%`));const{data:w,error:j}=await y;if(j)throw j;return(w||[]).map(N=>({...N,pipeline_stage:N.pipeline_stage||"lead",expected_revenue:N.expected_revenue||0,probability:N.probability||0}))},enabled:!!e}),{data:v}=bt({queryKey:["prospects-stats"],queryFn:async()=>({total:2,validated:1,imported:0})}),p=async y=>{var w,j;a(y.id);try{const{data:{user:N}}=await le.auth.getUser();if(!N){ae.error("Usuário não autenticado");return}if(!e){ae.error("Nenhuma organização selecionada");return}const{error:_}=await le.from("contacts").insert({org_id:e.id,full_name:((w=y.places)==null?void 0:w.name)||"Sem nome",phone_e164:((j=y.places)==null?void 0:j.phone_number)||null,tags:y.tags||[]});if(_)throw _;const{error:k}=await le.from("prospects").update({status:"imported"}).eq("id",y.id);if(k)throw k;ae.success("Prospect importado para contatos!"),m()}catch(N){console.error("Error:",N),ae.error("Erro ao importar prospect")}finally{a(null)}},b=y=>{const w={new:{label:"Novo",className:"bg-blue-500/10 text-blue-600 hover:bg-blue-500/20"},validated:{label:"Validado",className:"bg-emerald-500/10 text-emerald-600 hover:bg-emerald-500/20"},imported:{label:"Importado",className:"bg-purple-500/10 text-purple-600 hover:bg-purple-500/20"},opted_out:{label:"Opt-out",className:"bg-red-500/10 text-red-600 hover:bg-red-500/20"}},j=w[y]||w.new;return s.jsx(De,{className:j.className,children:j.label})};v!=null&&v.total.toString(),v!=null&&v.validated.toString(),v!=null&&v.imported.toString();const x=y=>{o(y),c("results"),m()};return s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:s.jsx("div",{className:"flex h-16 items-center px-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(nr,{className:"h-5 w-5 text-muted-foreground"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Gestão"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"/"}),s.jsx("span",{className:"text-sm font-medium",children:"Prospecção"})]})})}),s.jsx("div",{className:"flex-1 overflow-auto",children:s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Prospecção"}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("p",{className:"text-muted-foreground",children:"Encontre e gerencie seus leads via Google Maps"}),s.jsxs(De,{variant:"outline",className:"text-xs",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse"}),"Ativo"]})]})]})}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[s.jsxs(ie,{className:"relative overflow-hidden border-2 hover:border-primary/50 transition-all duration-300 hover:shadow-lg group",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-blue-500/5 to-transparent rounded-full -mr-16 -mt-16 group-hover:scale-110 transition-transform"}),s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium text-muted-foreground",children:"Prospects Encontrados"}),s.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-500/10 flex items-center justify-center group-hover:bg-blue-500/20 transition-colors",children:s.jsx(Ba,{className:"h-5 w-5 text-blue-600"})})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-3xl font-bold tracking-tight",children:(v==null?void 0:v.total)||0}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Total identificados"})]})]}),s.jsxs(ie,{className:"relative overflow-hidden border-2 hover:border-primary/50 transition-all duration-300 hover:shadow-lg group",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-green-500/5 to-transparent rounded-full -mr-16 -mt-16 group-hover:scale-110 transition-transform"}),s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium text-muted-foreground",children:"Qualificados"}),s.jsx("div",{className:"h-10 w-10 rounded-full bg-green-500/10 flex items-center justify-center group-hover:bg-green-500/20 transition-colors",children:s.jsx(Zi,{className:"h-5 w-5 text-green-600"})})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-3xl font-bold tracking-tight",children:(v==null?void 0:v.validated)||0}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Validados para contato"})]})]}),s.jsxs(ie,{className:"relative overflow-hidden border-2 hover:border-primary/50 transition-all duration-300 hover:shadow-lg group",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-purple-500/5 to-transparent rounded-full -mr-16 -mt-16 group-hover:scale-110 transition-transform"}),s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium text-muted-foreground",children:"Contactados"}),s.jsx("div",{className:"h-10 w-10 rounded-full bg-purple-500/10 flex items-center justify-center group-hover:bg-purple-500/20 transition-colors",children:s.jsx(xt,{className:"h-5 w-5 text-purple-600"})})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-3xl font-bold tracking-tight",children:(v==null?void 0:v.imported)||0}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Convertidos em contatos"})]})]})]}),s.jsxs(Na,{value:l,onValueChange:c,className:"space-y-6",children:[s.jsxs(Jn,{className:"grid w-full max-w-2xl grid-cols-3",children:[s.jsxs(et,{value:"search",children:[s.jsx(Ba,{className:"h-4 w-4 mr-2"}),"Buscar"]}),s.jsxs(et,{value:"results",children:[s.jsx(ha,{className:"h-4 w-4 mr-2"}),"Resultados"]}),s.jsxs(et,{value:"prospects",children:[s.jsx(nr,{className:"h-4 w-4 mr-2"}),"Lista Completa"]})]}),s.jsx(dt,{value:"search",className:"space-y-4",children:s.jsxs(ie,{className:"border-2 hover:border-primary/30 transition-all shadow-lg",children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(Ba,{className:"h-5 w-5 text-primary"}),"Buscar Prospects"]}),s.jsx(Ie,{children:"Encontre novos leads usando Google Places"})]}),s.jsx(ue,{children:s.jsx(FMe,{onResults:x})})]})}),s.jsx(dt,{value:"results",className:"space-y-4",children:s.jsxs(ie,{className:"border-2 hover:border-primary/30 transition-all shadow-lg",children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(ha,{className:"h-5 w-5 text-primary"}),"Resultados da Busca"]}),s.jsx(Ie,{children:"Prospects encontrados na sua busca"})]}),s.jsx(ue,{children:s.jsx(BMe,{results:i})})]})}),s.jsx(dt,{value:"prospects",className:"space-y-4",children:s.jsxs(ie,{className:"border-2 hover:border-primary/30 transition-all shadow-lg",children:[s.jsx(me,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(nr,{className:"h-5 w-5 text-primary"}),"Prospects"]}),s.jsx(Ie,{className:"mt-1",children:"Lista de prospects identificados"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(aq,{prospects:f,selectedIds:u,onExportComplete:()=>{d([]),m()}}),s.jsxs("div",{className:"relative",children:[s.jsx(Ba,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Be,{placeholder:"Buscar prospects...",className:"pl-9 w-64",value:t,onChange:y=>r(y.target.value)})]})]})]})}),s.jsx(ue,{children:s.jsxs(lC,{children:[s.jsx(cC,{children:s.jsxs(zi,{children:[s.jsx(kn,{className:"w-12",children:s.jsx(Bc,{checked:u.length===f.length&&f.length>0,onCheckedChange:y=>{d(y?f.map(w=>w.id):[])}})}),s.jsx(kn,{children:"Nome"}),s.jsx(kn,{children:"Endereço"}),s.jsx(kn,{children:"Categoria"}),s.jsx(kn,{children:"Contato"}),s.jsx(kn,{children:"Status"}),s.jsx(kn,{className:"text-right",children:"Ações"})]})}),s.jsx(uC,{children:h?s.jsx(zi,{children:s.jsx(zr,{colSpan:7,className:"text-center py-8",children:s.jsx(gt,{className:"h-8 w-8 animate-spin mx-auto text-primary"})})}):f.length===0?s.jsx(zi,{children:s.jsxs(zr,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:[s.jsx(nr,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"Nenhum prospect encontrado"})]})}):f.map(y=>{var w,j,N,_,k,C;return s.jsxs(zi,{className:"hover:bg-accent/50 transition-colors",children:[s.jsx(zr,{children:s.jsx(Bc,{checked:u.includes(y.id),onCheckedChange:O=>{d(O?[...u,y.id]:u.filter(T=>T!==y.id))}})}),s.jsx(zr,{className:"font-medium",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-primary to-primary-glow flex items-center justify-center text-white font-semibold",children:(((w=y.places)==null?void 0:w.name)||"?").charAt(0).toUpperCase()}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:((j=y.places)==null?void 0:j.name)||"Sem nome"}),((N=y.places)==null?void 0:N.website)&&s.jsxs("a",{href:`https://${y.places.website}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-xs text-primary hover:underline",children:[s.jsx(e6,{className:"h-3 w-3"}),y.places.website]})]})]})}),s.jsx(zr,{children:(_=y.places)!=null&&_.formatted_address?s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(Pd,{className:"h-4 w-4"}),s.jsx("span",{className:"max-w-xs truncate",children:y.places.formatted_address})]}):s.jsx("span",{className:"text-muted-foreground",children:"-"})}),s.jsx(zr,{children:(k=y.places)!=null&&k.types&&y.places.types.length>0?s.jsx(De,{variant:"secondary",children:y.places.types[0]}):s.jsx("span",{className:"text-muted-foreground",children:"-"})}),s.jsx(zr,{children:(C=y.places)!=null&&C.phone_number?s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(Ef,{className:"h-4 w-4"}),y.places.phone_number]}):s.jsx("span",{className:"text-muted-foreground",children:"-"})}),s.jsx(zr,{children:b(y.status)}),s.jsx(zr,{className:"text-right",children:y.status==="imported"?s.jsxs(De,{className:"bg-emerald-500/10 text-emerald-600",children:[s.jsx(Zi,{className:"h-3 w-3 mr-1"}),"Importado"]}):s.jsx(X,{variant:"outline",size:"sm",className:"group",onClick:()=>p(y),disabled:n===y.id,children:n===y.id?s.jsx(gt,{className:"h-3 w-3 animate-spin"}):s.jsxs(s.Fragment,{children:["Importar",s.jsx(Ob,{className:"ml-1 h-3 w-3 transition-transform group-hover:translate-x-1"})]})})})]},y.id)})})]})})]})})]})]})})]})}function VMe(e){const t=Pf(),r=bt({queryKey:["attendants",e],queryFn:async()=>{if(!e)return[];const{data:p,error:b}=await le.from("attendants").select(`
          *,
          profile:profiles(id, avatar_url, full_name)
        `).eq("org_id",e).order("created_at",{ascending:!1});if(b)throw b;return p},enabled:!!e}),n=bt({queryKey:["online-attendants",e],queryFn:async()=>{if(!e)return[];const{data:p,error:b}=await le.from("attendants").select(`
          *,
          profile:profiles(id, avatar_url, full_name)
        `).eq("org_id",e).in("status",["online","busy","away"]).order("status",{ascending:!0});if(b)throw b;return p},enabled:!!e,refetchInterval:3e4}),a=bt({queryKey:["unassigned-conversations",e],queryFn:async()=>{if(!e)return[];const{data:p,error:b}=await le.from("conversations").select(`
          *,
          contacts(id, full_name, email, phone_e164, external_id)
        `).eq("org_id",e).is("assigned_to",null).eq("status","open").order("created_at",{ascending:!1});if(b)throw b;return p},enabled:!!e,refetchInterval:15e3}),i=bt({queryKey:["active-assignments",e],queryFn:async()=>{if(!e)return[];const{data:p,error:b}=await le.from("conversation_assignments").select(`
          *,
          conversation:conversations(
            id,
            contact_id,
            status,
            last_message_at,
            channel_type,
            contacts(id, full_name, email, phone_e164)
          ),
          attendant:attendants(id, full_name, status, avatar_url)
        `).eq("org_id",e).eq("status","active").order("assigned_at",{ascending:!1});if(b)throw b;return p},enabled:!!e,refetchInterval:1e4}),o=bt({queryKey:["active-sessions",e],queryFn:async()=>{if(!e)return[];const{data:p,error:b}=await le.from("attendant_sessions").select(`
          *,
          attendant:attendants(id, full_name, status, avatar_url)
        `).eq("org_id",e).eq("status","active").order("started_at",{ascending:!1});if(b)throw b;return p},enabled:!!e,refetchInterval:3e4}),l=ua({mutationFn:async p=>{var b,x;const{data:y,error:w}=await le.auth.getUser();if(w)throw w;const{error:j}=await le.from("attendants").insert({...p,user_id:(b=y.user)==null?void 0:b.id,org_id:e,created_by:(x=y.user)==null?void 0:x.id});if(j)throw j},onSuccess:()=>{t.invalidateQueries({queryKey:["attendants",e]}),t.invalidateQueries({queryKey:["online-attendants",e]}),ae.success("Atendente criado com sucesso!")},onError:p=>{ae.error("Erro ao criar atendente: "+p.message)}}),c=ua({mutationFn:async({id:p,data:b})=>{const{error:x}=await le.from("attendants").update(b).eq("id",p);if(x)throw x},onSuccess:()=>{t.invalidateQueries({queryKey:["attendants",e]}),t.invalidateQueries({queryKey:["online-attendants",e]}),ae.success("Atendente atualizado com sucesso!")},onError:p=>{ae.error("Erro ao atualizar atendente: "+p.message)}}),u=ua({mutationFn:async({id:p,status:b})=>{const{error:x}=await le.from("attendants").update({status:b,last_activity_at:new Date().toISOString()}).eq("id",p);if(x)throw x},onSuccess:()=>{t.invalidateQueries({queryKey:["attendants",e]}),t.invalidateQueries({queryKey:["online-attendants",e]}),ae.success("Status atualizado com sucesso!")},onError:p=>{ae.error("Erro ao atualizar status: "+p.message)}}),d=ua({mutationFn:async({conversationId:p,attendantId:b,notes:x})=>{var y;const{data:w,error:j}=await le.auth.getUser();if(j)throw j;const{error:N}=await le.from("conversation_assignments").insert({conversation_id:p,attendant_id:b,org_id:e,assigned_by:(y=w.user)==null?void 0:y.id,notes:x,status:"assigned"});if(N)throw N;const{error:_}=await le.from("conversations").update({assigned_to:b,status:"assigned"}).eq("id",p);if(_)throw _},onSuccess:()=>{t.invalidateQueries({queryKey:["unassigned-conversations",e]}),t.invalidateQueries({queryKey:["active-assignments",e]}),t.invalidateQueries({queryKey:["online-attendants",e]}),ae.success("Conversa atribuída com sucesso!")},onError:p=>{ae.error("Erro ao atribuir conversa: "+p.message)}}),f=ua({mutationFn:async p=>{const{data:b,error:x}=await le.rpc("auto_assign_conversation",{p_conversation_id:p});if(x)throw x;return b},onSuccess:p=>{t.invalidateQueries({queryKey:["unassigned-conversations",e]}),t.invalidateQueries({queryKey:["active-assignments",e]}),t.invalidateQueries({queryKey:["online-attendants",e]}),p?ae.success("Conversa atribuída automaticamente!"):ae.warning("Nenhum atendente disponível no momento")},onError:p=>{ae.error("Erro na atribuição automática: "+p.message)}}),h=ua({mutationFn:async p=>{const{error:b}=await le.from("attendant_sessions").insert({attendant_id:p,org_id:e,status:"active"});if(b)throw b},onSuccess:()=>{t.invalidateQueries({queryKey:["active-sessions",e]}),t.invalidateQueries({queryKey:["online-attendants",e]}),ae.success("Sessão iniciada com sucesso!")},onError:p=>{ae.error("Erro ao iniciar sessão: "+p.message)}}),m=ua({mutationFn:async p=>{const{error:b}=await le.from("attendant_sessions").update({status:"ended",ended_at:new Date().toISOString()}).eq("id",p);if(b)throw b},onSuccess:()=>{t.invalidateQueries({queryKey:["active-sessions",e]}),t.invalidateQueries({queryKey:["online-attendants",e]}),ae.success("Sessão finalizada com sucesso!")},onError:p=>{ae.error("Erro ao finalizar sessão: "+p.message)}}),v=p=>{var b;const x=(b=n.data)==null?void 0:b.filter(y=>{var w;const j=((w=i.data)==null?void 0:w.filter(N=>N.attendant_id===y.id&&N.status==="active").length)||0;return y.status==="online"&&j<y.max_concurrent_chats});return!x||x.length===0?null:x.sort((y,w)=>{var j,N;const _=((j=i.data)==null?void 0:j.filter(C=>C.attendant_id===y.id&&C.status==="active").length)||0,k=((N=i.data)==null?void 0:N.filter(C=>C.attendant_id===w.id&&C.status==="active").length)||0;return _!==k?_-k:y.avg_response_time-w.avg_response_time})[0]};return{attendants:r.data||[],onlineAttendants:n.data||[],unassignedConversations:a.data||[],activeAssignments:i.data||[],activeSessions:o.data||[],isLoadingAttendants:r.isLoading,isLoadingOnline:n.isLoading,isLoadingUnassigned:a.isLoading,isLoadingAssignments:i.isLoading,isLoadingSessions:o.isLoading,createAttendant:l.mutate,updateAttendant:c.mutate,updateAttendantStatus:u.mutate,assignConversation:d.mutate,autoAssignConversation:f.mutate,startSession:h.mutate,endSession:m.mutate,isCreatingAttendant:l.isPending,isUpdatingAttendant:c.isPending,isUpdatingStatus:u.isPending,isAssigningConversation:d.isPending,isAutoAssigning:f.isPending,isStartingSession:h.isPending,isEndingSession:m.isPending,findBestAttendant:v,refetchAttendants:()=>{r.refetch(),n.refetch()},refetchConversations:()=>{a.refetch(),i.refetch()},refetchSessions:()=>{o.refetch()}}}function WMe(e,t){Pf();const r=bt({queryKey:["attendant-metrics",e,t],queryFn:async()=>{if(!e)return[];let a=le.from("attendant_metrics").select(`
          *,
          attendant:attendants(id, full_name)
        `).eq("org_id",e).gte("period_start",new Date(Date.now()-30*24*60*60*1e3).toISOString().split("T")[0]).order("period_start",{ascending:!1});const{data:i,error:o}=await a;if(o)throw o;return i},enabled:!!e}),n=bt({queryKey:["consolidated-metrics",e],queryFn:async()=>{if(!e)return null;const{data:a,error:i}=await le.from("attendant_metrics").select("*").eq("org_id",e).gte("period_start",new Date(Date.now()-30*24*60*60*1e3).toISOString().split("T")[0]);if(i)throw i;if(!a||a.length===0)return null;const o=a.reduce((l,c)=>({totalChats:l.totalChats+c.total_chats,resolvedChats:l.resolvedChats+c.resolved_chats,transferredChats:l.transferredChats+c.transferred_chats,abandonedChats:l.abandonedChats+c.abandoned_chats,totalResponseTime:l.totalResponseTime+c.avg_response_time,totalResolutionTime:l.totalResolutionTime+c.avg_resolution_time,totalWorkTime:l.totalWorkTime+c.total_work_time,totalSatisfaction:l.totalSatisfaction+c.satisfaction_avg,satisfactionCount:l.satisfactionCount+c.satisfaction_count,totalMessages:l.totalMessages+c.messages_sent,totalFCR:l.totalFCR+c.first_contact_resolution,count:l.count+1}),{totalChats:0,resolvedChats:0,transferredChats:0,abandonedChats:0,totalResponseTime:0,totalResolutionTime:0,totalWorkTime:0,totalSatisfaction:0,satisfactionCount:0,totalMessages:0,totalFCR:0,count:0});return{totalChats:o.totalChats,resolvedChats:o.resolvedChats,transferredChats:o.transferredChats,abandonedChats:o.abandonedChats,avgResponseTime:o.count>0?Math.round(o.totalResponseTime/o.count):0,avgResolutionTime:o.count>0?Math.round(o.totalResolutionTime/o.count):0,totalWorkTime:o.totalWorkTime,avgSatisfaction:o.satisfactionCount>0?o.totalSatisfaction/o.satisfactionCount:0,totalMessages:o.totalMessages,avgFCR:o.count>0?o.totalFCR/o.count:0,resolutionRate:o.totalChats>0?o.resolvedChats/o.totalChats*100:0}},enabled:!!e});return{metrics:r.data||[],consolidatedMetrics:n.data,isLoadingMetrics:r.isLoading,isLoadingConsolidated:n.isLoading,refetchMetrics:()=>{r.refetch(),n.refetch()}}}function KMe(){var e,t,r,n,a;const{currentOrg:i}=bn(),o=Pf(),[l,c]=g.useState("overview"),[u,d]=g.useState(""),[f,h]=g.useState("all"),[m,v]=g.useState("all"),[p,b]=g.useState(!1),[x,y]=g.useState(!1),[w,j]=g.useState(null),[N,_]=g.useState({full_name:"",email:"",phone:"",department:"",position:"",max_concurrent_chats:5,auto_accept:!1,skills:[],specializations:[]}),[k,C]=g.useState(!0),[O,T]=g.useState(null),[P,S]=g.useState(!1),[M,$]=g.useState(null),[q,U]=g.useState(!1),{data:L=[],isLoading:z}=VMe(i==null?void 0:i.id);WMe(i==null?void 0:i.id);const{data:R,isLoading:G}=bt({queryKey:["attendants-realtime",i==null?void 0:i.id],queryFn:async()=>{if(!i)return null;const Z=Io(new Date,1),{data:B}=await le.from("conversations").select("id, status, created_at, assigned_to").eq("org_id",i.id).gte("created_at",Z.toISOString()),{data:Y}=await le.from("messages").select("id, created_at, conversation_id").gte("created_at",Z.toISOString()),Q=L.map(se=>{const Se=(B==null?void 0:B.filter(dr=>dr.assigned_to===se.id))||[],mt=(Y==null?void 0:Y.filter(dr=>Se.some(Wr=>Wr.id===dr.conversation_id)))||[],Vt=Se.filter(dr=>dr.status==="resolved").length,tr=Se.length,wn=D(mt);return{id:se.id,name:se.full_name,conversations:tr,resolved:Vt,resolutionRate:tr>0?Vt/tr*100:0,messages:mt.length,avgResponseTime:wn,currentStatus:se.status,satisfaction:se.satisfaction_score||0}}),xe=(B==null?void 0:B.length)||0,ye=(B==null?void 0:B.filter(se=>se.status==="resolved").length)||0,we=(Y==null?void 0:Y.length)||0,W=F(B);return{attendantStats:Q,generalStats:{totalConversations:xe,totalResolved:ye,totalMessages:we,resolutionRate:xe>0?ye/xe*100:0,avgResolutionTime:W}}},enabled:!!(i!=null&&i.id),refetchInterval:3e4}),D=Z=>{if(Z.length<2)return 0;let B=0,Y=0;for(let Q=1;Q<Z.length;Q++){const xe=new Date(Z[Q-1].created_at),ye=new Date(Z[Q].created_at).getTime()-xe.getTime();ye>0&&ye<3e5&&(B+=ye,Y++)}return Y>0?Math.round(B/Y/1e3):0},F=Z=>{if(!Z)return 0;const B=Z.filter(Q=>Q.status==="resolved");if(B.length===0)return 0;let Y=0;return B.forEach(Q=>{const xe=new Date(Q.created_at);Y+=new Date().getTime()-xe.getTime()}),Math.round(Y/B.length/1e3/60)},{data:J=[]}=bt({queryKey:["unassigned-conversations",i==null?void 0:i.id],queryFn:async()=>{const{data:Z,error:B}=await le.from("conversations").select(`
          *,
          contacts(id, full_name, email, phone_e164)
        `).eq("org_id",i==null?void 0:i.id).is("assigned_agent_id",null).eq("status","active").order("last_message_at",{ascending:!1});if(B)throw B;return Z},enabled:!!(i!=null&&i.id),refetchInterval:5e3}),H=Z=>{switch(Z){case"online":return s.jsx(ks,{className:"h-4 w-4 text-green-500"});case"busy":return s.jsx(cl,{className:"h-4 w-4 text-yellow-500"});case"away":return s.jsx(Fa,{className:"h-4 w-4 text-orange-500"});case"offline":return s.jsx(ZO,{className:"h-4 w-4 text-gray-500"});case"break":return s.jsx(ma,{className:"h-4 w-4 text-blue-500"});case"training":return s.jsx(Br,{className:"h-4 w-4 text-purple-500"});default:return s.jsx(ZO,{className:"h-4 w-4 text-gray-500"})}},I=Z=>{const B={online:"default",busy:"secondary",away:"outline",offline:"destructive",break:"secondary",training:"outline"},Y={online:"Online",busy:"Ocupado",away:"Ausente",offline:"Offline",break:"Pausa",training:"Treinamento"};return s.jsxs(De,{variant:B[Z],children:[H(Z),s.jsx("span",{className:"ml-1",children:Y[Z]})]})},oe=Z=>{switch(Z){case"whatsapp":return s.jsx(At,{className:"h-4 w-4 text-green-500"});case"instagram":return s.jsx(At,{className:"h-4 w-4 text-pink-500"});case"telegram":return s.jsx(At,{className:"h-4 w-4 text-blue-500"});default:return s.jsx(At,{className:"h-4 w-4 text-gray-500"})}},V=L.filter(Z=>{const B=Z.full_name.toLowerCase().includes(u.toLowerCase())||Z.email.toLowerCase().includes(u.toLowerCase()),Y=f==="all"||Z.status===f,Q=m==="all"||Z.department===m;return B&&Y&&Q}),de={total:L.length,totalOnline:L.filter(Z=>Z.status==="online").length,totalBusy:L.filter(Z=>Z.status==="busy").length,totalAway:L.filter(Z=>Z.status==="away").length,totalOffline:L.filter(Z=>Z.status==="offline").length,unassignedConversations:J.length,avgResponseTime:((e=R==null?void 0:R.generalStats)==null?void 0:e.avgResolutionTime)||0,resolutionRate:((t=R==null?void 0:R.generalStats)==null?void 0:t.resolutionRate)||0,totalConversations24h:((r=R==null?void 0:R.generalStats)==null?void 0:r.totalConversations)||0,totalMessages24h:((n=R==null?void 0:R.generalStats)==null?void 0:n.totalMessages)||0},te=ua({mutationFn:async Z=>{const{data:B,error:Y}=await le.from("attendants").insert([{...Z,org_id:i==null?void 0:i.id,status:"offline"}]).select().single();if(Y)throw Y;return B},onSuccess:()=>{o.invalidateQueries({queryKey:["attendants"]}),b(!1),_({full_name:"",email:"",phone:"",department:"",position:"",max_concurrent_chats:5,auto_accept:!1,skills:[],specializations:[]}),ae.success("Atendente criado com sucesso!")},onError:Z=>{ae.error(`Erro ao criar atendente: ${Z.message}`)}}),ce=ua({mutationFn:async({id:Z,updates:B})=>{const{data:Y,error:Q}=await le.from("attendants").update(B).eq("id",Z).select().single();if(Q)throw Q;return Y},onSuccess:()=>{o.invalidateQueries({queryKey:["attendants"]}),y(!1),j(null),ae.success("Atendente atualizado com sucesso!")},onError:Z=>{ae.error(`Erro ao atualizar atendente: ${Z.message}`)}}),ne=ua({mutationFn:async Z=>{const{error:B}=await le.from("attendants").delete().eq("id",Z);if(B)throw B},onSuccess:()=>{o.invalidateQueries({queryKey:["attendants"]}),ae.success("Atendente removido com sucesso!")},onError:Z=>{ae.error(`Erro ao remover atendente: ${Z.message}`)}}),ee=()=>{te.mutate(N)},qe=Z=>{j(Z),y(!0)},Re=()=>{w&&ce.mutate({id:w.id,updates:w})},ut=Z=>{confirm("Tem certeza que deseja remover este atendente?")&&ne.mutate(Z)},it=Z=>{$(Z),S(!0)},Qe=async Z=>{U(!0);try{ae.success("Sessão iniciada com sucesso!")}catch{ae.error("Erro ao iniciar sessão")}finally{U(!1)}};return z?s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Xn,{className:"h-4 w-4 animate-spin"}),s.jsx("span",{children:"Carregando atendentes..."})]})}):s.jsx(Mz,{permission:"canManageAttendants",children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:s.jsx("div",{className:"flex h-16 items-center px-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ir,{className:"h-5 w-5 text-muted-foreground"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Gestão"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"/"}),s.jsx("span",{className:"text-sm font-medium",children:"Atendentes"})]})})}),s.jsx("div",{className:"flex-1 overflow-auto",children:s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Gestão de Atendentes"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Gerencie sua equipe de atendimento e monitore performance"})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(za,{id:"auto-assign",checked:k,onCheckedChange:C}),s.jsxs(fe,{htmlFor:"auto-assign",className:"flex items-center space-x-1",children:[s.jsx(K1,{className:"h-4 w-4"}),s.jsx("span",{children:"Atribuição Automática"})]})]}),s.jsxs(X,{onClick:()=>b(!0),children:[s.jsx(wr,{className:"h-4 w-4 mr-2"}),"Novo Atendente"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[s.jsxs(ie,{className:"hover:shadow-md transition-shadow",children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Total Atendentes"}),s.jsx(ir,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-2xl font-bold",children:de.total}),s.jsx("p",{className:"text-xs text-muted-foreground",children:de.total===1?"atendente cadastrado":"atendentes cadastrados"}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx(xt,{className:"h-3 w-3 text-green-500 mr-1"}),s.jsx("span",{className:"text-xs text-green-600",children:"+2 esta semana"})]})]})]}),s.jsxs(ie,{className:"hover:shadow-md transition-shadow",children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Online"}),s.jsx(ks,{className:"h-4 w-4 text-green-500"})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:de.totalOnline}),s.jsx("p",{className:"text-xs text-muted-foreground",children:de.totalOnline===1?"atendente disponível":"atendentes disponíveis"}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-1 animate-pulse"}),s.jsx("span",{className:"text-xs text-green-600",children:"em tempo real"})]})]})]}),s.jsxs(ie,{className:"hover:shadow-md transition-shadow",children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Conversas 24h"}),s.jsx(At,{className:"h-4 w-4 text-blue-500"})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:de.totalConversations24h}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"últimas 24 horas"}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx(xt,{className:"h-3 w-3 text-blue-500 mr-1"}),s.jsx("span",{className:"text-xs text-blue-600",children:"+15% vs ontem"})]})]})]}),s.jsxs(ie,{className:"hover:shadow-md transition-shadow",children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Taxa de Resolução"}),s.jsx(ai,{className:"h-4 w-4 text-green-500"})]}),s.jsxs(ue,{children:[s.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[de.resolutionRate.toFixed(1),"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"conversas resolvidas"}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx(xt,{className:"h-3 w-3 text-green-500 mr-1"}),s.jsx("span",{className:"text-xs text-green-600",children:"+5% vs ontem"})]})]})]}),s.jsxs(ie,{className:"hover:shadow-md transition-shadow",children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Tempo Médio"}),s.jsx(Fa,{className:"h-4 w-4 text-purple-500"})]}),s.jsxs(ue,{children:[s.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[de.avgResponseTime,"min"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"para resolver"}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx(xt,{className:"h-3 w-3 text-green-500 mr-1"}),s.jsx("span",{className:"text-xs text-green-600",children:"-2min vs ontem"})]})]})]}),s.jsxs(ie,{className:"hover:shadow-md transition-shadow",children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Não Atribuídas"}),s.jsx(cl,{className:"h-4 w-4 text-orange-500"})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:de.unassignedConversations}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"aguardando atribuição"}),s.jsx("div",{className:"flex items-center mt-1",children:de.unassignedConversations>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full mr-1 animate-pulse"}),s.jsx("span",{className:"text-xs text-orange-600",children:"precisa atenção"})]}):s.jsxs(s.Fragment,{children:[s.jsx(ks,{className:"h-3 w-3 text-green-500 mr-1"}),s.jsx("span",{className:"text-xs text-green-600",children:"todas atribuídas"})]})})]})]})]}),s.jsxs(Na,{value:l,onValueChange:c,className:"space-y-4",children:[s.jsxs(Jn,{className:"grid w-full grid-cols-5",children:[s.jsxs(et,{value:"overview",className:"flex items-center space-x-2",children:[s.jsx(Kn,{className:"h-4 w-4"}),s.jsx("span",{children:"Visão Geral"})]}),s.jsxs(et,{value:"attendants",className:"flex items-center space-x-2",children:[s.jsx(ir,{className:"h-4 w-4"}),s.jsx("span",{children:"Atendentes"})]}),s.jsxs(et,{value:"conversations",className:"flex items-center space-x-2",children:[s.jsx(At,{className:"h-4 w-4"}),s.jsx("span",{children:"Conversas"})]}),s.jsxs(et,{value:"sessions",className:"flex items-center space-x-2",children:[s.jsx(ri,{className:"h-4 w-4"}),s.jsx("span",{children:"Sessões"})]}),s.jsxs(et,{value:"metrics",className:"flex items-center space-x-2",children:[s.jsx(xt,{className:"h-4 w-4"}),s.jsx("span",{children:"Métricas"})]})]}),s.jsx(dt,{value:"overview",className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center space-x-2",children:[s.jsx(fl,{className:"h-5 w-5"}),s.jsx("span",{children:"Atendentes Online"})]}),s.jsx(Ie,{children:"Equipe disponível para atendimento"})]}),s.jsx(ue,{children:s.jsx(tl,{className:"h-[300px]",children:s.jsxs("div",{className:"space-y-3",children:[L.filter(Z=>Z.status==="online").map(Z=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs(bs,{className:"h-8 w-8",children:[s.jsx(ws,{src:Z.avatar_url}),s.jsx(js,{children:Z.full_name.split(" ").map(B=>B[0]).join("")})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:Z.full_name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:Z.department})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[I(Z.status),s.jsx(X,{size:"sm",onClick:()=>Qe(Z.id),children:s.jsx(Ac,{className:"h-3 w-3"})})]})]},Z.id)),L.filter(Z=>Z.status==="online").length===0&&s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Nenhum atendente online no momento"})]})})})]}),s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center space-x-2",children:[s.jsx(At,{className:"h-5 w-5"}),s.jsx("span",{children:"Conversas Não Atribuídas"})]}),s.jsx(Ie,{children:"Aguardando atribuição a um atendente"})]}),s.jsx(ue,{children:s.jsx(tl,{className:"h-[300px]",children:s.jsxs("div",{className:"space-y-3",children:[J.slice(0,10).map(Z=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[oe(Z.channel_type||"whatsapp"),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:Z.contacts.full_name||"Contato sem nome"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:vc(new Date(Z.last_message_at),{addSuffix:!0,locale:Zo})})]})]}),s.jsx(X,{size:"sm",variant:"outline",onClick:()=>it(Z),children:"Atribuir"})]},Z.id)),J.length===0&&s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Todas as conversas foram atribuídas"})]})})})]})]})}),s.jsxs(dt,{value:"attendants",className:"space-y-4",children:[s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsx(pe,{className:"text-lg",children:"Filtros e Busca"}),s.jsx(Ie,{children:"Encontre atendentes específicos usando os filtros abaixo"})]}),s.jsx(ue,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(Ba,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),s.jsx(Be,{placeholder:"Buscar por nome ou email...",value:u,onChange:Z=>d(Z.target.value),className:"pl-10"})]})}),s.jsxs(ot,{value:f,onValueChange:h,children:[s.jsx(nt,{className:"w-[180px]",children:s.jsx(lt,{placeholder:"Status"})}),s.jsxs(at,{children:[s.jsx(re,{value:"all",children:"Todos os Status"}),s.jsx(re,{value:"online",children:"Online"}),s.jsx(re,{value:"busy",children:"Ocupado"}),s.jsx(re,{value:"away",children:"Ausente"}),s.jsx(re,{value:"offline",children:"Offline"}),s.jsx(re,{value:"break",children:"Pausa"}),s.jsx(re,{value:"training",children:"Treinamento"})]})]}),s.jsxs(ot,{value:m,onValueChange:v,children:[s.jsx(nt,{className:"w-[180px]",children:s.jsx(lt,{placeholder:"Departamento"})}),s.jsxs(at,{children:[s.jsx(re,{value:"all",children:"Todos os Departamentos"}),s.jsx(re,{value:"atendimento",children:"Atendimento"}),s.jsx(re,{value:"vendas",children:"Vendas"}),s.jsx(re,{value:"suporte",children:"Suporte"}),s.jsx(re,{value:"técnico",children:"Técnico"})]})]})]})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:V.map(Z=>s.jsxs(ie,{className:"hover:shadow-md transition-shadow",children:[s.jsx(me,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs(bs,{className:"h-10 w-10",children:[s.jsx(ws,{src:Z.avatar_url}),s.jsx(js,{children:Z.full_name.split(" ").map(B=>B[0]).join("")})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:Z.full_name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:Z.email})]})]}),s.jsxs(iC,{children:[s.jsx(oC,{asChild:!0,children:s.jsx(X,{variant:"ghost",size:"sm",children:s.jsx(Mk,{className:"h-4 w-4"})})}),s.jsxs(D0,{align:"end",children:[s.jsxs(ps,{onClick:()=>qe(Z),children:[s.jsx(dl,{className:"h-4 w-4 mr-2"}),"Editar"]}),s.jsxs(ps,{onClick:()=>ut(Z.id),className:"text-destructive",children:[s.jsx(no,{className:"h-4 w-4 mr-2"}),"Remover"]})]})]})]})}),s.jsxs(ue,{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Status:"}),I(Z.status)]}),Z.department&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Departamento:"}),s.jsx("span",{className:"text-sm font-medium",children:Z.department})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Chats Simultâneos:"}),s.jsx("span",{className:"text-sm font-medium",children:Z.max_concurrent_chats})]}),Z.skills&&Z.skills.length>0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Habilidades:"}),s.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[Z.skills.slice(0,3).map((B,Y)=>s.jsx(De,{variant:"secondary",className:"text-xs",children:B},Y)),Z.skills.length>3&&s.jsxs(De,{variant:"secondary",className:"text-xs",children:["+",Z.skills.length-3]})]})]})]})]},Z.id))}),V.length===0&&s.jsx(ie,{children:s.jsxs(ue,{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(ir,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Nenhum atendente encontrado"}),s.jsx("p",{className:"text-muted-foreground text-center mb-4",children:u||f!=="all"||m!=="all"?"Tente ajustar os filtros de busca":"Comece criando seu primeiro atendente"}),s.jsxs(X,{onClick:()=>b(!0),children:[s.jsx(wr,{className:"h-4 w-4 mr-2"}),"Novo Atendente"]})]})})]}),s.jsx(dt,{value:"conversations",className:"space-y-4",children:s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center space-x-2",children:[s.jsx(At,{className:"h-5 w-5"}),s.jsx("span",{children:"Conversas Não Atribuídas"})]}),s.jsx(Ie,{children:"Lista completa de conversas aguardando atribuição"})]}),s.jsx(ue,{children:s.jsxs("div",{className:"space-y-4",children:[J.map(Z=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[oe(Z.channel_type||"whatsapp"),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:Z.contacts.full_name||Z.contacts.email||"Contato sem nome"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:Z.contacts.phone_e164||Z.contacts.email}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Última mensagem: ",vc(new Date(Z.last_message_at),{addSuffix:!0,locale:Zo})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(De,{variant:"outline",children:Z.channel_type||"whatsapp"}),s.jsx(X,{size:"sm",onClick:()=>it(Z),children:"Atribuir"})]})]},Z.id)),J.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(At,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Todas as conversas foram atribuídas"}),s.jsx("p",{className:"text-muted-foreground",children:"Não há conversas aguardando atribuição no momento"})]})]})})]})}),s.jsx(dt,{value:"sessions",className:"space-y-4",children:s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center space-x-2",children:[s.jsx(ri,{className:"h-5 w-5"}),s.jsx("span",{children:"Sessões Ativas"})]}),s.jsx(Ie,{children:"Atendentes com sessões de trabalho ativas"})]}),s.jsx(ue,{children:s.jsxs("div",{className:"space-y-4",children:[L.filter(Z=>Z.status==="online"||Z.status==="busy").map(Z=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(bs,{className:"h-10 w-10",children:[s.jsx(ws,{src:Z.avatar_url}),s.jsx(js,{children:Z.full_name.split(" ").map(B=>B[0]).join("")})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:Z.full_name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:Z.department}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Sessão iniciada: ",vc(new Date(Z.updated_at),{addSuffix:!0,locale:Zo})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[I(Z.status),s.jsxs(X,{size:"sm",variant:"outline",children:[s.jsx(Rm,{className:"h-3 w-3 mr-1"}),"Pausar"]}),s.jsxs(X,{size:"sm",variant:"destructive",children:[s.jsx(n6,{className:"h-3 w-3 mr-1"}),"Finalizar"]})]})]},Z.id)),L.filter(Z=>Z.status==="online"||Z.status==="busy").length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ri,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Nenhuma sessão ativa"}),s.jsx("p",{className:"text-muted-foreground",children:"Não há atendentes com sessões de trabalho ativas no momento"})]})]})})]})}),s.jsx(dt,{value:"metrics",className:"space-y-4",children:G?s.jsxs("div",{className:"flex items-center justify-center py-12",children:[s.jsx(Xn,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("span",{className:"ml-2 text-muted-foreground",children:"Carregando métricas em tempo real..."})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(Kn,{className:"h-5 w-5 text-primary"}),"Performance Geral (24h)"]}),s.jsx(Ie,{children:"Métricas consolidadas da equipe de atendimento"})]}),s.jsx(ue,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-blue-50 to-white rounded-lg border",children:[s.jsx("div",{className:"text-3xl font-bold text-blue-600",children:de.totalConversations24h}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Conversas"}),s.jsx("div",{className:"text-xs text-blue-600 mt-1",children:"+15% vs ontem"})]}),s.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-green-50 to-white rounded-lg border",children:[s.jsxs("div",{className:"text-3xl font-bold text-green-600",children:[de.resolutionRate.toFixed(1),"%"]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Taxa de Resolução"}),s.jsx("div",{className:"text-xs text-green-600 mt-1",children:"+5% vs ontem"})]}),s.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-purple-50 to-white rounded-lg border",children:[s.jsxs("div",{className:"text-3xl font-bold text-purple-600",children:[de.avgResponseTime,"min"]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Tempo Médio"}),s.jsx("div",{className:"text-xs text-green-600 mt-1",children:"-2min vs ontem"})]}),s.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-orange-50 to-white rounded-lg border",children:[s.jsx("div",{className:"text-3xl font-bold text-orange-600",children:de.totalMessages24h}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Mensagens"}),s.jsx("div",{className:"text-xs text-blue-600 mt-1",children:"+22% vs ontem"})]})]})})]}),s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(xt,{className:"h-5 w-5 text-primary"}),"Performance Individual (24h)"]}),s.jsx(Ie,{children:"Métricas detalhadas de cada atendente"})]}),s.jsx(ue,{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:(a=R==null?void 0:R.attendantStats)==null?void 0:a.map(Z=>{const B=L.find(Y=>Y.id===Z.id);return B?s.jsxs(ie,{className:"p-4 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsxs(bs,{className:"h-10 w-10",children:[s.jsx(ws,{src:B.avatar_url}),s.jsx(js,{children:B.full_name.split(" ").map(Y=>Y[0]).join("")})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium",children:B.full_name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:B.department}),s.jsx("div",{className:"mt-1",children:I(B.status)})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Conversas:"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm font-bold",children:Z.conversations}),s.jsxs(De,{variant:"outline",className:"text-xs",children:[Z.resolved,"/",Z.conversations]})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex justify-between items-center text-xs",children:[s.jsx("span",{className:"text-green-600 font-medium",children:"Resolução"}),s.jsxs("span",{className:"font-semibold",children:[Z.resolutionRate.toFixed(1),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-500",style:{width:`${Math.min(Z.resolutionRate,100)}%`}})})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Tempo Médio:"}),s.jsxs("span",{className:"text-sm font-medium text-purple-600",children:[Z.avgResponseTime,"s"]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Satisfação:"}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Dm,{className:"h-3 w-3 text-yellow-500 fill-current"}),s.jsx("span",{className:"text-sm font-medium",children:Z.satisfaction.toFixed(1)})]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Mensagens:"}),s.jsx("span",{className:"text-sm font-medium text-blue-600",children:Z.messages})]})]}),s.jsxs("div",{className:"mt-4 pt-3 border-t",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:`w-3 h-3 rounded-full ${Z.resolutionRate>=80?"bg-green-500":Z.resolutionRate>=60?"bg-yellow-500":"bg-red-500"}`})}),s.jsx("div",{className:"text-xs text-center mt-1 text-muted-foreground",children:Z.resolutionRate>=80?"Excelente":Z.resolutionRate>=60?"Bom":"Melhorar"})]})]},Z.id):null})})})]}),s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(Pi,{className:"h-5 w-5 text-purple-600"}),"Insights Inteligentes"]}),s.jsx(Ie,{children:"Análise automatizada e recomendações para melhoria"})]}),s.jsx(ue,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 bg-gradient-to-r from-green-50 to-blue-50 rounded-lg border border-green-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.jsx(xt,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"font-medium text-green-800",children:"Pontos Fortes"})]}),s.jsxs("ul",{className:"space-y-2 text-sm text-green-700",children:[s.jsxs("li",{className:"flex items-start space-x-2",children:[s.jsx("span",{className:"text-green-500 mt-1",children:"✓"}),s.jsxs("span",{children:["Taxa de resolução de ",de.resolutionRate.toFixed(1),"% está acima da média"]})]}),s.jsxs("li",{className:"flex items-start space-x-2",children:[s.jsx("span",{className:"text-green-500 mt-1",children:"✓"}),s.jsxs("span",{children:["Tempo médio de ",de.avgResponseTime,"min é eficiente"]})]}),s.jsxs("li",{className:"flex items-start space-x-2",children:[s.jsx("span",{className:"text-green-500 mt-1",children:"✓"}),s.jsxs("span",{children:[de.totalOnline," atendentes online garantem boa cobertura"]})]})]})]}),s.jsxs("div",{className:"p-4 bg-gradient-to-r from-orange-50 to-red-50 rounded-lg border border-orange-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.jsx(ai,{className:"h-4 w-4 text-orange-600"}),s.jsx("span",{className:"font-medium text-orange-800",children:"Oportunidades"})]}),s.jsxs("ul",{className:"space-y-2 text-sm text-orange-700",children:[s.jsxs("li",{className:"flex items-start space-x-2",children:[s.jsx("span",{className:"text-orange-500 mt-1",children:"⚡"}),s.jsxs("span",{children:[de.unassignedConversations," conversas não atribuídas precisam de atenção"]})]}),s.jsxs("li",{className:"flex items-start space-x-2",children:[s.jsx("span",{className:"text-orange-500 mt-1",children:"⚡"}),s.jsx("span",{children:"Considere aumentar o número de atendentes online"})]}),s.jsxs("li",{className:"flex items-start space-x-2",children:[s.jsx("span",{className:"text-orange-500 mt-1",children:"⚡"}),s.jsx("span",{children:"Implementar atribuição automática para melhorar eficiência"})]})]})]})]})})]})]})})]}),s.jsx(Xt,{open:p,onOpenChange:b,children:s.jsxs(Ut,{className:"max-w-2xl",children:[s.jsxs(Jt,{children:[s.jsx(er,{children:"Novo Atendente"}),s.jsx(or,{children:"Adicione um novo membro à sua equipe de atendimento"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"full_name",children:"Nome Completo"}),s.jsx(Be,{id:"full_name",value:N.full_name,onChange:Z=>_({...N,full_name:Z.target.value}),placeholder:"João Silva"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"email",children:"Email"}),s.jsx(Be,{id:"email",type:"email",value:N.email,onChange:Z=>_({...N,email:Z.target.value}),placeholder:"joao@empresa.com"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"phone",children:"Telefone"}),s.jsx(Be,{id:"phone",value:N.phone,onChange:Z=>_({...N,phone:Z.target.value}),placeholder:"(11) 99999-9999"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"department",children:"Departamento"}),s.jsxs(ot,{value:N.department,onValueChange:Z=>_({...N,department:Z}),children:[s.jsx(nt,{children:s.jsx(lt,{placeholder:"Selecione o departamento"})}),s.jsxs(at,{children:[s.jsx(re,{value:"atendimento",children:"Atendimento"}),s.jsx(re,{value:"vendas",children:"Vendas"}),s.jsx(re,{value:"suporte",children:"Suporte"}),s.jsx(re,{value:"técnico",children:"Técnico"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"position",children:"Cargo"}),s.jsx(Be,{id:"position",value:N.position,onChange:Z=>_({...N,position:Z.target.value}),placeholder:"Atendente Sênior"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"max_chats",children:"Chats Simultâneos"}),s.jsx(Be,{id:"max_chats",type:"number",min:"1",max:"20",value:N.max_concurrent_chats,onChange:Z=>_({...N,max_concurrent_chats:parseInt(Z.target.value)})})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(za,{id:"auto_accept",checked:N.auto_accept,onCheckedChange:Z=>_({...N,auto_accept:Z})}),s.jsx(fe,{htmlFor:"auto_accept",children:"Aceitar conversas automaticamente"})]}),s.jsxs(gn,{children:[s.jsx(X,{variant:"outline",onClick:()=>b(!1),children:"Cancelar"}),s.jsx(X,{onClick:ee,disabled:te.isPending,children:te.isPending?"Criando...":"Criar Atendente"})]})]})}),s.jsx(Xt,{open:x,onOpenChange:y,children:s.jsxs(Ut,{className:"max-w-2xl",children:[s.jsxs(Jt,{children:[s.jsx(er,{children:"Editar Atendente"}),s.jsx(or,{children:"Atualize as informações do atendente"})]}),w&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"edit_full_name",children:"Nome Completo"}),s.jsx(Be,{id:"edit_full_name",value:w.full_name,onChange:Z=>j({...w,full_name:Z.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"edit_email",children:"Email"}),s.jsx(Be,{id:"edit_email",type:"email",value:w.email,onChange:Z=>j({...w,email:Z.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"edit_phone",children:"Telefone"}),s.jsx(Be,{id:"edit_phone",value:w.phone||"",onChange:Z=>j({...w,phone:Z.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"edit_department",children:"Departamento"}),s.jsxs(ot,{value:w.department||"",onValueChange:Z=>j({...w,department:Z}),children:[s.jsx(nt,{children:s.jsx(lt,{placeholder:"Selecione o departamento"})}),s.jsxs(at,{children:[s.jsx(re,{value:"atendimento",children:"Atendimento"}),s.jsx(re,{value:"vendas",children:"Vendas"}),s.jsx(re,{value:"suporte",children:"Suporte"}),s.jsx(re,{value:"técnico",children:"Técnico"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"edit_position",children:"Cargo"}),s.jsx(Be,{id:"edit_position",value:w.position||"",onChange:Z=>j({...w,position:Z.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"edit_max_chats",children:"Chats Simultâneos"}),s.jsx(Be,{id:"edit_max_chats",type:"number",min:"1",max:"20",value:w.max_concurrent_chats,onChange:Z=>j({...w,max_concurrent_chats:parseInt(Z.target.value)})})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(za,{id:"edit_auto_accept",checked:(w==null?void 0:w.auto_accept)||!1,onCheckedChange:Z=>j({...w,auto_accept:Z})}),s.jsx(fe,{htmlFor:"edit_auto_accept",children:"Aceitar conversas automaticamente"})]}),s.jsxs(gn,{children:[s.jsx(X,{variant:"outline",onClick:()=>y(!1),children:"Cancelar"}),s.jsx(X,{onClick:Re,disabled:ce.isPending,children:ce.isPending?"Salvando...":"Salvar Alterações"})]})]})}),s.jsx(Xt,{open:P,onOpenChange:S,children:s.jsxs(Ut,{children:[s.jsxs(Jt,{children:[s.jsx(er,{children:"Atribuir Conversa"}),s.jsx(or,{children:"Selecione um atendente para atribuir esta conversa"})]}),M&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-3 border rounded-lg",children:[s.jsx("h4",{className:"font-medium",children:M.contacts.full_name||"Contato sem nome"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:M.contacts.phone_e164||M.contacts.email})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Atendente Disponível"}),s.jsxs(ot,{children:[s.jsx(nt,{children:s.jsx(lt,{placeholder:"Selecione um atendente"})}),s.jsx(at,{children:L.filter(Z=>Z.status==="online").map(Z=>s.jsxs(re,{value:Z.id,children:[Z.full_name," - ",Z.department]},Z.id))})]})]})]}),s.jsxs(gn,{children:[s.jsx(X,{variant:"outline",onClick:()=>S(!1),children:"Cancelar"}),s.jsx(X,{children:"Atribuir"})]})]})})]})})]})})}const Eo=[{id:"lead",label:"Leads",color:"bg-gray-500",icon:nr},{id:"contacted",label:"Contactados",color:"bg-blue-500",icon:Ef},{id:"qualified",label:"Qualificados",color:"bg-purple-500",icon:Zi},{id:"proposal",label:"Proposta",color:"bg-yellow-500",icon:Ad},{id:"negotiation",label:"Negociação",color:"bg-orange-500",icon:xt},{id:"won",label:"Ganhos",color:"bg-green-500",icon:Oc}];function HMe({prospects:e,onRefresh:t}){var r,n,a,i,o;const[l,c]=g.useState(null),[u,d]=g.useState(null),[f,h]=g.useState(!1),[m,v]=g.useState(null),[p,b]=g.useState(null),x=S=>e.filter(M=>M.pipeline_stage===S),y=async(S,M)=>{var $;c(S);try{const{error:q}=await le.from("prospects").update({pipeline_stage:M,last_activity:new Date().toISOString()}).eq("id",S);if(q)throw q;ae.success(`Prospect movido para ${($=Eo.find(U=>U.id===M))==null?void 0:$.label}`),t()}catch(q){console.error("Error moving prospect:",q),ae.error("Erro ao mover prospect")}finally{c(null)}},w=async S=>{var M,$,q,U;try{const{data:{user:L}}=await le.auth.getUser();if(!L){ae.error("Usuário não autenticado");return}const{data:z}=await le.from("members").select("org_id").eq("user_id",L.id).single();if(!z){ae.error("Organização não encontrada");return}const R=e.find(F=>F.id===S);if(!R)return;const{error:G}=await le.from("contacts").insert({org_id:z.org_id,full_name:((M=R.places)==null?void 0:M.name)||"Sem nome",phone_e164:(($=R.places)==null?void 0:$.phone_number)||null,tags:((U=(q=R.places)==null?void 0:q.types)==null?void 0:U.slice(0,3))||[]});if(G)throw G;const{error:D}=await le.from("prospects").update({status:"imported"}).eq("id",S);if(D)throw D;ae.success("Prospect exportado para Contatos!"),t()}catch(L){console.error("Error:",L),ae.error("Erro ao exportar prospect")}},j=S=>{d(S),v({...S}),h(!0)},N=()=>{h(!1),d(null),v(null)},_=async()=>{if(m)try{const{error:S}=await le.from("prospects").update({pipeline_stage:m.pipeline_stage,expected_revenue:m.expected_revenue,probability:m.probability,notes:m.notes,updated_at:new Date().toISOString()}).eq("id",m.id);if(S)throw S;ae.success("Prospect atualizado com sucesso!"),t(),N()}catch(S){console.error("Error updating prospect:",S),ae.error("Erro ao atualizar prospect")}},k=async()=>{if(m)try{const{error:S}=await le.from("prospects").delete().eq("id",m.id);if(S)throw S;ae.success("Prospect excluído com sucesso!"),t(),N()}catch(S){console.error("Error deleting prospect:",S),ae.error("Erro ao excluir prospect")}},C=(S,M)=>{b(M),S.dataTransfer.effectAllowed="move"},O=S=>{S.preventDefault(),S.dataTransfer.dropEffect="move"},T=async(S,M)=>{if(S.preventDefault(),!p)return;const $=e.find(q=>q.id===p);if(!$||$.pipeline_stage===M){b(null);return}await y(p,M),b(null)},P=()=>{b(null)};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-6 gap-6",children:Eo.map((S,M)=>{const $=x(S.id),q=S.icon;return s.jsxs("div",{className:`space-y-3 relative ${M<Eo.length-1?"lg:border-r lg:border-gray-200 lg:pr-6":""}`,onDragOver:O,onDrop:U=>T(U,S.id),children:[s.jsxs("div",{className:"flex flex-col items-center space-y-2 mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(q,{className:`h-5 w-5 ${S.color.replace("bg-","text-")}`}),s.jsx("h3",{className:"font-semibold text-sm text-center",children:S.label})]}),s.jsx(De,{className:`${S.color} text-white`,children:$.length})]}),s.jsx("div",{className:"space-y-3 min-h-[200px] p-2",children:$.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground text-sm",children:[s.jsx(q,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"Nenhum prospect"}),s.jsx("p",{className:"text-xs mt-1",children:"Arraste um prospect aqui"})]}):$.map(U=>s.jsx(GMe,{prospect:U,currentStage:S.id,onMove:y,onExport:w,onOpenModal:j,onDragStart:L=>C(L,U.id),onDragEnd:P,isMoving:l===U.id,isDragging:p===U.id},U.id))})]},S.id)})}),s.jsx(Xt,{open:f,onOpenChange:N,children:s.jsxs(Ut,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Jt,{children:[s.jsxs(er,{className:"flex items-center gap-2",children:[s.jsx(nr,{className:"h-5 w-5 text-primary"}),((r=m==null?void 0:m.places)==null?void 0:r.name)||"Detalhes do Prospect"]}),s.jsx(or,{children:"Visualize e edite as informações do prospect"})]}),m&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"name",children:"Nome do Negócio"}),s.jsx(Be,{id:"name",value:((n=m.places)==null?void 0:n.name)||"",disabled:!0,className:"bg-gray-50"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"address",children:"Endereço"}),s.jsx(Be,{id:"address",value:((a=m.places)==null?void 0:a.formatted_address)||"",disabled:!0,className:"bg-gray-50"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"phone",children:"Telefone"}),s.jsx(Be,{id:"phone",value:((i=m.places)==null?void 0:i.phone_number)||"",disabled:!0,className:"bg-gray-50"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"website",children:"Website"}),s.jsx(Be,{id:"website",value:((o=m.places)==null?void 0:o.website)||"",disabled:!0,className:"bg-gray-50"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"stage",children:"Estágio do Pipeline"}),s.jsxs(ot,{value:m.pipeline_stage,onValueChange:S=>v({...m,pipeline_stage:S}),children:[s.jsx(nt,{children:s.jsx(lt,{})}),s.jsx(at,{children:Eo.map(S=>s.jsx(re,{value:S.id,children:S.label},S.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"revenue",children:"Receita Esperada (R$)"}),s.jsx(Be,{id:"revenue",type:"number",value:m.expected_revenue||"",onChange:S=>v({...m,expected_revenue:Number(S.target.value)}),placeholder:"0"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"probability",children:"Probabilidade (%)"}),s.jsx(Be,{id:"probability",type:"number",min:"0",max:"100",value:m.probability||"",onChange:S=>v({...m,probability:Number(S.target.value)}),placeholder:"0"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"notes",children:"Notas"}),s.jsx(Gn,{id:"notes",value:m.notes||"",onChange:S=>v({...m,notes:S.target.value}),placeholder:"Adicione observações sobre este prospect...",rows:4})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[m.pipeline_stage!=="won"&&s.jsxs(X,{onClick:()=>{const S=Eo.findIndex($=>$.id===m.pipeline_stage),M=Eo[S+1];M&&v({...m,pipeline_stage:M.id})},variant:"outline",size:"sm",children:[s.jsx(Ob,{className:"h-4 w-4 mr-2"}),"Próximo Estágio"]}),m.pipeline_stage==="won"&&s.jsxs(X,{onClick:()=>w(m.id),variant:"outline",size:"sm",children:[s.jsx(Zi,{className:"h-4 w-4 mr-2"}),"Exportar para Contatos"]})]}),s.jsxs(X,{onClick:k,variant:"destructive",size:"sm",children:[s.jsx(no,{className:"h-4 w-4 mr-2"}),"Excluir"]})]})]}),s.jsxs(gn,{children:[s.jsxs(X,{variant:"outline",onClick:N,children:[s.jsx(Ab,{className:"h-4 w-4 mr-2"}),"Fechar"]}),s.jsxs(X,{onClick:_,children:[s.jsx(Im,{className:"h-4 w-4 mr-2"}),"Salvar Alterações"]})]})]})})]})}function GMe({prospect:e,currentStage:t,onMove:r,onExport:n,onOpenModal:a,onDragStart:i,onDragEnd:o,isMoving:l,isDragging:c=!1}){var u,d,f;const h=Eo.findIndex(p=>p.id===t),m=Eo[h+1],v=m&&m.id!=="won";return s.jsx(ie,{className:`p-3 hover:shadow-md transition-all cursor-pointer group select-none ${c?"opacity-50 rotate-2 scale-105":""}`,draggable:!0,onDragStart:i,onDragEnd:o,onClick:()=>a(e),children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-semibold text-sm line-clamp-2 group-hover:text-primary transition-colors",children:((u=e.places)==null?void 0:u.name)||"Sem nome"}),((d=e.places)==null?void 0:d.types)&&e.places.types.length>0&&s.jsx(De,{variant:"secondary",className:"text-xs mt-1",children:e.places.types[0].replace(/_/g," ")})]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:s.jsx(dl,{className:"h-3 w-3"})})]}),((f=e.places)==null?void 0:f.formatted_address)&&s.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1",children:e.places.formatted_address}),e.expected_revenue&&s.jsxs("div",{className:"flex items-center gap-1 text-xs font-medium text-green-600",children:[s.jsx(Oc,{className:"h-3 w-3"}),"R$ ",e.expected_revenue.toLocaleString("pt-BR")]}),e.probability&&s.jsxs("div",{className:"flex items-center gap-1 text-xs text-blue-600",children:[s.jsx(xt,{className:"h-3 w-3"}),e.probability,"% chance"]}),s.jsxs("div",{className:"flex gap-1 pt-2 border-t",onClick:p=>p.stopPropagation(),children:[v&&s.jsxs(X,{size:"sm",variant:"outline",className:"flex-1 h-7 text-xs",onClick:()=>r(e.id,m.id),disabled:l,children:[s.jsx(Ob,{className:"h-3 w-3 mr-1"}),m.label]}),t==="won"&&s.jsxs(X,{size:"sm",variant:"default",className:"flex-1 h-7 text-xs",onClick:()=>n(e.id),disabled:l,children:[s.jsx(Zi,{className:"h-3 w-3 mr-1"}),"Exportar"]})]})]})})}function YMe(){var e,t,r,n,a,i,o,l,c,u,d,f,h,m,v,p,b,x,y,w,j,N,_,k,C,O,T,P,S;const{currentOrg:M}=bn(),[$,q]=g.useState("pipeline"),[U,L]=g.useState(!1),[z,R]=g.useState(null),[G,D]=g.useState({period:"30d",source:"all",stage:"all",assignee:"all"}),{data:F=[],isLoading:J,refetch:H}=bt({queryKey:["prospects-crm",M==null?void 0:M.id],queryFn:async()=>{if(!M)return[];const{data:ne,error:ee}=await le.from("prospects").select(`
          *,
          places (
            name,
            formatted_address,
            phone_number,
            website,
            types
          )
        `).eq("org_id",M.id).order("created_at",{ascending:!1});return ee?(console.error("Error fetching prospects:",ee),[]):ne||[]},enabled:!!(M!=null&&M.id)}),{data:I,isLoading:oe}=bt({queryKey:["crm-analytics",M==null?void 0:M.id,G],queryFn:async()=>{if(!M)return null;const ne=new Date,ee=Io(ne,{"7d":7,"30d":30,"90d":90,"1y":365}[G.period]),qe=ne;let Re=le.from("prospects").select(`
          *,
          places (
            name,
            formatted_address,
            phone_number,
            website,
            types
          )
        `).eq("org_id",M.id).gte("created_at",ee.toISOString()).lte("created_at",qe.toISOString());G.stage!=="all"&&(Re=Re.eq("pipeline_stage",G.stage));const{data:ut,error:it}=await Re;if(it)return console.error("Error fetching analytics data:",it),null;const Qe=ut||[],Z={leadToContacted:Qe.filter(Q=>Q.pipeline_stage==="contacted").length/Math.max(Qe.filter(Q=>Q.pipeline_stage==="lead").length,1),contactedToQualified:Qe.filter(Q=>Q.pipeline_stage==="qualified").length/Math.max(Qe.filter(Q=>Q.pipeline_stage==="contacted").length,1),qualifiedToProposal:Qe.filter(Q=>Q.pipeline_stage==="proposal").length/Math.max(Qe.filter(Q=>Q.pipeline_stage==="qualified").length,1),proposalToWon:Qe.filter(Q=>Q.pipeline_stage==="won").length/Math.max(Qe.filter(Q=>Q.pipeline_stage==="proposal").length,1)},B=[];for(let Q=6;Q>=0;Q--){const xe=Io(ne,Q),ye=new Date(xe.setHours(0,0,0,0)),we=new Date(xe.setHours(23,59,59,999)),W=Qe.filter(se=>{const Se=new Date(se.created_at);return Se>=ye&&Se<=we});B.push({date:pa(xe,"yyyy-MM-dd"),leads:W.filter(se=>se.pipeline_stage==="lead").length,contacted:W.filter(se=>se.pipeline_stage==="contacted").length,qualified:W.filter(se=>se.pipeline_stage==="qualified").length,proposal:W.filter(se=>se.pipeline_stage==="proposal").length,negotiation:W.filter(se=>se.pipeline_stage==="negotiation").length,won:W.filter(se=>se.pipeline_stage==="won").length,revenue:W.filter(se=>se.pipeline_stage==="won").reduce((se,Se)=>se+(Se.expected_revenue||0),0)})}const Y={avgDealSize:Qe.length>0?Qe.reduce((Q,xe)=>Q+(xe.expected_revenue||0),0)/Qe.length:0,totalPipelineValue:Qe.reduce((Q,xe)=>Q+(xe.expected_revenue||0),0),closedWonValue:Qe.filter(Q=>Q.pipeline_stage==="won").reduce((Q,xe)=>Q+(xe.expected_revenue||0),0),avgSalesCycle:V(Qe),winRate:Qe.length>0?Qe.filter(Q=>Q.pipeline_stage==="won").length/Qe.length*100:0};return{prospects:Qe,conversionMetrics:Z,dailyStats:B,performanceMetrics:Y}},enabled:!!(M!=null&&M.id)}),V=ne=>{const ee=ne.filter(Re=>Re.pipeline_stage==="won");if(ee.length===0)return 0;const qe=ee.reduce((Re,ut)=>{const it=new Date(ut.created_at),Qe=new Date(ut.updated_at);return Re+Math.ceil((Qe.getTime()-it.getTime())/(1e3*60*60*24))},0);return Math.round(qe/ee.length)},de={total:F.length,leads:F.filter(ne=>ne.pipeline_stage==="lead").length,contacted:F.filter(ne=>ne.pipeline_stage==="contacted").length,qualified:F.filter(ne=>ne.pipeline_stage==="qualified").length,proposal:F.filter(ne=>ne.pipeline_stage==="proposal").length,negotiation:F.filter(ne=>ne.pipeline_stage==="negotiation").length,won:F.filter(ne=>ne.pipeline_stage==="won").length,totalRevenue:F.filter(ne=>ne.expected_revenue).reduce((ne,ee)=>ne+(ee.expected_revenue||0),0),avgProbability:F.length>0?Math.round(F.reduce((ne,ee)=>ne+(ee.probability||0),0)/F.length):0},te=()=>{R(null),L(!0)},ce=()=>{H()};return s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:s.jsx("div",{className:"flex h-16 items-center px-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(xt,{className:"h-5 w-5 text-muted-foreground"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Gestão"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"/"}),s.jsx("span",{className:"text-sm font-medium",children:"CRM"})]})})}),s.jsx("div",{className:"flex-1 overflow-auto",children:s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"CRM - Pipeline de Vendas"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Gerencie seu pipeline de vendas e acompanhe oportunidades"})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(X,{variant:"outline",children:[s.jsx(Fi,{className:"h-4 w-4 mr-2"}),"Exportar"]}),s.jsxs(X,{onClick:te,children:[s.jsx(wr,{className:"h-4 w-4 mr-2"}),"Nova Oportunidade"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(ie,{children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Total Prospects"}),s.jsx(nr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-2xl font-bold",children:de.total}),s.jsx("p",{className:"text-xs text-muted-foreground",children:de.total===1?"prospect no pipeline":"prospects no pipeline"})]})]}),s.jsxs(ie,{children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Oportunidades Ganhas"}),s.jsx(xt,{className:"h-4 w-4 text-green-500"})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:de.won}),s.jsx("p",{className:"text-xs text-muted-foreground",children:de.won===1?"oportunidade ganha":"oportunidades ganhas"})]})]}),s.jsxs(ie,{children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Receita Potencial"}),s.jsx(Oc,{className:"h-4 w-4 text-blue-500"})]}),s.jsxs(ue,{children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:["R$ ",de.totalRevenue.toLocaleString("pt-BR")]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"valor total estimado"})]})]}),s.jsxs(ie,{children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Probabilidade Média"}),s.jsx(Kn,{className:"h-4 w-4 text-purple-500"})]}),s.jsxs(ue,{children:[s.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[de.avgProbability,"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"taxa de conversão média"})]})]})]}),s.jsxs(Na,{value:$,onValueChange:q,className:"space-y-4",children:[s.jsxs(Jn,{className:"grid w-full grid-cols-2",children:[s.jsxs(et,{value:"pipeline",className:"flex items-center space-x-2",children:[s.jsx(xt,{className:"h-4 w-4"}),s.jsx("span",{children:"Pipeline Kanban"})]}),s.jsxs(et,{value:"analytics",className:"flex items-center space-x-2",children:[s.jsx(Kn,{className:"h-4 w-4"}),s.jsx("span",{children:"Analytics"})]})]}),s.jsx(dt,{value:"pipeline",className:"space-y-4",children:s.jsx(HMe,{prospects:F,onRefresh:H})}),s.jsx(dt,{value:"analytics",className:"space-y-4",children:oe?s.jsxs("div",{className:"flex items-center justify-center py-12",children:[s.jsx(Xn,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("span",{className:"ml-2 text-muted-foreground",children:"Carregando analytics..."})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(Rk,{className:"h-5 w-5"}),"Filtros de Analytics"]}),s.jsx(Ie,{children:"Configure os filtros para análise específica"})]}),s.jsx(ue,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Período"}),s.jsxs(ot,{value:G.period,onValueChange:ne=>D({...G,period:ne}),children:[s.jsx(nt,{children:s.jsx(lt,{})}),s.jsxs(at,{children:[s.jsx(re,{value:"7d",children:"Últimos 7 dias"}),s.jsx(re,{value:"30d",children:"Últimos 30 dias"}),s.jsx(re,{value:"90d",children:"Últimos 90 dias"}),s.jsx(re,{value:"1y",children:"Último ano"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Fonte"}),s.jsxs(ot,{value:G.source,onValueChange:ne=>D({...G,source:ne}),children:[s.jsx(nt,{children:s.jsx(lt,{})}),s.jsxs(at,{children:[s.jsx(re,{value:"all",children:"Todas as fontes"}),s.jsx(re,{value:"google",children:"Google Places"}),s.jsx(re,{value:"referral",children:"Indicação"}),s.jsx(re,{value:"organic",children:"Orgânico"}),s.jsx(re,{value:"paid",children:"Pago"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Estágio"}),s.jsxs(ot,{value:G.stage,onValueChange:ne=>D({...G,stage:ne}),children:[s.jsx(nt,{children:s.jsx(lt,{})}),s.jsxs(at,{children:[s.jsx(re,{value:"all",children:"Todos os estágios"}),s.jsx(re,{value:"lead",children:"Leads"}),s.jsx(re,{value:"contacted",children:"Contactados"}),s.jsx(re,{value:"qualified",children:"Qualificados"}),s.jsx(re,{value:"proposal",children:"Proposta"}),s.jsx(re,{value:"negotiation",children:"Negociação"}),s.jsx(re,{value:"won",children:"Ganhos"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Atribuição"}),s.jsxs(ot,{value:G.assignee,onValueChange:ne=>D({...G,assignee:ne}),children:[s.jsx(nt,{children:s.jsx(lt,{})}),s.jsxs(at,{children:[s.jsx(re,{value:"all",children:"Todos"}),s.jsx(re,{value:"unassigned",children:"Não atribuídos"}),s.jsx(re,{value:"assigned",children:"Atribuídos"})]})]})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[s.jsxs(ie,{className:"hover:shadow-md transition-shadow",children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Total Prospects"}),s.jsx(nr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-2xl font-bold",children:((e=I==null?void 0:I.prospects)==null?void 0:e.length)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"no período selecionado"}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx(xt,{className:"h-3 w-3 text-green-500 mr-1"}),s.jsx("span",{className:"text-xs text-green-600",children:"+15% vs período anterior"})]})]})]}),s.jsxs(ie,{className:"hover:shadow-md transition-shadow",children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Taxa de Conversão"}),s.jsx(ai,{className:"h-4 w-4 text-green-500"})]}),s.jsxs(ue,{children:[s.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[((r=(t=I==null?void 0:I.performanceMetrics)==null?void 0:t.winRate)==null?void 0:r.toFixed(1))||0,"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"leads para ganhos"}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx(xt,{className:"h-3 w-3 text-green-500 mr-1"}),s.jsx("span",{className:"text-xs text-green-600",children:"+3% vs período anterior"})]})]})]}),s.jsxs(ie,{className:"hover:shadow-md transition-shadow",children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Valor do Pipeline"}),s.jsx(Oc,{className:"h-4 w-4 text-blue-500"})]}),s.jsxs(ue,{children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:["R$ ",((a=(n=I==null?void 0:I.performanceMetrics)==null?void 0:n.totalPipelineValue)==null?void 0:a.toLocaleString("pt-BR"))||0]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"valor total estimado"}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx(xt,{className:"h-3 w-3 text-green-500 mr-1"}),s.jsx("span",{className:"text-xs text-green-600",children:"+8% vs período anterior"})]})]})]}),s.jsxs(ie,{className:"hover:shadow-md transition-shadow",children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Ticket Médio"}),s.jsx(Kn,{className:"h-4 w-4 text-purple-500"})]}),s.jsxs(ue,{children:[s.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:["R$ ",((o=(i=I==null?void 0:I.performanceMetrics)==null?void 0:i.avgDealSize)==null?void 0:o.toLocaleString("pt-BR"))||0]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"valor médio por deal"}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx(xt,{className:"h-3 w-3 text-green-500 mr-1"}),s.jsx("span",{className:"text-xs text-green-600",children:"+5% vs período anterior"})]})]})]}),s.jsxs(ie,{className:"hover:shadow-md transition-shadow",children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Ciclo de Vendas"}),s.jsx(Fa,{className:"h-4 w-4 text-orange-500"})]}),s.jsxs(ue,{children:[s.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[((l=I==null?void 0:I.performanceMetrics)==null?void 0:l.avgSalesCycle)||0," dias"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"tempo médio para fechar"}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx(xt,{className:"h-3 w-3 text-green-500 mr-1"}),s.jsx("span",{className:"text-xs text-green-600",children:"-2 dias vs período anterior"})]})]})]})]}),s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(xt,{className:"h-5 w-5 text-primary"}),"Funil de Conversão"]}),s.jsx(Ie,{children:"Taxa de conversão entre cada estágio do pipeline"})]}),s.jsx(ue,{children:s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-gray-50 to-white rounded-lg border",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-600",children:((c=I==null?void 0:I.prospects)==null?void 0:c.filter(ne=>ne.pipeline_stage==="lead").length)||0}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Leads"}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:s.jsx("div",{className:"bg-gray-500 h-2 rounded-full",style:{width:"100%"}})})]}),s.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-blue-50 to-white rounded-lg border",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:((u=I==null?void 0:I.prospects)==null?void 0:u.filter(ne=>ne.pipeline_stage==="contacted").length)||0}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Contactados"}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:s.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-500",style:{width:`${(((d=I==null?void 0:I.conversionMetrics)==null?void 0:d.leadToContacted)||0)*100}%`}})}),s.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:[((((f=I==null?void 0:I.conversionMetrics)==null?void 0:f.leadToContacted)||0)*100).toFixed(1),"% conversão"]})]}),s.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-purple-50 to-white rounded-lg border",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:((h=I==null?void 0:I.prospects)==null?void 0:h.filter(ne=>ne.pipeline_stage==="qualified").length)||0}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Qualificados"}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:s.jsx("div",{className:"bg-purple-500 h-2 rounded-full transition-all duration-500",style:{width:`${(((m=I==null?void 0:I.conversionMetrics)==null?void 0:m.contactedToQualified)||0)*100}%`}})}),s.jsxs("div",{className:"text-xs text-purple-600 mt-1",children:[((((v=I==null?void 0:I.conversionMetrics)==null?void 0:v.contactedToQualified)||0)*100).toFixed(1),"% conversão"]})]}),s.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-green-50 to-white rounded-lg border",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:((p=I==null?void 0:I.prospects)==null?void 0:p.filter(ne=>ne.pipeline_stage==="won").length)||0}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Ganhos"}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:s.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-500",style:{width:`${(((b=I==null?void 0:I.conversionMetrics)==null?void 0:b.proposalToWon)||0)*100}%`}})}),s.jsxs("div",{className:"text-xs text-green-600 mt-1",children:[((((x=I==null?void 0:I.conversionMetrics)==null?void 0:x.proposalToWon)||0)*100).toFixed(1),"% conversão"]})]})]})})})]}),s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(Kn,{className:"h-5 w-5 text-primary"}),"Tendência dos Últimos 7 Dias"]}),s.jsx(Ie,{children:"Evolução do pipeline nos últimos dias"})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-7 gap-3",children:(y=I==null?void 0:I.dailyStats)==null?void 0:y.map((ne,ee)=>{const qe=ne.leads+ne.contacted+ne.qualified+ne.proposal+ne.negotiation+ne.won,Re=qe>0?ne.won/qe*100:0;return s.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-white p-4 rounded-lg border hover:shadow-md transition-all",children:[s.jsxs("div",{className:"text-center mb-3",children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900",children:pa(new Date(ne.date),"EEE",{locale:Zo})}),s.jsx("div",{className:"text-xs text-muted-foreground",children:pa(new Date(ne.date),"dd/MM")})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-gray-900",children:qe}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"prospects"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex justify-between items-center text-xs",children:[s.jsx("span",{className:"text-green-600 font-medium",children:"Ganhos"}),s.jsx("span",{className:"font-semibold",children:ne.won})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-500",style:{width:`${Math.min(Re*2,100)}%`}})})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-sm font-bold text-green-600",children:["R$ ",ne.revenue.toLocaleString("pt-BR")]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"receita"})]})]}),s.jsxs("div",{className:"mt-3 pt-3 border-t",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:`w-2 h-2 rounded-full ${Re>=20?"bg-green-500":Re>=10?"bg-yellow-500":"bg-red-500"}`})}),s.jsx("div",{className:"text-xs text-center mt-1 text-muted-foreground",children:Re>=20?"Excelente":Re>=10?"Bom":"Melhorar"})]})]},ee)})}),s.jsx("div",{className:"mt-6 pt-6 border-t",children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:((w=I==null?void 0:I.dailyStats)==null?void 0:w.reduce((ne,ee)=>ne+ee.leads+ee.contacted+ee.qualified+ee.proposal+ee.negotiation+ee.won,0))||0}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Prospects"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:((j=I==null?void 0:I.dailyStats)==null?void 0:j.reduce((ne,ee)=>ne+ee.won,0))||0}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Ganhos"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:["R$ ",((N=I==null?void 0:I.dailyStats)==null?void 0:N.reduce((ne,ee)=>ne+ee.revenue,0).toLocaleString("pt-BR"))||0]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Receita Total"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[(_=I==null?void 0:I.dailyStats)!=null&&_.length?(I.dailyStats.reduce((ne,ee)=>{const qe=ee.leads+ee.contacted+ee.qualified+ee.proposal+ee.negotiation+ee.won;return ne+(qe>0?ee.won/qe*100:0)},0)/I.dailyStats.length).toFixed(1):0,"%"]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Taxa Média"})]})]})})]})]}),s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(Pi,{className:"h-5 w-5 text-purple-600"}),"Insights Inteligentes"]}),s.jsx(Ie,{children:"Análise automatizada do seu pipeline de vendas"})]}),s.jsx(ue,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 bg-gradient-to-r from-green-50 to-blue-50 rounded-lg border border-green-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.jsx(xt,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"font-medium text-green-800",children:"Pontos Fortes"})]}),s.jsxs("ul",{className:"space-y-2 text-sm text-green-700",children:[s.jsxs("li",{className:"flex items-start space-x-2",children:[s.jsx("span",{className:"text-green-500 mt-1",children:"✓"}),s.jsxs("span",{children:["Taxa de conversão de ",((C=(k=I==null?void 0:I.performanceMetrics)==null?void 0:k.winRate)==null?void 0:C.toFixed(1))||0,"% está acima da média"]})]}),s.jsxs("li",{className:"flex items-start space-x-2",children:[s.jsx("span",{className:"text-green-500 mt-1",children:"✓"}),s.jsxs("span",{children:["Ciclo de vendas de ",((O=I==null?void 0:I.performanceMetrics)==null?void 0:O.avgSalesCycle)||0," dias é eficiente"]})]}),s.jsxs("li",{className:"flex items-start space-x-2",children:[s.jsx("span",{className:"text-green-500 mt-1",children:"✓"}),s.jsxs("span",{children:["Pipeline saudável com R$ ",((P=(T=I==null?void 0:I.performanceMetrics)==null?void 0:T.totalPipelineValue)==null?void 0:P.toLocaleString("pt-BR"))||0," em oportunidades"]})]})]})]}),s.jsxs("div",{className:"p-4 bg-gradient-to-r from-orange-50 to-red-50 rounded-lg border border-orange-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.jsx(ai,{className:"h-4 w-4 text-orange-600"}),s.jsx("span",{className:"font-medium text-orange-800",children:"Oportunidades"})]}),s.jsxs("ul",{className:"space-y-2 text-sm text-orange-700",children:[s.jsxs("li",{className:"flex items-start space-x-2",children:[s.jsx("span",{className:"text-orange-500 mt-1",children:"⚡"}),s.jsxs("span",{children:["Melhore conversão de leads para contatados: ",((((S=I==null?void 0:I.conversionMetrics)==null?void 0:S.leadToContacted)||0)*100).toFixed(1),"%"]})]}),s.jsxs("li",{className:"flex items-start space-x-2",children:[s.jsx("span",{className:"text-orange-500 mt-1",children:"⚡"}),s.jsx("span",{children:"Acelere qualificação de prospects contactados"})]}),s.jsxs("li",{className:"flex items-start space-x-2",children:[s.jsx("span",{className:"text-orange-500 mt-1",children:"⚡"}),s.jsx("span",{children:"Foque em oportunidades de maior valor para aumentar ticket médio"})]})]})]})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-center",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(X,{variant:"outline",size:"sm",children:[s.jsx(py,{className:"h-4 w-4 mr-2"}),"Agendar Relatório"]}),s.jsxs(X,{variant:"outline",size:"sm",children:[s.jsx(Br,{className:"h-4 w-4 mr-2"}),"Configurar Alertas"]})]}),s.jsxs(X,{className:"bg-gradient-to-r from-primary to-primary-glow",children:[s.jsx(Fi,{className:"h-4 w-4 mr-2"}),"Exportar Relatório Completo"]})]})]})})]})]})}),s.jsx(Fq,{open:U,onOpenChange:L,prospect:z,onSuccess:ce})]})}function QMe(){var e,t;const{currentOrg:r}=bn(),{permissions:n}=kl();Pf();const[a,i]=g.useState("members"),[o,l]=g.useState(""),[c,u]=g.useState("all"),[d,f]=g.useState(!1),[h,m]=g.useState(!1),[v,p]=g.useState(null),[b,x]=g.useState({email:"",role:"viewer"}),{data:y,isLoading:w,refetch:j}=bt({queryKey:["organization-members",r==null?void 0:r.id],queryFn:async()=>{if(!r)return[];const{data:D,error:F}=await le.from("members").select(`
          *,
          profiles (
            id,
            email,
            full_name,
            avatar_url,
            phone,
            created_at,
            last_sign_in_at
          )
        `).eq("org_id",r.id).order("created_at",{ascending:!1});if(F)throw F;return D||[]},enabled:!!(r!=null&&r.id)}),{data:N,isLoading:_,refetch:k}=bt({queryKey:["organization-invites",r==null?void 0:r.id],queryFn:async()=>r?[{id:"1",email:"novo.gerente@empresa.com",role:"manager",status:"pending",invited_by:"admin@empresa.com",invited_at:new Date(Date.now()-2*24*60*60*1e3).toISOString(),expires_at:new Date(Date.now()+5*24*60*60*1e3).toISOString()},{id:"2",email:"atendente@empresa.com",role:"agent",status:"pending",invited_by:"admin@empresa.com",invited_at:new Date(Date.now()-1*24*60*60*1e3).toISOString(),expires_at:new Date(Date.now()+6*24*60*60*1e3).toISOString()}]:[],enabled:!!(r!=null&&r.id)}),{data:C,isLoading:O}=bt({queryKey:["user-activity-logs",r==null?void 0:r.id],queryFn:async()=>r?[{id:"1",user_email:"admin@empresa.com",action:"Alterou role de usuário",target_user:"gerente@empresa.com",details:"Role alterado de 'agent' para 'manager'",timestamp:new Date(Date.now()-2*60*60*1e3).toISOString()},{id:"2",user_email:"manager@empresa.com",action:"Convidou novo usuário",target_user:"novo@empresa.com",details:"Convite enviado para role 'agent'",timestamp:new Date(Date.now()-4*60*60*1e3).toISOString()},{id:"3",user_email:"agent@empresa.com",action:"Fez login no sistema",target_user:null,details:"Login realizado às 09:30",timestamp:new Date(Date.now()-6*60*60*1e3).toISOString()}]:[],enabled:!!(r!=null&&r.id)}),T=ua({mutationFn:async({memberId:D,newRole:F})=>{const{error:J}=await le.from("members").update({role:F,updated_at:new Date().toISOString()}).eq("id",D);if(J)throw J},onSuccess:()=>{ae.success("Role do usuário atualizado com sucesso!"),j(),m(!1),p(null)},onError:D=>{ae.error("Erro ao atualizar role: "+D.message)}}),P=ua({mutationFn:async D=>{const{error:F}=await le.from("members").delete().eq("id",D);if(F)throw F},onSuccess:()=>{ae.success("Usuário removido da organização!"),j()},onError:D=>{ae.error("Erro ao remover usuário: "+D.message)}}),S=ua({mutationFn:async D=>{await new Promise(F=>setTimeout(F,1e3)),console.log("Convite enviado:",D)},onSuccess:()=>{ae.success("Convite enviado com sucesso!"),x({email:"",role:"viewer"}),f(!1),k()},onError:D=>{ae.error("Erro ao enviar convite: "+D.message)}}),M=D=>{switch(D){case"admin":return Ec;case"manager":return ni;case"agent":return fl;case"viewer":return ul;default:return ir}},$=D=>{switch(D){case"admin":return"bg-red-500 text-white";case"manager":return"bg-blue-500 text-white";case"agent":return"bg-green-500 text-white";case"viewer":return"bg-gray-500 text-white";default:return"bg-gray-200 text-gray-700"}},q=D=>{switch(D){case"admin":return"Administrador";case"manager":return"Gerente";case"agent":return"Atendente";case"viewer":return"Visualizador";default:return D}},U=(y==null?void 0:y.filter(D=>{var F,J,H;const I=((F=D.profiles)==null?void 0:F.email.toLowerCase().includes(o.toLowerCase()))||((H=(J=D.profiles)==null?void 0:J.full_name)==null?void 0:H.toLowerCase().includes(o.toLowerCase())),oe=c==="all"||D.role===c;return I&&oe}))||[],L=D=>{p(D),m(!0)},z=()=>{var D;if(!v)return;const F=(D=document.getElementById("edit-role"))==null?void 0:D.value;F&&F!==v.role&&T.mutate({memberId:v.id,newRole:F})},R=D=>{confirm("Tem certeza que deseja remover este usuário da organização?")&&P.mutate(D)},G=()=>{if(!b.email||!b.role){ae.error("Preencha todos os campos obrigatórios");return}S.mutate(b)};return n.canManageUsers?s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:s.jsx("div",{className:"flex h-16 items-center px-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ir,{className:"h-5 w-5 text-muted-foreground"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Gestão de Usuários"})]})})}),s.jsxs("div",{className:"flex-1 space-y-6 p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs(ie,{children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Total de Usuários"}),s.jsx(ir,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-2xl font-bold",children:(y==null?void 0:y.length)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"membros ativos"})]})]}),s.jsxs(ie,{children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Administradores"}),s.jsx(Ec,{className:"h-4 w-4 text-red-500"})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:(y==null?void 0:y.filter(D=>D.role==="admin").length)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"acesso total"})]})]}),s.jsxs(ie,{children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Gerentes"}),s.jsx(ni,{className:"h-4 w-4 text-blue-500"})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:(y==null?void 0:y.filter(D=>D.role==="manager").length)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"gestão operacional"})]})]}),s.jsxs(ie,{children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Atendentes"}),s.jsx(fl,{className:"h-4 w-4 text-green-500"})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:(y==null?void 0:y.filter(D=>D.role==="agent").length)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"atendimento"})]})]})]}),s.jsxs(Na,{value:a,onValueChange:i,className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Jn,{children:[s.jsx(et,{value:"members",children:"Membros"}),s.jsx(et,{value:"invites",children:"Convites"}),s.jsx(et,{value:"logs",children:"Logs de Atividade"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(X,{variant:"outline",asChild:!0,children:s.jsxs("a",{href:"/settings?tab=permissions",children:[s.jsx(Br,{className:"h-4 w-4 mr-2"}),"Configurar Permissões"]})}),s.jsxs(X,{onClick:()=>f(!0),children:[s.jsx(BX,{className:"h-4 w-4 mr-2"}),"Convidar Usuário"]})]})]}),s.jsxs(dt,{value:"members",className:"space-y-4",children:[s.jsxs(ie,{children:[s.jsx(me,{children:s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(Rk,{className:"h-5 w-5"}),"Filtros"]})}),s.jsx(ue,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Buscar"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ba,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Be,{placeholder:"Buscar por nome ou email...",value:o,onChange:D=>l(D.target.value),className:"pl-10"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Filtrar por Role"}),s.jsxs(ot,{value:c,onValueChange:u,children:[s.jsx(nt,{children:s.jsx(lt,{})}),s.jsxs(at,{children:[s.jsx(re,{value:"all",children:"Todos os roles"}),s.jsx(re,{value:"admin",children:"Administradores"}),s.jsx(re,{value:"manager",children:"Gerentes"}),s.jsx(re,{value:"agent",children:"Atendentes"}),s.jsx(re,{value:"viewer",children:"Visualizadores"})]})]})]})]})})]}),s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsx(pe,{children:"Membros da Organização"}),s.jsx(Ie,{children:"Gerencie usuários e suas permissões"})]}),s.jsx(ue,{children:w?s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx(Xn,{className:"h-4 w-4 animate-spin mr-2"}),s.jsx("span",{children:"Carregando membros..."})]}):U.length>0?s.jsx("div",{className:"space-y-3",children:U.map(D=>{var F,J,H,I,oe,V,de,te,ce;const ne=M(D.role);return s.jsxs("div",{className:"flex items-center space-x-4 p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsxs(bs,{className:"h-10 w-10",children:[s.jsx(ws,{src:(F=D.profiles)==null?void 0:F.avatar_url}),s.jsx(js,{children:((H=(J=D.profiles)==null?void 0:J.full_name)==null?void 0:H.split(" ").map(ee=>ee[0]).join(""))||((oe=(I=D.profiles)==null?void 0:I.email)==null?void 0:oe.split("@")[0].substring(0,2).toUpperCase())||"U"})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-medium truncate",children:((V=D.profiles)==null?void 0:V.full_name)||"Nome não informado"}),s.jsx("p",{className:"text-sm text-muted-foreground truncate",children:(de=D.profiles)==null?void 0:de.email}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsxs(De,{className:$(D.role),children:[s.jsx(ne,{className:"h-3 w-3 mr-1"}),q(D.role)]}),((te=D.profiles)==null?void 0:te.phone)&&s.jsx("span",{className:"text-xs text-muted-foreground",children:D.profiles.phone})]})]}),s.jsxs("div",{className:"text-right text-sm text-muted-foreground",children:[s.jsx("div",{children:"Membro desde"}),s.jsx("div",{children:pa(new Date(D.created_at),"dd/MM/yyyy",{locale:Zo})}),((ce=D.profiles)==null?void 0:ce.last_sign_in_at)&&s.jsxs("div",{className:"text-xs mt-1",children:["Último login: ",pa(new Date(D.profiles.last_sign_in_at),"dd/MM HH:mm")]})]}),s.jsxs(iC,{children:[s.jsx(oC,{asChild:!0,children:s.jsx(X,{variant:"ghost",size:"sm",children:s.jsx(Mk,{className:"h-4 w-4"})})}),s.jsxs(D0,{align:"end",children:[s.jsxs(ps,{onClick:()=>L(D),children:[s.jsx(dl,{className:"h-4 w-4 mr-2"}),"Editar Role"]}),s.jsxs(ps,{onClick:()=>R(D.id),className:"text-red-600",children:[s.jsx(no,{className:"h-4 w-4 mr-2"}),"Remover"]})]})]})]},D.id)})}):s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(ir,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Nenhum membro encontrado"}),s.jsx("p",{className:"text-sm mt-1",children:"Tente ajustar os filtros de busca"})]})})]})]}),s.jsx(dt,{value:"invites",className:"space-y-4",children:s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsx(pe,{children:"Convites Pendentes"}),s.jsx(Ie,{children:"Convites enviados aguardando aceitação"})]}),s.jsx(ue,{children:_?s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx(Xn,{className:"h-4 w-4 animate-spin mr-2"}),s.jsx("span",{children:"Carregando convites..."})]}):N&&N.length>0?s.jsx("div",{className:"space-y-3",children:N.map(D=>{const F=M(D.role),J=new Date(D.expires_at)<new Date;return s.jsxs("div",{className:"flex items-center space-x-4 p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:"font-medium",children:D.email}),s.jsx(De,{variant:J?"destructive":"secondary",children:J?"Expirado":"Pendente"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(F,{className:"h-3 w-3"}),s.jsxs("span",{children:["Role: ",q(D.role)]}),s.jsx("span",{children:"•"}),s.jsxs("span",{children:["Enviado em ",pa(new Date(D.invited_at),"dd/MM/yyyy HH:mm")]}),s.jsx("span",{children:"•"}),s.jsxs("span",{children:["Expira em ",pa(new Date(D.expires_at),"dd/MM/yyyy")]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(X,{size:"sm",variant:"outline",children:"Reenviar"}),s.jsx(X,{size:"sm",variant:"destructive",children:"Cancelar"})]})]},D.id)})}):s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Ad,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Nenhum convite pendente"}),s.jsx("p",{className:"text-sm mt-1",children:"Todos os convites foram aceitos ou expiraram"})]})})]})}),s.jsx(dt,{value:"logs",className:"space-y-4",children:s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsx(pe,{children:"Logs de Atividade"}),s.jsx(Ie,{children:"Histórico de ações realizadas pelos usuários"})]}),s.jsx(ue,{children:O?s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx(Xn,{className:"h-4 w-4 animate-spin mr-2"}),s.jsx("span",{children:"Carregando logs..."})]}):C&&C.length>0?s.jsx(tl,{className:"h-96",children:s.jsx("div",{className:"space-y-3",children:C.map(D=>s.jsxs("div",{className:"flex items-start space-x-3 p-3 border rounded-lg",children:[s.jsx(ri,{className:"h-4 w-4 text-blue-500 mt-1"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"font-medium",children:D.user_email}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"•"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:pa(new Date(D.timestamp),"dd/MM/yyyy HH:mm")})]}),s.jsx("p",{className:"text-sm font-medium",children:D.action}),D.target_user&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Usuário: ",D.target_user]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:D.details})]})]},D.id))})}):s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(NX,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Nenhum log de atividade encontrado"}),s.jsx("p",{className:"text-sm mt-1",children:"Os logs aparecerão conforme as ações forem realizadas"})]})})]})})]}),s.jsx(Xt,{open:d,onOpenChange:f,children:s.jsxs(Ut,{children:[s.jsxs(Jt,{children:[s.jsx(er,{children:"Convidar Novo Usuário"}),s.jsx(or,{children:"Envie um convite para um novo usuário se juntar à organização"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"invite-email",children:"Email do Usuário"}),s.jsx(Be,{id:"invite-email",type:"email",placeholder:"usuario@empresa.com",value:b.email,onChange:D=>x({...b,email:D.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"invite-role",children:"Role"}),s.jsxs(ot,{value:b.role,onValueChange:D=>x({...b,role:D}),children:[s.jsx(nt,{children:s.jsx(lt,{})}),s.jsxs(at,{children:[s.jsx(re,{value:"viewer",children:"Visualizador - Apenas visualização"}),s.jsx(re,{value:"agent",children:"Atendente - Atendimento ao cliente"}),s.jsx(re,{value:"manager",children:"Gerente - Gestão operacional"}),s.jsx(re,{value:"admin",children:"Administrador - Acesso total"})]})]})]})]}),s.jsxs(gn,{children:[s.jsx(X,{variant:"outline",onClick:()=>f(!1),children:"Cancelar"}),s.jsx(X,{onClick:G,disabled:S.isPending,children:S.isPending?"Enviando...":"Enviar Convite"})]})]})}),s.jsx(Xt,{open:h,onOpenChange:m,children:s.jsxs(Ut,{children:[s.jsxs(Jt,{children:[s.jsx(er,{children:"Editar Role do Usuário"}),s.jsx(or,{children:"Alterar o nível de acesso do usuário"})]}),v&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[s.jsx("h4",{className:"font-medium",children:((e=v.profiles)==null?void 0:e.full_name)||"Nome não informado"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(t=v.profiles)==null?void 0:t.email})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"edit-role",children:"Novo Role"}),s.jsxs(ot,{defaultValue:v.role,children:[s.jsx(nt,{children:s.jsx(lt,{})}),s.jsxs(at,{children:[s.jsx(re,{value:"viewer",children:"Visualizador - Apenas visualização"}),s.jsx(re,{value:"agent",children:"Atendente - Atendimento ao cliente"}),s.jsx(re,{value:"manager",children:"Gerente - Gestão operacional"}),s.jsx(re,{value:"admin",children:"Administrador - Acesso total"})]})]})]})]}),s.jsxs(gn,{children:[s.jsx(X,{variant:"outline",onClick:()=>m(!1),children:"Cancelar"}),s.jsx(X,{onClick:z,disabled:T.isPending,children:T.isPending?"Salvando...":"Salvar Alterações"})]})]})})]})]}):s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsxs(ie,{className:"w-full max-w-md",children:[s.jsxs(me,{className:"text-center",children:[s.jsx(r6,{className:"h-12 w-12 mx-auto text-orange-500 mb-4"}),s.jsx(pe,{children:"Acesso Negado"}),s.jsx(Ie,{children:"Você não tem permissão para gerenciar usuários."})]}),s.jsxs(ue,{className:"text-center",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Apenas administradores podem gerenciar usuários da organização."}),s.jsx(X,{variant:"outline",onClick:()=>window.history.back(),children:"Voltar"})]})]})})}const ZMe={admin:[{label:"Gestão de Atendentes",description:"Criar, editar e excluir atendentes",category:"Gestão"},{label:"Gestão de Campanhas",description:"Criar, editar e excluir campanhas",category:"Marketing"},{label:"Gestão de CRM",description:"Gerenciar pipeline e prospects",category:"Vendas"},{label:"Gestão de Contatos",description:"Gerenciar base de contatos",category:"Contatos"},{label:"Gestão de Integrações",description:"Conectar canais e webhooks",category:"Integrações"},{label:"Configurações do Sistema",description:"Acessar configurações críticas",category:"Sistema"},{label:"Gestão de Usuários",description:"Gerenciar usuários e permissões",category:"Sistema"},{label:"Gestão de Faturamento",description:"Acessar informações de cobrança",category:"Sistema"},{label:"Relatórios Avançados",description:"Visualizar e exportar relatórios",category:"Analytics"},{label:"Agentes IA",description:"Configurar e gerenciar IA",category:"IA"}],manager:[{label:"Gestão de Atendentes",description:"Criar e editar atendentes",category:"Gestão"},{label:"Gestão de Campanhas",description:"Criar, editar e excluir campanhas",category:"Marketing"},{label:"Gestão de CRM",description:"Gerenciar pipeline e prospects",category:"Vendas"},{label:"Gestão de Contatos",description:"Gerenciar base de contatos",category:"Contatos"},{label:"Conectar Canais",description:"Conectar novos canais",category:"Integrações"},{label:"Relatórios Avançados",description:"Visualizar e exportar relatórios",category:"Analytics"},{label:"Agentes IA",description:"Configurar e gerenciar IA",category:"IA"}],agent:[{label:"Criar Contatos",description:"Adicionar novos contatos",category:"Contatos"},{label:"Editar Contatos",description:"Modificar informações de contatos",category:"Contatos"},{label:"Criar Prospects",description:"Adicionar novos prospects",category:"Vendas"},{label:"Editar Prospects",description:"Modificar informações de prospects",category:"Vendas"},{label:"Relatórios Básicos",description:"Visualizar relatórios pessoais",category:"Analytics"}],viewer:[{label:"Visualizar Relatórios",description:"Apenas visualização de dados",category:"Analytics"},{label:"Visualizar Métricas",description:"Ver métricas de atendentes",category:"Gestão"},{label:"Visualizar Campanhas",description:"Ver campanhas existentes",category:"Marketing"},{label:"Visualizar CRM",description:"Ver pipeline e prospects",category:"Vendas"}]},XMe=[{id:"Gestão",label:"Gestão",color:"bg-blue-100 text-blue-800"},{id:"Marketing",label:"Marketing",color:"bg-purple-100 text-purple-800"},{id:"Vendas",label:"Vendas",color:"bg-green-100 text-green-800"},{id:"Contatos",label:"Contatos",color:"bg-orange-100 text-orange-800"},{id:"Integrações",label:"Integrações",color:"bg-cyan-100 text-cyan-800"},{id:"Sistema",label:"Sistema",color:"bg-red-100 text-red-800"},{id:"Analytics",label:"Analytics",color:"bg-indigo-100 text-indigo-800"},{id:"IA",label:"IA",color:"bg-pink-100 text-pink-800"}];function JMe({onSave:e,readOnly:t=!1}){const[r,n]=g.useState("admin"),[a,i]=g.useState({}),[o,l]=g.useState(!1),c={admin:{icon:Ec,color:"text-red-600",label:"Administrador"},manager:{icon:ni,color:"text-blue-600",label:"Gerente"},agent:{icon:fl,color:"text-green-600",label:"Atendente"},viewer:{icon:ul,color:"text-gray-600",label:"Visualizador"}},u=(m,v)=>{t||(i(p=>({...p,[m]:v})),l(!0))},d=()=>{e&&(e(a),l(!1))},f=()=>{i({}),l(!1)},h=m=>{const v=(ZMe[m]||[]).reduce((p,b)=>(p[b.category]||(p[b.category]=[]),p[b.category].push(b),p),{});return XMe.map(p=>({...p,permissions:v[p.id]||[]})).filter(p=>p.permissions.length>0)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(Br,{className:"h-5 w-5"}),"Configuração de Permissões"]}),s.jsx(Ie,{children:"Configure as permissões específicas para cada nível de usuário"})]}),s.jsx(ue,{children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries(c).map(([m,v])=>{const p=v.icon;return s.jsxs(X,{variant:r===m?"default":"outline",onClick:()=>n(m),className:"flex flex-col items-center gap-2 h-auto p-4",children:[s.jsx(p,{className:`h-5 w-5 ${v.color}`}),s.jsx("span",{className:"text-sm",children:v.label})]},m)})})})]}),s.jsxs(ie,{children:[s.jsx(me,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[E.createElement(c[r].icon,{className:`h-5 w-5 ${c[r].color}`}),"Permissões - ",c[r].label]}),s.jsx(Ie,{children:"Configure as permissões específicas para este nível de usuário"})]}),!t&&o&&s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(X,{variant:"outline",size:"sm",onClick:f,children:[s.jsx(n6,{className:"h-4 w-4 mr-2"}),"Desfazer"]}),s.jsxs(X,{size:"sm",onClick:d,children:[s.jsx(Im,{className:"h-4 w-4 mr-2"}),"Salvar"]})]})]})}),s.jsx(ue,{children:s.jsx(tl,{className:"h-96",children:s.jsxs("div",{className:"space-y-6",children:[h(r).map(m=>s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(De,{className:m.color,children:m.label}),s.jsx(xr,{className:"flex-1"})]}),s.jsx("div",{className:"grid gap-3",children:m.permissions.map((v,p)=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(fe,{className:"font-medium",children:v.label}),a[`${r}-${v.label}`]&&s.jsx(ks,{className:"h-4 w-4 text-green-500"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:v.description})]}),s.jsx(za,{checked:a[`${r}-${v.label}`]||!1,onCheckedChange:b=>u(`${r}-${v.label}`,b),disabled:t})]},`${m.id}-${p}`))})]},m.id)),h(r).length===0&&s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(vy,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Nenhuma permissão configurada para este role"}),s.jsx("p",{className:"text-sm mt-1",children:"Use as permissões padrão ou configure permissões personalizadas"})]})]})})})]}),s.jsxs(ie,{children:[s.jsx(me,{children:s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(t6,{className:"h-5 w-5"}),"Informações Importantes"]})}),s.jsx(ue,{children:s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(vy,{className:"h-4 w-4 text-orange-500 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Alterações em Tempo Real"}),s.jsx("p",{className:"text-muted-foreground",children:"As alterações de permissões são aplicadas imediatamente aos usuários."})]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(ks,{className:"h-4 w-4 text-green-500 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Permissões Hierárquicas"}),s.jsx("p",{className:"text-muted-foreground",children:"Administradores sempre mantêm acesso total, independente das configurações."})]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Br,{className:"h-4 w-4 text-blue-500 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Configuração Personalizada"}),s.jsx("p",{className:"text-muted-foreground",children:"Você pode criar configurações específicas para cada organização."})]})]})]})})]})]})}function e4e(){const{currentOrg:e}=bn(),{permissions:t}=kl(),[r,n]=g.useState("matrix"),{data:a,isLoading:i}=bt({queryKey:["organization-permissions",e==null?void 0:e.id],queryFn:async()=>e?{customPermissions:{"manager-can-delete-attendants":!1,"agent-can-export-data":!1,"viewer-can-see-billing":!1},auditLog:[{id:"1",action:"Alterou permissão de Manager",details:"Permissão 'canDeleteAttendants' alterada para false",user:"admin@empresa.com",timestamp:new Date(Date.now()-2*60*60*1e3).toISOString()},{id:"2",action:"Criou role personalizado",details:"Novo role 'supervisor' criado com permissões específicas",user:"admin@empresa.com",timestamp:new Date(Date.now()-4*60*60*1e3).toISOString()}]}:null,enabled:!!(e!=null&&e.id)}),o=async l=>{try{await new Promise(c=>setTimeout(c,1e3)),ae.success("Permissões salvas com sucesso!"),console.log("Permissões salvas:",l)}catch{ae.error("Erro ao salvar permissões")}};return t.canManageUsers?s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:s.jsx("div",{className:"flex h-16 items-center px-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Br,{className:"h-5 w-5 text-muted-foreground"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Configurações de Permissões"})]})})}),s.jsxs("div",{className:"flex-1 space-y-6 p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs(ie,{children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Administradores"}),s.jsx(Ec,{className:"h-4 w-4 text-red-500"})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:"Acesso Total"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Todas as funcionalidades"})]})]}),s.jsxs(ie,{children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Gerentes"}),s.jsx(ni,{className:"h-4 w-4 text-blue-500"})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"Gestão"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Operacional + Analytics"})]})]}),s.jsxs(ie,{children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Atendentes"}),s.jsx(fl,{className:"h-4 w-4 text-green-500"})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:"Operacional"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Atendimento + Básico"})]})]}),s.jsxs(ie,{children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Visualizadores"}),s.jsx(ul,{className:"h-4 w-4 text-gray-500"})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-2xl font-bold text-gray-600",children:"Somente Leitura"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Relatórios + Visualização"})]})]})]}),s.jsxs(Na,{value:r,onValueChange:n,className:"space-y-4",children:[s.jsxs(Jn,{children:[s.jsx(et,{value:"matrix",children:"Matriz de Permissões"}),s.jsx(et,{value:"custom",children:"Permissões Personalizadas"}),s.jsx(et,{value:"audit",children:"Log de Auditoria"})]}),s.jsx(dt,{value:"matrix",className:"space-y-4",children:s.jsx(JMe,{onSave:o})}),s.jsx(dt,{value:"custom",className:"space-y-4",children:s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(Br,{className:"h-5 w-5"}),"Permissões Personalizadas"]}),s.jsx(Ie,{children:"Configure permissões específicas além das configurações padrão"})]}),s.jsx(ue,{children:i?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"Gerentes podem excluir atendentes"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Permitir que gerentes excluam atendentes da organização"})]}),s.jsx(De,{variant:"secondary",children:"Desabilitado"})]}),s.jsx(X,{size:"sm",variant:"outline",children:"Alterar"})]}),s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"Atendentes podem exportar dados"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Permitir que atendentes exportem relatórios e dados"})]}),s.jsx(De,{variant:"secondary",children:"Desabilitado"})]}),s.jsx(X,{size:"sm",variant:"outline",children:"Alterar"})]}),s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"Visualizadores podem ver faturamento"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Permitir que visualizadores vejam informações de cobrança"})]}),s.jsx(De,{variant:"secondary",children:"Desabilitado"})]}),s.jsx(X,{size:"sm",variant:"outline",children:"Alterar"})]}),s.jsx("div",{className:"flex items-center justify-center py-8 border-2 border-dashed rounded-lg",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Br,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhuma permissão personalizada ativa"}),s.jsx(X,{variant:"outline",size:"sm",className:"mt-2",children:"Adicionar Permissão"})]})})]})})]})}),s.jsx(dt,{value:"audit",className:"space-y-4",children:s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(ri,{className:"h-5 w-5"}),"Log de Auditoria"]}),s.jsx(Ie,{children:"Histórico de alterações nas configurações de permissões"})]}),s.jsx(ue,{children:i?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):a!=null&&a.auditLog&&a.auditLog.length>0?s.jsx("div",{className:"space-y-3",children:a.auditLog.map(l=>s.jsxs("div",{className:"flex items-start space-x-3 p-3 border rounded-lg",children:[s.jsx(ri,{className:"h-4 w-4 text-blue-500 mt-1"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"font-medium",children:l.user}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"•"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(l.timestamp).toLocaleString("pt-BR")})]}),s.jsx("p",{className:"text-sm font-medium",children:l.action}),s.jsx("p",{className:"text-sm text-muted-foreground",children:l.details})]})]},l.id))}):s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(ri,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Nenhum log de auditoria encontrado"}),s.jsx("p",{className:"text-sm mt-1",children:"Os logs aparecerão conforme as configurações forem alteradas"})]})})]})})]}),s.jsxs(ie,{className:"border-orange-200 bg-orange-50",children:[s.jsx(me,{children:s.jsxs(pe,{className:"flex items-center gap-2 text-orange-800",children:[s.jsx(vy,{className:"h-5 w-5"}),"Informações Importantes"]})}),s.jsx(ue,{children:s.jsxs("div",{className:"space-y-3 text-sm text-orange-700",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(t6,{className:"h-4 w-4 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Alterações Imediatas"}),s.jsx("p",{children:"As alterações de permissões são aplicadas imediatamente a todos os usuários."})]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(ks,{className:"h-4 w-4 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Backup Automático"}),s.jsx("p",{children:"O sistema mantém backup das configurações anteriores para rollback."})]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(ni,{className:"h-4 w-4 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Segurança"}),s.jsx("p",{children:"Todas as alterações são registradas no log de auditoria para compliance."})]})]})]})})]})]})]}):s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsxs(ie,{className:"w-full max-w-md",children:[s.jsxs(me,{className:"text-center",children:[s.jsx(ni,{className:"h-12 w-12 mx-auto text-orange-500 mb-4"}),s.jsx(pe,{children:"Acesso Negado"}),s.jsx(Ie,{children:"Você não tem permissão para configurar permissões."})]}),s.jsxs(ue,{className:"text-center",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Apenas administradores podem configurar permissões do sistema."}),s.jsx(X,{variant:"outline",onClick:()=>window.history.back(),children:"Voltar"})]})]})})}function t4e(){var e,t;const[r,n]=g.useState(!0),[a,i]=g.useState(!0),[o,l]=g.useState(!1),[c,u]=g.useState(!1),[d]=Pte(),[f,h]=g.useState("profile"),{clearRememberMe:m,isRemembered:v}=Vk(),{currentOrg:p,organizations:b}=bn(),{permissions:x}=kl(),[y,w]=g.useState({full_name:"",avatar_url:""}),{data:j,isLoading:N,refetch:_}=bt({queryKey:["user-profile"],queryFn:async()=>{var S,M,$;const{data:{user:q}}=await le.auth.getUser();if(!q)throw new Error("Usuário não autenticado");try{const{data:U,error:L}=await le.from("profiles").select("*").eq("id",q.id).single();if(!L&&U)return{type:"profile",data:U,user:q}}catch{console.log("Tabela profiles não disponível, usando user metadata")}return{type:"user",data:{id:q.id,full_name:((S=q.user_metadata)==null?void 0:S.full_name)||((M=q.email)==null?void 0:M.split("@")[0])||"",avatar_url:(($=q.user_metadata)==null?void 0:$.avatar_url)||""},user:q}}});g.useEffect(()=>{j&&w({full_name:j.data.full_name||"",avatar_url:j.data.avatar_url||""})},[j]),g.useEffect(()=>{const S=d.get("tab");S&&["profile","organization","notifications","users","permissions"].includes(S)&&((S==="users"||S==="permissions")&&!x.canManageUsers?h("profile"):h(S))},[d,x.canManageUsers]);const k=async()=>{u(!0);try{const{data:{user:S}}=await le.auth.getUser();if(!S){Nn({title:"Erro",description:"Usuário não autenticado"});return}if((j==null?void 0:j.type)==="profile")try{const{error:$}=await le.from("profiles").update({full_name:y.full_name,avatar_url:y.avatar_url}).eq("id",S.id);if(!$){Nn({title:"Sucesso",description:"Configurações salvas com sucesso!"}),_();return}}catch{console.log("Erro ao salvar na tabela profiles, tentando user metadata")}const{error:M}=await le.auth.updateUser({data:{full_name:y.full_name,avatar_url:y.avatar_url}});if(M)throw M;Nn({title:"Sucesso",description:"Configurações salvas com sucesso!"}),_()}catch(S){console.error("Erro ao salvar configurações:",S),Nn({title:"Erro",description:"Erro ao salvar configurações. Tente novamente."})}finally{u(!1)}},C=()=>{m(),Nn({title:"Sucesso",description:"Configuração 'Permanecer logado' removida. Você precisará fazer login novamente na próxima vez."})},O=S=>{switch(S){case"admin":return s.jsx(Ec,{className:"h-4 w-4 text-yellow-500"});case"member":return s.jsx(fl,{className:"h-4 w-4 text-blue-500"});case"viewer":return s.jsx(ul,{className:"h-4 w-4 text-gray-500"});default:return s.jsx(Bi,{className:"h-4 w-4 text-gray-500"})}},T=S=>{switch(S){case"admin":return"default";case"member":return"secondary";case"viewer":return"outline";default:return"secondary"}},P=S=>{switch(S){case"admin":return"Administrador";case"member":return"Membro";case"viewer":return"Visualizador";default:return S}};return s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:s.jsx("div",{className:"flex h-16 items-center px-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Br,{className:"h-5 w-5 text-muted-foreground"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Sistema"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"/"}),s.jsx("span",{className:"text-sm font-medium",children:"Configurações"})]})})}),s.jsx("div",{className:"flex-1 overflow-auto",children:s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Configurações"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Gerencie suas preferências e configurações da conta"})]})}),s.jsxs(Na,{value:f,onValueChange:h,className:"space-y-4",children:[s.jsxs(Jn,{className:`grid w-full ${x.canManageUsers?"grid-cols-5":"grid-cols-3"}`,children:[s.jsxs(et,{value:"profile",className:"flex items-center space-x-2",children:[s.jsx(Bi,{className:"h-4 w-4"}),s.jsx("span",{children:"Perfil"})]}),s.jsxs(et,{value:"organization",className:"flex items-center space-x-2",children:[s.jsx(nr,{className:"h-4 w-4"}),s.jsx("span",{children:"Organização"})]}),s.jsxs(et,{value:"notifications",className:"flex items-center space-x-2",children:[s.jsx(Od,{className:"h-4 w-4"}),s.jsx("span",{children:"Notificações"})]}),x.canManageUsers&&s.jsxs(s.Fragment,{children:[s.jsxs(et,{value:"users",className:"flex items-center space-x-2",children:[s.jsx(FX,{className:"h-4 w-4"}),s.jsx("span",{children:"Usuários"})]}),s.jsxs(et,{value:"permissions",className:"flex items-center space-x-2",children:[s.jsx(SX,{className:"h-4 w-4"}),s.jsx("span",{children:"Permissões"})]})]})]}),s.jsx(dt,{value:"profile",className:"space-y-4",children:N?s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsx(gt,{className:"h-8 w-8 animate-spin text-primary"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(Bi,{className:"h-5 w-5"}),"Informações do Perfil"]}),s.jsx(Ie,{children:"Atualize suas informações pessoais e foto de perfil"})]}),s.jsxs(ue,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(bs,{className:"h-20 w-20",children:[s.jsx(ws,{src:y.avatar_url}),s.jsx(js,{className:"text-lg",children:y.full_name?y.full_name.split(" ").map(S=>S[0]).join("").toUpperCase():"U"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("h3",{className:"text-lg font-medium",children:y.full_name||"Usuário"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(e=j==null?void 0:j.user)==null?void 0:e.email}),s.jsxs(X,{variant:"outline",size:"sm",children:[s.jsx(dl,{className:"h-4 w-4 mr-2"}),"Alterar Foto"]})]})]}),s.jsx(xr,{}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"full_name",children:"Nome Completo"}),s.jsx(Be,{id:"full_name",value:y.full_name,onChange:S=>w(M=>({...M,full_name:S.target.value})),placeholder:"Seu nome completo"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"email",children:"Email"}),s.jsx(Be,{id:"email",value:((t=j==null?void 0:j.user)==null?void 0:t.email)||"",disabled:!0,className:"bg-muted"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"O email não pode ser alterado"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"avatar_url",children:"URL da Foto"}),s.jsx(Be,{id:"avatar_url",value:y.avatar_url,onChange:S=>w(M=>({...M,avatar_url:S.target.value})),placeholder:"https://exemplo.com/foto.jpg"})]})]})]}),s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(ni,{className:"h-5 w-5"}),"Configurações de Sessão"]}),s.jsx(Ie,{children:"Gerencie suas preferências de login e segurança"})]}),s.jsxs(ue,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(fe,{htmlFor:"remember-me-status",children:"Permanecer Logado"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:v?"Você está configurado para permanecer logado neste dispositivo":"Você precisará fazer login a cada sessão"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${v?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}`,children:v?"Ativo":"Inativo"}),v&&s.jsx(X,{variant:"outline",size:"sm",onClick:C,children:"Desativar"})]})]}),s.jsx(xr,{}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Informações de Segurança"}),s.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[s.jsx("p",{children:"• Sua sessão é protegida por autenticação segura"}),s.jsx("p",{children:"• Os dados são criptografados durante a transmissão"}),s.jsx("p",{children:'• Você pode desativar "Permanecer logado" a qualquer momento'})]})]})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs(X,{onClick:k,disabled:c,className:"bg-gradient-to-r from-primary to-primary/80",children:[c?s.jsx(gt,{className:"mr-2 h-4 w-4 animate-spin"}):s.jsx(Im,{className:"mr-2 h-4 w-4"}),"Salvar Alterações"]})})]})}),s.jsx(dt,{value:"organization",className:"space-y-4",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(nr,{className:"h-5 w-5"}),"Organização Atual"]}),s.jsx(Ie,{children:"Informações sobre a organização selecionada"})]}),s.jsx(ue,{children:p?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"h-12 w-12 rounded-lg bg-gradient-to-br from-primary to-primary/60 flex items-center justify-center",children:s.jsx(nr,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold",children:p.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Slug: ",p.slug]}),p.plan&&s.jsxs(De,{variant:"outline",className:"mt-1",children:["Plano: ",p.plan]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[O(p.role),s.jsx(De,{variant:T(p.role),children:P(p.role)})]})]}),s.jsx(xr,{}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center p-4 rounded-lg bg-muted/50",children:[s.jsx(ir,{className:"h-6 w-6 mx-auto mb-2 text-primary"}),s.jsx("p",{className:"text-sm font-medium",children:"Membros"}),s.jsx("p",{className:"text-2xl font-bold",children:b.length})]}),s.jsxs("div",{className:"text-center p-4 rounded-lg bg-muted/50",children:[s.jsx(nr,{className:"h-6 w-6 mx-auto mb-2 text-primary"}),s.jsx("p",{className:"text-sm font-medium",children:"Status"}),s.jsx("p",{className:"text-sm font-medium text-green-600",children:"Ativa"})]}),s.jsxs("div",{className:"text-center p-4 rounded-lg bg-muted/50",children:[s.jsx(Ec,{className:"h-6 w-6 mx-auto mb-2 text-primary"}),s.jsx("p",{className:"text-sm font-medium",children:"Seu Cargo"}),s.jsx("p",{className:"text-sm font-medium",children:P(p.role)})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(X,{variant:"outline",size:"sm",children:[s.jsx(dl,{className:"h-4 w-4 mr-2"}),"Editar Organização"]}),s.jsxs(X,{variant:"outline",size:"sm",children:[s.jsx(ir,{className:"h-4 w-4 mr-2"}),"Gerenciar Membros"]})]})]}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(nr,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Nenhuma organização selecionada"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Selecione uma organização para ver as informações"}),s.jsxs(X,{children:[s.jsx(wr,{className:"h-4 w-4 mr-2"}),"Criar Organização"]})]})})]}),s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(ir,{className:"h-5 w-5"}),"Todas as Organizações"]}),s.jsx(Ie,{children:"Organizações das quais você faz parte"})]}),s.jsx(ue,{children:b.length>0?s.jsx("div",{className:"space-y-3",children:b.map(S=>s.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border transition-colors ${S.id===(p==null?void 0:p.id)?"border-primary bg-primary/5":"border-border hover:bg-muted/50"}`,children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`h-10 w-10 rounded-lg flex items-center justify-center ${S.id===(p==null?void 0:p.id)?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"}`,children:s.jsx(nr,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:S.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Slug: ",S.slug]}),S.plan&&s.jsx(De,{variant:"outline",className:"text-xs mt-1",children:S.plan})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[O(S.role),s.jsx(De,{variant:T(S.role),className:"text-xs",children:P(S.role)})]}),S.id===(p==null?void 0:p.id)&&s.jsx(De,{variant:"default",className:"text-xs",children:"Ativa"})]})]},S.id))}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(ir,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Nenhuma organização encontrada"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Você não faz parte de nenhuma organização ainda"}),s.jsxs(X,{children:[s.jsx(wr,{className:"h-4 w-4 mr-2"}),"Criar Primeira Organização"]})]})})]})]})}),s.jsx(dt,{value:"notifications",className:"space-y-4",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(Od,{className:"h-5 w-5"}),"Preferências de Notificação"]}),s.jsx(Ie,{children:"Configure como deseja receber notificações"})]}),s.jsxs(ue,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(fe,{htmlFor:"email-notifications",children:"Notificações por Email"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba atualizações sobre novas mensagens e atividades"})]}),s.jsx(za,{id:"email-notifications",checked:r,onCheckedChange:n})]}),s.jsx(xr,{}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(fe,{htmlFor:"push-notifications",children:"Notificações Push"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba notificações em tempo real no navegador"})]}),s.jsx(za,{id:"push-notifications",checked:a,onCheckedChange:i})]}),s.jsx(xr,{}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(fe,{htmlFor:"marketing-emails",children:"Emails de Marketing"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba novidades, dicas e atualizações do produto"})]}),s.jsx(za,{id:"marketing-emails",checked:o,onCheckedChange:l})]}),s.jsx(xr,{}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Configurações de Canal"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"h-8 w-8 rounded bg-green-100 flex items-center justify-center",children:s.jsx("span",{className:"text-green-600 text-sm",children:"💬"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"WhatsApp"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Mensagens e status"})]})]}),s.jsx(za,{defaultChecked:!0})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"h-8 w-8 rounded bg-pink-100 flex items-center justify-center",children:s.jsx("span",{className:"text-pink-600 text-sm",children:"📸"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Instagram"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Comentários e DMs"})]})]}),s.jsx(za,{defaultChecked:!0})]})]})]})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs(X,{onClick:()=>Nn({title:"Sucesso",description:"Configurações de notificação salvas!"}),className:"bg-gradient-to-r from-primary to-primary/80",children:[s.jsx(Im,{className:"mr-2 h-4 w-4"}),"Salvar Configurações"]})})]})}),x.canManageUsers&&s.jsx(dt,{value:"users",className:"space-y-4",children:s.jsx(QMe,{})}),x.canManageUsers&&s.jsx(dt,{value:"permissions",className:"space-y-4",children:s.jsx(e4e,{})})]})]})})]})}function r4e(){const[e,t]=g.useState([]),[r,n]=g.useState(""),[a,i]=g.useState(""),[o,l]=g.useState(""),[c,u]=g.useState(!1),[d,f]=g.useState(!1),h=async()=>{f(!0);try{const{data:b,error:x}=await le.from("ai_agents").select("id, name, type, status").eq("status","ativo").order("name");if(x)throw x;t(b||[]),b&&b.length>0&&!r&&n(b[0].id)}catch(b){console.error("Error loading agents:",b),ae.error("Erro ao carregar agentes")}finally{f(!1)}},m=async()=>{if(!r||!a.trim()){ae.error("Selecione um agente e digite uma mensagem");return}u(!0),l("");try{const{data:b,error:x}=await le.functions.invoke("ai-agent-chat",{body:{agentId:r,message:a.trim()}});if(x)throw x;if(b.error)throw new Error(b.error);l(b.response);const y=b.contextUsed?`Resposta gerada com contexto de ${b.historyMessages} mensagens anteriores!`:"Resposta gerada com sucesso!";ae.success(y)}catch(b){console.error("Error testing agent:",b);const x=b instanceof Error?b.message:"Erro ao testar agente";ae.error(x),l("❌ Erro ao gerar resposta. Verifique os logs.")}finally{u(!1)}},v=()=>{i(""),l("")},p={atendimento:["Olá! Qual é o horário de funcionamento?","Como faço para entrar em contato com vocês?","Preciso de ajuda com meu pedido"],vendas:["Gostaria de saber mais sobre seus produtos","Quanto custa o plano empresarial?","Vocês oferecem período de teste gratuito?"],suporte:["Não consigo fazer login na minha conta","A mensagem não está sendo enviada, o que fazer?","Como faço para conectar meu WhatsApp?"]};return s.jsxs(ie,{className:"w-full",children:[s.jsx(me,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(mn,{className:"h-5 w-5 text-primary"}),"Testar Agentes de IA"]}),s.jsx(Ie,{children:"Teste as respostas dos seus agentes de IA em tempo real"})]}),s.jsx(X,{variant:"outline",size:"sm",onClick:h,disabled:d,children:d?s.jsxs(s.Fragment,{children:[s.jsx(gt,{className:"h-4 w-4 mr-2 animate-spin"}),"Carregando..."]}):"Carregar Agentes"})]})}),s.jsxs(ue,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Selecionar Agente"}),s.jsxs(ot,{value:r,onValueChange:n,children:[s.jsx(nt,{children:s.jsx(lt,{placeholder:"Escolha um agente para testar"})}),s.jsx(at,{children:e.map(b=>s.jsx(re,{value:b.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(mn,{className:"h-4 w-4"}),b.name,s.jsx(De,{variant:"secondary",className:"ml-2 capitalize",children:b.type})]})},b.id))})]}),e.length===0&&!d&&s.jsx("p",{className:"text-sm text-muted-foreground",children:'Nenhum agente ativo encontrado. Clique em "Carregar Agentes" ou crie um novo agente.'})]}),r&&e.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Exemplos de Mensagens"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:(()=>{const b=e.find(x=>x.id===r);return(b?p[b.type]||[]:[]).map((x,y)=>s.jsx(X,{variant:"outline",size:"sm",onClick:()=>i(x),className:"text-xs",children:x},y))})()})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Mensagem do Usuário"}),s.jsx(Gn,{placeholder:"Digite a mensagem do cliente aqui...",value:a,onChange:b=>i(b.target.value),rows:4,className:"resize-none"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(X,{onClick:m,disabled:c||!r||!a.trim(),className:"flex-1",children:c?s.jsxs(s.Fragment,{children:[s.jsx(gt,{className:"h-4 w-4 mr-2 animate-spin"}),"Gerando resposta..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ms,{className:"h-4 w-4 mr-2"}),"Testar Agente"]})}),s.jsx(X,{variant:"outline",onClick:v,disabled:c,children:"Limpar"})]}),o&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(ha,{className:"h-4 w-4 text-primary"}),"Resposta do Agente"]}),s.jsx("div",{className:"p-4 rounded-lg bg-primary/5 border border-primary/20",children:s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:o})})]})]})]})}const n4e=()=>{const[e,t]=g.useState([]),[r,n]=g.useState(!0),[a,i]=g.useState(!1),[o,l]=g.useState(null),[c,u]=g.useState(!1),[d,f]=g.useState(!1),[h,m]=g.useState(!1),[v,p]=g.useState(!1),[b,x]=g.useState(""),[y,w]=g.useState(""),[j,N]=g.useState("profissional"),[_,k]=g.useState("engajamento"),[C,O]=g.useState(""),[T,P]=g.useState("bullets"),[S,M]=g.useState({name:"",description:"",type:"suporte",status:"ativo",system_prompt:"",model:"google/gemini-2.5-flash",temperature:.7,max_tokens:1e3}),$=()=>{M({name:"",description:"",type:"suporte",status:"ativo",system_prompt:"",model:"google/gemini-2.5-flash",temperature:.7,max_tokens:1e3}),l(null)},q=async()=>{try{const{data:H,error:I}=await le.from("ai_agents").select("*").order("created_at",{ascending:!1});if(I)throw I;t(H||[])}catch(H){console.error("Error loading agents:",H),ae.error("Erro ao carregar agentes")}finally{n(!1)}};g.useEffect(()=>{q()},[]);const U=async()=>{if(!S.name||!S.system_prompt){ae.error("Nome e prompt do sistema são obrigatórios");return}try{const{data:{user:H}}=await le.auth.getUser();if(!H){ae.error("Você precisa estar autenticado");return}if(o){const{error:I}=await le.from("ai_agents").update(S).eq("id",o.id);if(I)throw I;ae.success("Agente atualizado com sucesso!")}else{const{error:I}=await le.from("ai_agents").insert([{...S,created_by:H.id}]);if(I)throw I;ae.success("Agente criado com sucesso!")}i(!1),$(),q()}catch(H){console.error("Error:",H),ae.error(H.message||"Erro ao salvar agente")}},L=H=>{l(H),M({name:H.name,description:H.description||"",type:H.type,status:H.status,system_prompt:H.system_prompt,model:H.model,temperature:H.temperature,max_tokens:H.max_tokens}),i(!0)},z=async H=>{if(confirm("Tem certeza que deseja excluir este agente?"))try{const{error:I}=await le.from("ai_agents").delete().eq("id",H);if(I)throw I;ae.success("Agente excluído com sucesso!"),q()}catch(I){console.error("Error:",I),ae.error(I.message||"Erro ao excluir agente")}},R=H=>({vendas:"bg-green-500/10 text-green-500 border-green-500/20",suporte:"bg-blue-500/10 text-blue-500 border-blue-500/20",sdr:"bg-purple-500/10 text-purple-500 border-purple-500/20",atendimento:"bg-orange-500/10 text-orange-500 border-orange-500/20",outros:"bg-gray-500/10 text-gray-500 border-gray-500/20"})[H],G=H=>({ativo:"bg-green-500/10 text-green-500",inativo:"bg-red-500/10 text-red-500",treinamento:"bg-yellow-500/10 text-yellow-500"})[H],D=async()=>{p(!0),x("");try{const{data:H,error:I}=await le.functions.invoke("ai-generate-message",{body:{context:y,tone:j,objective:_}});if(I)throw I;x(H.message),ae.success("Mensagem gerada!")}catch(H){ae.error(H.message||"Erro ao gerar mensagem")}finally{p(!1)}},F=async()=>{p(!0),x("");try{const{data:H,error:I}=await le.functions.invoke("ai-summarize",{body:{text:C,format:T}});if(I)throw I;x(H.summary),ae.success("Resumo criado!")}catch(H){ae.error(H.message||"Erro ao criar resumo")}finally{p(!1)}},J=async()=>{p(!0),x("");try{const{data:H,error:I}=await le.functions.invoke("ai-optimize-campaign",{body:{campaignData:{name:"Campanha",sent:1234,deliveryRate:97}}});if(I)throw I;x(H.recommendations),ae.success("Análise concluída!")}catch(H){ae.error(H.message||"Erro")}finally{p(!1)}};return r?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx(gt,{className:"h-8 w-8 animate-spin"})}):s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:s.jsx("div",{className:"flex h-16 items-center px-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(mn,{className:"h-5 w-5 text-muted-foreground"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Sistema"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"/"}),s.jsx("span",{className:"text-sm font-medium",children:"Agentes de IA"})]})})}),s.jsx("div",{className:"flex-1 overflow-auto",children:s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Agentes de IA"}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("p",{className:"text-muted-foreground",children:"Crie agentes especializados e utilize ferramentas de IA"}),s.jsxs(De,{variant:"outline",className:"text-xs",children:[s.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2 animate-pulse"}),"IA Ativa"]})]})]})}),s.jsxs(Na,{defaultValue:"agents",className:"space-y-6",children:[s.jsxs(Jn,{className:"grid w-full grid-cols-3 max-w-2xl",children:[s.jsxs(et,{value:"agents",children:[s.jsx(mn,{className:"h-4 w-4 mr-2"}),"Meus Agentes"]}),s.jsxs(et,{value:"test",children:[s.jsx(ha,{className:"h-4 w-4 mr-2"}),"Testar Agentes"]}),s.jsxs(et,{value:"tools",children:[s.jsx(At,{className:"h-4 w-4 mr-2"}),"Ferramentas IA"]})]}),s.jsxs(dt,{value:"agents",className:"space-y-6",children:[s.jsx("div",{className:"flex justify-end",children:s.jsxs(Xt,{open:a,onOpenChange:H=>{i(H),H||$()},children:[s.jsx(mz,{asChild:!0,children:s.jsxs(X,{className:"bg-gradient-to-r from-primary to-purple-500",children:[s.jsx(wr,{className:"h-4 w-4 mr-2"}),"Criar Agente"]})}),s.jsxs(Ut,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Jt,{children:[s.jsx(er,{children:o?"Editar Agente":"Criar Novo Agente"}),s.jsx(or,{children:"Configure um agente de IA"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(fe,{children:"Nome do Agente"}),s.jsx(Be,{value:S.name,onChange:H=>M({...S,name:H.target.value})})]}),s.jsxs("div",{children:[s.jsx(fe,{children:"Descrição"}),s.jsx(Gn,{value:S.description,onChange:H=>M({...S,description:H.target.value}),rows:2})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(fe,{children:"Tipo"}),s.jsxs(ot,{value:S.type,onValueChange:H=>M({...S,type:H}),children:[s.jsx(nt,{children:s.jsx(lt,{})}),s.jsxs(at,{children:[s.jsx(re,{value:"vendas",children:"Vendas"}),s.jsx(re,{value:"suporte",children:"Suporte"}),s.jsx(re,{value:"sdr",children:"SDR"}),s.jsx(re,{value:"atendimento",children:"Atendimento"}),s.jsx(re,{value:"outros",children:"Outros"})]})]})]}),s.jsxs("div",{children:[s.jsx(fe,{children:"Status"}),s.jsxs(ot,{value:S.status,onValueChange:H=>M({...S,status:H}),children:[s.jsx(nt,{children:s.jsx(lt,{})}),s.jsxs(at,{children:[s.jsx(re,{value:"ativo",children:"Ativo"}),s.jsx(re,{value:"inativo",children:"Inativo"}),s.jsx(re,{value:"treinamento",children:"Treinamento"})]})]})]})]}),s.jsxs("div",{children:[s.jsx(fe,{children:"Prompt do Sistema"}),s.jsx(Gn,{value:S.system_prompt,onChange:H=>M({...S,system_prompt:H.target.value}),rows:6})]}),s.jsxs(X,{onClick:U,className:"w-full",children:[o?"Atualizar":"Criar"," Agente"]})]})]})]})}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[s.jsxs(ie,{className:"relative overflow-hidden border-2 hover:border-primary/50 transition-all duration-300 hover:shadow-lg group",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-blue-500/5 to-transparent rounded-full -mr-16 -mt-16 group-hover:scale-110 transition-transform"}),s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium text-muted-foreground",children:"Total de Agentes"}),s.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-500/10 flex items-center justify-center group-hover:bg-blue-500/20 transition-colors",children:s.jsx(mn,{className:"h-5 w-5 text-blue-600"})})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-3xl font-bold tracking-tight",children:e.length}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[e.filter(H=>H.status==="ativo").length," ativos"]})]})]}),s.jsxs(ie,{className:"relative overflow-hidden border-2 hover:border-primary/50 transition-all duration-300 hover:shadow-lg group",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-green-500/5 to-transparent rounded-full -mr-16 -mt-16 group-hover:scale-110 transition-transform"}),s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium text-muted-foreground",children:"Agentes Ativos"}),s.jsx("div",{className:"h-10 w-10 rounded-full bg-green-500/10 flex items-center justify-center group-hover:bg-green-500/20 transition-colors",children:s.jsx(mn,{className:"h-5 w-5 text-green-600"})})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-3xl font-bold tracking-tight",children:e.filter(H=>H.status==="ativo").length}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Prontos para atender"})]})]}),s.jsxs(ie,{className:"relative overflow-hidden border-2 hover:border-primary/50 transition-all duration-300 hover:shadow-lg group",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-purple-500/5 to-transparent rounded-full -mr-16 -mt-16 group-hover:scale-110 transition-transform"}),s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium text-muted-foreground",children:"Modelo IA"}),s.jsx("div",{className:"h-10 w-10 rounded-full bg-purple-500/10 flex items-center justify-center group-hover:bg-purple-500/20 transition-colors",children:s.jsx(ha,{className:"h-5 w-5 text-purple-600"})})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-3xl font-bold tracking-tight",children:"Gemini 2.5"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Google Flash"})]})]})]}),e.length===0?s.jsxs(ie,{className:"p-12 text-center",children:[s.jsx(mn,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Nenhum agente criado"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Crie seu primeiro agente de IA"}),s.jsxs(X,{onClick:()=>i(!0),children:[s.jsx(wr,{className:"h-4 w-4 mr-2"}),"Criar Primeiro Agente"]})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(H=>s.jsxs(ie,{className:"border-2 hover:border-primary/50 transition-all duration-300 hover:shadow-lg group",children:[s.jsx(me,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(pe,{className:"text-lg",children:H.name}),H.description&&s.jsx(Ie,{className:"mt-1",children:H.description})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(X,{variant:"ghost",size:"icon",onClick:()=>L(H),children:s.jsx(dl,{className:"h-4 w-4"})}),s.jsx(X,{variant:"ghost",size:"icon",onClick:()=>z(H.id),children:s.jsx(no,{className:"h-4 w-4 text-destructive"})})]})]})}),s.jsxs(ue,{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(De,{variant:"outline",className:R(H.type),children:H.type}),s.jsx(De,{className:G(H.status),children:H.status})]}),s.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[s.jsxs("p",{children:["Modelo: ",H.model]}),s.jsxs("p",{children:["Temperatura: ",H.temperature]})]})]})]},H.id))})]}),s.jsx(dt,{value:"test",className:"space-y-6 mt-6",children:s.jsx(r4e,{})}),s.jsxs(dt,{value:"tools",className:"space-y-6",children:[s.jsxs(ie,{className:"border-2 hover:border-primary/30 transition-all shadow-lg",children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(ha,{className:"h-5 w-5 text-primary"}),"Ferramentas de IA"]}),s.jsx(Ie,{children:"Utilize ferramentas inteligentes para otimizar seu trabalho"})]}),s.jsx(ue,{children:s.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[s.jsx(ie,{className:"cursor-pointer hover:border-primary/50 transition-all duration-300 hover:shadow-lg group",onClick:()=>u(!0),children:s.jsxs(me,{children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:s.jsx(At,{className:"h-6 w-6 text-white"})}),s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(ha,{className:"h-4 w-4 text-blue-600"}),"Gerar Mensagem"]}),s.jsx(Ie,{children:"Mensagens persuasivas com IA"})]})}),s.jsx(ie,{className:"cursor-pointer hover:border-primary/50 transition-all duration-300 hover:shadow-lg group",onClick:()=>f(!0),children:s.jsxs(me,{children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:s.jsx(wX,{className:"h-6 w-6 text-white"})}),s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(ha,{className:"h-4 w-4 text-purple-600"}),"Resumir"]}),s.jsx(Ie,{children:"Resumos inteligentes"})]})}),s.jsx(ie,{className:"cursor-pointer hover:border-primary/50 transition-all duration-300 hover:shadow-lg group",onClick:()=>m(!0),children:s.jsxs(me,{children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-br from-orange-500 to-orange-600 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:s.jsx(xt,{className:"h-6 w-6 text-white"})}),s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(ha,{className:"h-4 w-4 text-orange-600"}),"Otimizar"]}),s.jsx(Ie,{children:"Melhore campanhas"})]})})]})})]}),s.jsx(Xt,{open:c,onOpenChange:u,children:s.jsxs(Ut,{className:"max-w-2xl",children:[s.jsxs(Jt,{children:[s.jsx(er,{children:"Gerar Mensagem com IA"}),s.jsx(or,{children:"Configure e gere sua mensagem"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(fe,{children:"Contexto"}),s.jsx(Gn,{value:y,onChange:H=>w(H.target.value),rows:4})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(fe,{children:"Tom"}),s.jsxs(ot,{value:j,onValueChange:N,children:[s.jsx(nt,{children:s.jsx(lt,{})}),s.jsxs(at,{children:[s.jsx(re,{value:"profissional",children:"Profissional"}),s.jsx(re,{value:"amigavel",children:"Amigável"}),s.jsx(re,{value:"urgente",children:"Urgente"})]})]})]}),s.jsxs("div",{children:[s.jsx(fe,{children:"Objetivo"}),s.jsxs(ot,{value:_,onValueChange:k,children:[s.jsx(nt,{children:s.jsx(lt,{})}),s.jsxs(at,{children:[s.jsx(re,{value:"engajamento",children:"Engajamento"}),s.jsx(re,{value:"conversao",children:"Conversão"}),s.jsx(re,{value:"informativo",children:"Informativo"})]})]})]})]}),s.jsx(X,{onClick:D,disabled:v||!y,className:"w-full",children:v?"Gerando...":"Gerar Mensagem"}),b&&s.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[s.jsx(fe,{className:"font-semibold mb-2 block",children:"Resultado:"}),s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:b})]})]})]})}),s.jsx(Xt,{open:d,onOpenChange:f,children:s.jsxs(Ut,{className:"max-w-2xl",children:[s.jsxs(Jt,{children:[s.jsx(er,{children:"Resumir com IA"}),s.jsx(or,{children:"Cole o texto para resumir"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(fe,{children:"Texto"}),s.jsx(Gn,{value:C,onChange:H=>O(H.target.value),rows:6})]}),s.jsxs("div",{children:[s.jsx(fe,{children:"Formato"}),s.jsxs(ot,{value:T,onValueChange:P,children:[s.jsx(nt,{children:s.jsx(lt,{})}),s.jsxs(at,{children:[s.jsx(re,{value:"bullets",children:"Bullet Points"}),s.jsx(re,{value:"paragraph",children:"Parágrafo"})]})]})]}),s.jsx(X,{onClick:F,disabled:v||!C,className:"w-full",children:v?"Resumindo...":"Criar Resumo"}),b&&s.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[s.jsx(fe,{className:"font-semibold mb-2 block",children:"Resumo:"}),s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:b})]})]})]})}),s.jsx(Xt,{open:h,onOpenChange:m,children:s.jsxs(Ut,{className:"max-w-2xl",children:[s.jsxs(Jt,{children:[s.jsx(er,{children:"Otimizar Campanha"}),s.jsx(or,{children:"Análise de campanha"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[s.jsxs("p",{className:"text-sm",children:[s.jsx("strong",{children:"Campanha:"})," Lançamento"]}),s.jsxs("p",{className:"text-sm",children:[s.jsx("strong",{children:"Taxa de entrega:"})," 97%"]})]}),s.jsx(X,{onClick:J,disabled:v,className:"w-full",children:v?"Analisando...":"Analisar"}),b&&s.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[s.jsx(fe,{className:"font-semibold mb-2 block",children:"Recomendações:"}),s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:b})]})]})]})})]})]})]})})]})},a4e=Zc("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),yd=g.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:ve(a4e({variant:t}),e),...r}));yd.displayName="Alert";const s4e=g.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:ve("mb-1 font-medium leading-none tracking-tight",e),...t}));s4e.displayName="AlertTitle";const xd=g.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ve("text-sm [&_p]:leading-relaxed",e),...t}));xd.displayName="AlertDescription";function i4e({open:e,onOpenChange:t,onSuccess:r}){const{currentOrg:n}=bn(),[a,i]=g.useState(!1),[o,l]=g.useState("qr"),[c,u]=g.useState(""),[d,f]=g.useState(""),[h,m]=g.useState(""),[v,p]=g.useState(""),[b,x]=g.useState(""),[y,w]=g.useState("waiting"),[j,N]=g.useState(null);g.useEffect(()=>{console.log("WhatsApp QR Effect:",{open:e,hasQrCodeData:!!h,currentOrg:n==null?void 0:n.name}),e&&!h&&n?(console.log("Gerando QR Code automaticamente..."),_()):e&&!n&&console.warn("Modal aberto mas currentOrg não está definida ainda")},[e,n]);const _=async()=>{var S,M,$;console.log("generateQRCodeNow chamada! currentOrg:",n),i(!0);try{if(!n){console.error("Erro: currentOrg não definida"),Nn({title:"Organização não encontrada",description:"Por favor, selecione uma organização antes de conectar o WhatsApp",variant:"destructive"}),i(!1);return}const q=`wa_${Date.now()}_${Math.random().toString(36).substring(2,9)}`;x(q);const{data:U,error:L}=await le.functions.invoke("whatsapp-qr-connect",{body:{action:"save_qr_connection",orgId:n.id,sessionId:q,name:d||"WhatsApp",credentials:{phone_number:c||"pending"}}});if(L)throw L;if(!U.success)throw new Error(U.error||"Erro ao gerar QR Code");m(U.qrCodeText),p(`data:image/png;base64,${U.qrCode}`),w("waiting"),Nn({title:"QR Code Gerado!",description:"Escaneie com seu WhatsApp"}),k(q)}catch(q){console.error("Error generating QR Code:",q),(S=q.message)!=null&&S.includes("fetch")||(M=q.message)!=null&&M.includes("Evolution")||($=q.message)!=null&&$.includes("EVOLUTION")?Nn({title:"Evolution API não configurada",description:"Para usar QR Code real, configure a Evolution API. Por enquanto, use conexão manual.",variant:"destructive"}):Nn({title:"Erro ao gerar QR Code",description:q.message||"Erro desconhecido. Verifique se a Evolution API está rodando.",variant:"destructive"}),w("failed")}finally{i(!1)}},k=S=>{const M="http://localhost:8080",$="minha-chave-123",q=setInterval(async()=>{try{(await(await fetch(`${M}/instance/connectionState/${S}`,{headers:{apikey:$}})).json()).state==="open"&&(clearInterval(q),w("connected"),await le.from("channel_accounts").update({status:"active"}).eq("credentials->>session_id",S),l("success"),Nn({title:"Conectado!",description:"WhatsApp conectado com sucesso"}),r&&r())}catch(U){console.error("Error:",U)}},3e3);N(q),setTimeout(()=>{clearInterval(q),y==="waiting"&&(w("failed"),Nn({title:"Timeout",description:"Tempo limite excedido"}))},3e5)},C=()=>{j&&(clearInterval(j),N(null)),l("qr"),u(""),f(""),m(""),p(""),x(""),w("waiting"),t(!1)},O=()=>{j&&(clearInterval(j),N(null)),w("waiting"),_()},T=async()=>{try{await navigator.clipboard.writeText(h),Nn({title:"Copiado!",description:"Dados do QR Code copiados para a área de transferência"})}catch{Nn({title:"Erro",description:"Não foi possível copiar os dados"})}},P=()=>{if(v){const S=document.createElement("a");S.download=`whatsapp-qr-${b}.png`,S.href=v,S.click()}};return g.useEffect(()=>()=>{j&&clearInterval(j)},[j]),s.jsx(Xt,{open:e,onOpenChange:C,children:s.jsxs(Ut,{className:"max-w-lg",children:[s.jsxs(Jt,{children:[s.jsxs(er,{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-10 w-10 rounded-lg bg-gradient-to-br from-green-500 to-green-600 flex items-center justify-center text-white font-bold",children:o==="qr"?s.jsx(RX,{className:"h-6 w-6"}):s.jsx(Ef,{className:"h-6 w-6"})}),o==="qr"&&"Conectar WhatsApp via QR Code",o==="success"&&"WhatsApp Conectado!"]}),s.jsxs(or,{children:[o==="qr"&&"Escaneie o QR Code com seu WhatsApp para conectar",o==="success"&&"Sua conta foi conectada com sucesso"]})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[o==="qr"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-center space-y-4",children:[s.jsxs("div",{className:"relative inline-block",children:[v?s.jsx("img",{src:v,alt:"QR Code WhatsApp",className:"border-2 border-gray-200 rounded-lg shadow-lg w-64 h-64"}):s.jsx("div",{className:"w-64 h-64 border-2 border-gray-200 rounded-lg flex items-center justify-center",children:s.jsx("p",{className:"text-sm text-gray-400",children:"QR Code aparecerá aqui"})}),a&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/90 rounded-lg",children:s.jsxs("div",{className:"text-center",children:[s.jsx(gt,{className:"h-8 w-8 animate-spin mx-auto mb-2 text-green-600"}),s.jsx("p",{className:"text-sm font-medium",children:"Gerando QR Code..."})]})}),y==="waiting"&&!a&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/90 rounded-lg",children:s.jsxs("div",{className:"text-center",children:[s.jsx(gt,{className:"h-8 w-8 animate-spin mx-auto mb-2 text-green-600"}),s.jsx("p",{className:"text-sm font-medium",children:"Aguardando conexão..."})]})}),y==="connected"&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-green-50 rounded-lg",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ks,{className:"h-8 w-8 mx-auto mb-2 text-green-600"}),s.jsx("p",{className:"text-sm font-medium text-green-600",children:"Conectado!"})]})}),y==="failed"&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-red-50 rounded-lg",children:s.jsxs("div",{className:"text-center",children:[s.jsx(cl,{className:"h-8 w-8 mx-auto mb-2 text-red-600"}),s.jsx("p",{className:"text-sm font-medium text-red-600",children:"Falha na conexão"})]})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-medium",children:"Instruções:"}),s.jsxs("ol",{className:"text-sm text-muted-foreground space-y-1 text-left",children:[s.jsx("li",{children:"1. Abra o WhatsApp no seu celular"}),s.jsx("li",{children:'2. Toque em "Menu" → "Dispositivos conectados"'}),s.jsx("li",{children:'3. Toque em "Conectar um dispositivo"'}),s.jsx("li",{children:"4. Escaneie o QR Code acima"})]})]}),s.jsxs("div",{className:"flex gap-2 justify-center",children:[s.jsxs(X,{variant:"outline",size:"sm",onClick:T,disabled:!h,children:[s.jsx(Ru,{className:"h-4 w-4 mr-2"}),"Copiar Dados"]}),s.jsxs(X,{variant:"outline",size:"sm",onClick:P,disabled:!h,children:[s.jsx(Fi,{className:"h-4 w-4 mr-2"}),"Baixar QR"]}),y==="failed"&&s.jsxs(X,{variant:"outline",size:"sm",onClick:O,children:[s.jsx(Xn,{className:"h-4 w-4 mr-2"}),"Tentar Novamente"]})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[s.jsx(X,{variant:"outline",onClick:C,children:"Cancelar"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:a?"Gerando QR Code...":h?"QR Code ativo":"Aguardando..."})]})]}),o==="success"&&s.jsxs(s.Fragment,{children:[s.jsxs(yd,{className:"bg-green-500/10 border-green-500/20",children:[s.jsx(ks,{className:"h-4 w-4 text-green-500"}),s.jsxs(xd,{children:[s.jsx("strong",{children:"WhatsApp Conectado!"}),s.jsx("br",{}),"Sua conta ",c," foi conectada com sucesso e está pronta para uso."]})]}),s.jsx(yd,{children:s.jsxs(xd,{className:"text-sm",children:[s.jsx("strong",{children:"O que você pode fazer agora:"}),s.jsx("br",{}),"• Enviar e receber mensagens",s.jsx("br",{}),"• Gerenciar conversas no Inbox",s.jsx("br",{}),"• Configurar respostas automáticas",s.jsx("br",{}),"• Acessar estatísticas de uso"]})}),s.jsx("div",{className:"flex justify-end pt-4 border-t",children:s.jsx(X,{onClick:C,className:"bg-gradient-to-r from-green-500 to-green-600",children:"Concluir"})})]})]})]})})}function o4e({open:e,onOpenChange:t,onSuccess:r}){const{currentOrg:n}=bn(),{toast:a}=Sb(),[i,o]=g.useState(!1),[l,c]=g.useState(!1),[u,d]=g.useState("idle"),[f,h]=g.useState(""),m="https://bjsuujkbrhjhuyzydxbr.supabase.co/functions/v1/whatsapp-webhook";g.useEffect(()=>{e&&console.log("WhatsApp Business Connect Modal aberto",{currentOrg:n==null?void 0:n.name})},[e,n]);const v=async()=>{var b,x;c(!0),d("idle");try{const y=await fetch(m,{method:"GET"});if(y.status===403||y.ok)console.log("Webhook response status:",y.status),d("success"),a({title:"Webhook acessível!",description:"O webhook do WhatsApp está respondendo. Configure o verify_token no Meta for Developers."});else throw new Error(`Status inesperado: ${y.status}`)}catch(y){console.error("Erro ao testar webhook:",y),(b=y.message)!=null&&b.includes("fetch")||(x=y.message)!=null&&x.includes("network")?(d("success"),a({title:"Webhook provavelmente funcionando",description:"Não foi possível testar completamente devido a CORS, mas o endpoint existe."})):(d("error"),a({title:"Erro no webhook",description:y.message||"Não foi possível conectar ao webhook.",variant:"destructive"}))}finally{c(!1)}},p=async()=>{if(!n){a({title:"Erro",description:"Organização não encontrada. Recarregue a página.",variant:"destructive"});return}if(!f.trim()){a({title:"Erro",description:"Por favor, digite um número de telefone para teste.",variant:"destructive"});return}o(!0);try{const{data:b,error:x}=await le.from("channel_accounts").insert({org_id:n.id,name:"WhatsApp Business API",channel_type:"whatsapp",status:"active",credentials_json:{phone_number:f,api_type:"business_api",connected_at:new Date().toISOString(),webhook_url:m}}).select().single();if(x)throw console.error("Erro ao salvar canal:",x),new Error(x.message);console.log("Canal WhatsApp Business API salvo:",b),a({title:"WhatsApp conectado!",description:"WhatsApp Business API configurado com sucesso."}),r&&r(),t(!1)}catch(b){console.error("Erro ao conectar WhatsApp Business API:",b),a({title:"Erro ao conectar",description:b.message||"Não foi possível conectar o WhatsApp Business API.",variant:"destructive"})}finally{o(!1)}};return s.jsx(Xt,{open:e,onOpenChange:t,children:s.jsxs(Ut,{className:"sm:max-w-[600px]",children:[s.jsxs(Jt,{children:[s.jsxs(er,{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-8 w-8 rounded-lg bg-gradient-to-br from-green-600 to-green-700 flex items-center justify-center text-white font-bold text-sm",children:"W"}),"Conectar WhatsApp Business API"]}),s.jsx(or,{children:"Configure o WhatsApp Business API oficial da Meta"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(fe,{children:"Status do Webhook"}),s.jsxs("div",{className:"p-4 rounded-lg border bg-muted/50 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-medium",children:"URL do Webhook"}),s.jsx("code",{className:"text-xs text-muted-foreground break-all",children:m})]}),s.jsx(X,{variant:"outline",size:"sm",onClick:v,disabled:l,children:l?s.jsxs(s.Fragment,{children:[s.jsx(gt,{className:"h-4 w-4 mr-2 animate-spin"}),"Testando..."]}):"Testar"})]}),u==="success"&&s.jsxs(yd,{className:"bg-green-50 border-green-200 dark:bg-green-900/20 dark:border-green-800",children:[s.jsx(gs,{className:"h-4 w-4 text-green-600"}),s.jsx(xd,{className:"text-green-800 dark:text-green-200",children:"Webhook funcionando corretamente!"})]}),u==="error"&&s.jsxs(yd,{className:"bg-red-50 border-red-200 dark:bg-red-900/20 dark:border-red-800",children:[s.jsx(cl,{className:"h-4 w-4 text-red-600"}),s.jsx(xd,{className:"text-red-800 dark:text-red-200",children:"Erro ao conectar ao webhook. Verifique a configuração."})]})]})]}),s.jsxs(yd,{children:[s.jsx(cl,{className:"h-4 w-4"}),s.jsxs(xd,{children:[s.jsx("p",{className:"font-medium mb-2",children:"Antes de conectar, certifique-se de:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm",children:[s.jsx("li",{children:"Configurar o app no Meta for Developers"}),s.jsx("li",{children:"Adicionar o webhook no painel do WhatsApp"}),s.jsx("li",{children:"Configurar as variáveis de ambiente no Supabase"})]}),s.jsxs("a",{href:"/docs/WHATSAPP_BUSINESS_API_SETUP.md",target:"_blank",className:"text-primary hover:underline flex items-center gap-1 mt-2 text-sm",children:["Ver guia completo ",s.jsx(JD,{className:"h-3 w-3"})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(fe,{htmlFor:"phone",children:"Número de Telefone (para teste)"}),s.jsx(Be,{id:"phone",placeholder:"Ex: +5511999999999",value:f,onChange:b=>h(b.target.value),disabled:i}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Digite um número para associar a esta conexão"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(X,{variant:"outline",onClick:()=>t(!1),disabled:i,className:"flex-1",children:"Cancelar"}),s.jsx(X,{onClick:p,disabled:i||!f.trim(),className:"flex-1",children:i?s.jsxs(s.Fragment,{children:[s.jsx(gt,{className:"h-4 w-4 mr-2 animate-spin"}),"Conectando..."]}):"Conectar"})]})]})]})})}function l4e({open:e,onOpenChange:t,channel:r,onDisconnect:n}){if(!r)return null;const a=()=>{n(r.id),t(!1)};return s.jsx(Xt,{open:e,onOpenChange:t,children:s.jsxs(Ut,{className:"sm:max-w-[500px]",children:[s.jsxs(Jt,{children:[s.jsxs(er,{className:"flex items-center gap-2",children:[s.jsx(Br,{className:"h-5 w-5"}),"Configurações do Canal"]}),s.jsx(or,{children:"Gerencie as configurações e credenciais do canal conectado"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(fe,{className:"text-sm font-medium",children:"Nome do Canal"}),s.jsx(Be,{value:r.name,disabled:!0,className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(fe,{className:"text-sm font-medium",children:"Tipo"}),s.jsx("div",{className:"mt-1",children:s.jsx(De,{variant:"secondary",className:"capitalize",children:r.channel_type})})]}),s.jsxs("div",{children:[s.jsx(fe,{className:"text-sm font-medium",children:"Status"}),s.jsx("div",{className:"mt-1",children:s.jsx(De,{variant:r.status==="active"?"default":"secondary",className:"capitalize",children:r.status})})]})]}),s.jsx(xr,{}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium",children:"Ações do Canal"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Gerencie a conexão do canal"})]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(X,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>{console.log("Refresh token for channel:",r.id)},children:[s.jsx(Xn,{className:"h-4 w-4 mr-2"}),"Renovar Token"]}),s.jsxs(X,{variant:"destructive",size:"sm",className:"flex-1",onClick:a,children:[s.jsx(no,{className:"h-4 w-4 mr-2"}),"Desconectar"]})]})]}),s.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[s.jsxs("p",{children:["Conectado em: ",new Date(r.created_at).toLocaleString("pt-BR")]}),s.jsxs("p",{children:["Última atualização: ",new Date(r.updated_at).toLocaleString("pt-BR")]})]})]})]})})}function c4e(){const{currentOrg:e}=bn(),[t,r]=g.useState([]),[n,a]=g.useState(!0),[i,o]=g.useState(null),[l,c]=g.useState([]),[u,d]=g.useState(!1),[f,h]=g.useState(!1),[m,v]=g.useState(!1),[p,b]=g.useState(null),[x,y]=g.useState({email:"",password:"",smtp_server:"",smtp_port:""}),{toast:w}=Sb();g.useEffect(()=>{e&&(_(),j())},[e]);const j=()=>{try{const L=localStorage.getItem("localChannels");if(L){const z=JSON.parse(L);c(z),console.log("📱 Canais locais carregados do localStorage:",z)}}catch(L){console.error("Erro ao carregar canais locais:",L)}},N=L=>{try{localStorage.setItem("localChannels",JSON.stringify(L)),console.log("💾 Canais locais salvos no localStorage:",L)}catch(z){console.error("Erro ao salvar canais locais:",z)}},_=async()=>{try{const{data:{user:L},error:z}=await le.auth.getUser();if(!L){o(null),r([]),a(!1);return}e?(o(e.id),k(e.id)):(o(null),r([]),a(!1))}catch(L){console.error("Error fetching user:",L),o(null),r([]),a(!1)}},k=async L=>{try{a(!0),console.log("🔄 Buscando canais para orgId:",L);const{data:z,error:R}=await le.from("channel_accounts").select("*").eq("org_id",L);console.log("📊 Todos os canais (sem filtro status):",{allData:z,allError:R});const{data:G,error:D}=await le.from("channel_accounts").select("*").eq("org_id",L).eq("status","active");if(console.log("📊 Busca direta da tabela:",{directData:G,directError:D}),!D&&G&&G.length>0){console.log("✅ Usando dados diretos da tabela (ativos):",G),r(G),a(!1);return}if(!R&&z&&z.length>0){console.log("⚠️ Nenhum canal ativo, mas há canais no total:",z);const F=z.filter(J=>J.status!=="inactive"&&J.status!=="disconnected");F.length>0?(console.log("📋 Usando canais não-desconectados:",F),r(F)):(console.log("📋 Nenhum canal válido encontrado, limpando lista"),r([])),a(!1);return}try{console.log("🔄 Tentando Edge Function...");const{data:F,error:J}=await le.functions.invoke("get-channels",{body:{org_id:L}});if(console.log("📡 Resposta Edge Function:",{data:F,error:J}),J){console.log("⚠️ Edge Function falhou, usando dados diretos"),r(G||[]);return}console.log("✅ Usando dados da Edge Function:",F==null?void 0:F.channels),r((F==null?void 0:F.channels)||[])}catch(F){console.log("⚠️ Edge Function não disponível:",F),r(G||[])}}catch(z){console.error("❌ Error fetching channels:",z),w({title:"Erro",description:"Erro ao carregar integrações"}),r([])}finally{a(!1)}},C=L=>[...t,...l].some(z=>z.channel_type===L),O=L=>{b(L),v(!0)},T=async L=>{var z;try{const R="670209849105494",G=((z={instagram:["pages_show_list","pages_messaging","instagram_basic","instagram_manage_messages"],facebook:["pages_show_list","pages_messaging"],messenger:["pages_show_list","pages_messaging"]}[L])==null?void 0:z.join(","))||"pages_show_list,pages_messaging",D=`${window.location.origin}/auth/callback`,F=`https://www.facebook.com/v18.0/dialog/oauth?client_id=${R}&redirect_uri=${encodeURIComponent(D)}&scope=${G}&response_type=code&state=${L}`,J=600,H=700,I=window.screen.width/2-J/2,oe=window.screen.height/2-H/2,V=window.open(F,"MetaLogin",`width=${J},height=${H},left=${I},top=${oe},scrollbars=yes,resizable=yes`);if(!V){w({title:"Popup bloqueado",description:"Por favor, permita popups para este site e tente novamente."});return}const de=setInterval(()=>{try{if(V!=null&&V.closed&&(clearInterval(de),w({title:"Conexão cancelada",description:"A janela de autenticação foi fechada."})),V!=null&&V.location.search){const te=new URLSearchParams(V.location.search),ce=te.get("code");te.get("error")?(clearInterval(de),V.close(),w({title:"Erro na autenticação",description:"Não foi possível conectar com o Meta. Tente novamente."})):ce&&(clearInterval(de),V.close(),P(ce,L))}}catch{}},1e3);setTimeout(()=>{V.closed||(clearInterval(de),V.close(),w({title:"Timeout",description:"Tempo limite excedido. Tente novamente."}))},3e5)}catch(R){console.error("Error connecting:",R),w({title:"Erro ao conectar",description:R.message||"Não foi possível conectar. Tente novamente."})}},P=async(L,z)=>{try{const{data:R,error:G}=await le.functions.invoke("meta-oauth-exchange",{body:{code:L,channel_type:z,redirect_uri:`${window.location.origin}/auth/callback`}});if(G)throw G;if(!R.success)throw new Error(R.error||"Não foi possível obter token de acesso");const{access_token:D,pages:F}=R;if(!F||F.length===0){w({title:"Nenhuma página encontrada",description:"Você não tem páginas do Facebook. Crie uma página primeiro."});return}let J=F;if(z==="instagram"){const H=[];for(const I of F)try{(await(await fetch(`https://graph.facebook.com/v18.0/${I.id}?fields=instagram_business_account&access_token=${I.access_token}`)).json()).instagram_business_account&&H.push(I)}catch{}J=H}if(J.length===0){w({title:"Nenhuma página compatível",description:`Nenhuma página com ${z==="instagram"?"Instagram Business":"Messenger"} foi encontrada.`});return}J.length===1?await S(J[0],z):M(J,z)}catch(R){console.error("Error processing auth code:",R),w({title:"Erro ao processar autenticação",description:R.message||"Não foi possível processar a autenticação."})}},S=async(L,z)=>{try{let R={access_token:L.access_token,page_id:L.id,verify_token:$()};if(z==="instagram"){const H=await(await fetch(`https://graph.facebook.com/v18.0/${L.id}?fields=instagram_business_account&access_token=${L.access_token}`)).json();H.instagram_business_account&&(R.instagram_business_account_id=H.instagram_business_account.id)}const{data:G,error:D}=await le.functions.invoke("channel-connect",{body:{channel_type:z,name:`${L.name} - ${z}`,credentials:R,org_id:"00000000-0000-0000-0000-000000000000"}});if(D)throw D;const F={id:`local-${z}-${Date.now()}`,name:`${L.name} - ${z}`,channel_type:z,status:"active",credentials_json:R,created_at:new Date().toISOString()},J=[...l,F];c(J),localStorage.setItem("localChannels",JSON.stringify(J)),w({title:"Conectado com sucesso!",description:`${L.name} foi conectado ao ${z}.`})}catch(R){console.error("Error connecting to page:",R),w({title:"Erro ao conectar página",description:R.message||"Não foi possível conectar à página selecionada."})}},M=(L,z)=>{S(L[0],z)},$=()=>`verify_${Math.random().toString(36).substring(2,15)}`,q=async(L,z,R)=>{if(L==="whatsapp"){h(!0);return}if(L==="whatsapp-qr"){d(!0);return}if(L==="instagram"||L==="facebook"){await T(L);return}if(L==="email"){const G=prompt("Digite seu email:"),D=prompt("Digite sua senha do email:"),F=prompt("Servidor SMTP (ex: smtp.gmail.com):")||"smtp.gmail.com",J=prompt("Porta SMTP (ex: 587):")||"587";if(!G||!D){w({title:"Erro",description:"Email e senha são obrigatórios"});return}try{const H={email:G,password:D,smtp_server:F,smtp_port:J};if(i){const{data:I,error:oe}=await le.from("channel_accounts").insert({org_id:i,name:`Email - ${G}`,channel_type:"messenger",status:"active",credentials_json:H});if(oe){console.log("Erro ao salvar no Supabase, salvando localmente:",oe);const V={id:`local-email-${Date.now()}`,name:`Email - ${G}`,channel_type:"messenger",status:"active",credentials_json:H,created_at:new Date().toISOString()};r(de=>[...de,V])}else console.log("Email salvo no Supabase com sucesso:",I),k(i)}else{const I={id:`local-email-${Date.now()}`,name:`Email - ${G}`,channel_type:"email",status:"active",credentials_json:H,created_at:new Date().toISOString()};r(oe=>[...oe,I])}w({title:"Sucesso",description:`${z} conectado com sucesso!`})}catch(H){console.error("Error connecting:",H),w({title:"Erro",description:"Erro ao conectar integração"})}return}w({title:"Em breve",description:`${z} será implementado em breve!`})},U=async L=>{try{if(console.log("🗑️ [handleDisconnectChannel] Iniciando desconexão do canal:",L),L.startsWith("local-")){console.log("📱 Canal local detectado, removendo do localStorage"),c(G=>{const D=G.filter(F=>F.id!==L);return N(D),console.log("✅ Canal local removido. Canais restantes:",D),D}),w({title:"Sucesso",description:"Canal desconectado com sucesso!"});return}console.log("🌐 Canal do banco de dados detectado, tentando deletar...");const{data:z,error:R}=await le.from("channel_accounts").delete().eq("id",L).select();if(console.log("📊 Resultado da deleção:",{deleteData:z,dbError:R}),R){console.error("❌ Erro ao deletar do banco:",R),console.log("🔄 Tentando desativar ao invés de deletar...");const{data:G,error:D}=await le.from("channel_accounts").update({status:"inactive"}).eq("id",L).select();if(console.log("📊 Resultado da desativação:",{updateData:G,updateError:D}),D)throw console.error("❌ Erro ao desativar:",D),new Error(`Não foi possível desconectar: ${D.message}`);w({title:"Sucesso",description:"Canal desativado com sucesso!"})}else console.log("✅ Canal deletado com sucesso!"),w({title:"Sucesso",description:"Canal desconectado com sucesso!"});console.log("🔄 Recarregando lista de canais..."),i?await k(i):await _(),console.log("✅ [handleDisconnectChannel] Processo concluído!")}catch(z){console.error("❌ [handleDisconnectChannel] Erro:",z),w({title:"Erro",description:z.message||"Erro ao desconectar canal"})}};return s.jsxs("div",{className:"p-8 space-y-8 bg-gradient-to-br from-background via-background to-primary/5 min-h-screen",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold tracking-tight bg-gradient-to-r from-primary to-primary/60 bg-clip-text text-transparent",children:"Integrações"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Conecte suas ferramentas favoritas e automatize seus processos"})]}),s.jsx("div",{className:"space-y-6",children:s.jsx("div",{children:s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[s.jsxs(ie,{className:"hover:shadow-lg transition-shadow",children:[s.jsx(me,{children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-12 w-12 rounded-lg bg-gradient-to-br from-pink-600 via-purple-600 to-orange-500 flex items-center justify-center",children:s.jsx(kX,{className:"h-6 w-6 text-white"})}),s.jsx("div",{children:s.jsxs(pe,{className:"flex items-center gap-2",children:["Instagram",C("instagram")?s.jsxs(De,{variant:"secondary",className:"bg-green-500/10 text-green-700",children:[s.jsx(gs,{className:"h-3 w-3 mr-1"}),"Conectado"]}):s.jsx(De,{variant:"outline",children:"Disponível"})]})})]})})}),s.jsxs(ue,{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Conecte sua conta do Instagram"}),s.jsx(xr,{}),C("instagram")?s.jsxs("div",{className:"space-y-3",children:[(()=>{var L;const z=[...t,...l].find(R=>R.channel_type==="instagram");return z?s.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(gs,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:"Conectado"})]}),((L=z.credentials_json)==null?void 0:L.username)&&s.jsxs("p",{className:"text-xs text-green-700 dark:text-green-300",children:["@",z.credentials_json.username]}),s.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400",children:["Conectado em ",new Date(z.created_at).toLocaleDateString("pt-BR")]})]}):null})(),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(X,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>{const L=[...t,...l].find(z=>z.channel_type==="instagram");L&&O(L)},children:[s.jsx(Br,{className:"h-4 w-4 mr-2"}),"Configurar"]}),s.jsx(X,{variant:"destructive",size:"sm",onClick:async()=>{const L=[...t,...l].find(z=>z.channel_type==="instagram");L&&await U(L.id)},children:"Desconectar"})]})]}):s.jsx(X,{className:"w-full",onClick:()=>q("instagram","Instagram"),children:"Conectar"})]})]}),s.jsxs(ie,{className:"hover:shadow-lg transition-shadow",children:[s.jsx(me,{children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-12 w-12 rounded-lg bg-gradient-to-br from-blue-600 to-blue-700 flex items-center justify-center",children:s.jsx(Ad,{className:"h-6 w-6 text-white"})}),s.jsx("div",{children:s.jsxs(pe,{className:"flex items-center gap-2",children:["Email",C("email")?s.jsxs(De,{variant:"secondary",className:"bg-green-500/10 text-green-700",children:[s.jsx(gs,{className:"h-3 w-3 mr-1"}),"Conectado"]}):s.jsx(De,{variant:"outline",children:"Disponível"})]})})]})})}),s.jsxs(ue,{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Conecte sua conta de email"}),s.jsx(xr,{}),C("email")?s.jsxs("div",{className:"space-y-3",children:[(()=>{var L,z;const R=[...t,...l].find(G=>G.channel_type==="email");return R?s.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(gs,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:"Conectado"})]}),((L=R.credentials_json)==null?void 0:L.email)&&s.jsxs("p",{className:"text-xs text-green-700 dark:text-green-300",children:["📧 ",R.credentials_json.email]}),((z=R.credentials_json)==null?void 0:z.smtp_server)&&s.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400",children:["SMTP: ",R.credentials_json.smtp_server]}),s.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400",children:["Conectado em ",new Date(R.created_at).toLocaleDateString("pt-BR")]})]}):null})(),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(X,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>{const L=[...t,...l].find(z=>z.channel_type==="email");L&&O(L)},children:[s.jsx(Br,{className:"h-4 w-4 mr-2"}),"Configurar"]}),s.jsx(X,{variant:"destructive",size:"sm",onClick:async()=>{const L=[...t,...l].find(z=>z.channel_type==="email");L&&await U(L.id)},children:"Desconectar"})]})]}):s.jsx(X,{className:"w-full",onClick:()=>q("email","Email (SMTP)"),children:"Conectar"})]})]})]})})}),s.jsx(i4e,{open:u,onOpenChange:d,onSuccess:()=>{console.log("WhatsApp QR connect success");const L={id:`local-whatsapp-${Date.now()}`,org_id:"00000000-0000-0000-0000-000000000000",name:"WhatsApp Business",channel_type:"whatsapp",status:"active",credentials_json:{phone_number:"WhatsApp conectado",connected_at:new Date().toISOString()},created_at:new Date().toISOString(),updated_at:new Date().toISOString()};c(z=>{const R=[...z,L];return N(R),R}),setTimeout(()=>{i?(console.log("🔄 Recarregando canais após WhatsApp..."),k(i)):(console.log("🔄 Buscando orgId e canais após WhatsApp..."),_())},500),setTimeout(()=>{i&&(console.log("🔄 Segunda tentativa WhatsApp..."),k(i))},2e3),setTimeout(()=>{i&&(console.log("🔄 Terceira tentativa WhatsApp..."),k(i))},5e3)}}),s.jsx(o4e,{open:f,onOpenChange:h,onSuccess:()=>{console.log("WhatsApp Business API connect success"),i?k(i):_()}}),s.jsx(l4e,{open:m,onOpenChange:v,channel:p,onDisconnect:async()=>{p&&await U(p.id)}})]})}const O4=wq({email:Ws().email("Email inválido").max(255),password:Ws().min(6,"Senha deve ter no mínimo 6 caracteres").max(100),fullName:Ws().min(2,"Nome deve ter no mínimo 2 caracteres").max(100).optional()});function u4e(){const[e,t]=g.useState(""),[r,n]=g.useState(""),[a,i]=g.useState(""),[o,l]=g.useState(!1),[c,u]=g.useState(!1),d=Yp(),{toast:f}=Sb();g.useEffect(()=>{const v=localStorage.getItem("rememberMe"),p=localStorage.getItem("userEmail");v==="true"&&p&&(u(!0),t(p))},[]);const h=async v=>{v.preventDefault(),l(!0);try{const p=O4.parse({email:e,password:r,fullName:a}),b=`${window.location.origin}/`,{error:x}=await le.auth.signUp({email:p.email,password:p.password,options:{emailRedirectTo:b,data:{full_name:p.fullName}}});f(x?{title:"Erro no cadastro",description:x.message,variant:"destructive"}:{title:"Cadastro realizado!",description:"Verifique seu email para confirmar a conta."})}catch(p){p instanceof As&&f({title:"Dados inválidos",description:p.errors[0].message,variant:"destructive"})}finally{l(!1)}},m=async v=>{v.preventDefault(),l(!0);try{const p=O4.parse({email:e,password:r}),{error:b}=await le.auth.signInWithPassword({email:p.email,password:p.password});b?f({title:"Erro no login",description:b.message,variant:"destructive"}):(c?(localStorage.setItem("rememberMe","true"),localStorage.setItem("userEmail",p.email)):(localStorage.removeItem("rememberMe"),localStorage.removeItem("userEmail")),f({title:"Login realizado!",description:c?"Você permanecerá logado neste dispositivo.":"Login realizado com sucesso."}),d("/"))}catch(p){p instanceof As&&f({title:"Dados inválidos",description:p.errors[0].message,variant:"destructive"})}finally{l(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-background to-primary/5",children:s.jsxs(ie,{className:"w-full max-w-md mx-4",children:[s.jsxs(me,{children:[s.jsx(pe,{className:"text-2xl",children:"Omnichat IA"}),s.jsx(Ie,{children:"Entre ou crie sua conta para continuar"})]}),s.jsxs(ue,{children:[s.jsxs(Na,{defaultValue:"signin",className:"w-full",children:[s.jsxs(Jn,{className:"grid w-full grid-cols-2",children:[s.jsx(et,{value:"signin",children:"Entrar"}),s.jsx(et,{value:"signup",children:"Cadastrar"})]}),s.jsx(dt,{value:"signin",children:s.jsxs("form",{onSubmit:m,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"signin-email",children:"Email"}),s.jsx(Be,{id:"signin-email",type:"email",placeholder:"seu@email.com",value:e,onChange:v=>t(v.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"signin-password",children:"Senha"}),s.jsx(Be,{id:"signin-password",type:"password",placeholder:"••••••",value:r,onChange:v=>n(v.target.value),required:!0})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Bc,{id:"remember-me",checked:c,onCheckedChange:v=>u(v)}),s.jsx(fe,{htmlFor:"remember-me",className:"text-sm font-normal",children:"Permanecer logado"})]}),s.jsx(X,{type:"submit",className:"w-full",disabled:o,children:o?"Entrando...":"Entrar"})]})}),s.jsx(dt,{value:"signup",children:s.jsxs("form",{onSubmit:h,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"signup-name",children:"Nome completo"}),s.jsx(Be,{id:"signup-name",type:"text",placeholder:"Seu nome",value:a,onChange:v=>i(v.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"signup-email",children:"Email"}),s.jsx(Be,{id:"signup-email",type:"email",placeholder:"seu@email.com",value:e,onChange:v=>t(v.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"signup-password",children:"Senha"}),s.jsx(Be,{id:"signup-password",type:"password",placeholder:"••••••",value:r,onChange:v=>n(v.target.value),required:!0})]}),s.jsx(X,{type:"submit",className:"w-full",disabled:o,children:o?"Cadastrando...":"Cadastrar"})]})})]}),s.jsx("div",{className:"mt-6 pt-4 border-t text-center",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Ao continuar, você concorda com nossa"," ",s.jsx("a",{href:"/privacy-policy",className:"text-primary hover:underline",target:"_blank",rel:"noopener noreferrer",children:"Política de Privacidade"})]})})]})]})})}function d4e(){return s.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsx(pe,{className:"text-3xl font-bold",children:"Política de Privacidade"}),s.jsxs(Ie,{children:["Última atualização: ",new Date().toLocaleDateString("pt-BR")]})]}),s.jsxs(ue,{className:"space-y-6",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"1. Informações Gerais"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:'Esta Política de Privacidade descreve como o Omnichat IA ("nós", "nosso" ou "a empresa") coleta, usa, armazena e protege suas informações pessoais quando você utiliza nossos serviços.'})]}),s.jsx(xr,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"2. Informações que Coletamos"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium mb-2",children:"2.1 Informações Pessoais"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1",children:[s.jsx("li",{children:"Nome completo"}),s.jsx("li",{children:"Endereço de e-mail"}),s.jsx("li",{children:"Informações de perfil (quando fornecidas)"}),s.jsx("li",{children:"Credenciais de integração com plataformas sociais"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium mb-2",children:"2.2 Informações Técnicas"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1",children:[s.jsx("li",{children:"Endereço IP"}),s.jsx("li",{children:"Tipo de navegador e versão"}),s.jsx("li",{children:"Sistema operacional"}),s.jsx("li",{children:"Data e hora de acesso"}),s.jsx("li",{children:"Páginas visitadas"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium mb-2",children:"2.3 Dados de Integração"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1",children:[s.jsx("li",{children:"Tokens de acesso das plataformas sociais (Instagram, WhatsApp, Facebook)"}),s.jsx("li",{children:"IDs de páginas e perfis conectados"}),s.jsx("li",{children:"Configurações de canais de comunicação"})]})]})]})]}),s.jsx(xr,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"3. Como Utilizamos Suas Informações"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-2",children:[s.jsx("li",{children:"Fornecer e melhorar nossos serviços de comunicação omnichannel"}),s.jsx("li",{children:"Gerenciar suas integrações com plataformas sociais"}),s.jsx("li",{children:"Processar e enviar mensagens através dos canais conectados"}),s.jsx("li",{children:"Autenticar sua identidade e manter a segurança da conta"}),s.jsx("li",{children:"Comunicar atualizações importantes sobre nossos serviços"}),s.jsx("li",{children:"Fornecer suporte técnico quando necessário"}),s.jsx("li",{children:"Analisar o uso da plataforma para melhorias"})]})]}),s.jsx(xr,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"4. Compartilhamento de Informações"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"Não vendemos, alugamos ou compartilhamos suas informações pessoais com terceiros, exceto nas seguintes circunstâncias:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Prestadores de serviços:"})," Empresas que nos ajudam a operar nossa plataforma (ex: Supabase, Vercel)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Plataformas sociais:"})," Quando você conecta suas contas (Instagram, WhatsApp, Facebook)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Obrigação legal:"})," Quando exigido por lei ou processo legal"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Proteção de direitos:"})," Para proteger nossos direitos, propriedade ou segurança"]})]})]}),s.jsx(xr,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"5. Segurança dos Dados"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Implementamos medidas de segurança técnicas e organizacionais para proteger suas informações:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1",children:[s.jsx("li",{children:"Criptografia de dados em trânsito e em repouso"}),s.jsx("li",{children:"Autenticação segura e controle de acesso"}),s.jsx("li",{children:"Monitoramento regular de segurança"}),s.jsx("li",{children:"Backup seguro e recuperação de dados"}),s.jsx("li",{children:"Treinamento de equipe em práticas de segurança"})]})]})]}),s.jsx(xr,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"6. Seus Direitos"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"Você tem os seguintes direitos em relação às suas informações pessoais:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Acesso:"})," Solicitar uma cópia dos dados que temos sobre você"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Retificação:"})," Corrigir informações incorretas ou incompletas"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Exclusão:"})," Solicitar a remoção de seus dados pessoais"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Portabilidade:"})," Receber seus dados em formato estruturado"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Oposição:"})," Opor-se ao processamento de seus dados"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Restrição:"})," Limitar como processamos suas informações"]})]})]}),s.jsx(xr,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"7. Retenção de Dados"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Mantemos suas informações pessoais apenas pelo tempo necessário para cumprir os propósitos descritos nesta política, a menos que um período de retenção mais longo seja exigido por lei. Dados de integração são mantidos enquanto sua conta estiver ativa e você mantiver as conexões com as plataformas sociais."})]}),s.jsx(xr,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"8. Cookies e Tecnologias Similares"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Utilizamos cookies e tecnologias similares para melhorar sua experiência, analisar o uso da plataforma e personalizar conteúdo. Você pode controlar o uso de cookies através das configurações do seu navegador."})]}),s.jsx(xr,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"9. Alterações nesta Política"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Podemos atualizar esta Política de Privacidade periodicamente. Notificaremos sobre mudanças significativas através de e-mail ou aviso em nossa plataforma. A data da última atualização está indicada no início deste documento."})]}),s.jsx(xr,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"10. Contato"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Se você tiver dúvidas sobre esta Política de Privacidade ou sobre como tratamos suas informações pessoais, entre em contato conosco:"}),s.jsxs("div",{className:"mt-4 p-4 bg-muted rounded-lg",children:[s.jsx("p",{className:"font-medium",children:"Omnichat IA"}),s.jsx("p",{children:"E-mail: privacidade@omnichat-ia.com"}),s.jsx("p",{children:"Suporte: suporte@omnichat-ia.com"})]})]})]})]})})}const f4e=()=>{const e=Nl();return g.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),s.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),s.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},h4e=new hee({defaultOptions:{queries:{staleTime:60*1e3}}}),m4e=()=>s.jsx(mee,{client:h4e,children:s.jsx(j6,{children:s.jsxs(bne,{children:[s.jsx(NJ,{}),s.jsx(_te,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:s.jsxs(pte,{children:[s.jsx(Ln,{path:"/auth",element:s.jsx(u4e,{})}),s.jsx(Ln,{path:"/privacy-policy",element:s.jsx(d4e,{})}),s.jsx(Ln,{path:"/",element:s.jsx(zs,{children:s.jsx(Ds,{children:s.jsx(aTe,{})})})}),s.jsx(Ln,{path:"/inbox",element:s.jsx(zs,{children:s.jsx(Ds,{children:s.jsx(r$e,{})})})}),s.jsx(Ln,{path:"/contacts",element:s.jsx(zs,{children:s.jsx(Ds,{children:s.jsx(bo,{permission:"canManageContacts",children:s.jsx(AMe,{})})})})}),s.jsx(Ln,{path:"/campaigns",element:s.jsx(zs,{children:s.jsx(Ds,{children:s.jsx(bo,{permission:"canManageCampaigns",children:s.jsx(DMe,{})})})})}),s.jsx(Ln,{path:"/prospects",element:s.jsx(zs,{children:s.jsx(Ds,{children:s.jsx(bo,{permission:"canCreateProspects",children:s.jsx(UMe,{})})})})}),s.jsx(Ln,{path:"/attendants",element:s.jsx(zs,{children:s.jsx(Ds,{children:s.jsx(bo,{permission:"canManageAttendants",children:s.jsx(KMe,{})})})})}),s.jsx(Ln,{path:"/crm",element:s.jsx(zs,{children:s.jsx(Ds,{children:s.jsx(bo,{permission:"canManageCRM",children:s.jsx(YMe,{})})})})}),s.jsx(Ln,{path:"/settings",element:s.jsx(zs,{children:s.jsx(Ds,{children:s.jsx(bo,{permission:"canManageSettings",children:s.jsx(t4e,{})})})})}),s.jsx(Ln,{path:"/agents",element:s.jsx(zs,{children:s.jsx(Ds,{children:s.jsx(bo,{permission:"canManageAIAgents",children:s.jsx(n4e,{})})})})}),s.jsx(Ln,{path:"/integrations",element:s.jsx(zs,{children:s.jsx(Ds,{children:s.jsx(bo,{permission:"canManageIntegrations",children:s.jsx(c4e,{})})})})}),s.jsx(Ln,{path:"*",element:s.jsx(f4e,{})})]})})]})})});OD(document.getElementById("root")).render(s.jsx(g.StrictMode,{children:s.jsx(m4e,{})}));
