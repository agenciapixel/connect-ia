# GitHub Actions desabilitado - usando Git Deploy da Hostinger
# O Git Deploy da Hostinger √© mais confi√°vel e n√£o requer credenciais FTP

name: Build Only (Git Deploy da Hostinger)

on:
  push:
    branches: [ main ]
  workflow_dispatch:

jobs:
  build-only:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v4
      
    - name: Setup Node.js
      uses: actions/setup-node@v4
      with:
        node-version: '20'
        
    - name: Install dependencies
      run: npm install
      
    - name: Build project
      run: npm run build
      
    - name: Copy dist files to root for Hostinger Git Deploy
      run: |
        echo "üìÅ Copiando arquivos da pasta dist/ para a raiz..."
        cp -r dist/* . || echo "‚ö†Ô∏è Erro ao copiar arquivos"
        ls -la
        echo "‚úÖ Arquivos copiados para a raiz"
        
    - name: Commit built files locally
      run: |
        git config --local user.email "action@github.com"
        git config --local user.name "GitHub Action"
        git add .
        git commit -m "Build: Deploy compiled files to root for Hostinger Git Deploy" || exit 0
        echo "‚úÖ Arquivos compilados commitados na raiz"
        
    - name: Notify build completion
      run: |
        echo "‚úÖ Build conclu√≠do!"
        echo "üìÅ Arquivos compilados copiados para a raiz"
        echo "‚ö†Ô∏è  Push manual necess√°rio para atualizar reposit√≥rio"
        echo "üìã Pr√≥ximos passos:"
        echo "   1. Fazer pull do reposit√≥rio local"
        echo "   2. Fazer push para atualizar GitHub"
        echo "   3. Git Deploy da Hostinger far√° deploy autom√°tico"
        echo "   4. Arquivos estar√£o dispon√≠veis em:"
        echo "      - https://connectia.agenciapixel.digital/assets/index-AY6h670N.js"
        echo "      - https://connectia.agenciapixel.digital/assets/index-BE4tGbRk.css"
        echo "      - https://connectia.agenciapixel.digital/favicon.ico"
        echo "üåê Site: https://connectia.agenciapixel.digital"