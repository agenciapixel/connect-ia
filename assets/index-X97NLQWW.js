(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function t(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(n){if(n.ep)return;n.ep=!0;const a=t(n);fetch(n.href,a)}})();(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function t(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(n){if(n.ep)return;n.ep=!0;const a=t(n);fetch(n.href,a)}})();(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function t(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(n){if(n.ep)return;n.ep=!0;const a=t(n);fetch(n.href,a)}})();(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function t(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(n){if(n.ep)return;n.ep=!0;const a=t(n);fetch(n.href,a)}})();function w7(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var pn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ot(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function j7(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var AR={exports:{}},pt={};/**
* @license React
* react.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Ap=Symbol.for("react.element"),N7=Symbol.for("react.portal"),_7=Symbol.for("react.fragment"),k7=Symbol.for("react.strict_mode"),S7=Symbol.for("react.profiler"),O7=Symbol.for("react.provider"),C7=Symbol.for("react.context"),E7=Symbol.for("react.forward_ref"),A7=Symbol.for("react.suspense"),P7=Symbol.for("react.memo"),T7=Symbol.for("react.lazy"),WO=Symbol.iterator;function M7(e){return e===null||typeof e!="object"?null:(e=WO&&e[WO]||e["@@iterator"],typeof e=="function"?e:null)}var PR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},TR=Object.assign,MR={};function xf(e,t,r){this.props=e,this.context=t,this.refs=MR,this.updater=r||PR}xf.prototype.isReactComponent={};xf.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};xf.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function RR(){}RR.prototype=xf.prototype;function uk(e,t,r){this.props=e,this.context=t,this.refs=MR,this.updater=r||PR}var dk=uk.prototype=new RR;dk.constructor=uk;TR(dk,xf.prototype);dk.isPureReactComponent=!0;var HO=Array.isArray,IR=Object.prototype.hasOwnProperty,fk={current:null},DR={key:!0,ref:!0,__self:!0,__source:!0};function LR(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)IR.call(t,n)&&!DR.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Ap,type:e,key:i,ref:o,props:a,_owner:fk.current}}function R7(e,t){return{$$typeof:Ap,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function hk(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ap}function I7(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var KO=/\/+/g;function H0(e,t){return typeof e=="object"&&e!==null&&e.key!=null?I7(""+e.key):t.toString(36)}function fv(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ap:case N7:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+H0(o,0):n,HO(a)?(r="",e!=null&&(r=e.replace(KO,"$&/")+"/"),fv(a,t,r,"",function(u){return u})):a!=null&&(hk(a)&&(a=R7(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(KO,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",HO(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+H0(i,l);o+=fv(i,t,r,c,a)}else if(c=M7(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+H0(i,l++),o+=fv(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function pg(e,t,r){if(e==null)return e;var n=[],a=0;return fv(e,n,"","",function(i){return t.call(r,i,a++)}),n}function D7(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var En={current:null},hv={transition:null},L7={ReactCurrentDispatcher:En,ReactCurrentBatchConfig:hv,ReactCurrentOwner:fk};function zR(){throw Error("act(...) is not supported in production builds of React.")}pt.Children={map:pg,forEach:function(e,t,r){pg(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return pg(e,function(){t++}),t},toArray:function(e){return pg(e,function(t){return t})||[]},only:function(e){if(!hk(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};pt.Component=xf;pt.Fragment=_7;pt.Profiler=S7;pt.PureComponent=uk;pt.StrictMode=k7;pt.Suspense=A7;pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L7;pt.act=zR;pt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=TR({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=fk.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)IR.call(t,c)&&!DR.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Ap,type:e.type,key:a,ref:i,props:n,_owner:o}};pt.createContext=function(e){return e={$$typeof:C7,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:O7,_context:e},e.Consumer=e};pt.createElement=LR;pt.createFactory=function(e){var t=LR.bind(null,e);return t.type=e,t};pt.createRef=function(){return{current:null}};pt.forwardRef=function(e){return{$$typeof:E7,render:e}};pt.isValidElement=hk;pt.lazy=function(e){return{$$typeof:T7,_payload:{_status:-1,_result:e},_init:D7}};pt.memo=function(e,t){return{$$typeof:P7,type:e,compare:t===void 0?null:t}};pt.startTransition=function(e){var t=hv.transition;hv.transition={};try{e()}finally{hv.transition=t}};pt.unstable_act=zR;pt.useCallback=function(e,t){return En.current.useCallback(e,t)};pt.useContext=function(e){return En.current.useContext(e)};pt.useDebugValue=function(){};pt.useDeferredValue=function(e){return En.current.useDeferredValue(e)};pt.useEffect=function(e,t){return En.current.useEffect(e,t)};pt.useId=function(){return En.current.useId()};pt.useImperativeHandle=function(e,t,r){return En.current.useImperativeHandle(e,t,r)};pt.useInsertionEffect=function(e,t){return En.current.useInsertionEffect(e,t)};pt.useLayoutEffect=function(e,t){return En.current.useLayoutEffect(e,t)};pt.useMemo=function(e,t){return En.current.useMemo(e,t)};pt.useReducer=function(e,t,r){return En.current.useReducer(e,t,r)};pt.useRef=function(e){return En.current.useRef(e)};pt.useState=function(e){return En.current.useState(e)};pt.useSyncExternalStore=function(e,t,r){return En.current.useSyncExternalStore(e,t,r)};pt.useTransition=function(){return En.current.useTransition()};pt.version="18.3.1";AR.exports=pt;var g=AR.exports;const C=Ot(g),mk=w7({__proto__:null,default:C},[g]);var FR={exports:{}},Sa={},$R={exports:{}},qR={};/**
* @license React
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/(function(e){function t(z,I){var G=z.length;z.push(I);e:for(;0<G;){var L=G-1>>>1,$=z[L];if(0<a($,I))z[L]=I,z[G]=$,G=L;else break e}}function r(z){return z.length===0?null:z[0]}function n(z){if(z.length===0)return null;var I=z[0],G=z.pop();if(G!==I){z[0]=G;e:for(var L=0,$=z.length,J=$>>>1;L<J;){var K=2*(L+1)-1,D=z[K],oe=K+1,V=z[oe];if(0>a(D,G))oe<$&&0>a(V,D)?(z[L]=V,z[oe]=G,L=oe):(z[L]=D,z[K]=G,L=K);else if(oe<$&&0>a(V,G))z[L]=V,z[oe]=G,L=oe;else break e}}return I}function a(z,I){var G=z.sortIndex-I.sortIndex;return G!==0?G:z.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,v=!1,p=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(z){for(var I=r(u);I!==null;){if(I.callback===null)n(u);else if(I.startTime<=z)n(u),I.sortIndex=I.expirationTime,t(c,I);else break;I=r(u)}}function j(z){if(p=!1,w(z),!v)if(r(c)!==null)v=!0,U(N);else{var I=r(u);I!==null&&F(j,I.startTime-z)}}function N(z,I){v=!1,p&&(p=!1,x(O),O=-1),m=!0;var G=h;try{for(w(I),f=r(c);f!==null&&(!(f.expirationTime>I)||z&&!P());){var L=f.callback;if(typeof L=="function"){f.callback=null,h=f.priorityLevel;var $=L(f.expirationTime<=I);I=e.unstable_now(),typeof $=="function"?f.callback=$:f===r(c)&&n(c),w(I)}else n(c);f=r(c)}if(f!==null)var J=!0;else{var K=r(u);K!==null&&F(j,K.startTime-I),J=!1}return J}finally{f=null,h=G,m=!1}}var _=!1,k=null,O=-1,E=5,T=-1;function P(){return!(e.unstable_now()-T<E)}function S(){if(k!==null){var z=e.unstable_now();T=z;var I=!0;try{I=k(!0,z)}finally{I?R():(_=!1,k=null)}}else _=!1}var R;if(typeof y=="function")R=function(){y(S)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,B=M.port2;M.port1.onmessage=S,R=function(){B.postMessage(null)}}else R=function(){b(S,0)};function U(z){k=z,_||(_=!0,R())}function F(z,I){O=b(function(){z(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,U(N))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(z){switch(h){case 1:case 2:case 3:var I=3;break;default:I=h}var G=h;h=I;try{return z()}finally{h=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,I){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var G=h;h=z;try{return I()}finally{h=G}},e.unstable_scheduleCallback=function(z,I,G){var L=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?L+G:L):G=L,z){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=G+$,z={id:d++,callback:I,priorityLevel:z,startTime:G,expirationTime:$,sortIndex:-1},G>L?(z.sortIndex=G,t(u,z),r(c)===null&&z===r(u)&&(p?(x(O),O=-1):p=!0,F(j,G-L))):(z.sortIndex=$,t(c,z),v||m||(v=!0,U(N))),z},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(z){var I=h;return function(){var G=h;h=I;try{return z.apply(this,arguments)}finally{h=G}}}})(qR);$R.exports=qR;var z7=$R.exports;/**
* @license React
* react-dom.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var F7=g,ja=z7;function Ne(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var BR=new Set,fm={};function Uc(e,t){bd(e,t),bd(e+"Capture",t)}function bd(e,t){for(fm[e]=t,e=0;e<t.length;e++)BR.add(t[e])}var Vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tj=Object.prototype.hasOwnProperty,$7=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,GO={},ZO={};function q7(e){return Tj.call(ZO,e)?!0:Tj.call(GO,e)?!1:$7.test(e)?ZO[e]=!0:(GO[e]=!0,!1)}function B7(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function U7(e,t,r,n){if(t===null||typeof t>"u"||B7(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function An(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var on={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){on[e]=new An(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];on[t]=new An(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){on[e]=new An(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){on[e]=new An(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){on[e]=new An(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){on[e]=new An(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){on[e]=new An(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){on[e]=new An(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){on[e]=new An(e,5,!1,e.toLowerCase(),null,!1,!1)});var pk=/[\-:]([a-z])/g;function gk(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(pk,gk);on[t]=new An(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(pk,gk);on[t]=new An(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(pk,gk);on[t]=new An(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){on[e]=new An(e,1,!1,e.toLowerCase(),null,!1,!1)});on.xlinkHref=new An("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){on[e]=new An(e,1,!1,e.toLowerCase(),null,!0,!0)});function vk(e,t,r,n){var a=on.hasOwnProperty(t)?on[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(U7(t,r,a,n)&&(r=null),n||a===null?q7(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ro=F7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gg=Symbol.for("react.element"),qu=Symbol.for("react.portal"),Bu=Symbol.for("react.fragment"),yk=Symbol.for("react.strict_mode"),Mj=Symbol.for("react.profiler"),UR=Symbol.for("react.provider"),VR=Symbol.for("react.context"),xk=Symbol.for("react.forward_ref"),Rj=Symbol.for("react.suspense"),Ij=Symbol.for("react.suspense_list"),bk=Symbol.for("react.memo"),_o=Symbol.for("react.lazy"),WR=Symbol.for("react.offscreen"),XO=Symbol.iterator;function Jf(e){return e===null||typeof e!="object"?null:(e=XO&&e[XO]||e["@@iterator"],typeof e=="function"?e:null)}var ur=Object.assign,K0;function Ih(e){if(K0===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);K0=t&&t[1]||""}return`
`+K0+e}var G0=!1;function Z0(e,t){if(!e||G0)return"";G0=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{G0=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ih(e):""}function V7(e){switch(e.tag){case 5:return Ih(e.type);case 16:return Ih("Lazy");case 13:return Ih("Suspense");case 19:return Ih("SuspenseList");case 0:case 2:case 15:return e=Z0(e.type,!1),e;case 11:return e=Z0(e.type.render,!1),e;case 1:return e=Z0(e.type,!0),e;default:return""}}function Dj(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Bu:return"Fragment";case qu:return"Portal";case Mj:return"Profiler";case yk:return"StrictMode";case Rj:return"Suspense";case Ij:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case VR:return(e.displayName||"Context")+".Consumer";case UR:return(e._context.displayName||"Context")+".Provider";case xk:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case bk:return t=e.displayName||null,t!==null?t:Dj(e.type)||"Memo";case _o:t=e._payload,e=e._init;try{return Dj(e(t))}catch{}}return null}function W7(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Dj(t);case 8:return t===yk?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function al(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function HR(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function H7(e){var t=HR(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function vg(e){e._valueTracker||(e._valueTracker=H7(e))}function KR(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=HR(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Rv(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Lj(e,t){var r=t.checked;return ur({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function YO(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=al(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function GR(e,t){t=t.checked,t!=null&&vk(e,"checked",t,!1)}function zj(e,t){GR(e,t);var r=al(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Fj(e,t.type,r):t.hasOwnProperty("defaultValue")&&Fj(e,t.type,al(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function QO(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Fj(e,t,r){(t!=="number"||Rv(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Dh=Array.isArray;function ad(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+al(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function $j(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ne(91));return ur({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function JO(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Ne(92));if(Dh(r)){if(1<r.length)throw Error(Ne(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:al(r)}}function ZR(e,t){var r=al(t.value),n=al(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function eC(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function XR(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qj(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?XR(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var yg,YR=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(yg=yg||document.createElement("div"),yg.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=yg.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function hm(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Uh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},K7=["Webkit","ms","Moz","O"];Object.keys(Uh).forEach(function(e){K7.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Uh[t]=Uh[e]})});function QR(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Uh.hasOwnProperty(e)&&Uh[e]?(""+t).trim():t+"px"}function JR(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=QR(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var G7=ur({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bj(e,t){if(t){if(G7[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ne(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ne(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ne(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ne(62))}}function Uj(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vj=null;function wk(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Wj=null,sd=null,id=null;function tC(e){if(e=Mp(e)){if(typeof Wj!="function")throw Error(Ne(280));var t=e.stateNode;t&&(t=Wx(t),Wj(e.stateNode,e.type,t))}}function e5(e){sd?id?id.push(e):id=[e]:sd=e}function t5(){if(sd){var e=sd,t=id;if(id=sd=null,tC(e),t)for(e=0;e<t.length;e++)tC(t[e])}}function r5(e,t){return e(t)}function n5(){}var X0=!1;function a5(e,t,r){if(X0)return e(t,r);X0=!0;try{return r5(e,t,r)}finally{X0=!1,(sd!==null||id!==null)&&(n5(),t5())}}function mm(e,t){var r=e.stateNode;if(r===null)return null;var n=Wx(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Ne(231,t,typeof r));return r}var Hj=!1;if(Vi)try{var eh={};Object.defineProperty(eh,"passive",{get:function(){Hj=!0}}),window.addEventListener("test",eh,eh),window.removeEventListener("test",eh,eh)}catch{Hj=!1}function Z7(e,t,r,n,a,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Vh=!1,Iv=null,Dv=!1,Kj=null,X7={onError:function(e){Vh=!0,Iv=e}};function Y7(e,t,r,n,a,i,o,l,c){Vh=!1,Iv=null,Z7.apply(X7,arguments)}function Q7(e,t,r,n,a,i,o,l,c){if(Y7.apply(this,arguments),Vh){if(Vh){var u=Iv;Vh=!1,Iv=null}else throw Error(Ne(198));Dv||(Dv=!0,Kj=u)}}function Vc(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function s5(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function rC(e){if(Vc(e)!==e)throw Error(Ne(188))}function J7(e){var t=e.alternate;if(!t){if(t=Vc(e),t===null)throw Error(Ne(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return rC(a),e;if(i===n)return rC(a),t;i=i.sibling}throw Error(Ne(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(Ne(189))}}if(r.alternate!==n)throw Error(Ne(190))}if(r.tag!==3)throw Error(Ne(188));return r.stateNode.current===r?e:t}function i5(e){return e=J7(e),e!==null?o5(e):null}function o5(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=o5(e);if(t!==null)return t;e=e.sibling}return null}var l5=ja.unstable_scheduleCallback,nC=ja.unstable_cancelCallback,eU=ja.unstable_shouldYield,tU=ja.unstable_requestPaint,br=ja.unstable_now,rU=ja.unstable_getCurrentPriorityLevel,jk=ja.unstable_ImmediatePriority,c5=ja.unstable_UserBlockingPriority,Lv=ja.unstable_NormalPriority,nU=ja.unstable_LowPriority,u5=ja.unstable_IdlePriority,qx=null,Js=null;function aU(e){if(Js&&typeof Js.onCommitFiberRoot=="function")try{Js.onCommitFiberRoot(qx,e,void 0,(e.current.flags&128)===128)}catch{}}var Ns=Math.clz32?Math.clz32:oU,sU=Math.log,iU=Math.LN2;function oU(e){return e>>>=0,e===0?32:31-(sU(e)/iU|0)|0}var xg=64,bg=4194304;function Lh(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function zv(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=Lh(l):(i&=o,i!==0&&(n=Lh(i)))}else o=r&~a,o!==0?n=Lh(o):i!==0&&(n=Lh(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ns(t),a=1<<r,n|=e[r],t&=~a;return n}function lU(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cU(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Ns(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=lU(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Gj(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function d5(){var e=xg;return xg<<=1,!(xg&4194240)&&(xg=64),e}function Y0(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Pp(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ns(t),e[t]=r}function uU(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Ns(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function Nk(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ns(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Tt=0;function f5(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var h5,_k,m5,p5,g5,Zj=!1,wg=[],qo=null,Bo=null,Uo=null,pm=new Map,gm=new Map,Eo=[],dU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function aC(e,t){switch(e){case"focusin":case"focusout":qo=null;break;case"dragenter":case"dragleave":Bo=null;break;case"mouseover":case"mouseout":Uo=null;break;case"pointerover":case"pointerout":pm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gm.delete(t.pointerId)}}function th(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Mp(t),t!==null&&_k(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function fU(e,t,r,n,a){switch(t){case"focusin":return qo=th(qo,e,t,r,n,a),!0;case"dragenter":return Bo=th(Bo,e,t,r,n,a),!0;case"mouseover":return Uo=th(Uo,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return pm.set(i,th(pm.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,gm.set(i,th(gm.get(i)||null,e,t,r,n,a)),!0}return!1}function v5(e){var t=ac(e.target);if(t!==null){var r=Vc(t);if(r!==null){if(t=r.tag,t===13){if(t=s5(r),t!==null){e.blockedOn=t,g5(e.priority,function(){m5(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function mv(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Xj(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Vj=n,r.target.dispatchEvent(n),Vj=null}else return t=Mp(r),t!==null&&_k(t),e.blockedOn=r,!1;t.shift()}return!0}function sC(e,t,r){mv(e)&&r.delete(t)}function hU(){Zj=!1,qo!==null&&mv(qo)&&(qo=null),Bo!==null&&mv(Bo)&&(Bo=null),Uo!==null&&mv(Uo)&&(Uo=null),pm.forEach(sC),gm.forEach(sC)}function rh(e,t){e.blockedOn===t&&(e.blockedOn=null,Zj||(Zj=!0,ja.unstable_scheduleCallback(ja.unstable_NormalPriority,hU)))}function vm(e){function t(a){return rh(a,e)}if(0<wg.length){rh(wg[0],e);for(var r=1;r<wg.length;r++){var n=wg[r];n.blockedOn===e&&(n.blockedOn=null)}}for(qo!==null&&rh(qo,e),Bo!==null&&rh(Bo,e),Uo!==null&&rh(Uo,e),pm.forEach(t),gm.forEach(t),r=0;r<Eo.length;r++)n=Eo[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Eo.length&&(r=Eo[0],r.blockedOn===null);)v5(r),r.blockedOn===null&&Eo.shift()}var od=ro.ReactCurrentBatchConfig,Fv=!0;function mU(e,t,r,n){var a=Tt,i=od.transition;od.transition=null;try{Tt=1,kk(e,t,r,n)}finally{Tt=a,od.transition=i}}function pU(e,t,r,n){var a=Tt,i=od.transition;od.transition=null;try{Tt=4,kk(e,t,r,n)}finally{Tt=a,od.transition=i}}function kk(e,t,r,n){if(Fv){var a=Xj(e,t,r,n);if(a===null)ow(e,t,n,$v,r),aC(e,n);else if(fU(a,e,t,r,n))n.stopPropagation();else if(aC(e,n),t&4&&-1<dU.indexOf(e)){for(;a!==null;){var i=Mp(a);if(i!==null&&h5(i),i=Xj(e,t,r,n),i===null&&ow(e,t,n,$v,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else ow(e,t,n,null,r)}}var $v=null;function Xj(e,t,r,n){if($v=null,e=wk(n),e=ac(e),e!==null)if(t=Vc(e),t===null)e=null;else if(r=t.tag,r===13){if(e=s5(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $v=e,null}function y5(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rU()){case jk:return 1;case c5:return 4;case Lv:case nU:return 16;case u5:return 536870912;default:return 16}default:return 16}}var Mo=null,Sk=null,pv=null;function x5(){if(pv)return pv;var e,t=Sk,r=t.length,n,a="value"in Mo?Mo.value:Mo.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return pv=a.slice(e,1<n?1-n:void 0)}function gv(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function jg(){return!0}function iC(){return!1}function Oa(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?jg:iC,this.isPropagationStopped=iC,this}return ur(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=jg)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=jg)},persist:function(){},isPersistent:jg}),t}var bf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ok=Oa(bf),Tp=ur({},bf,{view:0,detail:0}),gU=Oa(Tp),Q0,J0,nh,Bx=ur({},Tp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ck,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==nh&&(nh&&e.type==="mousemove"?(Q0=e.screenX-nh.screenX,J0=e.screenY-nh.screenY):J0=Q0=0,nh=e),Q0)},movementY:function(e){return"movementY"in e?e.movementY:J0}}),oC=Oa(Bx),vU=ur({},Bx,{dataTransfer:0}),yU=Oa(vU),xU=ur({},Tp,{relatedTarget:0}),ew=Oa(xU),bU=ur({},bf,{animationName:0,elapsedTime:0,pseudoElement:0}),wU=Oa(bU),jU=ur({},bf,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),NU=Oa(jU),_U=ur({},bf,{data:0}),lC=Oa(_U),kU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},SU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},OU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CU(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=OU[e])?!!t[e]:!1}function Ck(){return CU}var EU=ur({},Tp,{key:function(e){if(e.key){var t=kU[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=gv(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?SU[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ck,charCode:function(e){return e.type==="keypress"?gv(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gv(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),AU=Oa(EU),PU=ur({},Bx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cC=Oa(PU),TU=ur({},Tp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ck}),MU=Oa(TU),RU=ur({},bf,{propertyName:0,elapsedTime:0,pseudoElement:0}),IU=Oa(RU),DU=ur({},Bx,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),LU=Oa(DU),zU=[9,13,27,32],Ek=Vi&&"CompositionEvent"in window,Wh=null;Vi&&"documentMode"in document&&(Wh=document.documentMode);var FU=Vi&&"TextEvent"in window&&!Wh,b5=Vi&&(!Ek||Wh&&8<Wh&&11>=Wh),uC=" ",dC=!1;function w5(e,t){switch(e){case"keyup":return zU.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function j5(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Uu=!1;function $U(e,t){switch(e){case"compositionend":return j5(t);case"keypress":return t.which!==32?null:(dC=!0,uC);case"textInput":return e=t.data,e===uC&&dC?null:e;default:return null}}function qU(e,t){if(Uu)return e==="compositionend"||!Ek&&w5(e,t)?(e=x5(),pv=Sk=Mo=null,Uu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return b5&&t.locale!=="ko"?null:t.data;default:return null}}var BU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!BU[e.type]:t==="textarea"}function N5(e,t,r,n){e5(n),t=qv(t,"onChange"),0<t.length&&(r=new Ok("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Hh=null,ym=null;function UU(e){R5(e,0)}function Ux(e){var t=Hu(e);if(KR(t))return e}function VU(e,t){if(e==="change")return t}var _5=!1;if(Vi){var tw;if(Vi){var rw="oninput"in document;if(!rw){var hC=document.createElement("div");hC.setAttribute("oninput","return;"),rw=typeof hC.oninput=="function"}tw=rw}else tw=!1;_5=tw&&(!document.documentMode||9<document.documentMode)}function mC(){Hh&&(Hh.detachEvent("onpropertychange",k5),ym=Hh=null)}function k5(e){if(e.propertyName==="value"&&Ux(ym)){var t=[];N5(t,ym,e,wk(e)),a5(UU,t)}}function WU(e,t,r){e==="focusin"?(mC(),Hh=t,ym=r,Hh.attachEvent("onpropertychange",k5)):e==="focusout"&&mC()}function HU(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ux(ym)}function KU(e,t){if(e==="click")return Ux(t)}function GU(e,t){if(e==="input"||e==="change")return Ux(t)}function ZU(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Os=typeof Object.is=="function"?Object.is:ZU;function xm(e,t){if(Os(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Tj.call(t,a)||!Os(e[a],t[a]))return!1}return!0}function pC(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gC(e,t){var r=pC(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=pC(r)}}function S5(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?S5(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function O5(){for(var e=window,t=Rv();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Rv(e.document)}return t}function Ak(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function XU(e){var t=O5(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&S5(r.ownerDocument.documentElement,r)){if(n!==null&&Ak(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=gC(r,i);var o=gC(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var YU=Vi&&"documentMode"in document&&11>=document.documentMode,Vu=null,Yj=null,Kh=null,Qj=!1;function vC(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Qj||Vu==null||Vu!==Rv(n)||(n=Vu,"selectionStart"in n&&Ak(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Kh&&xm(Kh,n)||(Kh=n,n=qv(Yj,"onSelect"),0<n.length&&(t=new Ok("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Vu)))}function Ng(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Wu={animationend:Ng("Animation","AnimationEnd"),animationiteration:Ng("Animation","AnimationIteration"),animationstart:Ng("Animation","AnimationStart"),transitionend:Ng("Transition","TransitionEnd")},nw={},C5={};Vi&&(C5=document.createElement("div").style,"AnimationEvent"in window||(delete Wu.animationend.animation,delete Wu.animationiteration.animation,delete Wu.animationstart.animation),"TransitionEvent"in window||delete Wu.transitionend.transition);function Vx(e){if(nw[e])return nw[e];if(!Wu[e])return e;var t=Wu[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in C5)return nw[e]=t[r];return e}var E5=Vx("animationend"),A5=Vx("animationiteration"),P5=Vx("animationstart"),T5=Vx("transitionend"),M5=new Map,yC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vl(e,t){M5.set(e,t),Uc(t,[e])}for(var aw=0;aw<yC.length;aw++){var sw=yC[aw],QU=sw.toLowerCase(),JU=sw[0].toUpperCase()+sw.slice(1);vl(QU,"on"+JU)}vl(E5,"onAnimationEnd");vl(A5,"onAnimationIteration");vl(P5,"onAnimationStart");vl("dblclick","onDoubleClick");vl("focusin","onFocus");vl("focusout","onBlur");vl(T5,"onTransitionEnd");bd("onMouseEnter",["mouseout","mouseover"]);bd("onMouseLeave",["mouseout","mouseover"]);bd("onPointerEnter",["pointerout","pointerover"]);bd("onPointerLeave",["pointerout","pointerover"]);Uc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Uc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Uc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Uc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Uc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Uc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eV=new Set("cancel close invalid load scroll toggle".split(" ").concat(zh));function xC(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Q7(n,t,void 0,e),e.currentTarget=null}function R5(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;xC(a,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;xC(a,l,u),i=c}}}if(Dv)throw e=Kj,Dv=!1,Kj=null,e}function Kt(e,t){var r=t[n1];r===void 0&&(r=t[n1]=new Set);var n=e+"__bubble";r.has(n)||(I5(t,e,2,!1),r.add(n))}function iw(e,t,r){var n=0;t&&(n|=4),I5(r,e,n,t)}var _g="_reactListening"+Math.random().toString(36).slice(2);function bm(e){if(!e[_g]){e[_g]=!0,BR.forEach(function(r){r!=="selectionchange"&&(eV.has(r)||iw(r,!1,e),iw(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[_g]||(t[_g]=!0,iw("selectionchange",!1,t))}}function I5(e,t,r,n){switch(y5(t)){case 1:var a=mU;break;case 4:a=pU;break;default:a=kk}r=a.bind(null,t,r,e),a=void 0,!Hj||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function ow(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=ac(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}a5(function(){var u=i,d=wk(r),f=[];e:{var h=M5.get(e);if(h!==void 0){var m=Ok,v=e;switch(e){case"keypress":if(gv(r)===0)break e;case"keydown":case"keyup":m=AU;break;case"focusin":v="focus",m=ew;break;case"focusout":v="blur",m=ew;break;case"beforeblur":case"afterblur":m=ew;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=oC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=yU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=MU;break;case E5:case A5:case P5:m=wU;break;case T5:m=IU;break;case"scroll":m=gU;break;case"wheel":m=LU;break;case"copy":case"cut":case"paste":m=NU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=cC}var p=(t&4)!==0,b=!p&&e==="scroll",x=p?h!==null?h+"Capture":null:h;p=[];for(var y=u,w;y!==null;){w=y;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,x!==null&&(j=mm(y,x),j!=null&&p.push(wm(y,j,w)))),b)break;y=y.return}0<p.length&&(h=new m(h,v,null,r,d),f.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==Vj&&(v=r.relatedTarget||r.fromElement)&&(ac(v)||v[Wi]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(v=r.relatedTarget||r.toElement,m=u,v=v?ac(v):null,v!==null&&(b=Vc(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(p=oC,j="onMouseLeave",x="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(p=cC,j="onPointerLeave",x="onPointerEnter",y="pointer"),b=m==null?h:Hu(m),w=v==null?h:Hu(v),h=new p(j,y+"leave",m,r,d),h.target=b,h.relatedTarget=w,j=null,ac(d)===u&&(p=new p(x,y+"enter",v,r,d),p.target=w,p.relatedTarget=b,j=p),b=j,m&&v)t:{for(p=m,x=v,y=0,w=p;w;w=ou(w))y++;for(w=0,j=x;j;j=ou(j))w++;for(;0<y-w;)p=ou(p),y--;for(;0<w-y;)x=ou(x),w--;for(;y--;){if(p===x||x!==null&&p===x.alternate)break t;p=ou(p),x=ou(x)}p=null}else p=null;m!==null&&bC(f,h,m,p,!1),v!==null&&b!==null&&bC(f,b,v,p,!0)}}e:{if(h=u?Hu(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var N=VU;else if(fC(h))if(_5)N=GU;else{N=HU;var _=WU}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=KU);if(N&&(N=N(e,u))){N5(f,N,r,d);break e}_&&_(e,h,u),e==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&Fj(h,"number",h.value)}switch(_=u?Hu(u):window,e){case"focusin":(fC(_)||_.contentEditable==="true")&&(Vu=_,Yj=u,Kh=null);break;case"focusout":Kh=Yj=Vu=null;break;case"mousedown":Qj=!0;break;case"contextmenu":case"mouseup":case"dragend":Qj=!1,vC(f,r,d);break;case"selectionchange":if(YU)break;case"keydown":case"keyup":vC(f,r,d)}var k;if(Ek)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else Uu?w5(e,r)&&(O="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(O="onCompositionStart");O&&(b5&&r.locale!=="ko"&&(Uu||O!=="onCompositionStart"?O==="onCompositionEnd"&&Uu&&(k=x5()):(Mo=d,Sk="value"in Mo?Mo.value:Mo.textContent,Uu=!0)),_=qv(u,O),0<_.length&&(O=new lC(O,e,null,r,d),f.push({event:O,listeners:_}),k?O.data=k:(k=j5(r),k!==null&&(O.data=k)))),(k=FU?$U(e,r):qU(e,r))&&(u=qv(u,"onBeforeInput"),0<u.length&&(d=new lC("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=k))}R5(f,t)})}function wm(e,t,r){return{instance:e,listener:t,currentTarget:r}}function qv(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=mm(e,r),i!=null&&n.unshift(wm(e,i,a)),i=mm(e,t),i!=null&&n.push(wm(e,i,a))),e=e.return}return n}function ou(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function bC(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=mm(r,i),c!=null&&o.unshift(wm(r,c,l))):a||(c=mm(r,i),c!=null&&o.push(wm(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var tV=/\r\n?/g,rV=/\u0000|\uFFFD/g;function wC(e){return(typeof e=="string"?e:""+e).replace(tV,`
`).replace(rV,"")}function kg(e,t,r){if(t=wC(t),wC(e)!==t&&r)throw Error(Ne(425))}function Bv(){}var Jj=null,e1=null;function t1(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var r1=typeof setTimeout=="function"?setTimeout:void 0,nV=typeof clearTimeout=="function"?clearTimeout:void 0,jC=typeof Promise=="function"?Promise:void 0,aV=typeof queueMicrotask=="function"?queueMicrotask:typeof jC<"u"?function(e){return jC.resolve(null).then(e).catch(sV)}:r1;function sV(e){setTimeout(function(){throw e})}function lw(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),vm(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);vm(t)}function Vo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function NC(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var wf=Math.random().toString(36).slice(2),Hs="__reactFiber$"+wf,jm="__reactProps$"+wf,Wi="__reactContainer$"+wf,n1="__reactEvents$"+wf,iV="__reactListeners$"+wf,oV="__reactHandles$"+wf;function ac(e){var t=e[Hs];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Wi]||r[Hs]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=NC(e);e!==null;){if(r=e[Hs])return r;e=NC(e)}return t}e=r,r=e.parentNode}return null}function Mp(e){return e=e[Hs]||e[Wi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Hu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ne(33))}function Wx(e){return e[jm]||null}var a1=[],Ku=-1;function yl(e){return{current:e}}function Yt(e){0>Ku||(e.current=a1[Ku],a1[Ku]=null,Ku--)}function qt(e,t){Ku++,a1[Ku]=e.current,e.current=t}var sl={},yn=yl(sl),Zn=yl(!1),wc=sl;function wd(e,t){var r=e.type.contextTypes;if(!r)return sl;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Xn(e){return e=e.childContextTypes,e!=null}function Uv(){Yt(Zn),Yt(yn)}function _C(e,t,r){if(yn.current!==sl)throw Error(Ne(168));qt(yn,t),qt(Zn,r)}function D5(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(Ne(108,W7(e)||"Unknown",a));return ur({},r,n)}function Vv(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||sl,wc=yn.current,qt(yn,e),qt(Zn,Zn.current),!0}function kC(e,t,r){var n=e.stateNode;if(!n)throw Error(Ne(169));r?(e=D5(e,t,wc),n.__reactInternalMemoizedMergedChildContext=e,Yt(Zn),Yt(yn),qt(yn,e)):Yt(Zn),qt(Zn,r)}var Ai=null,Hx=!1,cw=!1;function L5(e){Ai===null?Ai=[e]:Ai.push(e)}function lV(e){Hx=!0,L5(e)}function xl(){if(!cw&&Ai!==null){cw=!0;var e=0,t=Tt;try{var r=Ai;for(Tt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ai=null,Hx=!1}catch(a){throw Ai!==null&&(Ai=Ai.slice(e+1)),l5(jk,xl),a}finally{Tt=t,cw=!1}}return null}var Gu=[],Zu=0,Wv=null,Hv=0,Ia=[],Da=0,jc=null,Mi=1,Ri="";function Gl(e,t){Gu[Zu++]=Hv,Gu[Zu++]=Wv,Wv=e,Hv=t}function z5(e,t,r){Ia[Da++]=Mi,Ia[Da++]=Ri,Ia[Da++]=jc,jc=e;var n=Mi;e=Ri;var a=32-Ns(n)-1;n&=~(1<<a),r+=1;var i=32-Ns(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,Mi=1<<32-Ns(t)+a|r<<a|n,Ri=i+e}else Mi=1<<i|r<<a|n,Ri=e}function Pk(e){e.return!==null&&(Gl(e,1),z5(e,1,0))}function Tk(e){for(;e===Wv;)Wv=Gu[--Zu],Gu[Zu]=null,Hv=Gu[--Zu],Gu[Zu]=null;for(;e===jc;)jc=Ia[--Da],Ia[Da]=null,Ri=Ia[--Da],Ia[Da]=null,Mi=Ia[--Da],Ia[Da]=null}var xa=null,ya=null,rr=!1,hs=null;function F5(e,t){var r=Fa(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function SC(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,xa=e,ya=Vo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,xa=e,ya=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=jc!==null?{id:Mi,overflow:Ri}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Fa(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,xa=e,ya=null,!0):!1;default:return!1}}function s1(e){return(e.mode&1)!==0&&(e.flags&128)===0}function i1(e){if(rr){var t=ya;if(t){var r=t;if(!SC(e,t)){if(s1(e))throw Error(Ne(418));t=Vo(r.nextSibling);var n=xa;t&&SC(e,t)?F5(n,r):(e.flags=e.flags&-4097|2,rr=!1,xa=e)}}else{if(s1(e))throw Error(Ne(418));e.flags=e.flags&-4097|2,rr=!1,xa=e}}}function OC(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xa=e}function Sg(e){if(e!==xa)return!1;if(!rr)return OC(e),rr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!t1(e.type,e.memoizedProps)),t&&(t=ya)){if(s1(e))throw $5(),Error(Ne(418));for(;t;)F5(e,t),t=Vo(t.nextSibling)}if(OC(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ne(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ya=Vo(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ya=null}}else ya=xa?Vo(e.stateNode.nextSibling):null;return!0}function $5(){for(var e=ya;e;)e=Vo(e.nextSibling)}function jd(){ya=xa=null,rr=!1}function Mk(e){hs===null?hs=[e]:hs.push(e)}var cV=ro.ReactCurrentBatchConfig;function ah(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ne(309));var n=r.stateNode}if(!n)throw Error(Ne(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Ne(284));if(!r._owner)throw Error(Ne(290,e))}return e}function Og(e,t){throw e=Object.prototype.toString.call(t),Error(Ne(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function CC(e){var t=e._init;return t(e._payload)}function q5(e){function t(x,y){if(e){var w=x.deletions;w===null?(x.deletions=[y],x.flags|=16):w.push(y)}}function r(x,y){if(!e)return null;for(;y!==null;)t(x,y),y=y.sibling;return null}function n(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function a(x,y){return x=Go(x,y),x.index=0,x.sibling=null,x}function i(x,y,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<y?(x.flags|=2,y):w):(x.flags|=2,y)):(x.flags|=1048576,y)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,y,w,j){return y===null||y.tag!==6?(y=gw(w,x.mode,j),y.return=x,y):(y=a(y,w),y.return=x,y)}function c(x,y,w,j){var N=w.type;return N===Bu?d(x,y,w.props.children,j,w.key):y!==null&&(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===_o&&CC(N)===y.type)?(j=a(y,w.props),j.ref=ah(x,y,w),j.return=x,j):(j=Nv(w.type,w.key,w.props,null,x.mode,j),j.ref=ah(x,y,w),j.return=x,j)}function u(x,y,w,j){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=vw(w,x.mode,j),y.return=x,y):(y=a(y,w.children||[]),y.return=x,y)}function d(x,y,w,j,N){return y===null||y.tag!==7?(y=gc(w,x.mode,j,N),y.return=x,y):(y=a(y,w),y.return=x,y)}function f(x,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=gw(""+y,x.mode,w),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case gg:return w=Nv(y.type,y.key,y.props,null,x.mode,w),w.ref=ah(x,null,y),w.return=x,w;case qu:return y=vw(y,x.mode,w),y.return=x,y;case _o:var j=y._init;return f(x,j(y._payload),w)}if(Dh(y)||Jf(y))return y=gc(y,x.mode,w,null),y.return=x,y;Og(x,y)}return null}function h(x,y,w,j){var N=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return N!==null?null:l(x,y,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case gg:return w.key===N?c(x,y,w,j):null;case qu:return w.key===N?u(x,y,w,j):null;case _o:return N=w._init,h(x,y,N(w._payload),j)}if(Dh(w)||Jf(w))return N!==null?null:d(x,y,w,j,null);Og(x,w)}return null}function m(x,y,w,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return x=x.get(w)||null,l(y,x,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case gg:return x=x.get(j.key===null?w:j.key)||null,c(y,x,j,N);case qu:return x=x.get(j.key===null?w:j.key)||null,u(y,x,j,N);case _o:var _=j._init;return m(x,y,w,_(j._payload),N)}if(Dh(j)||Jf(j))return x=x.get(w)||null,d(y,x,j,N,null);Og(y,j)}return null}function v(x,y,w,j){for(var N=null,_=null,k=y,O=y=0,E=null;k!==null&&O<w.length;O++){k.index>O?(E=k,k=null):E=k.sibling;var T=h(x,k,w[O],j);if(T===null){k===null&&(k=E);break}e&&k&&T.alternate===null&&t(x,k),y=i(T,y,O),_===null?N=T:_.sibling=T,_=T,k=E}if(O===w.length)return r(x,k),rr&&Gl(x,O),N;if(k===null){for(;O<w.length;O++)k=f(x,w[O],j),k!==null&&(y=i(k,y,O),_===null?N=k:_.sibling=k,_=k);return rr&&Gl(x,O),N}for(k=n(x,k);O<w.length;O++)E=m(k,x,O,w[O],j),E!==null&&(e&&E.alternate!==null&&k.delete(E.key===null?O:E.key),y=i(E,y,O),_===null?N=E:_.sibling=E,_=E);return e&&k.forEach(function(P){return t(x,P)}),rr&&Gl(x,O),N}function p(x,y,w,j){var N=Jf(w);if(typeof N!="function")throw Error(Ne(150));if(w=N.call(w),w==null)throw Error(Ne(151));for(var _=N=null,k=y,O=y=0,E=null,T=w.next();k!==null&&!T.done;O++,T=w.next()){k.index>O?(E=k,k=null):E=k.sibling;var P=h(x,k,T.value,j);if(P===null){k===null&&(k=E);break}e&&k&&P.alternate===null&&t(x,k),y=i(P,y,O),_===null?N=P:_.sibling=P,_=P,k=E}if(T.done)return r(x,k),rr&&Gl(x,O),N;if(k===null){for(;!T.done;O++,T=w.next())T=f(x,T.value,j),T!==null&&(y=i(T,y,O),_===null?N=T:_.sibling=T,_=T);return rr&&Gl(x,O),N}for(k=n(x,k);!T.done;O++,T=w.next())T=m(k,x,O,T.value,j),T!==null&&(e&&T.alternate!==null&&k.delete(T.key===null?O:T.key),y=i(T,y,O),_===null?N=T:_.sibling=T,_=T);return e&&k.forEach(function(S){return t(x,S)}),rr&&Gl(x,O),N}function b(x,y,w,j){if(typeof w=="object"&&w!==null&&w.type===Bu&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case gg:e:{for(var N=w.key,_=y;_!==null;){if(_.key===N){if(N=w.type,N===Bu){if(_.tag===7){r(x,_.sibling),y=a(_,w.props.children),y.return=x,x=y;break e}}else if(_.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===_o&&CC(N)===_.type){r(x,_.sibling),y=a(_,w.props),y.ref=ah(x,_,w),y.return=x,x=y;break e}r(x,_);break}else t(x,_);_=_.sibling}w.type===Bu?(y=gc(w.props.children,x.mode,j,w.key),y.return=x,x=y):(j=Nv(w.type,w.key,w.props,null,x.mode,j),j.ref=ah(x,y,w),j.return=x,x=j)}return o(x);case qu:e:{for(_=w.key;y!==null;){if(y.key===_)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){r(x,y.sibling),y=a(y,w.children||[]),y.return=x,x=y;break e}else{r(x,y);break}else t(x,y);y=y.sibling}y=vw(w,x.mode,j),y.return=x,x=y}return o(x);case _o:return _=w._init,b(x,y,_(w._payload),j)}if(Dh(w))return v(x,y,w,j);if(Jf(w))return p(x,y,w,j);Og(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(r(x,y.sibling),y=a(y,w),y.return=x,x=y):(r(x,y),y=gw(w,x.mode,j),y.return=x,x=y),o(x)):r(x,y)}return b}var Nd=q5(!0),B5=q5(!1),Kv=yl(null),Gv=null,Xu=null,Rk=null;function Ik(){Rk=Xu=Gv=null}function Dk(e){var t=Kv.current;Yt(Kv),e._currentValue=t}function o1(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ld(e,t){Gv=e,Rk=Xu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Wn=!0),e.firstContext=null)}function Ha(e){var t=e._currentValue;if(Rk!==e)if(e={context:e,memoizedValue:t,next:null},Xu===null){if(Gv===null)throw Error(Ne(308));Xu=e,Gv.dependencies={lanes:0,firstContext:e}}else Xu=Xu.next=e;return t}var sc=null;function Lk(e){sc===null?sc=[e]:sc.push(e)}function U5(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Lk(t)):(r.next=a.next,a.next=r),t.interleaved=r,Hi(e,n)}function Hi(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ko=!1;function zk(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function V5(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Wo(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,wt&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Hi(e,r)}return a=n.interleaved,a===null?(t.next=t,Lk(n)):(t.next=a.next,a.next=t),n.interleaved=t,Hi(e,r)}function vv(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Nk(e,r)}}function EC(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Zv(e,t,r,n){var a=e.updateQueue;ko=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,p=l;switch(h=t,m=r,p.tag){case 1:if(v=p.payload,typeof v=="function"){f=v.call(m,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=p.payload,h=typeof v=="function"?v.call(m,f,h):v,h==null)break e;f=ur({},f,h);break e;case 2:ko=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);_c|=o,e.lanes=o,e.memoizedState=f}}function AC(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(Ne(191,a));a.call(n)}}}var Rp={},ei=yl(Rp),Nm=yl(Rp),_m=yl(Rp);function ic(e){if(e===Rp)throw Error(Ne(174));return e}function Fk(e,t){switch(qt(_m,t),qt(Nm,e),qt(ei,Rp),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:qj(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=qj(t,e)}Yt(ei),qt(ei,t)}function _d(){Yt(ei),Yt(Nm),Yt(_m)}function W5(e){ic(_m.current);var t=ic(ei.current),r=qj(t,e.type);t!==r&&(qt(Nm,e),qt(ei,r))}function $k(e){Nm.current===e&&(Yt(ei),Yt(Nm))}var sr=yl(0);function Xv(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var uw=[];function qk(){for(var e=0;e<uw.length;e++)uw[e]._workInProgressVersionPrimary=null;uw.length=0}var yv=ro.ReactCurrentDispatcher,dw=ro.ReactCurrentBatchConfig,Nc=0,lr=null,Fr=null,Gr=null,Yv=!1,Gh=!1,km=0,uV=0;function cn(){throw Error(Ne(321))}function Bk(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Os(e[r],t[r]))return!1;return!0}function Uk(e,t,r,n,a,i){if(Nc=i,lr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,yv.current=e===null||e.memoizedState===null?mV:pV,e=r(n,a),Gh){i=0;do{if(Gh=!1,km=0,25<=i)throw Error(Ne(301));i+=1,Gr=Fr=null,t.updateQueue=null,yv.current=gV,e=r(n,a)}while(Gh)}if(yv.current=Qv,t=Fr!==null&&Fr.next!==null,Nc=0,Gr=Fr=lr=null,Yv=!1,t)throw Error(Ne(300));return e}function Vk(){var e=km!==0;return km=0,e}function Us(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gr===null?lr.memoizedState=Gr=e:Gr=Gr.next=e,Gr}function Ka(){if(Fr===null){var e=lr.alternate;e=e!==null?e.memoizedState:null}else e=Fr.next;var t=Gr===null?lr.memoizedState:Gr.next;if(t!==null)Gr=t,Fr=e;else{if(e===null)throw Error(Ne(310));Fr=e,e={memoizedState:Fr.memoizedState,baseState:Fr.baseState,baseQueue:Fr.baseQueue,queue:Fr.queue,next:null},Gr===null?lr.memoizedState=Gr=e:Gr=Gr.next=e}return Gr}function Sm(e,t){return typeof t=="function"?t(e):t}function fw(e){var t=Ka(),r=t.queue;if(r===null)throw Error(Ne(311));r.lastRenderedReducer=e;var n=Fr,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Nc&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,lr.lanes|=d,_c|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,Os(n,t.memoizedState)||(Wn=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,lr.lanes|=i,_c|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function hw(e){var t=Ka(),r=t.queue;if(r===null)throw Error(Ne(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Os(i,t.memoizedState)||(Wn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function H5(){}function K5(e,t){var r=lr,n=Ka(),a=t(),i=!Os(n.memoizedState,a);if(i&&(n.memoizedState=a,Wn=!0),n=n.queue,Wk(X5.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Gr!==null&&Gr.memoizedState.tag&1){if(r.flags|=2048,Om(9,Z5.bind(null,r,n,a,t),void 0,null),Yr===null)throw Error(Ne(349));Nc&30||G5(r,t,a)}return a}function G5(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=lr.updateQueue,t===null?(t={lastEffect:null,stores:null},lr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Z5(e,t,r,n){t.value=r,t.getSnapshot=n,Y5(t)&&Q5(e)}function X5(e,t,r){return r(function(){Y5(t)&&Q5(e)})}function Y5(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Os(e,r)}catch{return!0}}function Q5(e){var t=Hi(e,1);t!==null&&_s(t,e,1,-1)}function PC(e){var t=Us();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sm,lastRenderedState:e},t.queue=e,e=e.dispatch=hV.bind(null,lr,e),[t.memoizedState,e]}function Om(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=lr.updateQueue,t===null?(t={lastEffect:null,stores:null},lr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function J5(){return Ka().memoizedState}function xv(e,t,r,n){var a=Us();lr.flags|=e,a.memoizedState=Om(1|t,r,void 0,n===void 0?null:n)}function Kx(e,t,r,n){var a=Ka();n=n===void 0?null:n;var i=void 0;if(Fr!==null){var o=Fr.memoizedState;if(i=o.destroy,n!==null&&Bk(n,o.deps)){a.memoizedState=Om(t,r,i,n);return}}lr.flags|=e,a.memoizedState=Om(1|t,r,i,n)}function TC(e,t){return xv(8390656,8,e,t)}function Wk(e,t){return Kx(2048,8,e,t)}function eI(e,t){return Kx(4,2,e,t)}function tI(e,t){return Kx(4,4,e,t)}function rI(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function nI(e,t,r){return r=r!=null?r.concat([e]):null,Kx(4,4,rI.bind(null,t,e),r)}function Hk(){}function aI(e,t){var r=Ka();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Bk(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function sI(e,t){var r=Ka();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Bk(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function iI(e,t,r){return Nc&21?(Os(r,t)||(r=d5(),lr.lanes|=r,_c|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Wn=!0),e.memoizedState=r)}function dV(e,t){var r=Tt;Tt=r!==0&&4>r?r:4,e(!0);var n=dw.transition;dw.transition={};try{e(!1),t()}finally{Tt=r,dw.transition=n}}function oI(){return Ka().memoizedState}function fV(e,t,r){var n=Ko(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},lI(e))cI(t,r);else if(r=U5(e,t,r,n),r!==null){var a=Cn();_s(r,e,n,a),uI(r,t,n)}}function hV(e,t,r){var n=Ko(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(lI(e))cI(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,Os(l,o)){var c=t.interleaved;c===null?(a.next=a,Lk(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=U5(e,t,a,n),r!==null&&(a=Cn(),_s(r,e,n,a),uI(r,t,n))}}function lI(e){var t=e.alternate;return e===lr||t!==null&&t===lr}function cI(e,t){Gh=Yv=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function uI(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Nk(e,r)}}var Qv={readContext:Ha,useCallback:cn,useContext:cn,useEffect:cn,useImperativeHandle:cn,useInsertionEffect:cn,useLayoutEffect:cn,useMemo:cn,useReducer:cn,useRef:cn,useState:cn,useDebugValue:cn,useDeferredValue:cn,useTransition:cn,useMutableSource:cn,useSyncExternalStore:cn,useId:cn,unstable_isNewReconciler:!1},mV={readContext:Ha,useCallback:function(e,t){return Us().memoizedState=[e,t===void 0?null:t],e},useContext:Ha,useEffect:TC,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,xv(4194308,4,rI.bind(null,t,e),r)},useLayoutEffect:function(e,t){return xv(4194308,4,e,t)},useInsertionEffect:function(e,t){return xv(4,2,e,t)},useMemo:function(e,t){var r=Us();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Us();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=fV.bind(null,lr,e),[n.memoizedState,e]},useRef:function(e){var t=Us();return e={current:e},t.memoizedState=e},useState:PC,useDebugValue:Hk,useDeferredValue:function(e){return Us().memoizedState=e},useTransition:function(){var e=PC(!1),t=e[0];return e=dV.bind(null,e[1]),Us().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=lr,a=Us();if(rr){if(r===void 0)throw Error(Ne(407));r=r()}else{if(r=t(),Yr===null)throw Error(Ne(349));Nc&30||G5(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,TC(X5.bind(null,n,i,e),[e]),n.flags|=2048,Om(9,Z5.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Us(),t=Yr.identifierPrefix;if(rr){var r=Ri,n=Mi;r=(n&~(1<<32-Ns(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=km++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=uV++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},pV={readContext:Ha,useCallback:aI,useContext:Ha,useEffect:Wk,useImperativeHandle:nI,useInsertionEffect:eI,useLayoutEffect:tI,useMemo:sI,useReducer:fw,useRef:J5,useState:function(){return fw(Sm)},useDebugValue:Hk,useDeferredValue:function(e){var t=Ka();return iI(t,Fr.memoizedState,e)},useTransition:function(){var e=fw(Sm)[0],t=Ka().memoizedState;return[e,t]},useMutableSource:H5,useSyncExternalStore:K5,useId:oI,unstable_isNewReconciler:!1},gV={readContext:Ha,useCallback:aI,useContext:Ha,useEffect:Wk,useImperativeHandle:nI,useInsertionEffect:eI,useLayoutEffect:tI,useMemo:sI,useReducer:hw,useRef:J5,useState:function(){return hw(Sm)},useDebugValue:Hk,useDeferredValue:function(e){var t=Ka();return Fr===null?t.memoizedState=e:iI(t,Fr.memoizedState,e)},useTransition:function(){var e=hw(Sm)[0],t=Ka().memoizedState;return[e,t]},useMutableSource:H5,useSyncExternalStore:K5,useId:oI,unstable_isNewReconciler:!1};function ls(e,t){if(e&&e.defaultProps){t=ur({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function l1(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ur({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Gx={isMounted:function(e){return(e=e._reactInternals)?Vc(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Cn(),a=Ko(e),i=Fi(n,a);i.payload=t,r!=null&&(i.callback=r),t=Wo(e,i,a),t!==null&&(_s(t,e,a,n),vv(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Cn(),a=Ko(e),i=Fi(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Wo(e,i,a),t!==null&&(_s(t,e,a,n),vv(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Cn(),n=Ko(e),a=Fi(r,n);a.tag=2,t!=null&&(a.callback=t),t=Wo(e,a,n),t!==null&&(_s(t,e,n,r),vv(t,e,n))}};function MC(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!xm(r,n)||!xm(a,i):!0}function dI(e,t,r){var n=!1,a=sl,i=t.contextType;return typeof i=="object"&&i!==null?i=Ha(i):(a=Xn(t)?wc:yn.current,n=t.contextTypes,i=(n=n!=null)?wd(e,a):sl),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Gx,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function RC(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Gx.enqueueReplaceState(t,t.state,null)}function c1(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},zk(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Ha(i):(i=Xn(t)?wc:yn.current,a.context=wd(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(l1(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Gx.enqueueReplaceState(a,a.state,null),Zv(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function kd(e,t){try{var r="",n=t;do r+=V7(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function mw(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function u1(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var vV=typeof WeakMap=="function"?WeakMap:Map;function fI(e,t,r){r=Fi(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ey||(ey=!0,x1=n),u1(e,t)},r}function hI(e,t,r){r=Fi(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){u1(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){u1(e,t),typeof n!="function"&&(Ho===null?Ho=new Set([this]):Ho.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function IC(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new vV;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=PV.bind(null,e,t,r),t.then(e,e))}function DC(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function LC(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Fi(-1,1),t.tag=2,Wo(r,t,1))),r.lanes|=1),e)}var yV=ro.ReactCurrentOwner,Wn=!1;function jn(e,t,r,n){t.child=e===null?B5(t,null,r,n):Nd(t,e.child,r,n)}function zC(e,t,r,n,a){r=r.render;var i=t.ref;return ld(t,a),n=Uk(e,t,r,n,i,a),r=Vk(),e!==null&&!Wn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ki(e,t,a)):(rr&&r&&Pk(t),t.flags|=1,jn(e,t,n,a),t.child)}function FC(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!eS(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,mI(e,t,i,n,a)):(e=Nv(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:xm,r(o,n)&&e.ref===t.ref)return Ki(e,t,a)}return t.flags|=1,e=Go(i,n),e.ref=t.ref,e.return=t,t.child=e}function mI(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(xm(i,n)&&e.ref===t.ref)if(Wn=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(Wn=!0);else return t.lanes=e.lanes,Ki(e,t,a)}return d1(e,t,r,n,a)}function pI(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},qt(Qu,la),la|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,qt(Qu,la),la|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,qt(Qu,la),la|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,qt(Qu,la),la|=n;return jn(e,t,a,r),t.child}function gI(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function d1(e,t,r,n,a){var i=Xn(r)?wc:yn.current;return i=wd(t,i),ld(t,a),r=Uk(e,t,r,n,i,a),n=Vk(),e!==null&&!Wn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ki(e,t,a)):(rr&&n&&Pk(t),t.flags|=1,jn(e,t,r,a),t.child)}function $C(e,t,r,n,a){if(Xn(r)){var i=!0;Vv(t)}else i=!1;if(ld(t,a),t.stateNode===null)bv(e,t),dI(t,r,n),c1(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ha(u):(u=Xn(r)?wc:yn.current,u=wd(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&RC(t,o,n,u),ko=!1;var h=t.memoizedState;o.state=h,Zv(t,n,o,a),c=t.memoizedState,l!==n||h!==c||Zn.current||ko?(typeof d=="function"&&(l1(t,r,d,n),c=t.memoizedState),(l=ko||MC(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,V5(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:ls(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Ha(c):(c=Xn(r)?wc:yn.current,c=wd(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&RC(t,o,n,c),ko=!1,h=t.memoizedState,o.state=h,Zv(t,n,o,a);var v=t.memoizedState;l!==f||h!==v||Zn.current||ko?(typeof m=="function"&&(l1(t,r,m,n),v=t.memoizedState),(u=ko||MC(t,r,u,n,h,v,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),o.props=n,o.state=v,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return f1(e,t,r,n,i,a)}function f1(e,t,r,n,a,i){gI(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&kC(t,r,!1),Ki(e,t,i);n=t.stateNode,yV.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Nd(t,e.child,null,i),t.child=Nd(t,null,l,i)):jn(e,t,l,i),t.memoizedState=n.state,a&&kC(t,r,!0),t.child}function vI(e){var t=e.stateNode;t.pendingContext?_C(e,t.pendingContext,t.pendingContext!==t.context):t.context&&_C(e,t.context,!1),Fk(e,t.containerInfo)}function qC(e,t,r,n,a){return jd(),Mk(a),t.flags|=256,jn(e,t,r,n),t.child}var h1={dehydrated:null,treeContext:null,retryLane:0};function m1(e){return{baseLanes:e,cachePool:null,transitions:null}}function yI(e,t,r){var n=t.pendingProps,a=sr.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),qt(sr,a&1),e===null)return i1(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Yx(o,n,0,null),e=gc(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=m1(r),t.memoizedState=h1,e):Kk(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return xV(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Go(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Go(l,i):(i=gc(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?m1(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=h1,n}return i=e.child,e=i.sibling,n=Go(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Kk(e,t){return t=Yx({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Cg(e,t,r,n){return n!==null&&Mk(n),Nd(t,e.child,null,r),e=Kk(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function xV(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=mw(Error(Ne(422))),Cg(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Yx({mode:"visible",children:n.children},a,0,null),i=gc(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Nd(t,e.child,null,o),t.child.memoizedState=m1(o),t.memoizedState=h1,i);if(!(t.mode&1))return Cg(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(Ne(419)),n=mw(i,n,void 0),Cg(e,t,o,n)}if(l=(o&e.childLanes)!==0,Wn||l){if(n=Yr,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Hi(e,a),_s(n,e,a,-1))}return Jk(),n=mw(Error(Ne(421))),Cg(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=TV.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,ya=Vo(a.nextSibling),xa=t,rr=!0,hs=null,e!==null&&(Ia[Da++]=Mi,Ia[Da++]=Ri,Ia[Da++]=jc,Mi=e.id,Ri=e.overflow,jc=t),t=Kk(t,n.children),t.flags|=4096,t)}function BC(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),o1(e.return,t,r)}function pw(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function xI(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(jn(e,t,n.children,r),n=sr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&BC(e,r,t);else if(e.tag===19)BC(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(qt(sr,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Xv(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),pw(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Xv(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}pw(t,!0,r,null,i);break;case"together":pw(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function bv(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ki(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),_c|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ne(153));if(t.child!==null){for(e=t.child,r=Go(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Go(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function bV(e,t,r){switch(t.tag){case 3:vI(t),jd();break;case 5:W5(t);break;case 1:Xn(t.type)&&Vv(t);break;case 4:Fk(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;qt(Kv,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(qt(sr,sr.current&1),t.flags|=128,null):r&t.child.childLanes?yI(e,t,r):(qt(sr,sr.current&1),e=Ki(e,t,r),e!==null?e.sibling:null);qt(sr,sr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return xI(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),qt(sr,sr.current),n)break;return null;case 22:case 23:return t.lanes=0,pI(e,t,r)}return Ki(e,t,r)}var bI,p1,wI,jI;bI=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};p1=function(){};wI=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,ic(ei.current);var i=null;switch(r){case"input":a=Lj(e,a),n=Lj(e,n),i=[];break;case"select":a=ur({},a,{value:void 0}),n=ur({},n,{value:void 0}),i=[];break;case"textarea":a=$j(e,a),n=$j(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Bv)}Bj(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(fm.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(fm.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Kt("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};jI=function(e,t,r,n){r!==n&&(t.flags|=4)};function sh(e,t){if(!rr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function un(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function wV(e,t,r){var n=t.pendingProps;switch(Tk(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return un(t),null;case 1:return Xn(t.type)&&Uv(),un(t),null;case 3:return n=t.stateNode,_d(),Yt(Zn),Yt(yn),qk(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Sg(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,hs!==null&&(j1(hs),hs=null))),p1(e,t),un(t),null;case 5:$k(t);var a=ic(_m.current);if(r=t.type,e!==null&&t.stateNode!=null)wI(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Ne(166));return un(t),null}if(e=ic(ei.current),Sg(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Hs]=t,n[jm]=i,e=(t.mode&1)!==0,r){case"dialog":Kt("cancel",n),Kt("close",n);break;case"iframe":case"object":case"embed":Kt("load",n);break;case"video":case"audio":for(a=0;a<zh.length;a++)Kt(zh[a],n);break;case"source":Kt("error",n);break;case"img":case"image":case"link":Kt("error",n),Kt("load",n);break;case"details":Kt("toggle",n);break;case"input":YO(n,i),Kt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Kt("invalid",n);break;case"textarea":JO(n,i),Kt("invalid",n)}Bj(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&kg(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&kg(n.textContent,l,e),a=["children",""+l]):fm.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Kt("scroll",n)}switch(r){case"input":vg(n),QO(n,i,!0);break;case"textarea":vg(n),eC(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Bv)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=XR(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Hs]=t,e[jm]=n,bI(e,t,!1,!1),t.stateNode=e;e:{switch(o=Uj(r,n),r){case"dialog":Kt("cancel",e),Kt("close",e),a=n;break;case"iframe":case"object":case"embed":Kt("load",e),a=n;break;case"video":case"audio":for(a=0;a<zh.length;a++)Kt(zh[a],e);a=n;break;case"source":Kt("error",e),a=n;break;case"img":case"image":case"link":Kt("error",e),Kt("load",e),a=n;break;case"details":Kt("toggle",e),a=n;break;case"input":YO(e,n),a=Lj(e,n),Kt("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=ur({},n,{value:void 0}),Kt("invalid",e);break;case"textarea":JO(e,n),a=$j(e,n),Kt("invalid",e);break;default:a=n}Bj(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?JR(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&YR(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&hm(e,c):typeof c=="number"&&hm(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(fm.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Kt("scroll",e):c!=null&&vk(e,i,c,o))}switch(r){case"input":vg(e),QO(e,n,!1);break;case"textarea":vg(e),eC(e);break;case"option":n.value!=null&&e.setAttribute("value",""+al(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?ad(e,!!n.multiple,i,!1):n.defaultValue!=null&&ad(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Bv)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return un(t),null;case 6:if(e&&t.stateNode!=null)jI(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Ne(166));if(r=ic(_m.current),ic(ei.current),Sg(t)){if(n=t.stateNode,r=t.memoizedProps,n[Hs]=t,(i=n.nodeValue!==r)&&(e=xa,e!==null))switch(e.tag){case 3:kg(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&kg(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Hs]=t,t.stateNode=n}return un(t),null;case 13:if(Yt(sr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(rr&&ya!==null&&t.mode&1&&!(t.flags&128))$5(),jd(),t.flags|=98560,i=!1;else if(i=Sg(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(Ne(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Ne(317));i[Hs]=t}else jd(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;un(t),i=!1}else hs!==null&&(j1(hs),hs=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||sr.current&1?Br===0&&(Br=3):Jk())),t.updateQueue!==null&&(t.flags|=4),un(t),null);case 4:return _d(),p1(e,t),e===null&&bm(t.stateNode.containerInfo),un(t),null;case 10:return Dk(t.type._context),un(t),null;case 17:return Xn(t.type)&&Uv(),un(t),null;case 19:if(Yt(sr),i=t.memoizedState,i===null)return un(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)sh(i,!1);else{if(Br!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Xv(e),o!==null){for(t.flags|=128,sh(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return qt(sr,sr.current&1|2),t.child}e=e.sibling}i.tail!==null&&br()>Sd&&(t.flags|=128,n=!0,sh(i,!1),t.lanes=4194304)}else{if(!n)if(e=Xv(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),sh(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!rr)return un(t),null}else 2*br()-i.renderingStartTime>Sd&&r!==1073741824&&(t.flags|=128,n=!0,sh(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=br(),t.sibling=null,r=sr.current,qt(sr,n?r&1|2:r&1),t):(un(t),null);case 22:case 23:return Qk(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?la&1073741824&&(un(t),t.subtreeFlags&6&&(t.flags|=8192)):un(t),null;case 24:return null;case 25:return null}throw Error(Ne(156,t.tag))}function jV(e,t){switch(Tk(t),t.tag){case 1:return Xn(t.type)&&Uv(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _d(),Yt(Zn),Yt(yn),qk(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return $k(t),null;case 13:if(Yt(sr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ne(340));jd()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Yt(sr),null;case 4:return _d(),null;case 10:return Dk(t.type._context),null;case 22:case 23:return Qk(),null;case 24:return null;default:return null}}var Eg=!1,fn=!1,NV=typeof WeakSet=="function"?WeakSet:Set,Me=null;function Yu(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){fr(e,t,n)}else r.current=null}function NI(e,t,r){try{r()}catch(n){fr(e,t,n)}}var UC=!1;function _V(e,t){if(Jj=Fv,e=O5(),Ak(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=o),h===i&&++d===n&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(e1={focusedElem:e,selectionRange:r},Fv=!1,Me=t;Me!==null;)if(t=Me,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Me=e;else for(;Me!==null;){t=Me;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var p=v.memoizedProps,b=v.memoizedState,x=t.stateNode,y=x.getSnapshotBeforeUpdate(t.elementType===t.type?p:ls(t.type,p),b);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ne(163))}}catch(j){fr(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,Me=e;break}Me=t.return}return v=UC,UC=!1,v}function Zh(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&NI(t,r,i)}a=a.next}while(a!==n)}}function Zx(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function g1(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function _I(e){var t=e.alternate;t!==null&&(e.alternate=null,_I(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Hs],delete t[jm],delete t[n1],delete t[iV],delete t[oV])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function kI(e){return e.tag===5||e.tag===3||e.tag===4}function VC(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||kI(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function v1(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Bv));else if(n!==4&&(e=e.child,e!==null))for(v1(e,t,r),e=e.sibling;e!==null;)v1(e,t,r),e=e.sibling}function y1(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(y1(e,t,r),e=e.sibling;e!==null;)y1(e,t,r),e=e.sibling}var an=null,cs=!1;function co(e,t,r){for(r=r.child;r!==null;)SI(e,t,r),r=r.sibling}function SI(e,t,r){if(Js&&typeof Js.onCommitFiberUnmount=="function")try{Js.onCommitFiberUnmount(qx,r)}catch{}switch(r.tag){case 5:fn||Yu(r,t);case 6:var n=an,a=cs;an=null,co(e,t,r),an=n,cs=a,an!==null&&(cs?(e=an,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):an.removeChild(r.stateNode));break;case 18:an!==null&&(cs?(e=an,r=r.stateNode,e.nodeType===8?lw(e.parentNode,r):e.nodeType===1&&lw(e,r),vm(e)):lw(an,r.stateNode));break;case 4:n=an,a=cs,an=r.stateNode.containerInfo,cs=!0,co(e,t,r),an=n,cs=a;break;case 0:case 11:case 14:case 15:if(!fn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&NI(r,t,o),a=a.next}while(a!==n)}co(e,t,r);break;case 1:if(!fn&&(Yu(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){fr(r,t,l)}co(e,t,r);break;case 21:co(e,t,r);break;case 22:r.mode&1?(fn=(n=fn)||r.memoizedState!==null,co(e,t,r),fn=n):co(e,t,r);break;default:co(e,t,r)}}function WC(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new NV),t.forEach(function(n){var a=MV.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function rs(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:an=l.stateNode,cs=!1;break e;case 3:an=l.stateNode.containerInfo,cs=!0;break e;case 4:an=l.stateNode.containerInfo,cs=!0;break e}l=l.return}if(an===null)throw Error(Ne(160));SI(i,o,a),an=null,cs=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){fr(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)OI(t,e),t=t.sibling}function OI(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(rs(t,e),Rs(e),n&4){try{Zh(3,e,e.return),Zx(3,e)}catch(p){fr(e,e.return,p)}try{Zh(5,e,e.return)}catch(p){fr(e,e.return,p)}}break;case 1:rs(t,e),Rs(e),n&512&&r!==null&&Yu(r,r.return);break;case 5:if(rs(t,e),Rs(e),n&512&&r!==null&&Yu(r,r.return),e.flags&32){var a=e.stateNode;try{hm(a,"")}catch(p){fr(e,e.return,p)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&GR(a,i),Uj(l,o);var u=Uj(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?JR(a,f):d==="dangerouslySetInnerHTML"?YR(a,f):d==="children"?hm(a,f):vk(a,d,f,u)}switch(l){case"input":zj(a,i);break;case"textarea":ZR(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?ad(a,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?ad(a,!!i.multiple,i.defaultValue,!0):ad(a,!!i.multiple,i.multiple?[]:"",!1))}a[jm]=i}catch(p){fr(e,e.return,p)}}break;case 6:if(rs(t,e),Rs(e),n&4){if(e.stateNode===null)throw Error(Ne(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(p){fr(e,e.return,p)}}break;case 3:if(rs(t,e),Rs(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{vm(t.containerInfo)}catch(p){fr(e,e.return,p)}break;case 4:rs(t,e),Rs(e);break;case 13:rs(t,e),Rs(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Xk=br())),n&4&&WC(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(fn=(u=fn)||d,rs(t,e),fn=u):rs(t,e),Rs(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Me=e,d=e.child;d!==null;){for(f=Me=d;Me!==null;){switch(h=Me,m=h.child,h.tag){case 0:case 11:case 14:case 15:Zh(4,h,h.return);break;case 1:Yu(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(p){fr(n,r,p)}}break;case 5:Yu(h,h.return);break;case 22:if(h.memoizedState!==null){KC(f);continue}}m!==null?(m.return=h,Me=m):KC(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=QR("display",o))}catch(p){fr(e,e.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){fr(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:rs(t,e),Rs(e),n&4&&WC(e);break;case 21:break;default:rs(t,e),Rs(e)}}function Rs(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(kI(r)){var n=r;break e}r=r.return}throw Error(Ne(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(hm(a,""),n.flags&=-33);var i=VC(e);y1(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=VC(e);v1(e,l,o);break;default:throw Error(Ne(161))}}catch(c){fr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function kV(e,t,r){Me=e,CI(e)}function CI(e,t,r){for(var n=(e.mode&1)!==0;Me!==null;){var a=Me,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||Eg;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||fn;l=Eg;var u=fn;if(Eg=o,(fn=c)&&!u)for(Me=a;Me!==null;)o=Me,c=o.child,o.tag===22&&o.memoizedState!==null?GC(a):c!==null?(c.return=o,Me=c):GC(a);for(;i!==null;)Me=i,CI(i),i=i.sibling;Me=a,Eg=l,fn=u}HC(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Me=i):HC(e)}}function HC(e){for(;Me!==null;){var t=Me;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:fn||Zx(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!fn)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:ls(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&AC(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}AC(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&vm(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ne(163))}fn||t.flags&512&&g1(t)}catch(h){fr(t,t.return,h)}}if(t===e){Me=null;break}if(r=t.sibling,r!==null){r.return=t.return,Me=r;break}Me=t.return}}function KC(e){for(;Me!==null;){var t=Me;if(t===e){Me=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Me=r;break}Me=t.return}}function GC(e){for(;Me!==null;){var t=Me;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Zx(4,t)}catch(c){fr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){fr(t,a,c)}}var i=t.return;try{g1(t)}catch(c){fr(t,i,c)}break;case 5:var o=t.return;try{g1(t)}catch(c){fr(t,o,c)}}}catch(c){fr(t,t.return,c)}if(t===e){Me=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Me=l;break}Me=t.return}}var SV=Math.ceil,Jv=ro.ReactCurrentDispatcher,Gk=ro.ReactCurrentOwner,Ua=ro.ReactCurrentBatchConfig,wt=0,Yr=null,Er=null,sn=0,la=0,Qu=yl(0),Br=0,Cm=null,_c=0,Xx=0,Zk=0,Xh=null,Un=null,Xk=0,Sd=1/0,Oi=null,ey=!1,x1=null,Ho=null,Ag=!1,Ro=null,ty=0,Yh=0,b1=null,wv=-1,jv=0;function Cn(){return wt&6?br():wv!==-1?wv:wv=br()}function Ko(e){return e.mode&1?wt&2&&sn!==0?sn&-sn:cV.transition!==null?(jv===0&&(jv=d5()),jv):(e=Tt,e!==0||(e=window.event,e=e===void 0?16:y5(e.type)),e):1}function _s(e,t,r,n){if(50<Yh)throw Yh=0,b1=null,Error(Ne(185));Pp(e,r,n),(!(wt&2)||e!==Yr)&&(e===Yr&&(!(wt&2)&&(Xx|=r),Br===4&&Ao(e,sn)),Yn(e,n),r===1&&wt===0&&!(t.mode&1)&&(Sd=br()+500,Hx&&xl()))}function Yn(e,t){var r=e.callbackNode;cU(e,t);var n=zv(e,e===Yr?sn:0);if(n===0)r!==null&&nC(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&nC(r),t===1)e.tag===0?lV(ZC.bind(null,e)):L5(ZC.bind(null,e)),aV(function(){!(wt&6)&&xl()}),r=null;else{switch(f5(n)){case 1:r=jk;break;case 4:r=c5;break;case 16:r=Lv;break;case 536870912:r=u5;break;default:r=Lv}r=DI(r,EI.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function EI(e,t){if(wv=-1,jv=0,wt&6)throw Error(Ne(327));var r=e.callbackNode;if(cd()&&e.callbackNode!==r)return null;var n=zv(e,e===Yr?sn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ry(e,n);else{t=n;var a=wt;wt|=2;var i=PI();(Yr!==e||sn!==t)&&(Oi=null,Sd=br()+500,pc(e,t));do try{EV();break}catch(l){AI(e,l)}while(!0);Ik(),Jv.current=i,wt=a,Er!==null?t=0:(Yr=null,sn=0,t=Br)}if(t!==0){if(t===2&&(a=Gj(e),a!==0&&(n=a,t=w1(e,a))),t===1)throw r=Cm,pc(e,0),Ao(e,n),Yn(e,br()),r;if(t===6)Ao(e,n);else{if(a=e.current.alternate,!(n&30)&&!OV(a)&&(t=ry(e,n),t===2&&(i=Gj(e),i!==0&&(n=i,t=w1(e,i))),t===1))throw r=Cm,pc(e,0),Ao(e,n),Yn(e,br()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(Ne(345));case 2:Zl(e,Un,Oi);break;case 3:if(Ao(e,n),(n&130023424)===n&&(t=Xk+500-br(),10<t)){if(zv(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Cn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=r1(Zl.bind(null,e,Un,Oi),t);break}Zl(e,Un,Oi);break;case 4:if(Ao(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-Ns(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=br()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*SV(n/1960))-n,10<n){e.timeoutHandle=r1(Zl.bind(null,e,Un,Oi),n);break}Zl(e,Un,Oi);break;case 5:Zl(e,Un,Oi);break;default:throw Error(Ne(329))}}}return Yn(e,br()),e.callbackNode===r?EI.bind(null,e):null}function w1(e,t){var r=Xh;return e.current.memoizedState.isDehydrated&&(pc(e,t).flags|=256),e=ry(e,t),e!==2&&(t=Un,Un=r,t!==null&&j1(t)),e}function j1(e){Un===null?Un=e:Un.push.apply(Un,e)}function OV(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Os(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ao(e,t){for(t&=~Zk,t&=~Xx,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ns(t),n=1<<r;e[r]=-1,t&=~n}}function ZC(e){if(wt&6)throw Error(Ne(327));cd();var t=zv(e,0);if(!(t&1))return Yn(e,br()),null;var r=ry(e,t);if(e.tag!==0&&r===2){var n=Gj(e);n!==0&&(t=n,r=w1(e,n))}if(r===1)throw r=Cm,pc(e,0),Ao(e,t),Yn(e,br()),r;if(r===6)throw Error(Ne(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Zl(e,Un,Oi),Yn(e,br()),null}function Yk(e,t){var r=wt;wt|=1;try{return e(t)}finally{wt=r,wt===0&&(Sd=br()+500,Hx&&xl())}}function kc(e){Ro!==null&&Ro.tag===0&&!(wt&6)&&cd();var t=wt;wt|=1;var r=Ua.transition,n=Tt;try{if(Ua.transition=null,Tt=1,e)return e()}finally{Tt=n,Ua.transition=r,wt=t,!(wt&6)&&xl()}}function Qk(){la=Qu.current,Yt(Qu)}function pc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,nV(r)),Er!==null)for(r=Er.return;r!==null;){var n=r;switch(Tk(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Uv();break;case 3:_d(),Yt(Zn),Yt(yn),qk();break;case 5:$k(n);break;case 4:_d();break;case 13:Yt(sr);break;case 19:Yt(sr);break;case 10:Dk(n.type._context);break;case 22:case 23:Qk()}r=r.return}if(Yr=e,Er=e=Go(e.current,null),sn=la=t,Br=0,Cm=null,Zk=Xx=_c=0,Un=Xh=null,sc!==null){for(t=0;t<sc.length;t++)if(r=sc[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}sc=null}return e}function AI(e,t){do{var r=Er;try{if(Ik(),yv.current=Qv,Yv){for(var n=lr.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Yv=!1}if(Nc=0,Gr=Fr=lr=null,Gh=!1,km=0,Gk.current=null,r===null||r.return===null){Br=1,Cm=t,Er=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=sn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=DC(o);if(m!==null){m.flags&=-257,LC(m,o,l,i,t),m.mode&1&&IC(i,u,t),t=m,c=u;var v=t.updateQueue;if(v===null){var p=new Set;p.add(c),t.updateQueue=p}else v.add(c);break e}else{if(!(t&1)){IC(i,u,t),Jk();break e}c=Error(Ne(426))}}else if(rr&&l.mode&1){var b=DC(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),LC(b,o,l,i,t),Mk(kd(c,l));break e}}i=c=kd(c,l),Br!==4&&(Br=2),Xh===null?Xh=[i]:Xh.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=fI(i,c,t);EC(i,x);break e;case 1:l=c;var y=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ho===null||!Ho.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=hI(i,l,t);EC(i,j);break e}}i=i.return}while(i!==null)}MI(r)}catch(N){t=N,Er===r&&r!==null&&(Er=r=r.return);continue}break}while(!0)}function PI(){var e=Jv.current;return Jv.current=Qv,e===null?Qv:e}function Jk(){(Br===0||Br===3||Br===2)&&(Br=4),Yr===null||!(_c&268435455)&&!(Xx&268435455)||Ao(Yr,sn)}function ry(e,t){var r=wt;wt|=2;var n=PI();(Yr!==e||sn!==t)&&(Oi=null,pc(e,t));do try{CV();break}catch(a){AI(e,a)}while(!0);if(Ik(),wt=r,Jv.current=n,Er!==null)throw Error(Ne(261));return Yr=null,sn=0,Br}function CV(){for(;Er!==null;)TI(Er)}function EV(){for(;Er!==null&&!eU();)TI(Er)}function TI(e){var t=II(e.alternate,e,la);e.memoizedProps=e.pendingProps,t===null?MI(e):Er=t,Gk.current=null}function MI(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=jV(r,t),r!==null){r.flags&=32767,Er=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Br=6,Er=null;return}}else if(r=wV(r,t,la),r!==null){Er=r;return}if(t=t.sibling,t!==null){Er=t;return}Er=t=e}while(t!==null);Br===0&&(Br=5)}function Zl(e,t,r){var n=Tt,a=Ua.transition;try{Ua.transition=null,Tt=1,AV(e,t,r,n)}finally{Ua.transition=a,Tt=n}return null}function AV(e,t,r,n){do cd();while(Ro!==null);if(wt&6)throw Error(Ne(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Ne(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(uU(e,i),e===Yr&&(Er=Yr=null,sn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ag||(Ag=!0,DI(Lv,function(){return cd(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ua.transition,Ua.transition=null;var o=Tt;Tt=1;var l=wt;wt|=4,Gk.current=null,_V(e,r),OI(r,e),XU(e1),Fv=!!Jj,e1=Jj=null,e.current=r,kV(r),tU(),wt=l,Tt=o,Ua.transition=i}else e.current=r;if(Ag&&(Ag=!1,Ro=e,ty=a),i=e.pendingLanes,i===0&&(Ho=null),aU(r.stateNode),Yn(e,br()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(ey)throw ey=!1,e=x1,x1=null,e;return ty&1&&e.tag!==0&&cd(),i=e.pendingLanes,i&1?e===b1?Yh++:(Yh=0,b1=e):Yh=0,xl(),null}function cd(){if(Ro!==null){var e=f5(ty),t=Ua.transition,r=Tt;try{if(Ua.transition=null,Tt=16>e?16:e,Ro===null)var n=!1;else{if(e=Ro,Ro=null,ty=0,wt&6)throw Error(Ne(331));var a=wt;for(wt|=4,Me=e.current;Me!==null;){var i=Me,o=i.child;if(Me.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Me=u;Me!==null;){var d=Me;switch(d.tag){case 0:case 11:case 15:Zh(8,d,i)}var f=d.child;if(f!==null)f.return=d,Me=f;else for(;Me!==null;){d=Me;var h=d.sibling,m=d.return;if(_I(d),d===u){Me=null;break}if(h!==null){h.return=m,Me=h;break}Me=m}}}var v=i.alternate;if(v!==null){var p=v.child;if(p!==null){v.child=null;do{var b=p.sibling;p.sibling=null,p=b}while(p!==null)}}Me=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Me=o;else e:for(;Me!==null;){if(i=Me,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Zh(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,Me=x;break e}Me=i.return}}var y=e.current;for(Me=y;Me!==null;){o=Me;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Me=w;else e:for(o=y;Me!==null;){if(l=Me,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Zx(9,l)}}catch(N){fr(l,l.return,N)}if(l===o){Me=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,Me=j;break e}Me=l.return}}if(wt=a,xl(),Js&&typeof Js.onPostCommitFiberRoot=="function")try{Js.onPostCommitFiberRoot(qx,e)}catch{}n=!0}return n}finally{Tt=r,Ua.transition=t}}return!1}function XC(e,t,r){t=kd(r,t),t=fI(e,t,1),e=Wo(e,t,1),t=Cn(),e!==null&&(Pp(e,1,t),Yn(e,t))}function fr(e,t,r){if(e.tag===3)XC(e,e,r);else for(;t!==null;){if(t.tag===3){XC(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ho===null||!Ho.has(n))){e=kd(r,e),e=hI(t,e,1),t=Wo(t,e,1),e=Cn(),t!==null&&(Pp(t,1,e),Yn(t,e));break}}t=t.return}}function PV(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Cn(),e.pingedLanes|=e.suspendedLanes&r,Yr===e&&(sn&r)===r&&(Br===4||Br===3&&(sn&130023424)===sn&&500>br()-Xk?pc(e,0):Zk|=r),Yn(e,t)}function RI(e,t){t===0&&(e.mode&1?(t=bg,bg<<=1,!(bg&130023424)&&(bg=4194304)):t=1);var r=Cn();e=Hi(e,t),e!==null&&(Pp(e,t,r),Yn(e,r))}function TV(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),RI(e,r)}function MV(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Ne(314))}n!==null&&n.delete(t),RI(e,r)}var II;II=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Zn.current)Wn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Wn=!1,bV(e,t,r);Wn=!!(e.flags&131072)}else Wn=!1,rr&&t.flags&1048576&&z5(t,Hv,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;bv(e,t),e=t.pendingProps;var a=wd(t,yn.current);ld(t,r),a=Uk(null,t,n,e,a,r);var i=Vk();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Xn(n)?(i=!0,Vv(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,zk(t),a.updater=Gx,t.stateNode=a,a._reactInternals=t,c1(t,n,e,r),t=f1(null,t,n,!0,i,r)):(t.tag=0,rr&&i&&Pk(t),jn(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(bv(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=IV(n),e=ls(n,e),a){case 0:t=d1(null,t,n,e,r);break e;case 1:t=$C(null,t,n,e,r);break e;case 11:t=zC(null,t,n,e,r);break e;case 14:t=FC(null,t,n,ls(n.type,e),r);break e}throw Error(Ne(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ls(n,a),d1(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ls(n,a),$C(e,t,n,a,r);case 3:e:{if(vI(t),e===null)throw Error(Ne(387));n=t.pendingProps,i=t.memoizedState,a=i.element,V5(e,t),Zv(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=kd(Error(Ne(423)),t),t=qC(e,t,n,r,a);break e}else if(n!==a){a=kd(Error(Ne(424)),t),t=qC(e,t,n,r,a);break e}else for(ya=Vo(t.stateNode.containerInfo.firstChild),xa=t,rr=!0,hs=null,r=B5(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(jd(),n===a){t=Ki(e,t,r);break e}jn(e,t,n,r)}t=t.child}return t;case 5:return W5(t),e===null&&i1(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,t1(n,a)?o=null:i!==null&&t1(n,i)&&(t.flags|=32),gI(e,t),jn(e,t,o,r),t.child;case 6:return e===null&&i1(t),null;case 13:return yI(e,t,r);case 4:return Fk(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Nd(t,null,n,r):jn(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ls(n,a),zC(e,t,n,a,r);case 7:return jn(e,t,t.pendingProps,r),t.child;case 8:return jn(e,t,t.pendingProps.children,r),t.child;case 12:return jn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,qt(Kv,n._currentValue),n._currentValue=o,i!==null)if(Os(i.value,o)){if(i.children===a.children&&!Zn.current){t=Ki(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Fi(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),o1(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Ne(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),o1(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}jn(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,ld(t,r),a=Ha(a),n=n(a),t.flags|=1,jn(e,t,n,r),t.child;case 14:return n=t.type,a=ls(n,t.pendingProps),a=ls(n.type,a),FC(e,t,n,a,r);case 15:return mI(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ls(n,a),bv(e,t),t.tag=1,Xn(n)?(e=!0,Vv(t)):e=!1,ld(t,r),dI(t,n,a),c1(t,n,a,r),f1(null,t,n,!0,e,r);case 19:return xI(e,t,r);case 22:return pI(e,t,r)}throw Error(Ne(156,t.tag))};function DI(e,t){return l5(e,t)}function RV(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fa(e,t,r,n){return new RV(e,t,r,n)}function eS(e){return e=e.prototype,!(!e||!e.isReactComponent)}function IV(e){if(typeof e=="function")return eS(e)?1:0;if(e!=null){if(e=e.$$typeof,e===xk)return 11;if(e===bk)return 14}return 2}function Go(e,t){var r=e.alternate;return r===null?(r=Fa(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Nv(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")eS(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Bu:return gc(r.children,a,i,t);case yk:o=8,a|=8;break;case Mj:return e=Fa(12,r,t,a|2),e.elementType=Mj,e.lanes=i,e;case Rj:return e=Fa(13,r,t,a),e.elementType=Rj,e.lanes=i,e;case Ij:return e=Fa(19,r,t,a),e.elementType=Ij,e.lanes=i,e;case WR:return Yx(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case UR:o=10;break e;case VR:o=9;break e;case xk:o=11;break e;case bk:o=14;break e;case _o:o=16,n=null;break e}throw Error(Ne(130,e==null?e:typeof e,""))}return t=Fa(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function gc(e,t,r,n){return e=Fa(7,e,n,t),e.lanes=r,e}function Yx(e,t,r,n){return e=Fa(22,e,n,t),e.elementType=WR,e.lanes=r,e.stateNode={isHidden:!1},e}function gw(e,t,r){return e=Fa(6,e,null,t),e.lanes=r,e}function vw(e,t,r){return t=Fa(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function DV(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Y0(0),this.expirationTimes=Y0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Y0(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function tS(e,t,r,n,a,i,o,l,c){return e=new DV(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Fa(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},zk(i),e}function LV(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qu,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function LI(e){if(!e)return sl;e=e._reactInternals;e:{if(Vc(e)!==e||e.tag!==1)throw Error(Ne(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Xn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ne(171))}if(e.tag===1){var r=e.type;if(Xn(r))return D5(e,r,t)}return t}function zI(e,t,r,n,a,i,o,l,c){return e=tS(r,n,!0,e,a,i,o,l,c),e.context=LI(null),r=e.current,n=Cn(),a=Ko(r),i=Fi(n,a),i.callback=t??null,Wo(r,i,a),e.current.lanes=a,Pp(e,a,n),Yn(e,n),e}function Qx(e,t,r,n){var a=t.current,i=Cn(),o=Ko(a);return r=LI(r),t.context===null?t.context=r:t.pendingContext=r,t=Fi(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Wo(a,t,o),e!==null&&(_s(e,a,o,i),vv(e,a,o)),o}function ny(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function YC(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function rS(e,t){YC(e,t),(e=e.alternate)&&YC(e,t)}function zV(){return null}var FI=typeof reportError=="function"?reportError:function(e){console.error(e)};function nS(e){this._internalRoot=e}Jx.prototype.render=nS.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ne(409));Qx(e,t,null,null)};Jx.prototype.unmount=nS.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;kc(function(){Qx(null,e,null,null)}),t[Wi]=null}};function Jx(e){this._internalRoot=e}Jx.prototype.unstable_scheduleHydration=function(e){if(e){var t=p5();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Eo.length&&t!==0&&t<Eo[r].priority;r++);Eo.splice(r,0,e),r===0&&v5(e)}};function aS(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function eb(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function QC(){}function FV(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=ny(o);i.call(u)}}var o=zI(t,n,e,0,null,!1,!1,"",QC);return e._reactRootContainer=o,e[Wi]=o.current,bm(e.nodeType===8?e.parentNode:e),kc(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=ny(c);l.call(u)}}var c=tS(e,0,!1,null,null,!1,!1,"",QC);return e._reactRootContainer=c,e[Wi]=c.current,bm(e.nodeType===8?e.parentNode:e),kc(function(){Qx(t,c,r,n)}),c}function tb(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=ny(o);l.call(c)}}Qx(t,o,e,a)}else o=FV(r,t,e,a,n);return ny(o)}h5=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Lh(t.pendingLanes);r!==0&&(Nk(t,r|1),Yn(t,br()),!(wt&6)&&(Sd=br()+500,xl()))}break;case 13:kc(function(){var n=Hi(e,1);if(n!==null){var a=Cn();_s(n,e,1,a)}}),rS(e,1)}};_k=function(e){if(e.tag===13){var t=Hi(e,134217728);if(t!==null){var r=Cn();_s(t,e,134217728,r)}rS(e,134217728)}};m5=function(e){if(e.tag===13){var t=Ko(e),r=Hi(e,t);if(r!==null){var n=Cn();_s(r,e,t,n)}rS(e,t)}};p5=function(){return Tt};g5=function(e,t){var r=Tt;try{return Tt=e,t()}finally{Tt=r}};Wj=function(e,t,r){switch(t){case"input":if(zj(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Wx(n);if(!a)throw Error(Ne(90));KR(n),zj(n,a)}}}break;case"textarea":ZR(e,r);break;case"select":t=r.value,t!=null&&ad(e,!!r.multiple,t,!1)}};r5=Yk;n5=kc;var $V={usingClientEntryPoint:!1,Events:[Mp,Hu,Wx,e5,t5,Yk]},ih={findFiberByHostInstance:ac,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qV={bundleType:ih.bundleType,version:ih.version,rendererPackageName:ih.rendererPackageName,rendererConfig:ih.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ro.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=i5(e),e===null?null:e.stateNode},findFiberByHostInstance:ih.findFiberByHostInstance||zV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pg.isDisabled&&Pg.supportsFiber)try{qx=Pg.inject(qV),Js=Pg}catch{}}Sa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$V;Sa.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!aS(t))throw Error(Ne(200));return LV(e,t,null,r)};Sa.createRoot=function(e,t){if(!aS(e))throw Error(Ne(299));var r=!1,n="",a=FI;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=tS(e,1,!1,null,null,r,!1,n,a),e[Wi]=t.current,bm(e.nodeType===8?e.parentNode:e),new nS(t)};Sa.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ne(188)):(e=Object.keys(e).join(","),Error(Ne(268,e)));return e=i5(t),e=e===null?null:e.stateNode,e};Sa.flushSync=function(e){return kc(e)};Sa.hydrate=function(e,t,r){if(!eb(t))throw Error(Ne(200));return tb(null,e,t,!0,r)};Sa.hydrateRoot=function(e,t,r){if(!aS(e))throw Error(Ne(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=FI;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=zI(t,null,e,1,r??null,a,!1,i,o),e[Wi]=t.current,bm(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Jx(t)};Sa.render=function(e,t,r){if(!eb(t))throw Error(Ne(200));return tb(null,e,t,!1,r)};Sa.unmountComponentAtNode=function(e){if(!eb(e))throw Error(Ne(40));return e._reactRootContainer?(kc(function(){tb(null,null,e,!1,function(){e._reactRootContainer=null,e[Wi]=null})}),!0):!1};Sa.unstable_batchedUpdates=Yk;Sa.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!eb(r))throw Error(Ne(200));if(e==null||e._reactInternals===void 0)throw Error(Ne(38));return tb(e,t,r,!1,n)};Sa.version="18.3.1-next-f1338f8080-20240426";function $I(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($I)}catch(e){console.error(e)}}$I(),FR.exports=Sa;var Wc=FR.exports;const qI=Ot(Wc);var BI={exports:{}},rb={};/**
* @license React
* react-jsx-runtime.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var BV=g,UV=Symbol.for("react.element"),VV=Symbol.for("react.fragment"),WV=Object.prototype.hasOwnProperty,HV=BV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,KV={key:!0,ref:!0,__self:!0,__source:!0};function UI(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)WV.call(t,n)&&!KV.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:UV,type:e,key:i,ref:o,props:a,_owner:HV.current}}rb.Fragment=VV;rb.jsx=UI;rb.jsxs=UI;BI.exports=rb;var s=BI.exports;function be(e,t,{checkForDefaultPrevented:r=!0}={}){return function(n){if(e==null||e(n),r===!1||!n.defaultPrevented)return t==null?void 0:t(n)}}function JC(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Gi(...e){return t=>{let r=!1;const n=e.map(a=>{const i=JC(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():JC(e[a],null)}}}}function Ze(...e){return g.useCallback(Gi(...e),e)}function GV(e,t){const r=g.createContext(t),n=i=>{const{children:o,...l}=i,c=g.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(i){const o=g.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function xn(e,t=[]){let r=[];function n(i,o){const l=g.createContext(o),c=r.length;r=[...r,o];const u=f=>{var h;const{scope:m,children:v,...p}=f,b=((h=m==null?void 0:m[e])==null?void 0:h[c])||l,x=g.useMemo(()=>p,Object.values(p));return s.jsx(b.Provider,{value:x,children:v})};u.displayName=i+"Provider";function d(f,h){var m;const v=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,p=g.useContext(v);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(o=>g.createContext(o));return function(o){const l=(o==null?void 0:o[e])||i;return g.useMemo(()=>({[`__scope${e}`]:{...o,[e]:l}}),[o,l])}};return a.scopeName=e,[n,ZV(a,...t)]}function ZV(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(a){const i=n.reduce((o,{useScope:l,scopeName:c})=>{const u=l(a)[`__scope${c}`];return{...o,...u}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function il(e){const t=XV(e),r=g.forwardRef((n,a)=>{const{children:i,...o}=n,l=g.Children.toArray(i),c=l.find(QV);if(c){const u=c.props.children,d=l.map(f=>f===c?g.Children.count(u)>1?g.Children.only(null):g.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:g.isValidElement(u)?g.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var Hc=il("Slot");function XV(e){const t=g.forwardRef((r,n)=>{const{children:a,...i}=r;if(g.isValidElement(a)){const o=eW(a),l=JV(i,a.props);return a.type!==g.Fragment&&(l.ref=n?Gi(n,o):o),g.cloneElement(a,l)}return g.Children.count(a)>1?g.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var VI=Symbol("radix.slottable");function YV(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=VI,t}function QV(e){return g.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===VI}function JV(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...o)=>{const l=i(...o);return a(...o),l}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function eW(e){var t,r;let n=(t=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:t.get,a=n&&"isReactWarning"in n&&n.isReactWarning;return a?e.ref:(n=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,a=n&&"isReactWarning"in n&&n.isReactWarning,a?e.props.ref:e.props.ref||e.ref)}function Ip(e){const t=e+"CollectionProvider",[r,n]=xn(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:b,children:x}=p,y=C.useRef(null),w=C.useRef(new Map).current;return s.jsx(a,{scope:b,itemMap:w,collectionRef:y,children:x})};o.displayName=t;const l=e+"CollectionSlot",c=il(l),u=C.forwardRef((p,b)=>{const{scope:x,children:y}=p,w=i(l,x),j=Ze(b,w.collectionRef);return s.jsx(c,{ref:j,children:y})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=il(d),m=C.forwardRef((p,b)=>{const{scope:x,children:y,...w}=p,j=C.useRef(null),N=Ze(b,j),_=i(d,x);return C.useEffect(()=>(_.itemMap.set(j,{ref:j,...w}),()=>void _.itemMap.delete(j))),s.jsx(h,{[f]:"",ref:N,children:y})});m.displayName=d;function v(p){const b=i(e+"CollectionConsumer",p);return C.useCallback(()=>{const x=b.collectionRef.current;if(!x)return[];const y=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((w,j)=>y.indexOf(w.ref.current)-y.indexOf(j.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},v,n]}var tW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ae=tW.reduce((e,t)=>{const r=il(`Primitive.${t}`),n=g.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function sS(e,t){e&&Wc.flushSync(()=>e.dispatchEvent(t))}function pr(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e}),g.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function rW(e,t=globalThis==null?void 0:globalThis.document){const r=pr(e);g.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var nW="DismissableLayer",N1="dismissableLayer.update",aW="dismissableLayer.pointerDownOutside",sW="dismissableLayer.focusOutside",eE,WI=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Kc=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=g.useContext(WI),[d,f]=g.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=g.useState({}),v=Ze(t,k=>f(k)),p=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=p.indexOf(b),y=d?p.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,j=y>=x,N=oW(k=>{const O=k.target,E=[...u.branches].some(T=>T.contains(O));!j||E||(a==null||a(k),o==null||o(k),k.defaultPrevented||l==null||l())},h),_=lW(k=>{const O=k.target;[...u.branches].some(E=>E.contains(O))||(i==null||i(k),o==null||o(k),k.defaultPrevented||l==null||l())},h);return rW(k=>{y===u.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},h),g.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(eE=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),tE(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=eE)}},[d,h,r,u]),g.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),tE())},[d,u]),g.useEffect(()=>{const k=()=>m({});return document.addEventListener(N1,k),()=>document.removeEventListener(N1,k)},[]),s.jsx(Ae.div,{...c,ref:v,style:{pointerEvents:w?j?"auto":"none":void 0,...e.style},onFocusCapture:be(e.onFocusCapture,_.onFocusCapture),onBlurCapture:be(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:be(e.onPointerDownCapture,N.onPointerDownCapture)})});Kc.displayName=nW;var iW="DismissableLayerBranch",HI=g.forwardRef((e,t)=>{const r=g.useContext(WI),n=g.useRef(null),a=Ze(t,n);return g.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(Ae.div,{...e,ref:a})});HI.displayName=iW;function oW(e,t=globalThis==null?void 0:globalThis.document){const r=pr(e),n=g.useRef(!1),a=g.useRef(()=>{});return g.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){KI(aW,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function lW(e,t=globalThis==null?void 0:globalThis.document){const r=pr(e),n=g.useRef(!1);return g.useEffect(()=>{const a=i=>{i.target&&!n.current&&KI(sW,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function tE(){const e=new CustomEvent(N1);document.dispatchEvent(e)}function KI(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?sS(a,i):a.dispatchEvent(i)}var cW=Kc,uW=HI,jr=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},dW="Portal",jf=g.forwardRef((e,t)=>{var r;const{container:n,...a}=e,[i,o]=g.useState(!1);jr(()=>o(!0),[]);const l=n||i&&((r=globalThis==null?void 0:globalThis.document)==null?void 0:r.body);return l?qI.createPortal(s.jsx(Ae.div,{...a,ref:t}),l):null});jf.displayName=dW;function fW(e,t){return g.useReducer((r,n)=>t[r][n]??r,e)}var Jr=e=>{const{present:t,children:r}=e,n=hW(t),a=typeof r=="function"?r({present:n.isPresent}):g.Children.only(r),i=Ze(n.ref,mW(a));return typeof r=="function"||n.isPresent?g.cloneElement(a,{ref:i}):null};Jr.displayName="Presence";function hW(e){const[t,r]=g.useState(),n=g.useRef(null),a=g.useRef(e),i=g.useRef("none"),o=e?"mounted":"unmounted",[l,c]=fW(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=Tg(n.current);i.current=l==="mounted"?u:"none"},[l]),jr(()=>{const u=n.current,d=a.current;if(d!==e){const f=i.current,h=Tg(u);e?c("MOUNT"):h==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==h?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),jr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const v=Tg(n.current).includes(CSS.escape(m.animationName));if(m.target===t&&v&&(c("ANIMATION_END"),!a.current)){const p=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=p)})}},h=m=>{m.target===t&&(i.current=Tg(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:g.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Tg(e){return(e==null?void 0:e.animationName)||"none"}function mW(e){var t,r;let n=(t=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:t.get,a=n&&"isReactWarning"in n&&n.isReactWarning;return a?e.ref:(n=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,a=n&&"isReactWarning"in n&&n.isReactWarning,a?e.props.ref:e.props.ref||e.ref)}var pW=mk[" useInsertionEffect ".trim().toString()]||jr;function Ga({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,o]=gW({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const d=g.useRef(e!==void 0);g.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=g.useCallback(d=>{var f;if(l){const h=vW(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else i(d)},[l,e,i,o]);return[c,u]}function gW({defaultProp:e,onChange:t}){const[r,n]=g.useState(e),a=g.useRef(r),i=g.useRef(t);return pW(()=>{i.current=t},[t]),g.useEffect(()=>{var o;a.current!==r&&((o=i.current)==null||o.call(i,r),a.current=r)},[r,a]),[r,n,i]}function vW(e){return typeof e=="function"}var yW=mk[" useId ".trim().toString()]||(()=>{}),xW=0;function Qr(e){const[t,r]=g.useState(yW());return jr(()=>{r(n=>n??String(xW++))},[e]),t?`radix-${t}`:""}const bW=["top","right","bottom","left"],ol=Math.min,fa=Math.max,ay=Math.round,Mg=Math.floor,ti=e=>({x:e,y:e}),wW={left:"right",right:"left",bottom:"top",top:"bottom"},jW={start:"end",end:"start"};function _1(e,t,r){return fa(e,ol(t,r))}function Zi(e,t){return typeof e=="function"?e(t):e}function Xi(e){return e.split("-")[0]}function Nf(e){return e.split("-")[1]}function iS(e){return e==="x"?"y":"x"}function oS(e){return e==="y"?"height":"width"}const NW=new Set(["top","bottom"]);function Xs(e){return NW.has(Xi(e))?"y":"x"}function lS(e){return iS(Xs(e))}function _W(e,t,r){r===void 0&&(r=!1);const n=Nf(e),a=lS(e),i=oS(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=sy(o)),[o,sy(o)]}function kW(e){const t=sy(e);return[k1(e),t,k1(t)]}function k1(e){return e.replace(/start|end/g,t=>jW[t])}const rE=["left","right"],nE=["right","left"],SW=["top","bottom"],OW=["bottom","top"];function CW(e,t,r){switch(e){case"top":case"bottom":return r?t?nE:rE:t?rE:nE;case"left":case"right":return t?SW:OW;default:return[]}}function EW(e,t,r,n){const a=Nf(e);let i=CW(Xi(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(k1)))),i}function sy(e){return e.replace(/left|right|bottom|top/g,t=>wW[t])}function AW(e){return{top:0,right:0,bottom:0,left:0,...e}}function GI(e){return typeof e!="number"?AW(e):{top:e,right:e,bottom:e,left:e}}function iy(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function aE(e,t,r){let{reference:n,floating:a}=e;const i=Xs(t),o=lS(t),l=oS(o),c=Xi(t),u=i==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let m;switch(c){case"top":m={x:d,y:n.y-a.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-a.width,y:f};break;default:m={x:n.x,y:n.y}}switch(Nf(t)){case"start":m[o]-=h*(r&&u?-1:1);break;case"end":m[o]+=h*(r&&u?-1:1);break}return m}const PW=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=aE(u,n,c),h=n,m={},v=0;for(let p=0;p<l.length;p++){const{name:b,fn:x}=l[p],{x:y,y:w,data:j,reset:N}=await x({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=y??d,f=w??f,m={...m,[b]:{...m[b],...j}},N&&v<=50&&(v++,typeof N=="object"&&(N.placement&&(h=N.placement),N.rects&&(u=N.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):N.rects),{x:d,y:f}=aE(u,h,c)),p=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:m}};async function Em(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=Zi(t,e),v=GI(m),p=l[h?f==="floating"?"reference":"floating":f],b=iy(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(p)))==null||r?p:p.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),x=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,y=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),w=await(i.isElement==null?void 0:i.isElement(y))?await(i.getScale==null?void 0:i.getScale(y))||{x:1,y:1}:{x:1,y:1},j=iy(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:y,strategy:c}):x);return{top:(b.top-j.top+v.top)/w.y,bottom:(j.bottom-b.bottom+v.bottom)/w.y,left:(b.left-j.left+v.left)/w.x,right:(j.right-b.right+v.right)/w.x}}const TW=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Zi(e,t)||{};if(u==null)return{};const f=GI(d),h={x:r,y:n},m=lS(a),v=oS(m),p=await o.getDimensions(u),b=m==="y",x=b?"top":"left",y=b?"bottom":"right",w=b?"clientHeight":"clientWidth",j=i.reference[v]+i.reference[m]-h[m]-i.floating[v],N=h[m]-i.reference[m],_=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let k=_?_[w]:0;(!k||!await(o.isElement==null?void 0:o.isElement(_)))&&(k=l.floating[w]||i.floating[v]);const O=j/2-N/2,E=k/2-p[v]/2-1,T=ol(f[x],E),P=ol(f[y],E),S=T,R=k-p[v]-P,M=k/2-p[v]/2+O,B=_1(S,M,R),U=!c.arrow&&Nf(a)!=null&&M!==B&&i.reference[v]/2-(M<S?T:P)-p[v]/2<0,F=U?M<S?M-S:M-R:0;return{[m]:h[m]+F,data:{[m]:B,centerOffset:M-B-F,...U&&{alignmentOffset:F}},reset:U}}}),MW=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:p=!0,...b}=Zi(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const x=Xi(a),y=Xs(l),w=Xi(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=h||(w||!p?[sy(l)]:kW(l)),_=v!=="none";!h&&_&&N.push(...EW(l,p,v,j));const k=[l,...N],O=await Em(t,b),E=[];let T=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&E.push(O[x]),f){const M=_W(a,o,j);E.push(O[M[0]],O[M[1]])}if(T=[...T,{placement:a,overflows:E}],!E.every(M=>M<=0)){var P,S;const M=(((P=i.flip)==null?void 0:P.index)||0)+1,B=k[M];if(B&&(!(f==="alignment"&&y!==Xs(B))||T.every(F=>Xs(F.placement)===y?F.overflows[0]>0:!0)))return{data:{index:M,overflows:T},reset:{placement:B}};let U=(S=T.filter(F=>F.overflows[0]<=0).sort((F,z)=>F.overflows[1]-z.overflows[1])[0])==null?void 0:S.placement;if(!U)switch(m){case"bestFit":{var R;const F=(R=T.filter(z=>{if(_){const I=Xs(z.placement);return I===y||I==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(I=>I>0).reduce((I,G)=>I+G,0)]).sort((z,I)=>z[1]-I[1])[0])==null?void 0:R[0];F&&(U=F);break}case"initialPlacement":U=l;break}if(a!==U)return{reset:{placement:U}}}return{}}}};function sE(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function iE(e){return bW.some(t=>e[t]>=0)}const RW=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=Zi(e,t);switch(n){case"referenceHidden":{const i=await Em(t,{...a,elementContext:"reference"}),o=sE(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:iE(o)}}}case"escaped":{const i=await Em(t,{...a,altBoundary:!0}),o=sE(i,r.floating);return{data:{escapedOffsets:o,escaped:iE(o)}}}default:return{}}}}},ZI=new Set(["left","top"]);async function IW(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=Xi(r),l=Nf(r),c=Xs(r)==="y",u=ZI.has(o)?-1:1,d=i&&c?-1:1,f=Zi(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof v=="number"&&(m=l==="end"?v*-1:v),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const DW=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await IW(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},LW=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:b=>{let{x,y}=b;return{x,y}}},...c}=Zi(e,t),u={x:r,y:n},d=await Em(t,c),f=Xs(Xi(a)),h=iS(f);let m=u[h],v=u[f];if(i){const b=h==="y"?"top":"left",x=h==="y"?"bottom":"right",y=m+d[b],w=m-d[x];m=_1(y,m,w)}if(o){const b=f==="y"?"top":"left",x=f==="y"?"bottom":"right",y=v+d[b],w=v-d[x];v=_1(y,v,w)}const p=l.fn({...t,[h]:m,[f]:v});return{...p,data:{x:p.x-r,y:p.y-n,enabled:{[h]:i,[f]:o}}}}}},zW=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Zi(e,t),d={x:r,y:n},f=Xs(a),h=iS(f);let m=d[h],v=d[f];const p=Zi(l,t),b=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const w=h==="y"?"height":"width",j=i.reference[h]-i.floating[w]+b.mainAxis,N=i.reference[h]+i.reference[w]-b.mainAxis;m<j?m=j:m>N&&(m=N)}if(u){var x,y;const w=h==="y"?"width":"height",j=ZI.has(Xi(a)),N=i.reference[f]-i.floating[w]+(j&&((x=o.offset)==null?void 0:x[f])||0)+(j?0:b.crossAxis),_=i.reference[f]+i.reference[w]+(j?0:((y=o.offset)==null?void 0:y[f])||0)-(j?b.crossAxis:0);v<N?v=N:v>_&&(v=_)}return{[h]:m,[f]:v}}}},FW=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Zi(e,t),d=await Em(t,u),f=Xi(a),h=Nf(a),m=Xs(a)==="y",{width:v,height:p}=i.floating;let b,x;f==="top"||f==="bottom"?(b=f,x=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(x=f,b=h==="end"?"top":"bottom");const y=p-d.top-d.bottom,w=v-d.left-d.right,j=ol(p-d[b],y),N=ol(v-d[x],w),_=!t.middlewareData.shift;let k=j,O=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(O=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(k=y),_&&!h){const T=fa(d.left,0),P=fa(d.right,0),S=fa(d.top,0),R=fa(d.bottom,0);m?O=v-2*(T!==0||P!==0?T+P:fa(d.left,d.right)):k=p-2*(S!==0||R!==0?S+R:fa(d.top,d.bottom))}await c({...t,availableWidth:O,availableHeight:k});const E=await o.getDimensions(l.floating);return v!==E.width||p!==E.height?{reset:{rects:!0}}:{}}}};function nb(){return typeof window<"u"}function _f(e){return XI(e)?(e.nodeName||"").toLowerCase():"#document"}function ba(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function fi(e){var t;return(t=(XI(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function XI(e){return nb()?e instanceof Node||e instanceof ba(e).Node:!1}function Cs(e){return nb()?e instanceof Element||e instanceof ba(e).Element:!1}function li(e){return nb()?e instanceof HTMLElement||e instanceof ba(e).HTMLElement:!1}function oE(e){return!nb()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ba(e).ShadowRoot}const $W=new Set(["inline","contents"]);function Dp(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Es(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!$W.has(a)}const qW=new Set(["table","td","th"]);function BW(e){return qW.has(_f(e))}const UW=[":popover-open",":modal"];function ab(e){return UW.some(t=>{try{return e.matches(t)}catch{return!1}})}const VW=["transform","translate","scale","rotate","perspective"],WW=["transform","translate","scale","rotate","perspective","filter"],HW=["paint","layout","strict","content"];function cS(e){const t=uS(),r=Cs(e)?Es(e):e;return VW.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||WW.some(n=>(r.willChange||"").includes(n))||HW.some(n=>(r.contain||"").includes(n))}function KW(e){let t=ll(e);for(;li(t)&&!Od(t);){if(cS(t))return t;if(ab(t))return null;t=ll(t)}return null}function uS(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const GW=new Set(["html","body","#document"]);function Od(e){return GW.has(_f(e))}function Es(e){return ba(e).getComputedStyle(e)}function sb(e){return Cs(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ll(e){if(_f(e)==="html")return e;const t=e.assignedSlot||e.parentNode||oE(e)&&e.host||fi(e);return oE(t)?t.host:t}function YI(e){const t=ll(e);return Od(t)?e.ownerDocument?e.ownerDocument.body:e.body:li(t)&&Dp(t)?t:YI(t)}function Am(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=YI(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=ba(a);if(i){const l=S1(o);return t.concat(o,o.visualViewport||[],Dp(a)?a:[],l&&r?Am(l):[])}return t.concat(a,Am(a,[],r))}function S1(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function QI(e){const t=Es(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=li(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=ay(r)!==i||ay(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function dS(e){return Cs(e)?e:e.contextElement}function ud(e){const t=dS(e);if(!li(t))return ti(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=QI(t);let o=(i?ay(r.width):r.width)/n,l=(i?ay(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const ZW=ti(0);function JI(e){const t=ba(e);return!uS()||!t.visualViewport?ZW:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function XW(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==ba(e)?!1:t}function Sc(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=dS(e);let o=ti(1);t&&(n?Cs(n)&&(o=ud(n)):o=ud(e));const l=XW(i,r,n)?JI(i):ti(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,f=a.height/o.y;if(i){const h=ba(i),m=n&&Cs(n)?ba(n):n;let v=h,p=S1(v);for(;p&&n&&m!==v;){const b=ud(p),x=p.getBoundingClientRect(),y=Es(p),w=x.left+(p.clientLeft+parseFloat(y.paddingLeft))*b.x,j=x.top+(p.clientTop+parseFloat(y.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,f*=b.y,c+=w,u+=j,v=ba(p),p=S1(v)}}return iy({width:d,height:f,x:c,y:u})}function ib(e,t){const r=sb(e).scrollLeft;return t?t.left+r:Sc(fi(e)).left+r}function eD(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-ib(e,r),a=r.top+t.scrollTop;return{x:n,y:a}}function YW(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=fi(n),l=t?ab(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=ti(1);const d=ti(0),f=li(n);if((f||!f&&!i)&&((_f(n)!=="body"||Dp(o))&&(c=sb(n)),li(n))){const m=Sc(n);u=ud(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const h=o&&!f&&!i?eD(o,c):ti(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function QW(e){return Array.from(e.getClientRects())}function JW(e){const t=fi(e),r=sb(e),n=e.ownerDocument.body,a=fa(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=fa(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+ib(e);const l=-r.scrollTop;return Es(n).direction==="rtl"&&(o+=fa(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}const lE=25;function eH(e,t){const r=ba(e),n=fi(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=uS();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const u=ib(n);if(u<=0){const d=n.ownerDocument,f=d.body,h=getComputedStyle(f),m=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,v=Math.abs(n.clientWidth-f.clientWidth-m);v<=lE&&(i-=v)}else u<=lE&&(i+=u);return{width:i,height:o,x:l,y:c}}const tH=new Set(["absolute","fixed"]);function rH(e,t){const r=Sc(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=li(e)?ud(e):ti(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function cE(e,t,r){let n;if(t==="viewport")n=eH(e,r);else if(t==="document")n=JW(fi(e));else if(Cs(t))n=rH(t,r);else{const a=JI(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return iy(n)}function tD(e,t){const r=ll(e);return r===t||!Cs(r)||Od(r)?!1:Es(r).position==="fixed"||tD(r,t)}function nH(e,t){const r=t.get(e);if(r)return r;let n=Am(e,[],!1).filter(l=>Cs(l)&&_f(l)!=="body"),a=null;const i=Es(e).position==="fixed";let o=i?ll(e):e;for(;Cs(o)&&!Od(o);){const l=Es(o),c=cS(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&a&&tH.has(a.position)||Dp(o)&&!c&&tD(e,o))?n=n.filter(u=>u!==o):a=l,o=ll(o)}return t.set(e,n),n}function aH(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const i=[...r==="clippingAncestors"?ab(t)?[]:nH(t,this._c):[].concat(r),n],o=i[0],l=i.reduce((c,u)=>{const d=cE(t,u,a);return c.top=fa(d.top,c.top),c.right=ol(d.right,c.right),c.bottom=ol(d.bottom,c.bottom),c.left=fa(d.left,c.left),c},cE(t,o,a));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function sH(e){const{width:t,height:r}=QI(e);return{width:t,height:r}}function iH(e,t,r){const n=li(t),a=fi(t),i=r==="fixed",o=Sc(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=ti(0);function u(){c.x=ib(a)}if(n||!n&&!i)if((_f(t)!=="body"||Dp(a))&&(l=sb(t)),n){const m=Sc(t,!0,i,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else a&&u();i&&!n&&a&&u();const d=a&&!n&&!i?eD(a,l):ti(0),f=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function yw(e){return Es(e).position==="static"}function uE(e,t){if(!li(e)||Es(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return fi(e)===r&&(r=r.ownerDocument.body),r}function rD(e,t){const r=ba(e);if(ab(e))return r;if(!li(e)){let a=ll(e);for(;a&&!Od(a);){if(Cs(a)&&!yw(a))return a;a=ll(a)}return r}let n=uE(e,t);for(;n&&BW(n)&&yw(n);)n=uE(n,t);return n&&Od(n)&&yw(n)&&!cS(n)?r:n||KW(e)||r}const oH=async function(e){const t=this.getOffsetParent||rD,r=this.getDimensions,n=await r(e.floating);return{reference:iH(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function lH(e){return Es(e).direction==="rtl"}const cH={convertOffsetParentRelativeRectToViewportRelativeRect:YW,getDocumentElement:fi,getClippingRect:aH,getOffsetParent:rD,getElementRects:oH,getClientRects:QW,getDimensions:sH,getScale:ud,isElement:Cs,isRTL:lH};function nD(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function uH(e,t){let r=null,n;const a=fi(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(l||t(),!h||!m)return;const v=Mg(f),p=Mg(a.clientWidth-(d+h)),b=Mg(a.clientHeight-(f+m)),x=Mg(d),y={rootMargin:-v+"px "+-p+"px "+-b+"px "+-x+"px",threshold:fa(0,ol(1,c))||1};let w=!0;function j(N){const _=N[0].intersectionRatio;if(_!==c){if(!w)return o();_?o(!1,_):n=setTimeout(()=>{o(!1,1e-7)},1e3)}_===1&&!nD(u,e.getBoundingClientRect())&&o(),w=!1}try{r=new IntersectionObserver(j,{...y,root:a.ownerDocument})}catch{r=new IntersectionObserver(j,y)}r.observe(e)}return o(!0),i}function dH(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=dS(e),d=a||i?[...u?Am(u):[],...Am(t)]:[];d.forEach(x=>{a&&x.addEventListener("scroll",r,{passive:!0}),i&&x.addEventListener("resize",r)});const f=u&&l?uH(u,r):null;let h=-1,m=null;o&&(m=new ResizeObserver(x=>{let[y]=x;y&&y.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let v,p=c?Sc(e):null;c&&b();function b(){const x=Sc(e);p&&!nD(p,x)&&r(),p=x,v=requestAnimationFrame(b)}return r(),()=>{var x;d.forEach(y=>{a&&y.removeEventListener("scroll",r),i&&y.removeEventListener("resize",r)}),f==null||f(),(x=m)==null||x.disconnect(),m=null,c&&cancelAnimationFrame(v)}}const fH=DW,hH=LW,mH=MW,pH=FW,gH=RW,dE=TW,vH=zW,yH=(e,t,r)=>{const n=new Map,a={platform:cH,...r},i={...a.platform,_c:n};return PW(e,t,{...a,platform:i})};var xH=typeof document<"u",bH=function(){},_v=xH?g.useLayoutEffect:bH;function oy(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!oy(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!oy(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function aD(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function fE(e,t){const r=aD(e);return Math.round(t*r)/r}function xw(e){const t=g.useRef(e);return _v(()=>{t.current=e}),t}function wH(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=g.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=g.useState(n);oy(h,n)||m(n);const[v,p]=g.useState(null),[b,x]=g.useState(null),y=g.useCallback(z=>{z!==_.current&&(_.current=z,p(z))},[]),w=g.useCallback(z=>{z!==k.current&&(k.current=z,x(z))},[]),j=i||v,N=o||b,_=g.useRef(null),k=g.useRef(null),O=g.useRef(d),E=c!=null,T=xw(c),P=xw(a),S=xw(u),R=g.useCallback(()=>{if(!_.current||!k.current)return;const z={placement:t,strategy:r,middleware:h};P.current&&(z.platform=P.current),yH(_.current,k.current,z).then(I=>{const G={...I,isPositioned:S.current!==!1};M.current&&!oy(O.current,G)&&(O.current=G,Wc.flushSync(()=>{f(G)}))})},[h,t,r,P,S]);_v(()=>{u===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,f(z=>({...z,isPositioned:!1})))},[u]);const M=g.useRef(!1);_v(()=>(M.current=!0,()=>{M.current=!1}),[]),_v(()=>{if(j&&(_.current=j),N&&(k.current=N),j&&N){if(T.current)return T.current(j,N,R);R()}},[j,N,R,T,E]);const B=g.useMemo(()=>({reference:_,floating:k,setReference:y,setFloating:w}),[y,w]),U=g.useMemo(()=>({reference:j,floating:N}),[j,N]),F=g.useMemo(()=>{const z={position:r,left:0,top:0};if(!U.floating)return z;const I=fE(U.floating,d.x),G=fE(U.floating,d.y);return l?{...z,transform:"translate("+I+"px, "+G+"px)",...aD(U.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:I,top:G}},[r,l,U.floating,d.x,d.y]);return g.useMemo(()=>({...d,update:R,refs:B,elements:U,floatingStyles:F}),[d,R,B,U,F])}const jH=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?dE({element:n.current,padding:a}).fn(r):{}:n?dE({element:n,padding:a}).fn(r):{}}}},NH=(e,t)=>({...fH(e),options:[e,t]}),_H=(e,t)=>({...hH(e),options:[e,t]}),kH=(e,t)=>({...vH(e),options:[e,t]}),SH=(e,t)=>({...mH(e),options:[e,t]}),OH=(e,t)=>({...pH(e),options:[e,t]}),CH=(e,t)=>({...gH(e),options:[e,t]}),EH=(e,t)=>({...jH(e),options:[e,t]});var AH="Arrow",sD=g.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx(Ae.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});sD.displayName=AH;var PH=sD;function ob(e){const[t,r]=g.useState(void 0);return jr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var fS="Popper",[iD,bl]=xn(fS),[TH,oD]=iD(fS),lD=e=>{const{__scopePopper:t,children:r}=e,[n,a]=g.useState(null);return s.jsx(TH,{scope:t,anchor:n,onAnchorChange:a,children:r})};lD.displayName=fS;var cD="PopperAnchor",uD=g.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=oD(cD,r),o=g.useRef(null),l=Ze(t,o),c=g.useRef(null);return g.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||o.current,u!==c.current&&i.onAnchorChange(c.current)}),n?null:s.jsx(Ae.div,{...a,ref:l})});uD.displayName=cD;var hS="PopperContent",[MH,RH]=iD(hS),dD=g.forwardRef((e,t)=>{var r,n,a,i,o,l;const{__scopePopper:c,side:u="bottom",sideOffset:d=0,align:f="center",alignOffset:h=0,arrowPadding:m=0,avoidCollisions:v=!0,collisionBoundary:p=[],collisionPadding:b=0,sticky:x="partial",hideWhenDetached:y=!1,updatePositionStrategy:w="optimized",onPlaced:j,...N}=e,_=oD(hS,c),[k,O]=g.useState(null),E=Ze(t,Be=>O(Be)),[T,P]=g.useState(null),S=ob(T),R=(S==null?void 0:S.width)??0,M=(S==null?void 0:S.height)??0,B=u+(f!=="center"?"-"+f:""),U=typeof b=="number"?b:{top:0,right:0,bottom:0,left:0,...b},F=Array.isArray(p)?p:[p],z=F.length>0,I={padding:U,boundary:F.filter(DH),altBoundary:z},{refs:G,floatingStyles:L,placement:$,isPositioned:J,middlewareData:K}=wH({strategy:"fixed",placement:B,whileElementsMounted:(...Be)=>dH(...Be,{animationFrame:w==="always"}),elements:{reference:_.anchor},middleware:[NH({mainAxis:d+M,alignmentAxis:h}),v&&_H({mainAxis:!0,crossAxis:!1,limiter:x==="partial"?kH():void 0,...I}),v&&SH({...I}),OH({...I,apply:({elements:Be,rects:Ie,availableWidth:ut,availableHeight:it})=>{const{width:Xe,height:Y}=Ie.reference,q=Be.floating.style;q.setProperty("--radix-popper-available-width",`${ut}px`),q.setProperty("--radix-popper-available-height",`${it}px`),q.setProperty("--radix-popper-anchor-width",`${Xe}px`),q.setProperty("--radix-popper-anchor-height",`${Y}px`)}}),T&&EH({element:T,padding:m}),LH({arrowWidth:R,arrowHeight:M}),y&&CH({strategy:"referenceHidden",...I})]}),[D,oe]=mD($),V=pr(j);jr(()=>{J&&(V==null||V())},[J,V]);const de=(r=K.arrow)==null?void 0:r.x,te=(n=K.arrow)==null?void 0:n.y,ce=((a=K.arrow)==null?void 0:a.centerOffset)!==0,[ne,ee]=g.useState();return jr(()=>{k&&ee(window.getComputedStyle(k).zIndex)},[k]),s.jsx("div",{ref:G.setFloating,"data-radix-popper-content-wrapper":"",style:{...L,transform:J?L.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ne,"--radix-popper-transform-origin":[(i=K.transformOrigin)==null?void 0:i.x,(o=K.transformOrigin)==null?void 0:o.y].join(" "),...((l=K.hide)==null?void 0:l.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(MH,{scope:c,placedSide:D,onArrowChange:P,arrowX:de,arrowY:te,shouldHideArrow:ce,children:s.jsx(Ae.div,{"data-side":D,"data-align":oe,...N,ref:E,style:{...N.style,animation:J?void 0:"none"}})})})});dD.displayName=hS;var fD="PopperArrow",IH={top:"bottom",right:"left",bottom:"top",left:"right"},hD=g.forwardRef(function(e,t){const{__scopePopper:r,...n}=e,a=RH(fD,r),i=IH[a.placedSide];return s.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:s.jsx(PH,{...n,ref:t,style:{...n.style,display:"block"}})})});hD.displayName=fD;function DH(e){return e!==null}var LH=e=>({name:"transformOrigin",options:e,fn(t){var r,n,a;const{placement:i,rects:o,middlewareData:l}=t,c=((r=l.arrow)==null?void 0:r.centerOffset)!==0,u=c?0:e.arrowWidth,d=c?0:e.arrowHeight,[f,h]=mD(i),m={start:"0%",center:"50%",end:"100%"}[h],v=(((n=l.arrow)==null?void 0:n.x)??0)+u/2,p=(((a=l.arrow)==null?void 0:a.y)??0)+d/2;let b="",x="";return f==="bottom"?(b=c?m:`${v}px`,x=`${-d}px`):f==="top"?(b=c?m:`${v}px`,x=`${o.floating.height+d}px`):f==="right"?(b=`${-d}px`,x=c?m:`${p}px`):f==="left"&&(b=`${o.floating.width+d}px`,x=c?m:`${p}px`),{data:{x:b,y:x}}}});function mD(e){const[t,r="center"]=e.split("-");return[t,r]}var lb=lD,Lp=uD,cb=dD,ub=hD,bw="focusScope.autoFocusOnMount",ww="focusScope.autoFocusOnUnmount",hE={bubbles:!1,cancelable:!0},zH="FocusScope",zp=g.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=g.useState(null),u=pr(a),d=pr(i),f=g.useRef(null),h=Ze(t,p=>c(p)),m=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(n){let p=function(w){if(m.paused||!l)return;const j=w.target;l.contains(j)?f.current=j:wo(f.current,{select:!0})},b=function(w){if(m.paused||!l)return;const j=w.relatedTarget;j!==null&&(l.contains(j)||wo(f.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const j of w)j.removedNodes.length>0&&wo(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",b);const y=new MutationObserver(x);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",b),y.disconnect()}}},[n,l,m.paused]),g.useEffect(()=>{if(l){pE.add(m);const p=document.activeElement;if(!l.contains(p)){const b=new CustomEvent(bw,hE);l.addEventListener(bw,u),l.dispatchEvent(b),b.defaultPrevented||(FH(VH(pD(l)),{select:!0}),document.activeElement===p&&wo(l))}return()=>{l.removeEventListener(bw,u),setTimeout(()=>{const b=new CustomEvent(ww,hE);l.addEventListener(ww,d),l.dispatchEvent(b),b.defaultPrevented||wo(p??document.body,{select:!0}),l.removeEventListener(ww,d),pE.remove(m)},0)}}},[l,u,d,m]);const v=g.useCallback(p=>{if(!r&&!n||m.paused)return;const b=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,x=document.activeElement;if(b&&x){const y=p.currentTarget,[w,j]=$H(y);w&&j?!p.shiftKey&&x===j?(p.preventDefault(),r&&wo(w,{select:!0})):p.shiftKey&&x===w&&(p.preventDefault(),r&&wo(j,{select:!0})):x===y&&p.preventDefault()}},[r,n,m.paused]);return s.jsx(Ae.div,{tabIndex:-1,...o,ref:h,onKeyDown:v})});zp.displayName=zH;function FH(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(wo(n,{select:t}),document.activeElement!==r)return}function $H(e){const t=pD(e),r=mE(t,e),n=mE(t.reverse(),e);return[r,n]}function pD(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function mE(e,t){for(const r of e)if(!qH(r,{upTo:t}))return r}function qH(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function BH(e){return e instanceof HTMLInputElement&&"select"in e}function wo(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&BH(e)&&t&&e.select()}}var pE=UH();function UH(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=gE(e,t),e.unshift(t)},remove(t){var r;e=gE(e,t),(r=e[0])==null||r.resume()}}}function gE(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function VH(e){return e.filter(t=>t.tagName!=="A")}var jw=0;function db(){g.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??vE()),document.body.insertAdjacentElement("beforeend",e[1]??vE()),jw++,()=>{jw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),jw--}},[])}function vE(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ks=function(){return Ks=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Ks.apply(this,arguments)};function gD(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function WH(e,t,r){for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var kv="right-scroll-bar-position",Sv="width-before-scroll-bar",HH="with-scroll-bars-hidden",KH="--removed-body-scroll-bar-size";function Nw(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function GH(e,t){var r=g.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var ZH=typeof window<"u"?g.useLayoutEffect:g.useEffect,yE=new WeakMap;function XH(e,t){var r=GH(null,function(n){return e.forEach(function(a){return Nw(a,n)})});return ZH(function(){var n=yE.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||Nw(l,null)}),i.forEach(function(l){a.has(l)||Nw(l,o)})}yE.set(r,e)},[e]),r}function YH(e){return e}function QH(e,t){t===void 0&&(t=YH);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return a}function JH(e){e===void 0&&(e={});var t=QH(null);return t.options=Ks({async:!0,ssr:!1},e),t}var vD=function(e){var t=e.sideCar,r=gD(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return g.createElement(n,Ks({},r))};vD.isSideCarExport=!0;function eK(e,t){return e.useMedium(t),vD}var yD=JH(),_w=function(){},fb=g.forwardRef(function(e,t){var r=g.useRef(null),n=g.useState({onScrollCapture:_w,onWheelCapture:_w,onTouchMoveCapture:_w}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noRelative,v=e.noIsolation,p=e.inert,b=e.allowPinchZoom,x=e.as,y=x===void 0?"div":x,w=e.gapMode,j=gD(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=h,_=XH([r,t]),k=Ks(Ks({},j),a);return g.createElement(g.Fragment,null,d&&g.createElement(N,{sideCar:yD,removeScrollBar:u,shards:f,noRelative:m,noIsolation:v,inert:p,setCallbacks:i,allowPinchZoom:!!b,lockRef:r,gapMode:w}),o?g.cloneElement(g.Children.only(l),Ks(Ks({},k),{ref:_})):g.createElement(y,Ks({},k,{className:c,ref:_}),l))});fb.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};fb.classNames={fullWidth:Sv,zeroRight:kv};var tK=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function rK(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=tK();return t&&e.setAttribute("nonce",t),e}function nK(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function aK(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var sK=function(){var e=0,t=null;return{add:function(r){e==0&&(t=rK())&&(nK(t,r),aK(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},iK=function(){var e=sK();return function(t,r){g.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},xD=function(){var e=iK(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},oK={left:0,top:0,right:0,gap:0},kw=function(e){return parseInt(e||"",10)||0},lK=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[kw(r),kw(n),kw(a)]},cK=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return oK;var t=lK(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},uK=xD(),dd="data-scroll-locked",dK=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(HH,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(dd,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(kv,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Sv,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(kv," .").concat(kv,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Sv," .").concat(Sv,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(dd,`] {
    `).concat(KH,": ").concat(l,`px;
  }
`)},xE=function(){var e=parseInt(document.body.getAttribute(dd)||"0",10);return isFinite(e)?e:0},fK=function(){g.useEffect(function(){return document.body.setAttribute(dd,(xE()+1).toString()),function(){var e=xE()-1;e<=0?document.body.removeAttribute(dd):document.body.setAttribute(dd,e.toString())}},[])},hK=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;fK();var i=g.useMemo(function(){return cK(a)},[a]);return g.createElement(uK,{styles:dK(i,!t,a,r?"":"!important")})},O1=!1;if(typeof window<"u")try{var Rg=Object.defineProperty({},"passive",{get:function(){return O1=!0,!0}});window.addEventListener("test",Rg,Rg),window.removeEventListener("test",Rg,Rg)}catch{O1=!1}var lu=O1?{passive:!1}:!1,mK=function(e){return e.tagName==="TEXTAREA"},bD=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!mK(e)&&r[t]==="visible")},pK=function(e){return bD(e,"overflowY")},gK=function(e){return bD(e,"overflowX")},bE=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=wD(e,n);if(a){var i=jD(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},vK=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},yK=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},wD=function(e,t){return e==="v"?pK(t):gK(t)},jD=function(e,t){return e==="v"?vK(t):yK(t)},xK=function(e,t){return e==="h"&&t==="rtl"?-1:1},bK=function(e,t,r,n,a){var i=xK(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{if(!l)break;var m=jD(e,l),v=m[0],p=m[1],b=m[2],x=p-b-i*v;(v||x)&&wD(e,l)&&(f+=x,h+=v);var y=l.parentNode;l=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},Ig=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},wE=function(e){return[e.deltaX,e.deltaY]},jE=function(e){return e&&"current"in e?e.current:e},wK=function(e,t){return e[0]===t[0]&&e[1]===t[1]},jK=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},NK=0,cu=[];function _K(e){var t=g.useRef([]),r=g.useRef([0,0]),n=g.useRef(),a=g.useState(NK++)[0],i=g.useState(xD)[0],o=g.useRef(e);g.useEffect(function(){o.current=e},[e]),g.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=WH([e.lockRef.current],(e.shards||[]).map(jE)).filter(Boolean);return p.forEach(function(b){return b.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=g.useCallback(function(p,b){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var x=Ig(p),y=r.current,w="deltaX"in p?p.deltaX:y[0]-x[0],j="deltaY"in p?p.deltaY:y[1]-x[1],N,_=p.target,k=Math.abs(w)>Math.abs(j)?"h":"v";if("touches"in p&&k==="h"&&_.type==="range")return!1;var O=bE(k,_);if(!O)return!0;if(O?N=k:(N=k==="v"?"h":"v",O=bE(k,_)),!O)return!1;if(!n.current&&"changedTouches"in p&&(w||j)&&(n.current=N),!N)return!0;var E=n.current||N;return bK(E,b,p,E==="h"?w:j)},[]),c=g.useCallback(function(p){var b=p;if(!(!cu.length||cu[cu.length-1]!==i)){var x="deltaY"in b?wE(b):Ig(b),y=t.current.filter(function(N){return N.name===b.type&&(N.target===b.target||b.target===N.shadowParent)&&wK(N.delta,x)})[0];if(y&&y.should){b.cancelable&&b.preventDefault();return}if(!y){var w=(o.current.shards||[]).map(jE).filter(Boolean).filter(function(N){return N.contains(b.target)}),j=w.length>0?l(b,w[0]):!o.current.noIsolation;j&&b.cancelable&&b.preventDefault()}}},[]),u=g.useCallback(function(p,b,x,y){var w={name:p,delta:b,target:x,should:y,shadowParent:kK(x)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(j){return j!==w})},1)},[]),d=g.useCallback(function(p){r.current=Ig(p),n.current=void 0},[]),f=g.useCallback(function(p){u(p.type,wE(p),p.target,l(p,e.lockRef.current))},[]),h=g.useCallback(function(p){u(p.type,Ig(p),p.target,l(p,e.lockRef.current))},[]);g.useEffect(function(){return cu.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,lu),document.addEventListener("touchmove",c,lu),document.addEventListener("touchstart",d,lu),function(){cu=cu.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,lu),document.removeEventListener("touchmove",c,lu),document.removeEventListener("touchstart",d,lu)}},[]);var m=e.removeScrollBar,v=e.inert;return g.createElement(g.Fragment,null,v?g.createElement(i,{styles:jK(a)}):null,m?g.createElement(hK,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function kK(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const SK=eK(yD,_K);var Fp=g.forwardRef(function(e,t){return g.createElement(fb,Ks({},e,{ref:t,sideCar:SK}))});Fp.classNames=fb.classNames;var OK=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},uu=new WeakMap,Dg=new WeakMap,Lg={},Sw=0,ND=function(e){return e&&(e.host||ND(e.parentNode))},CK=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=ND(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},EK=function(e,t,r,n){var a=CK(t,Array.isArray(e)?e:[e]);Lg[r]||(Lg[r]=new WeakMap);var i=Lg[r],o=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var m=h.getAttribute(n),v=m!==null&&m!=="false",p=(uu.get(h)||0)+1,b=(i.get(h)||0)+1;uu.set(h,p),i.set(h,b),o.push(h),p===1&&v&&Dg.set(h,!0),b===1&&h.setAttribute(r,"true"),v||h.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return d(t),l.clear(),Sw++,function(){o.forEach(function(f){var h=uu.get(f)-1,m=i.get(f)-1;uu.set(f,h),i.set(f,m),h||(Dg.has(f)||f.removeAttribute(n),Dg.delete(f)),m||f.removeAttribute(r)}),Sw--,Sw||(uu=new WeakMap,uu=new WeakMap,Dg=new WeakMap,Lg={})}},hb=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=OK(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),EK(n,a,r,"aria-hidden")):function(){return null}},mb="Dialog",[_D]=xn(mb),[AK,Ps]=_D(mb),kD=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=g.useRef(null),c=g.useRef(null),[u,d]=Ga({prop:n,defaultProp:a??!1,onChange:i,caller:mb});return s.jsx(AK,{scope:t,triggerRef:l,contentRef:c,contentId:Qr(),titleId:Qr(),descriptionId:Qr(),open:u,onOpenChange:d,onOpenToggle:g.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};kD.displayName=mb;var SD="DialogTrigger",OD=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ps(SD,r),i=Ze(t,a.triggerRef);return s.jsx(Ae.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":gS(a.open),...n,ref:i,onClick:be(e.onClick,a.onOpenToggle)})});OD.displayName=SD;var mS="DialogPortal",[PK,CD]=_D(mS,{forceMount:void 0}),ED=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=Ps(mS,t);return s.jsx(PK,{scope:t,forceMount:r,children:g.Children.map(n,o=>s.jsx(Jr,{present:r||i.open,children:s.jsx(jf,{asChild:!0,container:a,children:o})}))})};ED.displayName=mS;var ly="DialogOverlay",AD=g.forwardRef((e,t)=>{const r=CD(ly,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Ps(ly,e.__scopeDialog);return i.modal?s.jsx(Jr,{present:n||i.open,children:s.jsx(MK,{...a,ref:t})}):null});AD.displayName=ly;var TK=il("DialogOverlay.RemoveScroll"),MK=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ps(ly,r);return s.jsx(Fp,{as:TK,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(Ae.div,{"data-state":gS(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Oc="DialogContent",PD=g.forwardRef((e,t)=>{const r=CD(Oc,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Ps(Oc,e.__scopeDialog);return s.jsx(Jr,{present:n||i.open,children:i.modal?s.jsx(RK,{...a,ref:t}):s.jsx(IK,{...a,ref:t})})});PD.displayName=Oc;var RK=g.forwardRef((e,t)=>{const r=Ps(Oc,e.__scopeDialog),n=g.useRef(null),a=Ze(t,r.contentRef,n);return g.useEffect(()=>{const i=n.current;if(i)return hb(i)},[]),s.jsx(TD,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:be(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:be(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:be(e.onFocusOutside,i=>i.preventDefault())})}),IK=g.forwardRef((e,t)=>{const r=Ps(Oc,e.__scopeDialog),n=g.useRef(!1),a=g.useRef(!1);return s.jsx(TD,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var o,l;(o=e.onInteractOutside)==null||o.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=i.target;(l=r.triggerRef.current)!=null&&l.contains(c)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),TD=g.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=Ps(Oc,r),c=g.useRef(null),u=Ze(t,c);return db(),s.jsxs(s.Fragment,{children:[s.jsx(zp,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Kc,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":gS(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(DK,{titleId:l.titleId}),s.jsx(zK,{contentRef:c,descriptionId:l.descriptionId})]})]})}),pS="DialogTitle",MD=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ps(pS,r);return s.jsx(Ae.h2,{id:a.titleId,...n,ref:t})});MD.displayName=pS;var RD="DialogDescription",ID=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ps(RD,r);return s.jsx(Ae.p,{id:a.descriptionId,...n,ref:t})});ID.displayName=RD;var DD="DialogClose",LD=g.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ps(DD,r);return s.jsx(Ae.button,{type:"button",...n,ref:t,onClick:be(e.onClick,()=>a.onOpenChange(!1))})});LD.displayName=DD;function gS(e){return e?"open":"closed"}var zD="DialogTitleWarning",[gRe,FD]=GV(zD,{contentName:Oc,titleName:pS,docsSlug:"dialog"}),DK=({titleId:e})=>{const t=FD(zD),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return g.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},LK="DialogDescriptionWarning",zK=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${FD(LK).contentName}}.`;return g.useEffect(()=>{var n;const a=(n=e.current)==null?void 0:n.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},vS=kD,FK=OD,yS=ED,$p=AD,qp=PD,pb=MD,gb=ID,$D=LD,$K=g.createContext(void 0);function kf(e){const t=g.useContext($K);return e||t||"ltr"}var Ow="rovingFocusGroup.onEntryFocus",qK={bubbles:!1,cancelable:!0},Bp="RovingFocusGroup",[C1,qD,BK]=Ip(Bp),[UK,vb]=xn(Bp,[BK]),[VK,WK]=UK(Bp),BD=g.forwardRef((e,t)=>s.jsx(C1.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(C1.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(HK,{...e,ref:t})})}));BD.displayName=Bp;var HK=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=g.useRef(null),m=Ze(t,h),v=kf(i),[p,b]=Ga({prop:o,defaultProp:l??null,onChange:c,caller:Bp}),[x,y]=g.useState(!1),w=pr(u),j=qD(r),N=g.useRef(!1),[_,k]=g.useState(0);return g.useEffect(()=>{const O=h.current;if(O)return O.addEventListener(Ow,w),()=>O.removeEventListener(Ow,w)},[w]),s.jsx(VK,{scope:r,orientation:n,dir:v,loop:a,currentTabStopId:p,onItemFocus:g.useCallback(O=>b(O),[b]),onItemShiftTab:g.useCallback(()=>y(!0),[]),onFocusableItemAdd:g.useCallback(()=>k(O=>O+1),[]),onFocusableItemRemove:g.useCallback(()=>k(O=>O-1),[]),children:s.jsx(Ae.div,{tabIndex:x||_===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:be(e.onMouseDown,()=>{N.current=!0}),onFocus:be(e.onFocus,O=>{const E=!N.current;if(O.target===O.currentTarget&&E&&!x){const T=new CustomEvent(Ow,qK);if(O.currentTarget.dispatchEvent(T),!T.defaultPrevented){const P=j().filter(B=>B.focusable),S=P.find(B=>B.active),R=P.find(B=>B.id===p),M=[S,R,...P].filter(Boolean).map(B=>B.ref.current);WD(M,d)}}N.current=!1}),onBlur:be(e.onBlur,()=>y(!1))})})}),UD="RovingFocusGroupItem",VD=g.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=Qr(),u=i||c,d=WK(UD,r),f=d.currentTabStopId===u,h=qD(r),{onFocusableItemAdd:m,onFocusableItemRemove:v,currentTabStopId:p}=d;return g.useEffect(()=>{if(n)return m(),()=>v()},[n,m,v]),s.jsx(C1.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:s.jsx(Ae.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:be(e.onMouseDown,b=>{n?d.onItemFocus(u):b.preventDefault()}),onFocus:be(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:be(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const x=ZK(b,d.orientation,d.dir);if(x!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let y=h().filter(w=>w.focusable).map(w=>w.ref.current);if(x==="last")y.reverse();else if(x==="prev"||x==="next"){x==="prev"&&y.reverse();const w=y.indexOf(b.currentTarget);y=d.loop?XK(y,w+1):y.slice(w+1)}setTimeout(()=>WD(y))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:p!=null}):o})})});VD.displayName=UD;var KK={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function GK(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function ZK(e,t,r){const n=GK(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return KK[n]}function WD(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function XK(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var HD=BD,KD=VD,yb="Tabs",[YK]=xn(yb,[vb]),GD=vb(),[QK,xS]=YK(yb),ZD=g.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=kf(l),[f,h]=Ga({prop:n,onChange:a,defaultProp:i??"",caller:yb});return s.jsx(QK,{scope:r,baseId:Qr(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:s.jsx(Ae.div,{dir:d,"data-orientation":o,...u,ref:t})})});ZD.displayName=yb;var XD="TabsList",YD=g.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=xS(XD,r),o=GD(r);return s.jsx(HD,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(Ae.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});YD.displayName=XD;var QD="TabsTrigger",JD=g.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,o=xS(QD,r),l=GD(r),c=r3(o.baseId,n),u=n3(o.baseId,n),d=n===o.value;return s.jsx(KD,{asChild:!0,...l,focusable:!a,active:d,children:s.jsx(Ae.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:be(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:be(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:be(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!a&&f&&o.onValueChange(n)})})})});JD.displayName=QD;var e3="TabsContent",t3=g.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=e,l=xS(e3,r),c=r3(l.baseId,n),u=n3(l.baseId,n),d=n===l.value,f=g.useRef(d);return g.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),s.jsx(Jr,{present:a||d,children:({present:h})=>s.jsx(Ae.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});t3.displayName=e3;function r3(e,t){return`${e}-trigger-${t}`}function n3(e,t){return`${e}-content-${t}`}var JK=ZD,a3=YD,s3=JD,i3=t3,E1=["Enter"," "],eG=["ArrowDown","PageUp","Home"],o3=["ArrowUp","PageDown","End"],tG=[...eG,...o3],rG={ltr:[...E1,"ArrowRight"],rtl:[...E1,"ArrowLeft"]},nG={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Up="Menu",[Pm,aG,sG]=Ip(Up),[Gc,l3]=xn(Up,[sG,bl,vb]),xb=bl(),c3=vb(),[iG,Zc]=Gc(Up),[oG,Vp]=Gc(Up),u3=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:i,modal:o=!0}=e,l=xb(t),[c,u]=g.useState(null),d=g.useRef(!1),f=pr(i),h=kf(a);return g.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),s.jsx(lb,{...l,children:s.jsx(iG,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:s.jsx(oG,{scope:t,onClose:g.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:n})})})};u3.displayName=Up;var lG="MenuAnchor",bS=g.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=xb(r);return s.jsx(Lp,{...a,...n,ref:t})});bS.displayName=lG;var wS="MenuPortal",[cG,d3]=Gc(wS,{forceMount:void 0}),f3=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,i=Zc(wS,t);return s.jsx(cG,{scope:t,forceMount:r,children:s.jsx(Jr,{present:r||i.open,children:s.jsx(jf,{asChild:!0,container:a,children:n})})})};f3.displayName=wS;var Va="MenuContent",[uG,jS]=Gc(Va),h3=g.forwardRef((e,t)=>{const r=d3(Va,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=Zc(Va,e.__scopeMenu),o=Vp(Va,e.__scopeMenu);return s.jsx(Pm.Provider,{scope:e.__scopeMenu,children:s.jsx(Jr,{present:n||i.open,children:s.jsx(Pm.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(dG,{...a,ref:t}):s.jsx(fG,{...a,ref:t})})})})}),dG=g.forwardRef((e,t)=>{const r=Zc(Va,e.__scopeMenu),n=g.useRef(null),a=Ze(t,n);return g.useEffect(()=>{const i=n.current;if(i)return hb(i)},[]),s.jsx(NS,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:be(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),fG=g.forwardRef((e,t)=>{const r=Zc(Va,e.__scopeMenu);return s.jsx(NS,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),hG=il("MenuContent.ScrollLock"),NS=g.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:v,...p}=e,b=Zc(Va,r),x=Vp(Va,r),y=xb(r),w=c3(r),j=aG(r),[N,_]=g.useState(null),k=g.useRef(null),O=Ze(t,k,b.onContentChange),E=g.useRef(0),T=g.useRef(""),P=g.useRef(0),S=g.useRef(null),R=g.useRef("right"),M=g.useRef(0),B=v?Fp:g.Fragment,U=v?{as:hG,allowPinchZoom:!0}:void 0,F=I=>{var G,L;const $=T.current+I,J=j().filter(te=>!te.disabled),K=document.activeElement,D=(G=J.find(te=>te.ref.current===K))==null?void 0:G.textValue,oe=J.map(te=>te.textValue),V=kG(oe,$,D),de=(L=J.find(te=>te.textValue===V))==null?void 0:L.ref.current;(function te(ce){T.current=ce,window.clearTimeout(E.current),ce!==""&&(E.current=window.setTimeout(()=>te(""),1e3))})($),de&&setTimeout(()=>de.focus())};g.useEffect(()=>()=>window.clearTimeout(E.current),[]),db();const z=g.useCallback(I=>{var G,L;return R.current===((G=S.current)==null?void 0:G.side)&&OG(I,(L=S.current)==null?void 0:L.area)},[]);return s.jsx(uG,{scope:r,searchRef:T,onItemEnter:g.useCallback(I=>{z(I)&&I.preventDefault()},[z]),onItemLeave:g.useCallback(I=>{var G;z(I)||((G=k.current)==null||G.focus(),_(null))},[z]),onTriggerLeave:g.useCallback(I=>{z(I)&&I.preventDefault()},[z]),pointerGraceTimerRef:P,onPointerGraceIntentChange:g.useCallback(I=>{S.current=I},[]),children:s.jsx(B,{...U,children:s.jsx(zp,{asChild:!0,trapped:a,onMountAutoFocus:be(i,I=>{var G;I.preventDefault(),(G=k.current)==null||G.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(Kc,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:s.jsx(HD,{asChild:!0,...w,dir:x.dir,orientation:"vertical",loop:n,currentTabStopId:N,onCurrentTabStopIdChange:_,onEntryFocus:be(c,I=>{x.isUsingKeyboardRef.current||I.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(cb,{role:"menu","aria-orientation":"vertical","data-state":E3(b.open),"data-radix-menu-content":"",dir:x.dir,...y,...p,ref:O,style:{outline:"none",...p.style},onKeyDown:be(p.onKeyDown,I=>{const G=I.target.closest("[data-radix-menu-content]")===I.currentTarget,L=I.ctrlKey||I.altKey||I.metaKey,$=I.key.length===1;G&&(I.key==="Tab"&&I.preventDefault(),!L&&$&&F(I.key));const J=k.current;if(I.target!==J||!tG.includes(I.key))return;I.preventDefault();const K=j().filter(D=>!D.disabled).map(D=>D.ref.current);o3.includes(I.key)&&K.reverse(),NG(K)}),onBlur:be(e.onBlur,I=>{I.currentTarget.contains(I.target)||(window.clearTimeout(E.current),T.current="")}),onPointerMove:be(e.onPointerMove,Tm(I=>{const G=I.target,L=M.current!==I.clientX;if(I.currentTarget.contains(G)&&L){const $=I.clientX>M.current?"right":"left";R.current=$,M.current=I.clientX}}))})})})})})})});h3.displayName=Va;var mG="MenuGroup",_S=g.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Ae.div,{role:"group",...n,ref:t})});_S.displayName=mG;var pG="MenuLabel",m3=g.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Ae.div,{...n,ref:t})});m3.displayName=pG;var cy="MenuItem",NE="menu.itemSelect",bb=g.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,i=g.useRef(null),o=Vp(cy,e.__scopeMenu),l=jS(cy,e.__scopeMenu),c=Ze(t,i),u=g.useRef(!1),d=()=>{const f=i.current;if(!r&&f){const h=new CustomEvent(NE,{bubbles:!0,cancelable:!0});f.addEventListener(NE,m=>n==null?void 0:n(m),{once:!0}),sS(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return s.jsx(p3,{...a,ref:c,disabled:r,onClick:be(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:be(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:be(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||E1.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});bb.displayName=cy;var p3=g.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=e,o=jS(cy,r),l=c3(r),c=g.useRef(null),u=Ze(t,c),[d,f]=g.useState(!1),[h,m]=g.useState("");return g.useEffect(()=>{const v=c.current;v&&m((v.textContent??"").trim())},[i.children]),s.jsx(Pm.ItemSlot,{scope:r,disabled:n,textValue:a??h,children:s.jsx(KD,{asChild:!0,...l,focusable:!n,children:s.jsx(Ae.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:be(e.onPointerMove,Tm(v=>{n?o.onItemLeave(v):(o.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:be(e.onPointerLeave,Tm(v=>o.onItemLeave(v))),onFocus:be(e.onFocus,()=>f(!0)),onBlur:be(e.onBlur,()=>f(!1))})})})}),gG="MenuCheckboxItem",g3=g.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return s.jsx(w3,{scope:e.__scopeMenu,checked:r,children:s.jsx(bb,{role:"menuitemcheckbox","aria-checked":uy(r)?"mixed":r,...a,ref:t,"data-state":SS(r),onSelect:be(a.onSelect,()=>n==null?void 0:n(uy(r)?!0:!r),{checkForDefaultPrevented:!1})})})});g3.displayName=gG;var v3="MenuRadioGroup",[vG,yG]=Gc(v3,{value:void 0,onValueChange:()=>{}}),y3=g.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,i=pr(n);return s.jsx(vG,{scope:e.__scopeMenu,value:r,onValueChange:i,children:s.jsx(_S,{...a,ref:t})})});y3.displayName=v3;var x3="MenuRadioItem",b3=g.forwardRef((e,t)=>{const{value:r,...n}=e,a=yG(x3,e.__scopeMenu),i=r===a.value;return s.jsx(w3,{scope:e.__scopeMenu,checked:i,children:s.jsx(bb,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":SS(i),onSelect:be(n.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,r)},{checkForDefaultPrevented:!1})})})});b3.displayName=x3;var kS="MenuItemIndicator",[w3,xG]=Gc(kS,{checked:!1}),j3=g.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,i=xG(kS,r);return s.jsx(Jr,{present:n||uy(i.checked)||i.checked===!0,children:s.jsx(Ae.span,{...a,ref:t,"data-state":SS(i.checked)})})});j3.displayName=kS;var bG="MenuSeparator",N3=g.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Ae.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});N3.displayName=bG;var wG="MenuArrow",_3=g.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=xb(r);return s.jsx(ub,{...a,...n,ref:t})});_3.displayName=wG;var jG="MenuSub",[vRe,k3]=Gc(jG),Fh="MenuSubTrigger",S3=g.forwardRef((e,t)=>{const r=Zc(Fh,e.__scopeMenu),n=Vp(Fh,e.__scopeMenu),a=k3(Fh,e.__scopeMenu),i=jS(Fh,e.__scopeMenu),o=g.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=g.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return g.useEffect(()=>d,[d]),g.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),s.jsx(bS,{asChild:!0,...u,children:s.jsx(p3,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":E3(r.open),...e,ref:Gi(t,a.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:be(e.onPointerMove,Tm(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:be(e.onPointerLeave,Tm(f=>{var h,m;d();const v=(h=r.content)==null?void 0:h.getBoundingClientRect();if(v){const p=(m=r.content)==null?void 0:m.dataset.side,b=p==="right",x=b?-5:5,y=v[b?"left":"right"],w=v[b?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+x,y:f.clientY},{x:y,y:v.top},{x:w,y:v.top},{x:w,y:v.bottom},{x:y,y:v.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:be(e.onKeyDown,f=>{var h;const m=i.searchRef.current!=="";e.disabled||m&&f.key===" "||rG[n.dir].includes(f.key)&&(r.onOpenChange(!0),(h=r.content)==null||h.focus(),f.preventDefault())})})})});S3.displayName=Fh;var O3="MenuSubContent",C3=g.forwardRef((e,t)=>{const r=d3(Va,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=Zc(Va,e.__scopeMenu),o=Vp(Va,e.__scopeMenu),l=k3(O3,e.__scopeMenu),c=g.useRef(null),u=Ze(t,c);return s.jsx(Pm.Provider,{scope:e.__scopeMenu,children:s.jsx(Jr,{present:n||i.open,children:s.jsx(Pm.Slot,{scope:e.__scopeMenu,children:s.jsx(NS,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:be(e.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:be(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:be(e.onKeyDown,d=>{var f;const h=d.currentTarget.contains(d.target),m=nG[o.dir].includes(d.key);h&&m&&(i.onOpenChange(!1),(f=l.trigger)==null||f.focus(),d.preventDefault())})})})})})});C3.displayName=O3;function E3(e){return e?"open":"closed"}function uy(e){return e==="indeterminate"}function SS(e){return uy(e)?"indeterminate":e?"checked":"unchecked"}function NG(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function _G(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function kG(e,t,r){const n=t.length>1&&Array.from(t).every(l=>l===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let i=_G(e,Math.max(a,0));n.length===1&&(i=i.filter(l=>l!==r));const o=i.find(l=>l.toLowerCase().startsWith(n.toLowerCase()));return o!==r?o:void 0}function SG(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function OG(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return SG(r,t)}function Tm(e){return t=>t.pointerType==="mouse"?e(t):void 0}var CG=u3,EG=bS,AG=f3,PG=h3,TG=_S,MG=m3,RG=bb,IG=g3,DG=y3,LG=b3,zG=j3,FG=N3,$G=_3,qG=S3,BG=C3,wb="DropdownMenu",[UG]=xn(wb,[l3]),Pn=l3(),[VG,A3]=UG(wb),P3=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=Pn(t),u=g.useRef(null),[d,f]=Ga({prop:a,defaultProp:i??!1,onChange:o,caller:wb});return s.jsx(VG,{scope:t,triggerId:Qr(),triggerRef:u,contentId:Qr(),open:d,onOpenChange:f,onOpenToggle:g.useCallback(()=>f(h=>!h),[f]),modal:l,children:s.jsx(CG,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};P3.displayName=wb;var T3="DropdownMenuTrigger",M3=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,i=A3(T3,r),o=Pn(r);return s.jsx(EG,{asChild:!0,...o,children:s.jsx(Ae.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:Gi(t,i.triggerRef),onPointerDown:be(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:be(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});M3.displayName=T3;var WG="DropdownMenuPortal",R3=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Pn(t);return s.jsx(AG,{...n,...r})};R3.displayName=WG;var I3="DropdownMenuContent",D3=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=A3(I3,r),i=Pn(r),o=g.useRef(!1);return s.jsx(PG,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:t,onCloseAutoFocus:be(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:be(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!a.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});D3.displayName=I3;var HG="DropdownMenuGroup",KG=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Pn(r);return s.jsx(TG,{...a,...n,ref:t})});KG.displayName=HG;var GG="DropdownMenuLabel",L3=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Pn(r);return s.jsx(MG,{...a,...n,ref:t})});L3.displayName=GG;var ZG="DropdownMenuItem",z3=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Pn(r);return s.jsx(RG,{...a,...n,ref:t})});z3.displayName=ZG;var XG="DropdownMenuCheckboxItem",F3=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Pn(r);return s.jsx(IG,{...a,...n,ref:t})});F3.displayName=XG;var YG="DropdownMenuRadioGroup",QG=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Pn(r);return s.jsx(DG,{...a,...n,ref:t})});QG.displayName=YG;var JG="DropdownMenuRadioItem",$3=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Pn(r);return s.jsx(LG,{...a,...n,ref:t})});$3.displayName=JG;var eZ="DropdownMenuItemIndicator",q3=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Pn(r);return s.jsx(zG,{...a,...n,ref:t})});q3.displayName=eZ;var tZ="DropdownMenuSeparator",B3=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Pn(r);return s.jsx(FG,{...a,...n,ref:t})});B3.displayName=tZ;var rZ="DropdownMenuArrow",nZ=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Pn(r);return s.jsx($G,{...a,...n,ref:t})});nZ.displayName=rZ;var aZ="DropdownMenuSubTrigger",U3=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Pn(r);return s.jsx(qG,{...a,...n,ref:t})});U3.displayName=aZ;var sZ="DropdownMenuSubContent",V3=g.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Pn(r);return s.jsx(BG,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});V3.displayName=sZ;var iZ=P3,oZ=M3,lZ=R3,W3=D3,H3=L3,K3=z3,G3=F3,Z3=$3,X3=q3,Y3=B3,Q3=U3,J3=V3;const Wp=function(e,t,r){let n=Promise.resolve();function a(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return n.then(i=>{for(const o of i||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})},cZ=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Wp(async()=>{const{default:n}=await Promise.resolve().then(()=>Sf);return{default:n}}).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class OS extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}let _E=class extends OS{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},kE=class extends OS{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},SE=class extends OS{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};var A1;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(A1||(A1={}));var uZ=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};let dZ=class{constructor(e,{headers:t={},customFetch:r,region:n=A1.Any}={}){this.url=e,this.headers=t,this.region=n,this.fetch=cZ(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return uZ(this,arguments,void 0,function*(t,r={}){var n;try{const{headers:a,method:i,body:o,signal:l}=r;let c={},{region:u}=r;u||(u=this.region);const d=new URL(`${this.url}/${t}`);u&&u!=="any"&&(c["x-region"]=u,d.searchParams.set("forceFunctionRegion",u));let f;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",f=o):typeof o=="string"?(c["Content-Type"]="text/plain",f=o):typeof FormData<"u"&&o instanceof FormData?f=o:(c["Content-Type"]="application/json",f=JSON.stringify(o)));const h=yield this.fetch(d.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),a),body:f,signal:l}).catch(b=>{throw b.name==="AbortError"?b:new _E(b)}),m=h.headers.get("x-relay-error");if(m&&m==="true")throw new kE(h);if(!h.ok)throw new SE(h);let v=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return v==="application/json"?p=yield h.json():v==="application/octet-stream"?p=yield h.blob():v==="text/event-stream"?p=h:v==="multipart/form-data"?p=yield h.formData():p=yield h.text(),{data:p,error:null,response:h}}catch(a){return a instanceof Error&&a.name==="AbortError"?{data:null,error:new _E(a)}:{data:null,error:a,response:a instanceof SE||a instanceof kE?a.context:void 0}}})}};var Vn={},CS={},jb={},Hp={},Nb={},_b={},fZ=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Cd=fZ();const hZ=Cd.fetch,e6=Cd.fetch.bind(Cd),t6=Cd.Headers,mZ=Cd.Request,pZ=Cd.Response,Sf=Object.freeze(Object.defineProperty({__proto__:null,Headers:t6,Request:mZ,Response:pZ,default:e6,fetch:hZ},Symbol.toStringTag,{value:"Module"})),gZ=j7(Sf);var kb={};Object.defineProperty(kb,"__esModule",{value:!0});let vZ=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};kb.default=vZ;var r6=pn&&pn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_b,"__esModule",{value:!0});const yZ=r6(gZ),xZ=r6(kb);let bZ=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=yZ.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let n=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var i,o,l,c;let u=null,d=null,f=null,h=a.status,m=a.statusText;if(a.ok){if(this.method!=="HEAD"){const b=await a.text();b===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&!((i=this.headers.get("Accept"))===null||i===void 0)&&i.includes("application/vnd.pgrst.plan+text")?d=b:d=JSON.parse(b))}const v=(o=this.headers.get("Prefer"))===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),p=(l=a.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");v&&p&&p.length>1&&(f=parseInt(p[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const v=await a.text();try{u=JSON.parse(v),Array.isArray(u)&&a.status===404&&(d=[],u=null,h=200,m="OK")}catch{a.status===404&&v===""?(h=204,m="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows")&&(u=null,h=200,m="OK"),u&&this.shouldThrowOnError)throw new xZ.default(u)}return{error:u,data:d,count:f,status:h,statusText:m}});return this.shouldThrowOnError||(n=n.catch(a=>{var i,o,l;return{error:{message:`${(i=a==null?void 0:a.name)!==null&&i!==void 0?i:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(o=a==null?void 0:a.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=a==null?void 0:a.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),n.then(e,t)}returns(){return this}overrideTypes(){return this}};_b.default=bZ;var wZ=pn&&pn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Nb,"__esModule",{value:!0});const jZ=wZ(_b);let NZ=class extends jZ.default{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}={}){const i=a?`${a}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:i="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Nb.default=NZ;var _Z=pn&&pn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Hp,"__esModule",{value:!0});const kZ=_Z(Nb);let SZ=class extends kZ.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let a="";n==="plain"?a="pl":n==="phrase"?a="ph":n==="websearch"&&(a="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}};Hp.default=SZ;var OZ=pn&&pn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jb,"__esModule",{value:!0});const oh=OZ(Hp);let CZ=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}select(e,t){const{head:r=!1,count:n}=t??{},a=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new oh.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const a="POST";if(t&&this.headers.append("Prefer",`count=${t}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const i=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(i.length>0){const o=[...new Set(i)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new oh.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:a=!0}={}){var i;const o="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),n&&this.headers.append("Prefer",`count=${n}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new oh.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var r;const n="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new oh.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new oh.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}};jb.default=CZ;var n6=pn&&pn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(CS,"__esModule",{value:!0});const EZ=n6(jb),AZ=n6(Hp);let PZ=class a6{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(t){const r=new URL(`${this.url}/${t}`);return new EZ.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new a6(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;n||a?(l=n?"HEAD":"GET",Object.entries(r).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{c.searchParams.append(f,h)})):(l="POST",u=r);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new AZ.default({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};CS.default=PZ;var Of=pn&&pn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vn,"__esModule",{value:!0});Vn.PostgrestError=Vn.PostgrestBuilder=Vn.PostgrestTransformBuilder=Vn.PostgrestFilterBuilder=Vn.PostgrestQueryBuilder=Vn.PostgrestClient=void 0;const s6=Of(CS);Vn.PostgrestClient=s6.default;const i6=Of(jb);Vn.PostgrestQueryBuilder=i6.default;const o6=Of(Hp);Vn.PostgrestFilterBuilder=o6.default;const l6=Of(Nb);Vn.PostgrestTransformBuilder=l6.default;const c6=Of(_b);Vn.PostgrestBuilder=c6.default;const u6=Of(kb);Vn.PostgrestError=u6.default;var TZ=Vn.default={PostgrestClient:s6.default,PostgrestQueryBuilder:i6.default,PostgrestFilterBuilder:o6.default,PostgrestTransformBuilder:l6.default,PostgrestBuilder:c6.default,PostgrestError:u6.default};const{PostgrestClient:MZ,PostgrestQueryBuilder:yRe,PostgrestFilterBuilder:xRe,PostgrestTransformBuilder:bRe,PostgrestBuilder:wRe,PostgrestError:jRe}=TZ;class RZ{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge"))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const IZ="2.75.0",DZ=`realtime-js/${IZ}`,LZ="1.0.0",P1=1e4,zZ=1e3,FZ=100;var Qh;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Qh||(Qh={}));var Dr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Dr||(Dr={}));var us;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(us||(us={}));var T1;(function(e){e.websocket="websocket"})(T1||(T1={}));var tc;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(tc||(tc={}));let $Z=class{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const n=t.getUint8(1),a=t.getUint8(2);let i=this.HEADER_LENGTH+2;const o=r.decode(e.slice(i,i+n));i=i+n;const l=r.decode(e.slice(i,i+a));i=i+a;const c=JSON.parse(r.decode(e.slice(i,e.byteLength)));return{ref:null,topic:o,event:l,payload:c}}},d6=class{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var zt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(zt||(zt={}));const OE=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=qZ(o,e,t,a),i),{}):{}},qZ=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?f6(i,o):M1(o)},f6=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return WZ(t,r)}switch(e){case zt.bool:return BZ(t);case zt.float4:case zt.float8:case zt.int2:case zt.int4:case zt.int8:case zt.numeric:case zt.oid:return UZ(t);case zt.json:case zt.jsonb:return VZ(t);case zt.timestamp:return HZ(t);case zt.abstime:case zt.date:case zt.daterange:case zt.int4range:case zt.int8range:case zt.money:case zt.reltime:case zt.text:case zt.time:case zt.timestamptz:case zt.timetz:case zt.tsrange:case zt.tstzrange:return M1(t);default:return M1(t)}},M1=e=>e,BZ=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},UZ=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},VZ=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},WZ=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const i=e.slice(1,r);try{a=JSON.parse("["+i+"]")}catch{a=i?i.split(","):[]}return a.map(o=>f6(t,o))}return e},HZ=e=>typeof e=="string"?e.replace(" ","T"):e,h6=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};let Cw=class{constructor(e,t,r={},n=P1){this.channel=e,this.event=t,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}};var CE;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(CE||(CE={}));class Jh{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Jh.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=Jh.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Jh.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(b=>b.presence_ref),m=f.map(b=>b.presence_ref),v=d.filter(b=>m.indexOf(b.presence_ref)<0),p=f.filter(b=>h.indexOf(b.presence_ref)<0);v.length>0&&(l[u]=v),p.length>0&&(c[u]=p)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var EE;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(EE||(EE={}));var em;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(em||(em={}));var Ci;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ci||(Ci={}));let KZ=class m6{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Dr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Cw(this,us.join,this.params,this.timeout),this.rejoinTimer=new d6(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Dr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Dr.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Dr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Dr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Dr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(us.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new Jh(this),this.broadcastEndpointURL=h6(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay)throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Dr.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[em.PRESENCE]&&this.bindings[em.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(Ci.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(Ci.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var v;if(this.socket.setAuth(),m===void 0){t==null||t(Ci.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,b=(v=p==null?void 0:p.length)!==null&&v!==void 0?v:0,x=[];for(let y=0;y<b;y++){const w=p[y],{filter:{event:j,schema:N,table:_,filter:k}}=w,O=m&&m[y];if(O&&O.event===j&&O.schema===N&&O.table===_&&O.filter===k)x.push(Object.assign(Object.assign({},w),{id:O.id}));else{this.unsubscribe(),this.state=Dr.errored,t==null||t(Ci.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(Ci.SUBSCRIBED);return}}).receive("error",m=>{this.state=Dr.errored,t==null||t(Ci.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ci.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Dr.joined&&t===em.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=c.body)===null||a===void 0?void 0:a.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Dr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(us.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Cw(this,us.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Dr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Cw(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>FZ){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=us;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(h=>{var m,v,p;return((m=h.filter)===null||m===void 0?void 0:m.event)==="*"||((p=(v=h.filter)===null||v===void 0?void 0:v.event)===null||p===void 0?void 0:p.toLocaleLowerCase())===o}).map(h=>h.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(h=>{var m,v,p,b,x,y;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in h){const w=h.id,j=(m=h.filter)===null||m===void 0?void 0:m.event;return w&&((v=r.ids)===null||v===void 0?void 0:v.includes(w))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((p=r.data)===null||p===void 0?void 0:p.type.toLocaleLowerCase()))}else{const w=(x=(b=h==null?void 0:h.filter)===null||b===void 0?void 0:b.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return w==="*"||w===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===o}).map(h=>{if(typeof f=="object"&&"ids"in f){const m=f.data,{schema:v,table:p,commit_timestamp:b,type:x,errors:y}=m;f=Object.assign(Object.assign({},{schema:v,table:p,commit_timestamp:b,eventType:x,new:{},old:{},errors:y}),this._getPayloadRecords(m))}h.callback(f,n)})}_isClosed(){return this.state===Dr.closed}_isJoined(){return this.state===Dr.joined}_isJoining(){return this.state===Dr.joining}_isLeaving(){return this.state===Dr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&m6.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(us.close,{},t)}_onError(t){this._on(us.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Dr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=OE(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=OE(t.columns,t.old_record)),r}};const Ew=()=>{},zg={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},GZ=[1e3,2e3,5e3,1e4],ZZ=1e4,XZ=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let YZ=class{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=P1,this.transport=null,this.heartbeatIntervalMs=zg.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ew,this.ref=0,this.reconnectTimer=null,this.logger=Ew,this.conn=null,this.sendBuffer=[],this.serializer=new $Z,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=n=>{let a;return n?a=n:typeof fetch>"u"?a=(...i)=>Wp(async()=>{const{default:o}=await Promise.resolve().then(()=>Sf);return{default:o}}).then(({default:o})=>o(...i)).catch(o=>{throw new Error(`Failed to load @supabase/node-fetch: ${o.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...i)=>a(...i)},!(!((r=t==null?void 0:t.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${T1.websocket}`,this.httpEndpoint=h6(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t==null?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=RZ.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:LZ}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,t??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Qh.connecting:return tc.Connecting;case Qh.open:return tc.Open;case Qh.closing:return tc.Closing;default:return tc.Closed}}isConnected(){return this.connectionState()===tc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const r=`realtime:${e}`,n=this.getChannels().find(a=>a.topic===r);if(n)return n;{const a=new KZ(`realtime:${e}`,t,this);return this.channels.push(a),a}}push(e){const{topic:t,event:r,payload:n,ref:a}=e,i=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${t} ${r} (${a})`,n),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(zZ,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},zg.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:n,payload:a,ref:i}=t,o=i?`(${i})`:"",l=a.status||"";this.log("receive",`${l} ${r} ${n} ${o}`.trim(),a),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(n,a,i)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(us.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const r=e.match(/\?/)?"&":"?",n=new URLSearchParams(t);return`${e}${r}${n}`}_workerObjectUrl(e){let t;if(e)t=e;else{const r=new Blob([XZ],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;e?t=e:this.accessToken?t=await this.accessToken():t=this.accessTokenValue,this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(r=>{const n={access_token:t,version:DZ};t&&r.updateJoinPayload(n),r.joinedOnce&&r._isJoined()&&r._push(us.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(t)}catch(n){this.log("error",`error in ${e} callback`,n)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new d6(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},zg.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,r,n,a,i,o,l,c,u;if(this.transport=(t=e==null?void 0:e.transport)!==null&&t!==void 0?t:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:P1,this.heartbeatIntervalMs=(n=e==null?void 0:e.heartbeatIntervalMs)!==null&&n!==void 0?n:zg.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(i=e==null?void 0:e.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(o=e==null?void 0:e.heartbeatCallback)!==null&&o!==void 0?o:Ew,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:d=>GZ[d-1]||ZZ,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(d,f)=>f(JSON.stringify(d)),this.decode=(u=e==null?void 0:e.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}},ES=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Or(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class QZ extends ES{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}let R1=class extends ES{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};var JZ=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,[])).next())})};const p6=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Wp(async()=>{const{default:n}=await Promise.resolve().then(()=>Sf);return{default:n}}).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},eX=()=>JZ(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Wp(()=>Promise.resolve().then(()=>Sf))).Response:Response}),I1=e=>{if(Array.isArray(e))return e.map(r=>I1(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=I1(n)}),t},tX=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Xc=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,[])).next())})};const Aw=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),rX=(e,t,r)=>Xc(void 0,void 0,void 0,function*(){const n=yield eX();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const i=e.status||500,o=(a==null?void 0:a.statusCode)||i+"";t(new QZ(Aw(a),i,o))}).catch(a=>{t(new R1(Aw(a),a))}):t(new R1(Aw(e),e))}),nX=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(tX(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function Kp(e,t,r,n,a,i){return Xc(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,nX(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>rX(c,l,n))})})}function dy(e,t,r,n){return Xc(this,void 0,void 0,function*(){return Kp(e,"GET",t,r,n)})}function Vs(e,t,r,n,a){return Xc(this,void 0,void 0,function*(){return Kp(e,"POST",t,n,a,r)})}function D1(e,t,r,n,a){return Xc(this,void 0,void 0,function*(){return Kp(e,"PUT",t,n,a,r)})}function aX(e,t,r,n){return Xc(this,void 0,void 0,function*(){return Kp(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function g6(e,t,r,n,a){return Xc(this,void 0,void 0,function*(){return Kp(e,"DELETE",t,n,a,r)})}var sX=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,[])).next())})};class iX{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return sX(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Or(t))return{data:null,error:t};throw t}})}}var oX=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,[])).next())})};let lX=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}asStream(){return new iX(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.execute().then(e,t)}execute(){return oX(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Or(e))return{data:null,error:e};throw e}})}};var Dn=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,[])).next())})};const cX={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},AE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};let uX=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=p6(n)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,r,n){return Dn(this,void 0,void 0,function*(){try{let a;const i=Object.assign(Object.assign({},AE),n);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(i.upsert)});const l=i.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",i.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",i.cacheControl),l&&a.append("metadata",this.encodeMetadata(l))):(a=r,o["cache-control"]=`max-age=${i.cacheControl}`,o["content-type"]=i.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n!=null&&n.headers&&(o=Object.assign(Object.assign({},o),n.headers));const c=this._removeEmptyFolders(t),u=this._getFinalPath(c),d=yield(e=="PUT"?D1:Vs)(this.fetch,`${this.url}/object/${u}`,a,Object.assign({headers:o},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:c,id:d.Id,fullPath:d.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Or(a))return{data:null,error:a};throw a}})}upload(e,t,r){return Dn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,n){return Dn(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),i=this._getFinalPath(a),o=new URL(this.url+`/object/upload/sign/${i}`);o.searchParams.set("token",t);try{let l;const c=Object.assign({upsert:AE.upsert},n),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield D1(this.fetch,o.toString(),l,{headers:u});return{data:{path:a,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Or(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,t){return Dn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const n=Object.assign({},this.headers);t!=null&&t.upsert&&(n["x-upsert"]="true");const a=yield Vs(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),i=new URL(this.url+a.url),o=i.searchParams.get("token");if(!o)throw new ES("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:o},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Or(r))return{data:null,error:r};throw r}})}update(e,t,r){return Dn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return Dn(this,void 0,void 0,function*(){try{return{data:yield Vs(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Or(n))return{data:null,error:n};throw n}})}copy(e,t,r){return Dn(this,void 0,void 0,function*(){try{return{data:{path:(yield Vs(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Or(n))return{data:null,error:n};throw n}})}createSignedUrl(e,t,r){return Dn(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),a=yield Vs(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${i}`)},{data:a,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Or(n))return{data:null,error:n};throw n}})}createSignedUrls(e,t,r){return Dn(this,void 0,void 0,function*(){try{const n=yield Vs(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${a}`):null})),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Or(n))return{data:null,error:n};throw n}})}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=n?`?${n}`:"",i=this._getFinalPath(e),o=()=>dy(this.fetch,`${this.url}/${r}/${i}${a}`,{headers:this.headers,noResolveJson:!0});return new lX(o,this.shouldThrowOnError)}info(e){return Dn(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const r=yield dy(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:I1(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Or(r))return{data:null,error:r};throw r}})}exists(e){return Dn(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield aX(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Or(r)&&r instanceof R1){const n=r.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],a=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&n.push(a);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&n.push(o);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${l}`)}}}remove(e){return Dn(this,void 0,void 0,function*(){try{return{data:yield g6(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Or(t))return{data:null,error:t};throw t}})}list(e,t,r){return Dn(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},cX),t),{prefix:e||""});return{data:yield Vs(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Or(n))return{data:null,error:n};throw n}})}listV2(e,t){return Dn(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Vs(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},t),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Or(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const dX="2.75.0",fX={"X-Client-Info":`storage-js/${dX}`};var du=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};let hX=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1;const a=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},fX),t),this.fetch=p6(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return du(this,void 0,void 0,function*(){try{return{data:yield dy(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Or(e))return{data:null,error:e};throw e}})}getBucket(e){return du(this,void 0,void 0,function*(){try{return{data:yield dy(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Or(t))return{data:null,error:t};throw t}})}createBucket(e){return du(this,arguments,void 0,function*(t,r={public:!1}){try{return{data:yield Vs(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Or(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return du(this,void 0,void 0,function*(){try{return{data:yield D1(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Or(r))return{data:null,error:r};throw r}})}emptyBucket(e){return du(this,void 0,void 0,function*(){try{return{data:yield Vs(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Or(t))return{data:null,error:t};throw t}})}deleteBucket(e){return du(this,void 0,void 0,function*(){try{return{data:yield g6(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Or(t))return{data:null,error:t};throw t}})}},mX=class extends hX{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new uX(this.url,this.headers,e,this.fetch)}};const pX="2.75.0";let $h="";typeof Deno<"u"?$h="deno":typeof document<"u"?$h="web":typeof navigator<"u"&&navigator.product==="ReactNative"?$h="react-native":$h="node";const gX={"X-Client-Info":`supabase-js-${$h}/${pX}`},vX={headers:gX},yX={schema:"public"},xX={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},bX={};var wX=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,[])).next())})};const jX=e=>{let t;return e?t=e:typeof fetch>"u"?t=e6:t=fetch,(...r)=>t(...r)},NX=()=>typeof Headers>"u"?t6:Headers,_X=(e,t,r)=>{const n=jX(r),a=NX();return(i,o)=>wX(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var kX=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,[])).next())})};function SX(e){return e.endsWith("/")?e:e+"/"}function OX(e,t){var r,n;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>kX(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function CX(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(SX(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const v6="2.75.0",Mu=30*1e3,L1=3,Pw=L1*Mu,EX="http://localhost:9999",AX="supabase.auth.token",PX={"X-Client-Info":`gotrue-js/${v6}`},z1="X-Supabase-Api-Version",y6={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},TX=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,MX=10*60*1e3;class Mm extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function He(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}let RX=class extends Mm{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}};function IX(e){return He(e)&&e.name==="AuthApiError"}class rc extends Mm{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class wl extends Mm{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class jo extends wl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function DX(e){return He(e)&&e.name==="AuthSessionMissingError"}class fu extends wl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Fg extends wl{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class $g extends wl{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function LX(e){return He(e)&&e.name==="AuthImplicitGrantRedirectError"}let PE=class extends wl{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},F1=class extends wl{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}};function Tw(e){return He(e)&&e.name==="AuthRetryableFetchError"}class TE extends wl{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}let $1=class extends wl{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};const fy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ME=` 	
\r=`.split(""),zX=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<ME.length;t+=1)e[ME[t].charCodeAt(0)]=-2;for(let t=0;t<fy.length;t+=1)e[fy[t].charCodeAt(0)]=t;return e})();function RE(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(fy[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(fy[n]),t.queuedBits-=6}}function x6(e,t,r){const n=zX[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function IE(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{qX(o,n,r)};for(let o=0;o<e.length;o+=1)x6(e.charCodeAt(o),a,i);return t.join("")}function FX(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function $X(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}FX(n,t)}}function qX(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function fd(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)x6(e.charCodeAt(a),r,n);return new Uint8Array(t)}function BX(e){const t=[];return $X(e,r=>t.push(r)),new Uint8Array(t)}function oc(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>RE(a,r,n)),RE(null,r,n),t.join("")}function UX(e){return Math.round(Date.now()/1e3)+e}function VX(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ia=()=>typeof window<"u"&&typeof document<"u",Ml={tested:!1,writable:!1},b6=()=>{if(!ia())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ml.tested)return Ml.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ml.tested=!0,Ml.writable=!0}catch{Ml.tested=!0,Ml.writable=!1}return Ml.writable};function WX(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((n,a)=>{t[a]=n})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const w6=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Wp(async()=>{const{default:n}=await Promise.resolve().then(()=>Sf);return{default:n}}).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},HX=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ru=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Rl=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},uo=async(e,t)=>{await e.removeItem(t)};let j6=class N6{constructor(){this.promise=new N6.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}};j6.promiseConstructor=Promise;function Mw(e){const t=e.split(".");if(t.length!==3)throw new $1("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!TX.test(t[r]))throw new $1("JWT not in base64url format");return{header:JSON.parse(IE(t[0])),payload:JSON.parse(IE(t[1])),signature:fd(t[2]),raw:{header:t[0],payload:t[1]}}}async function KX(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function GX(e,t){return new Promise((r,n)=>{(async()=>{for(let a=0;a<1/0;a++)try{const i=await e(a);if(!t(a,null,i)){r(i);return}}catch(i){if(!t(a,i)){n(i);return}}})()})}function ZX(e){return("0"+e.toString(16)).substr(-2)}function XX(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let n="";for(let a=0;a<56;a++)n+=t.charAt(Math.floor(Math.random()*r));return n}return crypto.getRandomValues(e),Array.from(e,ZX).join("")}async function YX(e){const t=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",t),n=new Uint8Array(r);return Array.from(n).map(a=>String.fromCharCode(a)).join("")}async function QX(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await YX(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function hu(e,t,r=!1){const n=XX();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Ru(e,`${t}-code-verifier`,a);const i=await QX(n);return[i,n===i?"plain":"s256"]}const JX=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function eY(e){const t=e.headers.get(z1);if(!t||!t.match(JX))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function tY(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function rY(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const nY=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function mu(e){if(!nY.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Rw(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function DE(e){return JSON.parse(JSON.stringify(e))}var aY=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const Xl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),sY=[502,503,504];async function LE(e){var t;if(!HX(e))throw new F1(Xl(e),0);if(sY.includes(e.status))throw new F1(Xl(e),e.status);let r;try{r=await e.json()}catch(i){throw new rc(Xl(i),i)}let n;const a=eY(e);if(a&&a.getTime()>=y6["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new TE(Xl(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new jo}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new TE(Xl(r),e.status,r.weak_password.reasons);throw new RX(Xl(r),e.status||500,n)}const iY=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Je(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[z1]||(i[z1]=y6["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await oY(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function oY(e,t,r,n,a,i){const o=iY(t,n,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new F1(Xl(c),0)}if(l.ok||await LE(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await LE(c)}}function is(e){var t;let r=null;uY(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=UX(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function zE(e){const t=is(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Po(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function lY(e){return{data:e,error:null}}function cY(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=aY(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function FE(e){return e}function uY(e){return e.access_token&&e.refresh_token&&e.expires_in}const Iw=["global","local","others"];var dY=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};let fY=class{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=w6(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=Iw[0]){if(Iw.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Iw.join(", ")}`);try{return await Je(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(He(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,t={}){try{return await Je(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Po})}catch(r){if(He(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=dY(e,["options"]),n=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(n.new_email=r==null?void 0:r.newEmail,delete n.newEmail),await Je(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:cY,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(He(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Je(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Po})}catch(t){if(He(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,n,a,i,o,l;try{const c={nextPage:null,lastPage:0,total:0},u=await Je(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(a=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:""},xform:FE});if(u.error)throw u.error;const d=await u.json(),f=(i=u.headers.get("x-total-count"))!==null&&i!==void 0?i:0,h=(l=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(m=>{const v=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),p=JSON.parse(m.split(";")[1].split("=")[1]);c[`${p}Page`]=v}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(He(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){mu(e);try{return await Je(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Po})}catch(t){if(He(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){mu(e);try{return await Je(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Po})}catch(r){if(He(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,t=!1){mu(e);try{return await Je(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Po})}catch(r){if(He(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){mu(e.userId);try{const{data:t,error:r}=await Je(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:t,error:r}}catch(t){if(He(t))return{data:null,error:t};throw t}}async _deleteFactor(e){mu(e.userId),mu(e.id);try{return{data:await Je(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(He(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,r,n,a,i,o,l;try{const c={nextPage:null,lastPage:0,total:0},u=await Je(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(a=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:""},xform:FE});if(u.error)throw u.error;const d=await u.json(),f=(i=u.headers.get("x-total-count"))!==null&&i!==void 0?i:0,h=(l=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(m=>{const v=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),p=JSON.parse(m.split(";")[1].split("=")[1]);c[`${p}Page`]=v}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(He(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await Je(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(He(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await Je(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(He(t))return{data:null,error:t};throw t}}async _deleteOAuthClient(e){try{return await Je(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(He(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await Je(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(He(t))return{data:null,error:t};throw t}}};function $E(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const pu={debug:!!(globalThis&&b6()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};let _6=class extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}},hY=class extends _6{};async function mY(e,t,r){pu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),pu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){pu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{pu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw pu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new hY(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(pu.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function pY(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function k6(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function gY(e){return parseInt(e,16)}function vY(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function yY(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=k6(e.address),v=d?`${d}://${n}`:n,p=e.statement?`${e.statement}
`:"",b=`${v} wants you to sign in with your Ethereum account:
${m}

${p}`;let x=`URI: ${f}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(x+=`
Expiration Time: ${a.toISOString()}`),l&&(x+=`
Not Before: ${l.toISOString()}`),c&&(x+=`
Request ID: ${c}`),u){let y=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);y+=`
- ${w}`}x+=y}return`${b}
${x}`}class Sr extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}let hy=class extends Sr{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}};function xY({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Sr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Sr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Sr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Sr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Sr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Sr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new Sr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Sr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(O6(o)){if(i.rp.id!==o)return new Sr({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Sr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Sr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Sr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Sr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function bY({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Sr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Sr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(O6(n)){if(r.rpId!==n)return new Sr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Sr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Sr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Sr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var S6=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};let wY=class{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}};const jY=new wY;function NY(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=S6(e,["challenge","user","excludeCredentials"]),i=fd(t).buffer,o=Object.assign(Object.assign({},r),{id:fd(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:fd(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function _Y(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=S6(e,["challenge","allowCredentials"]),a=fd(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:fd(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function kY(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:oc(new Uint8Array(e.response.attestationObject)),clientDataJSON:oc(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function SY(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:oc(new Uint8Array(a.authenticatorData)),clientDataJSON:oc(new Uint8Array(a.clientDataJSON)),signature:oc(new Uint8Array(a.signature)),userHandle:a.userHandle?oc(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function O6(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function qE(){var e,t;return!!(ia()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function OY(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new hy("Browser returned unexpected credential type",t)}:{data:null,error:new hy("Empty credential response",t)}}catch(t){return{data:null,error:xY({error:t,options:e})}}}async function CY(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new hy("Browser returned unexpected credential type",t)}:{data:null,error:new hy("Empty credential response",t)}}catch(t){return{data:null,error:bY({error:t,options:e})}}}const EY={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},AY={userVerification:"preferred",hints:["security-key"]};function my(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const l=n[i];t(l)?n[i]=my(l,o):n[i]=my(o)}else n[i]=o}return n}function PY(e,t){return my(EY,e,t||{})}function TY(e,t){return my(AY,e,t||{})}let MY=class{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:r,signal:n},a){try{const{data:i,error:o}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!i)return{data:null,error:o};const l=n??jY.createNewAbortSignal();if(i.webauthn.type==="create"){const{user:c}=i.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${r}`),c.displayName||(c.displayName=c.name)}switch(i.webauthn.type){case"create":{const c=PY(i.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:u,error:d}=await OY({publicKey:c,signal:l});return u?{data:{factorId:e,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}case"request":{const c=TY(i.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:u,error:d}=await CY(Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:e,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}}}catch(i){return He(i)?{data:null,error:i}:{data:null,error:new rc("Unexpected error in challenge",i)}}}async _verify({challengeId:e,factorId:t,webauthn:r}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:n}},a){if(!t)return{data:null,error:new Mm("rpId is required for WebAuthn authentication")};try{if(!qE())return{data:null,error:new rc("Browser does not support WebAuthn",null)};const{data:i,error:o}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:r},signal:n},{request:a});if(!i)return{data:null,error:o};const{webauthn:l}=i;return this._verify({factorId:e,challengeId:i.challengeId,webauthn:{type:l.type,rpId:t,rpOrigins:r,credential_response:l.credential_response}})}catch(i){return He(i)?{data:null,error:i}:{data:null,error:new rc("Unexpected error in authenticate",i)}}}async _register({friendlyName:e,rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:n},a){if(!t)return{data:null,error:new Mm("rpId is required for WebAuthn registration")};try{if(!qE())return{data:null,error:new rc("Browser does not support WebAuthn",null)};const{data:i,error:o}=await this._enroll({friendlyName:e});if(!i)return await this.client.mfa.listFactors().then(u=>{var d;return(d=u.data)===null||d===void 0?void 0:d.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:o};const{data:l,error:c}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:t,rpOrigins:r},signal:n},{create:a});return l?this._verify({factorId:i.id,challengeId:l.challengeId,webauthn:{rpId:t,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(i){return He(i)?{data:null,error:i}:{data:null,error:new rc("Unexpected error in register",i)}}}};pY();const RY={url:EX,storageKey:AX,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:PX,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function BE(e,t,r){return await r()}const gu={};class Rm{get jwks(){var t,r;return(r=(t=gu[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){gu[this.storageKey]=Object.assign(Object.assign({},gu[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=gu[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){gu[this.storageKey]=Object.assign(Object.assign({},gu[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Rm.nextInstanceID,Rm.nextInstanceID+=1,this.instanceID>0&&ia()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},RY),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new fY({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=w6(a.fetch),this.lock=a.lock||BE,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:ia()&&!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks?this.lock=mY:this.lock=BE,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new MY(this)},this.persistSession?(a.storage?this.storage=a.storage:b6()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=$E(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=$E(this.memoryStorage)),ia()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${v6}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=WX(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),ia()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),LX(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return He(r)?{error:r}:{error:new rc("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await Je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:is}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(He(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await hu(this.storage,this.storageKey)),i=await Je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:v},xform:is})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await Je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:is})}else throw new Fg("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(He(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await Je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:zE})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await Je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:zE})}else throw new Fg("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new fu}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(He(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,o,l,c,u,d,f,h;let m,v;if("message"in t)m=t.message,v=t.signature;else{const{chain:p,wallet:b,statement:x,options:y}=t;let w;if(ia())if(typeof b=="object")w=b;else{const E=window;if("ethereum"in E&&typeof E.ethereum=="object"&&"request"in E.ethereum&&typeof E.ethereum.request=="function")w=E.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=b}const j=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href),N=await w.request({method:"eth_requestAccounts"}).then(E=>E).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const _=k6(N[0]);let k=(n=y==null?void 0:y.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!k){const E=await w.request({method:"eth_chainId"});k=gY(E)}const O={domain:j.host,address:_,statement:x,uri:j.href,version:"1",chainId:k,nonce:(a=y==null?void 0:y.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=y==null?void 0:y.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=y==null?void 0:y.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=y==null?void 0:y.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=y==null?void 0:y.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=y==null?void 0:y.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=yY(O),v=await w.request({method:"personal_sign",params:[vY(m),_]})}try{const{data:p,error:b}=await Je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:v},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:is});if(b)throw b;return!p||!p.session||!p.user?{data:{user:null,session:null},error:new fu}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:Object.assign({},p),error:b})}catch(p){if(He(p))return{data:{user:null,session:null},error:p};throw p}}async signInWithSolana(t){var r,n,a,i,o,l,c,u,d,f,h,m;let v,p;if("message"in t)v=t.message,p=t.signature;else{const{chain:b,wallet:x,statement:y,options:w}=t;let j;if(ia())if(typeof x=="object")j=x;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))j=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=x}const N=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const _=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),y?{statement:y}:null));let k;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")k=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)k=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)v=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),p=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${N.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(a=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const _=await j.signMessage(new TextEncoder().encode(v),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=_}}try{const{data:b,error:x}=await Je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:oc(p)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:is});if(x)throw x;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new fu}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:x})}catch(b){if(He(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(t){const r=await Rl(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await Je(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:is});if(await uo(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new fu}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(He(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,l=await Je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:is}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new fu}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(He(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await hu(this.storage,this.storageKey));const{error:f}=await Je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Fg("You must provide either an email or phone number.")}catch(l){if(He(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Je(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:is});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(He(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await hu(this.storage,this.storageKey)),await Je(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:lY})}catch(i){if(He(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new jo;const{error:a}=await Je(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(He(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await Je(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await Je(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Fg("You must provide either an email or phone number and a type")}catch(r){if(He(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Rl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Pw:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Rl(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Rw()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Po}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new jo}:await Je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Po})})}catch(r){if(He(r))return DX(r)&&(await this._removeSession(),await uo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new jo;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await hu(this.storage,this.storageKey));const{data:u,error:d}=await Je(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Po});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(He(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new jo;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=Mw(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(He(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new jo;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(He(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!ia())throw new $g("No browser detected.");if(t.error||t.error_description||t.error_code)throw new $g(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new PE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new $g("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new PE("No code detected.");const{data:y,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new $g("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=Mu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const v=h-f;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,d);const{data:p,error:b}=await this._getUser(i);if(b)throw b;const x={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(n){if(He(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Rl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(IX(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await uo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=VX(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await hu(this.storage,this.storageKey,!0));try{return await Je(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(He(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(He(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,c,u,d;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Je(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return ia()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(He(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,f=await Je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:is}),{data:h,error:m}=f;return m?{data:{user:null,session:null},error:m}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new fu}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:m})}catch(a){if(He(a))return{data:{user:null,session:null},error:a};throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await Je(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(He(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await GX(async a=>(a>0&&await KX(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Je(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:is})),(a,i)=>{const o=200*Math.pow(2,a);return i&&Tw(i)&&Date.now()+o-n<Mu})}catch(n){if(this._debug(r,"error",n),He(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),ia()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Rl(this.storage,this.storageKey);if(a&&this.userStorage){let o=await Rl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await Ru(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Rw()}else if(a&&!a.user&&!a.user){const o=await Rl(this.storage,this.storageKey+"-user");o&&o!=null&&o.user?(a.user=o.user,await uo(this.storage,this.storageKey+"-user"),await Ru(this.storage,this.storageKey,a)):a.user=Rw()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Pw;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Pw}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),Tw(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&o!=null&&o.user?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new jo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new j6;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new jo;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),He(i)){const o={data:null,error:i};return Tw(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Ru(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=DE(a);await Ru(this.storage,this.storageKey,i)}else{const a=DE(r);await Ru(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await uo(this.storage,this.storageKey),await uo(this.storage,this.storageKey+"-code-verifier"),await uo(this.storage,this.storageKey+"-user"),this.userStorage&&await uo(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ia()&&window!=null&&window.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Mu);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Mu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Mu}ms, refresh threshold is ${L1} ticks`),a<=L1&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof _6)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ia()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await hu(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Je(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(He(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await Je(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&c.type==="totp"&&!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(He(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?kY(t.webauthn.credential_response):SY(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await Je(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(r){if(He(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const o=await Je(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:NY(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:_Y(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(He(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Mw(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+MX>a)return n;const{data:i,error:o}=await Je(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:h,error:m}=await this.getSession();if(m||!h.session)return{data:null,error:m};n=h.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=Mw(n);r!=null&&r.allowExpired||tY(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:h}=await this.getUser(n);if(h)throw h;return{data:{claims:i,header:a,signature:o},error:null}}const d=rY(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,BX(`${l}.${c}`)))throw new $1("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(He(n))return{data:null,error:n};throw n}}}Rm.nextInstanceID=0;const IY=Rm;let DY=class extends IY{constructor(e){super(e)}};var LY=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,[])).next())})};class zY{constructor(t,r,n){var a,i,o;this.supabaseUrl=t,this.supabaseKey=r;const l=CX(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:yX,realtime:bX,auth:Object.assign(Object.assign({},xX),{storageKey:c}),global:vX},d=OX(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=_X(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new MZ(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new mX(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new dZ(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return LY(this,void 0,void 0,function*(){var t,r;if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:o,flowType:l,lock:c,debug:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new DY({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:l,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new YZ(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const FY=(e,t,r)=>new zY(e,t,r);function $Y(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}$Y()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var C6=e=>{throw TypeError(e)},AS=(e,t,r)=>t.has(e)||C6("Cannot "+r),H=(e,t,r)=>(AS(e,t,"read from private field"),r?r.call(e):t.get(e)),Ue=(e,t,r)=>t.has(e)?C6("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Pe=(e,t,r,n)=>(AS(e,t,"write to private field"),t.set(e,r),r),ft=(e,t,r)=>(AS(e,t,"access private method"),r),q1=(e,t,r,n)=>({set _(a){Pe(e,t,a)},get _(){return H(e,t,n)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function t(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(n){if(n.ep)return;n.ep=!0;const a=t(n);fetch(n.href,a)}})();var E6,UE=Wc;E6=UE.createRoot,UE.hydrateRoot;const qY=1,BY=1e6;let Dw=0;function UY(){return Dw=(Dw+1)%Number.MAX_SAFE_INTEGER,Dw.toString()}const Lw=new Map,VE=e=>{if(Lw.has(e))return;const t=setTimeout(()=>{Lw.delete(e),tm({type:"REMOVE_TOAST",toastId:e})},BY);Lw.set(e,t)},VY=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,qY)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?VE(r):e.toasts.forEach(n=>{VE(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Ov=[];let Cv={toasts:[]};function tm(e){Cv=VY(Cv,e),Ov.forEach(t=>{t(Cv)})}function Nn({...e}){const t=UY(),r=a=>tm({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>tm({type:"DISMISS_TOAST",toastId:t});return tm({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function Sb(){const[e,t]=g.useState(Cv);return g.useEffect(()=>(Ov.push(t),()=>{const r=Ov.indexOf(t);r>-1&&Ov.splice(r,1)}),[e]),{...e,toast:Nn,dismiss:r=>tm({type:"DISMISS_TOAST",toastId:r})}}var A6=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),WY="VisuallyHidden",Ob=g.forwardRef((e,t)=>s.jsx(Ae.span,{...e,ref:t,style:{...A6,...e.style}}));Ob.displayName=WY;var HY=Ob,PS="ToastProvider",[TS,KY,GY]=Ip("Toast"),[P6]=xn("Toast",[GY]),[ZY,Cb]=P6(PS),T6=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=g.useState(null),[u,d]=g.useState(0),f=g.useRef(!1),h=g.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${PS}\`. Expected non-empty \`string\`.`),s.jsx(TS.Provider,{scope:t,children:s.jsx(ZY,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:g.useCallback(()=>d(m=>m+1),[]),onToastRemove:g.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};T6.displayName=PS;var M6="ToastViewport",XY=["F8"],B1="toast.viewportPause",U1="toast.viewportResume",R6=g.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=XY,label:a="Notifications ({hotkey})",...i}=e,o=Cb(M6,r),l=KY(r),c=g.useRef(null),u=g.useRef(null),d=g.useRef(null),f=g.useRef(null),h=Ze(t,f,o.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;g.useEffect(()=>{const b=x=>{var y;n.length!==0&&n.every(w=>x[w]||x.code===w)&&((y=f.current)==null||y.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[n]),g.useEffect(()=>{const b=c.current,x=f.current;if(v&&b&&x){const y=()=>{if(!o.isClosePausedRef.current){const _=new CustomEvent(B1);x.dispatchEvent(_),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const _=new CustomEvent(U1);x.dispatchEvent(_),o.isClosePausedRef.current=!1}},j=_=>{!b.contains(_.relatedTarget)&&w()},N=()=>{b.contains(document.activeElement)||w()};return b.addEventListener("focusin",y),b.addEventListener("focusout",j),b.addEventListener("pointermove",y),b.addEventListener("pointerleave",N),window.addEventListener("blur",y),window.addEventListener("focus",w),()=>{b.removeEventListener("focusin",y),b.removeEventListener("focusout",j),b.removeEventListener("pointermove",y),b.removeEventListener("pointerleave",N),window.removeEventListener("blur",y),window.removeEventListener("focus",w)}}},[v,o.isClosePausedRef]);const p=g.useCallback(({tabbingDirection:b})=>{const x=l().map(y=>{const w=y.ref.current,j=[w,...cQ(w)];return b==="forwards"?j:j.reverse()});return(b==="forwards"?x.reverse():x).flat()},[l]);return g.useEffect(()=>{const b=f.current;if(b){const x=y=>{var w,j,N;const _=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!_){const k=document.activeElement,O=y.shiftKey;if(y.target===b&&O){(w=u.current)==null||w.focus();return}const E=p({tabbingDirection:O?"backwards":"forwards"}),T=E.findIndex(P=>P===k);zw(E.slice(T+1))?y.preventDefault():O?(j=u.current)==null||j.focus():(N=d.current)==null||N.focus()}};return b.addEventListener("keydown",x),()=>b.removeEventListener("keydown",x)}},[l,p]),s.jsxs(uW,{ref:c,role:"region","aria-label":a.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&s.jsx(V1,{ref:u,onFocusFromOutsideViewport:()=>{const b=p({tabbingDirection:"forwards"});zw(b)}}),s.jsx(TS.Slot,{scope:r,children:s.jsx(Ae.ol,{tabIndex:-1,...i,ref:h})}),v&&s.jsx(V1,{ref:d,onFocusFromOutsideViewport:()=>{const b=p({tabbingDirection:"backwards"});zw(b)}})]})});R6.displayName=M6;var I6="ToastFocusProxy",V1=g.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,i=Cb(I6,r);return s.jsx(Ob,{tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var l;const c=o.relatedTarget;!((l=i.viewport)!=null&&l.contains(c))&&n()}})});V1.displayName=I6;var Gp="Toast",YY="toast.swipeStart",QY="toast.swipeMove",JY="toast.swipeCancel",eQ="toast.swipeEnd",D6=g.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...o}=e,[l,c]=Ga({prop:n,defaultProp:a??!0,onChange:i,caller:Gp});return s.jsx(Jr,{present:r||l,children:s.jsx(nQ,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:pr(e.onPause),onResume:pr(e.onResume),onSwipeStart:be(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:be(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:be(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:be(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});D6.displayName=Gp;var[tQ,rQ]=P6(Gp,{onClose(){}}),nQ=g.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...v}=e,p=Cb(Gp,r),[b,x]=g.useState(null),y=Ze(t,M=>x(M)),w=g.useRef(null),j=g.useRef(null),N=a||p.duration,_=g.useRef(0),k=g.useRef(N),O=g.useRef(0),{onToastAdd:E,onToastRemove:T}=p,P=pr(()=>{var M;b!=null&&b.contains(document.activeElement)&&((M=p.viewport)==null||M.focus()),o()}),S=g.useCallback(M=>{!M||M===1/0||(window.clearTimeout(O.current),_.current=new Date().getTime(),O.current=window.setTimeout(P,M))},[P]);g.useEffect(()=>{const M=p.viewport;if(M){const B=()=>{S(k.current),u==null||u()},U=()=>{const F=new Date().getTime()-_.current;k.current=k.current-F,window.clearTimeout(O.current),c==null||c()};return M.addEventListener(B1,U),M.addEventListener(U1,B),()=>{M.removeEventListener(B1,U),M.removeEventListener(U1,B)}}},[p.viewport,N,c,u,S]),g.useEffect(()=>{i&&!p.isClosePausedRef.current&&S(N)},[i,N,p.isClosePausedRef,S]),g.useEffect(()=>(E(),()=>T()),[E,T]);const R=g.useMemo(()=>b?U6(b):null,[b]);return p.viewport?s.jsxs(s.Fragment,{children:[R&&s.jsx(aQ,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:R}),s.jsx(tQ,{scope:r,onClose:P,children:Wc.createPortal(s.jsx(TS.ItemSlot,{scope:r,children:s.jsx(cW,{asChild:!0,onEscapeKeyDown:be(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||P(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Ae.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":p.swipeDirection,...v,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:be(e.onKeyDown,M=>{M.key==="Escape"&&(l==null||l(M.nativeEvent),M.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,P()))}),onPointerDown:be(e.onPointerDown,M=>{M.button===0&&(w.current={x:M.clientX,y:M.clientY})}),onPointerMove:be(e.onPointerMove,M=>{if(!w.current)return;const B=M.clientX-w.current.x,U=M.clientY-w.current.y,F=!!j.current,z=["left","right"].includes(p.swipeDirection),I=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,G=z?I(0,B):0,L=z?0:I(0,U),$=M.pointerType==="touch"?10:2,J={x:G,y:L},K={originalEvent:M,delta:J};F?(j.current=J,qg(QY,f,K,{discrete:!1})):WE(J,p.swipeDirection,$)?(j.current=J,qg(YY,d,K,{discrete:!1}),M.target.setPointerCapture(M.pointerId)):(Math.abs(B)>$||Math.abs(U)>$)&&(w.current=null)}),onPointerUp:be(e.onPointerUp,M=>{const B=j.current,U=M.target;if(U.hasPointerCapture(M.pointerId)&&U.releasePointerCapture(M.pointerId),j.current=null,w.current=null,B){const F=M.currentTarget,z={originalEvent:M,delta:B};WE(B,p.swipeDirection,p.swipeThreshold)?qg(eQ,m,z,{discrete:!0}):qg(JY,h,z,{discrete:!0}),F.addEventListener("click",I=>I.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),aQ=e=>{const{__scopeToast:t,children:r,...n}=e,a=Cb(Gp,t),[i,o]=g.useState(!1),[l,c]=g.useState(!1);return oQ(()=>o(!0)),g.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(jf,{asChild:!0,children:s.jsx(Ob,{...n,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",r]})})})},sQ="ToastTitle",L6=g.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Ae.div,{...n,ref:t})});L6.displayName=sQ;var iQ="ToastDescription",z6=g.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Ae.div,{...n,ref:t})});z6.displayName=iQ;var F6="ToastAction",$6=g.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(B6,{altText:r,asChild:!0,children:s.jsx(MS,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${F6}\`. Expected non-empty \`string\`.`),null)});$6.displayName=F6;var q6="ToastClose",MS=g.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=rQ(q6,r);return s.jsx(B6,{asChild:!0,children:s.jsx(Ae.button,{type:"button",...n,ref:t,onClick:be(e.onClick,a.onClose)})})});MS.displayName=q6;var B6=g.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return s.jsx(Ae.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function U6(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),lQ(r)){const n=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!n)if(a){const i=r.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...U6(r))}}),t}function qg(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?sS(a,i):a.dispatchEvent(i)}var WE=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),i=n>a;return t==="left"||t==="right"?i&&n>r:!i&&a>r};function oQ(e=()=>{}){const t=pr(e);jr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function lQ(e){return e.nodeType===e.ELEMENT_NODE}function cQ(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function zw(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var uQ=T6,V6=R6,W6=D6,H6=L6,K6=z6,G6=$6,Z6=MS;function X6(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=X6(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ye(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=X6(e))&&(n&&(n+=" "),n+=t);return n}const HE=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,KE=Ye,Yc=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return KE(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=HE(d)||HE(f);return a[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(v=>{let[p,b]=v;return Array.isArray(b)?b.includes({...i,...l}[p]):{...i,...l}[p]===b})?[...u,f,h]:u},[]);return KE(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const dQ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Y6=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/var fQ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const hQ=g.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>g.createElement("svg",{ref:c,...fQ,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Y6("lucide",a),...l},[...o.map(([u,d])=>g.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const _e=(e,t)=>{const r=g.forwardRef(({className:n,...a},i)=>g.createElement(hQ,{ref:i,iconNode:t,className:Y6(`lucide-${dQ(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const ri=_e("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const mQ=_e("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Eb=_e("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Bg=_e("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const pQ=_e("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Ed=_e("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const mn=_e("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Pi=_e("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const nr=_e("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const py=_e("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Hn=_e("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Yi=_e("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Q6=_e("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const gQ=_e("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const vQ=_e("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const yQ=_e("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const cl=_e("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const ks=_e("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const gs=_e("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const xQ=_e("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const $a=_e("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Iu=_e("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Cc=_e("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Ec=_e("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const $i=_e("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const RS=_e("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const bQ=_e("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const J6=_e("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const ul=_e("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const wQ=_e("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const IS=_e("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const GE=_e("Forward",[["polyline",{points:"15 17 20 12 15 7",key:"1w3sku"}],["path",{d:"M4 18v-2a4 4 0 0 1 4-4h12",key:"jmiej9"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const vu=_e("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const eL=_e("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const jQ=_e("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const NQ=_e("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const _Q=_e("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const tL=_e("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const kQ=_e("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const SQ=_e("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const W1=_e("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const gt=_e("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const rL=_e("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const OQ=_e("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Ad=_e("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Pd=_e("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const CQ=_e("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const At=_e("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const EQ=_e("MousePointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const AQ=_e("MoveDown",[["path",{d:"M8 18L12 22L16 18",key:"cskvfv"}],["path",{d:"M12 2V22",key:"r89rzk"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const PQ=_e("MoveUp",[["path",{d:"M8 6L12 2L16 6",key:"1yvkyx"}],["path",{d:"M12 2V22",key:"r89rzk"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const TQ=_e("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Im=_e("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Cf=_e("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const MQ=_e("PinOff",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M15 9.34V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H7.89",key:"znwnzq"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h11",key:"c9qhm2"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const ZE=_e("Pin",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Ac=_e("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const RQ=_e("Plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const wr=_e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const IQ=_e("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Qn=_e("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const gy=_e("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const DQ=_e("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const nL=_e("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Dm=_e("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const qa=_e("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const ms=_e("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const qr=_e("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const ni=_e("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const ha=_e("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const dl=_e("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const LQ=_e("StarOff",[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Lm=_e("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const XE=_e("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const ai=_e("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const zQ=_e("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const FQ=_e("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const no=_e("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const xt=_e("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const vy=_e("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const fl=_e("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const $Q=_e("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const qQ=_e("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const YE=_e("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const qi=_e("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const ir=_e("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const QE=_e("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const H1=_e("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Ab=_e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const ma=_e("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),DS="-",BQ=e=>{const t=VQ(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:a=>{const i=a.split(DS);return i[0]===""&&i.length!==1&&i.shift(),aL(i,t)||UQ(a)},getConflictingClassGroupIds:(a,i)=>{const o=r[a]||[];return i&&n[a]?[...o,...n[a]]:o}}},aL=(e,t)=>{var r;if(e.length===0)return t.classGroupId;const n=e[0],a=t.nextPart.get(n),i=a?aL(e.slice(1),a):void 0;if(i)return i;if(t.validators.length===0)return;const o=e.join(DS);return(r=t.validators.find(({validator:l})=>l(o)))==null?void 0:r.classGroupId},JE=/^\[(.+)\]$/,UQ=e=>{if(JE.test(e)){const t=JE.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},VQ=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return HQ(Object.entries(e.classGroups),r).forEach(([a,i])=>{K1(i,n,a,t)}),n},K1=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:eA(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(WQ(a)){K1(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{K1(o,eA(t,i),r,n)})})},eA=(e,t)=>{let r=e;return t.split(DS).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},WQ=e=>e.isThemeGetter,HQ=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,KQ=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},sL="!",GQ=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let b=0;b<l.length;b++){let x=l[b];if(u===0){if(x===a&&(n||l.slice(b,b+i)===t)){c.push(l.slice(d,b)),d=b+i;continue}if(x==="/"){f=b;continue}}x==="["?u++:x==="]"&&u--}const h=c.length===0?l:l.substring(d),m=h.startsWith(sL),v=m?h.substring(1):h,p=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:o}):o},ZQ=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},XQ=e=>({cache:KQ(e.cacheSize),parseClassName:GQ(e),...BQ(e)}),YQ=/\s+/,QQ=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(YQ);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let v=!!m,p=n(v?h.substring(0,m):h);if(!p){if(!v){l=u+(l.length>0?" "+l:l);continue}if(p=n(h),!p){l=u+(l.length>0?" "+l:l);continue}v=!1}const b=ZQ(d).join(":"),x=f?b+sL:b,y=x+p;if(i.includes(y))continue;i.push(y);const w=a(p,v);for(let j=0;j<w.length;++j){const N=w[j];i.push(x+N)}l=u+(l.length>0?" "+l:l)}return l};function JQ(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=iL(t))&&(n&&(n+=" "),n+=r);return n}const iL=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=iL(e[n]))&&(r&&(r+=" "),r+=t);return r};function eJ(e,...t){let r,n,a,i=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=XQ(u),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=QQ(c,r);return a(c,d),d}return function(){return i(JQ.apply(null,arguments))}}const Ht=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},oL=/^\[(?:([a-z-]+):)?(.+)\]$/i,tJ=/^\d+\/\d+$/,rJ=new Set(["px","full","screen"]),nJ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,aJ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,sJ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,iJ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,oJ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,xi=e=>hd(e)||rJ.has(e)||tJ.test(e),fo=e=>Ef(e,"length",pJ),hd=e=>!!e&&!Number.isNaN(Number(e)),Fw=e=>Ef(e,"number",hd),lh=e=>!!e&&Number.isInteger(Number(e)),lJ=e=>e.endsWith("%")&&hd(e.slice(0,-1)),ct=e=>oL.test(e),ho=e=>nJ.test(e),cJ=new Set(["length","size","percentage"]),uJ=e=>Ef(e,cJ,lL),dJ=e=>Ef(e,"position",lL),fJ=new Set(["image","url"]),hJ=e=>Ef(e,fJ,vJ),mJ=e=>Ef(e,"",gJ),ch=()=>!0,Ef=(e,t,r)=>{const n=oL.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},pJ=e=>aJ.test(e)&&!sJ.test(e),lL=()=>!1,gJ=e=>iJ.test(e),vJ=e=>oJ.test(e),yJ=()=>{const e=Ht("colors"),t=Ht("spacing"),r=Ht("blur"),n=Ht("brightness"),a=Ht("borderColor"),i=Ht("borderRadius"),o=Ht("borderSpacing"),l=Ht("borderWidth"),c=Ht("contrast"),u=Ht("grayscale"),d=Ht("hueRotate"),f=Ht("invert"),h=Ht("gap"),m=Ht("gradientColorStops"),v=Ht("gradientColorStopPositions"),p=Ht("inset"),b=Ht("margin"),x=Ht("opacity"),y=Ht("padding"),w=Ht("saturate"),j=Ht("scale"),N=Ht("sepia"),_=Ht("skew"),k=Ht("space"),O=Ht("translate"),E=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",ct,t],S=()=>[ct,t],R=()=>["",xi,fo],M=()=>["auto",hd,ct],B=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],F=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],z=()=>["start","end","center","between","around","evenly","stretch"],I=()=>["","0",ct],G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],L=()=>[hd,ct];return{cacheSize:500,separator:":",theme:{colors:[ch],spacing:[xi,fo],blur:["none","",ho,ct],brightness:L(),borderColor:[e],borderRadius:["none","","full",ho,ct],borderSpacing:S(),borderWidth:R(),contrast:L(),grayscale:I(),hueRotate:L(),invert:I(),gap:S(),gradientColorStops:[e],gradientColorStopPositions:[lJ,fo],inset:P(),margin:P(),opacity:L(),padding:S(),saturate:L(),scale:L(),sepia:I(),skew:L(),space:S(),translate:S()},classGroups:{aspect:[{aspect:["auto","square","video",ct]}],container:["container"],columns:[{columns:[ho]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...B(),ct]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",lh,ct]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ct]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",lh,ct]}],"grid-cols":[{"grid-cols":[ch]}],"col-start-end":[{col:["auto",{span:["full",lh,ct]},ct]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[ch]}],"row-start-end":[{row:["auto",{span:[lh,ct]},ct]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ct]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ct]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...z()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...z(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...z(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ct,t]}],"min-w":[{"min-w":[ct,t,"min","max","fit"]}],"max-w":[{"max-w":[ct,t,"none","full","min","max","fit","prose",{screen:[ho]},ho]}],h:[{h:[ct,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ct,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ct,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ct,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ho,fo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Fw]}],"font-family":[{font:[ch]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ct]}],"line-clamp":[{"line-clamp":["none",hd,Fw]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",xi,ct]}],"list-image":[{"list-image":["none",ct]}],"list-style-type":[{list:["none","disc","decimal",ct]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",xi,fo]}],"underline-offset":[{"underline-offset":["auto",xi,ct]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ct]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ct]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...B(),dJ]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",uJ]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},hJ]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:U()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[xi,ct]}],"outline-w":[{outline:[xi,fo]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[xi,fo]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ho,mJ]}],"shadow-color":[{shadow:[ch]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...F(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":F()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ho,ct]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ct]}],duration:[{duration:L()}],ease:[{ease:["linear","in","out","in-out",ct]}],delay:[{delay:L()}],animate:[{animate:["none","spin","ping","pulse","bounce",ct]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[lh,ct]}],"translate-x":[{"translate-x":[O]}],"translate-y":[{"translate-y":[O]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ct]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ct]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ct]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[xi,fo,Fw]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},xJ=eJ(yJ);function ve(...e){return xJ(Ye(e))}const bJ=uQ,cL=g.forwardRef(({className:e,...t},r)=>s.jsx(V6,{ref:r,className:ve("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));cL.displayName=V6.displayName;const wJ=Yc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),uL=g.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(W6,{ref:n,className:ve(wJ({variant:t}),e),...r}));uL.displayName=W6.displayName;const jJ=g.forwardRef(({className:e,...t},r)=>s.jsx(G6,{ref:r,className:ve("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));jJ.displayName=G6.displayName;const dL=g.forwardRef(({className:e,...t},r)=>s.jsx(Z6,{ref:r,className:ve("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(Ab,{className:"h-4 w-4"})}));dL.displayName=Z6.displayName;const fL=g.forwardRef(({className:e,...t},r)=>s.jsx(H6,{ref:r,className:ve("text-sm font-semibold",e),...t}));fL.displayName=H6.displayName;const hL=g.forwardRef(({className:e,...t},r)=>s.jsx(K6,{ref:r,className:ve("text-sm opacity-90",e),...t}));hL.displayName=K6.displayName;function NJ(){const{toasts:e}=Sb();return s.jsxs(bJ,{children:[e.map(function({id:t,title:r,description:n,action:a,...i}){return s.jsxs(uL,{...i,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(fL,{children:r}),n&&s.jsx(hL,{children:n})]}),a,s.jsx(dL,{})]},t)}),s.jsx(cL,{})]})}var[Pb]=xn("Tooltip",[bl]),Tb=bl(),mL="TooltipProvider",_J=700,G1="tooltip.open",[kJ,LS]=Pb(mL),pL=e=>{const{__scopeTooltip:t,delayDuration:r=_J,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=e,o=g.useRef(!0),l=g.useRef(!1),c=g.useRef(0);return g.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),s.jsx(kJ,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:g.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:g.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:g.useCallback(u=>{l.current=u},[]),disableHoverableContent:a,children:i})};pL.displayName=mL;var zm="Tooltip",[SJ,Mb]=Pb(zm),gL=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:a,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=LS(zm,e.__scopeTooltip),u=Tb(t),[d,f]=g.useState(null),h=Qr(),m=g.useRef(0),v=o??c.disableHoverableContent,p=l??c.delayDuration,b=g.useRef(!1),[x,y]=Ga({prop:n,defaultProp:a??!1,onChange:k=>{k?(c.onOpen(),document.dispatchEvent(new CustomEvent(G1))):c.onClose(),i==null||i(k)},caller:zm}),w=g.useMemo(()=>x?b.current?"delayed-open":"instant-open":"closed",[x]),j=g.useCallback(()=>{window.clearTimeout(m.current),m.current=0,b.current=!1,y(!0)},[y]),N=g.useCallback(()=>{window.clearTimeout(m.current),m.current=0,y(!1)},[y]),_=g.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{b.current=!0,y(!0),m.current=0},p)},[p,y]);return g.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),s.jsx(lb,{...u,children:s.jsx(SJ,{scope:t,contentId:h,open:x,stateAttribute:w,trigger:d,onTriggerChange:f,onTriggerEnter:g.useCallback(()=>{c.isOpenDelayedRef.current?_():j()},[c.isOpenDelayedRef,_,j]),onTriggerLeave:g.useCallback(()=>{v?N():(window.clearTimeout(m.current),m.current=0)},[N,v]),onOpen:j,onClose:N,disableHoverableContent:v,children:r})})};gL.displayName=zm;var Z1="TooltipTrigger",vL=g.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=Mb(Z1,r),i=LS(Z1,r),o=Tb(r),l=g.useRef(null),c=Ze(t,l,a.onTriggerChange),u=g.useRef(!1),d=g.useRef(!1),f=g.useCallback(()=>u.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),s.jsx(Lp,{asChild:!0,...o,children:s.jsx(Ae.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:be(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:be(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:be(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:be(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:be(e.onBlur,a.onClose),onClick:be(e.onClick,a.onClose)})})});vL.displayName=Z1;var OJ="TooltipPortal",[NRe,CJ]=Pb(OJ,{forceMount:void 0}),Td="TooltipContent",yL=g.forwardRef((e,t)=>{const r=CJ(Td,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=e,o=Mb(Td,e.__scopeTooltip);return s.jsx(Jr,{present:n||o.open,children:o.disableHoverableContent?s.jsx(xL,{side:a,...i,ref:t}):s.jsx(EJ,{side:a,...i,ref:t})})}),EJ=g.forwardRef((e,t)=>{const r=Mb(Td,e.__scopeTooltip),n=LS(Td,e.__scopeTooltip),a=g.useRef(null),i=Ze(t,a),[o,l]=g.useState(null),{trigger:c,onClose:u}=r,d=a.current,{onPointerInTransitChange:f}=n,h=g.useCallback(()=>{l(null),f(!1)},[f]),m=g.useCallback((v,p)=>{const b=v.currentTarget,x={x:v.clientX,y:v.clientY},y=RJ(x,b.getBoundingClientRect()),w=IJ(x,y),j=DJ(p.getBoundingClientRect()),N=zJ([...w,...j]);l(N),f(!0)},[f]);return g.useEffect(()=>()=>h(),[h]),g.useEffect(()=>{if(c&&d){const v=b=>m(b,d),p=b=>m(b,c);return c.addEventListener("pointerleave",v),d.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",p)}}},[c,d,m,h]),g.useEffect(()=>{if(o){const v=p=>{const b=p.target,x={x:p.clientX,y:p.clientY},y=(c==null?void 0:c.contains(b))||(d==null?void 0:d.contains(b)),w=!LJ(x,o);y?h():w&&(h(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,d,o,u,h]),s.jsx(xL,{...e,ref:i})}),[AJ,PJ]=Pb(zm,{isInside:!1}),TJ=YV("TooltipContent"),xL=g.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=Mb(Td,r),u=Tb(r),{onClose:d}=c;return g.useEffect(()=>(document.addEventListener(G1,d),()=>document.removeEventListener(G1,d)),[d]),g.useEffect(()=>{if(c.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),s.jsx(Kc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:s.jsxs(cb,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(TJ,{children:n}),s.jsx(AJ,{scope:r,isInside:!0,children:s.jsx(HY,{id:c.contentId,role:"tooltip",children:a||n})})]})})});yL.displayName=Td;var bL="TooltipArrow",MJ=g.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=Tb(r);return PJ(bL,r).isInside?null:s.jsx(ub,{...a,...n,ref:t})});MJ.displayName=bL;function RJ(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function IJ(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function DJ(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function LJ(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function zJ(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),FJ(t)}function FJ(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var $J=pL,qJ=gL,BJ=vL,wL=yL;const jL=$J,UJ=qJ,VJ=BJ,NL=g.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(wL,{ref:n,sideOffset:t,className:ve("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));NL.displayName=wL.displayName;var Af=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},WJ={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Il,tA,rA,HJ=(rA=class{constructor(){Ue(this,Il,WJ),Ue(this,tA,!1)}setTimeoutProvider(e){Pe(this,Il,e)}setTimeout(e,t){return H(this,Il).setTimeout(e,t)}clearTimeout(e){H(this,Il).clearTimeout(e)}setInterval(e,t){return H(this,Il).setInterval(e,t)}clearInterval(e){H(this,Il).clearInterval(e)}},Il=new WeakMap,tA=new WeakMap,rA),lc=new HJ;function KJ(e){setTimeout(e,0)}var Pc=typeof window>"u"||"Deno"in globalThis;function _n(){}function GJ(e,t){return typeof e=="function"?e(t):e}function X1(e){return typeof e=="number"&&e>=0&&e!==1/0}function _L(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Zo(e,t){return typeof e=="function"?e(t):e}function Ma(e,t){return typeof e=="function"?e(t):e}function nA(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==zS(o,t.options))return!1}else if(!Fm(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function aA(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Tc(t.options.mutationKey)!==Tc(i))return!1}else if(!Fm(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function zS(e,t){return((t==null?void 0:t.queryKeyHashFn)||Tc)(e)}function Tc(e){return JSON.stringify(e,(t,r)=>Y1(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Fm(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Fm(e[r],t[r])):!1}var ZJ=Object.prototype.hasOwnProperty;function kL(e,t){if(e===t)return e;const r=sA(e)&&sA(t);if(!r&&!(Y1(e)&&Y1(t)))return t;const n=(r?e:Object.keys(e)).length,a=r?t:Object.keys(t),i=a.length,o=r?new Array(i):{};let l=0;for(let c=0;c<i;c++){const u=r?c:a[c],d=e[u],f=t[u];if(d===f){o[u]=d,(r?c<n:ZJ.call(e,u))&&l++;continue}if(d===null||f===null||typeof d!="object"||typeof f!="object"){o[u]=f;continue}const h=kL(d,f);o[u]=h,h===d&&l++}return n===i&&l===n?e:o}function yy(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function sA(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Y1(e){if(!iA(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!iA(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function iA(e){return Object.prototype.toString.call(e)==="[object Object]"}function XJ(e){return new Promise(t=>{lc.setTimeout(t,e)})}function Q1(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?kL(e,t):t}function YJ(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function QJ(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var FS=Symbol();function SL(e,t){return!e.queryFn&&t!=null&&t.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===FS?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function OL(e,t){return typeof e=="function"?e(...t):!!e}var yu,Dl,uh,oA,JJ=(oA=class extends Af{constructor(){super(),Ue(this,yu),Ue(this,Dl),Ue(this,uh),Pe(this,uh,e=>{if(!Pc&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){H(this,Dl)||this.setEventListener(H(this,uh))}onUnsubscribe(){var e;this.hasListeners()||((e=H(this,Dl))==null||e.call(this),Pe(this,Dl,void 0))}setEventListener(e){var t;Pe(this,uh,e),(t=H(this,Dl))==null||t.call(this),Pe(this,Dl,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){H(this,yu)!==e&&(Pe(this,yu,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof H(this,yu)=="boolean"?H(this,yu):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},yu=new WeakMap,Dl=new WeakMap,uh=new WeakMap,oA),$S=new JJ;function J1(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var eee=KJ;function tee(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=eee;const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var $r=tee(),dh,Ll,fh,lA,ree=(lA=class extends Af{constructor(){super(),Ue(this,dh,!0),Ue(this,Ll),Ue(this,fh),Pe(this,fh,e=>{if(!Pc&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){H(this,Ll)||this.setEventListener(H(this,fh))}onUnsubscribe(){var e;this.hasListeners()||((e=H(this,Ll))==null||e.call(this),Pe(this,Ll,void 0))}setEventListener(e){var t;Pe(this,fh,e),(t=H(this,Ll))==null||t.call(this),Pe(this,Ll,e(this.setOnline.bind(this)))}setOnline(e){H(this,dh)!==e&&(Pe(this,dh,e),this.listeners.forEach(t=>{t(e)}))}isOnline(){return H(this,dh)}},dh=new WeakMap,Ll=new WeakMap,fh=new WeakMap,lA),xy=new ree;function nee(e){return Math.min(1e3*2**e,3e4)}function CL(e){return(e??"online")==="online"?xy.isOnline():!0}var eN=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function EL(e){let t=!1,r=0,n;const a=J1(),i=()=>a.status!=="pending",o=p=>{var b;if(!i()){const x=new eN(p);h(x),(b=e.onCancel)==null||b.call(e,x)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>$S.isFocused()&&(e.networkMode==="always"||xy.isOnline())&&e.canRun(),d=()=>CL(e.networkMode)&&e.canRun(),f=p=>{i()||(n==null||n(),a.resolve(p))},h=p=>{i()||(n==null||n(),a.reject(p))},m=()=>new Promise(p=>{var b;n=x=>{(i()||u())&&p(x)},(b=e.onPause)==null||b.call(e)}).then(()=>{var p;n=void 0,i()||(p=e.onContinue)==null||p.call(e)}),v=()=>{if(i())return;let p;const b=r===0?e.initialPromise:void 0;try{p=b??e.fn()}catch(x){p=Promise.reject(x)}Promise.resolve(p).then(f).catch(x=>{var y;if(i())return;const w=e.retry??(Pc?0:3),j=e.retryDelay??nee,N=typeof j=="function"?j(r,x):j,_=w===!0||typeof w=="number"&&r<w||typeof w=="function"&&w(r,x);if(t||!_){h(x);return}r++,(y=e.onFail)==null||y.call(e,r,x),XJ(N).then(()=>u()?void 0:m()).then(()=>{t?h(x):v()})})};return{promise:a,status:()=>a.status,cancel:o,continue:()=>(n==null||n(),a),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?v():m().then(v),a)}}var xu,cA,AL=(cA=class{constructor(){Ue(this,xu)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),X1(this.gcTime)&&Pe(this,xu,lc.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Pc?1/0:5*60*1e3))}clearGcTimeout(){H(this,xu)&&(lc.clearTimeout(H(this,xu)),Pe(this,xu,void 0))}},xu=new WeakMap,cA),bu,hh,ns,wu,rn,Ug,ju,Is,bi,uA,aee=(uA=class extends AL{constructor(e){super(),Ue(this,Is),Ue(this,bu),Ue(this,hh),Ue(this,ns),Ue(this,wu),Ue(this,rn),Ue(this,Ug),Ue(this,ju),Pe(this,ju,!1),Pe(this,Ug,e.defaultOptions),this.setOptions(e.options),this.observers=[],Pe(this,wu,e.client),Pe(this,ns,H(this,wu).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Pe(this,bu,dA(this.options)),this.state=e.state??H(this,bu),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=H(this,rn))==null?void 0:e.promise}setOptions(e){if(this.options={...H(this,Ug),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=dA(this.options);t.data!==void 0&&(this.setData(t.data,{updatedAt:t.dataUpdatedAt,manual:!0}),Pe(this,bu,t))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&H(this,ns).remove(this)}setData(e,t){const r=Q1(this.state.data,e,this.options);return ft(this,Is,bi).call(this,{data:r,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),r}setState(e,t){ft(this,Is,bi).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var t,r;const n=(t=H(this,rn))==null?void 0:t.promise;return(r=H(this,rn))==null||r.cancel(e),n?n.then(_n).catch(_n):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(H(this,bu))}isActive(){return this.observers.some(e=>Ma(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===FS||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Zo(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!_L(this.state.dataUpdatedAt,e)}onFocus(){var e;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(e=H(this,rn))==null||e.continue()}onOnline(){var e;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(e=H(this,rn))==null||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),H(this,ns).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(H(this,rn)&&(H(this,ju)?H(this,rn).cancel({revert:!0}):H(this,rn).cancelRetry()),this.scheduleGc()),H(this,ns).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ft(this,Is,bi).call(this,{type:"invalidate"})}async fetch(e,t){var r,n,a,i,o,l,c,u,d,f,h,m;if(this.state.fetchStatus!=="idle"&&((r=H(this,rn))==null?void 0:r.status())!=="rejected"){if(this.state.data!==void 0&&t!=null&&t.cancelRefetch)this.cancel({silent:!0});else if(H(this,rn))return H(this,rn).continueRetry(),H(this,rn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const y=this.observers.find(w=>w.options.queryFn);y&&this.setOptions(y.options)}const v=new AbortController,p=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(Pe(this,ju,!0),v.signal)})},b=()=>{const y=SL(this.options,t),w=(()=>{const j={client:H(this,wu),queryKey:this.queryKey,meta:this.meta};return p(j),j})();return Pe(this,ju,!1),this.options.persister?this.options.persister(y,w,this):y(w)},x=(()=>{const y={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:H(this,wu),state:this.state,fetchFn:b};return p(y),y})();(n=this.options.behavior)==null||n.onFetch(x,this),Pe(this,hh,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((a=x.fetchOptions)==null?void 0:a.meta))&&ft(this,Is,bi).call(this,{type:"fetch",meta:(i=x.fetchOptions)==null?void 0:i.meta}),Pe(this,rn,EL({initialPromise:t==null?void 0:t.initialPromise,fn:x.fetchFn,onCancel:y=>{y instanceof eN&&y.revert&&this.setState({...H(this,hh),fetchStatus:"idle"}),v.abort()},onFail:(y,w)=>{ft(this,Is,bi).call(this,{type:"failed",failureCount:y,error:w})},onPause:()=>{ft(this,Is,bi).call(this,{type:"pause"})},onContinue:()=>{ft(this,Is,bi).call(this,{type:"continue"})},retry:x.options.retry,retryDelay:x.options.retryDelay,networkMode:x.options.networkMode,canRun:()=>!0}));try{const y=await H(this,rn).start();if(y===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(y),(l=(o=H(this,ns).config).onSuccess)==null||l.call(o,y,this),(u=(c=H(this,ns).config).onSettled)==null||u.call(c,y,this.state.error,this),y}catch(y){if(y instanceof eN){if(y.silent)return H(this,rn).promise;if(y.revert){if(this.state.data===void 0)throw y;return this.state.data}}throw ft(this,Is,bi).call(this,{type:"error",error:y}),(f=(d=H(this,ns).config).onError)==null||f.call(d,y,this),(m=(h=H(this,ns).config).onSettled)==null||m.call(h,this.state.data,y,this),y}finally{this.scheduleGc()}}},bu=new WeakMap,hh=new WeakMap,ns=new WeakMap,wu=new WeakMap,rn=new WeakMap,Ug=new WeakMap,ju=new WeakMap,Is=new WeakSet,bi=function(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...PL(r.data,this.options),fetchMeta:e.meta??null};case"success":const n={...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Pe(this,hh,e.manual?n:void 0),n;case"error":const a=e.error;return{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),$r.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),H(this,ns).notify({query:this,type:"updated",action:e})})},uA);function PL(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:CL(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function dA(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var na,yt,Vg,Ln,Nu,mh,mo,zl,Wg,ph,gh,_u,ku,Fl,vh,gr,yh,$w,qw,Bw,Uw,Vw,Ww,Hw,fA,hA,see=(hA=class extends Af{constructor(e,t){super(),Ue(this,gr),Ue(this,na),Ue(this,yt),Ue(this,Vg),Ue(this,Ln),Ue(this,Nu),Ue(this,mh),Ue(this,mo),Ue(this,zl),Ue(this,Wg),Ue(this,ph),Ue(this,gh),Ue(this,_u),Ue(this,ku),Ue(this,Fl),Ue(this,vh,new Set),this.options=t,Pe(this,na,e),Pe(this,zl,null),Pe(this,mo,J1()),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(H(this,yt).addObserver(this),mA(H(this,yt),this.options)?ft(this,gr,yh).call(this):this.updateResult(),ft(this,gr,Uw).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return tN(H(this,yt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return tN(H(this,yt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ft(this,gr,Vw).call(this),ft(this,gr,Ww).call(this),H(this,yt).removeObserver(this)}setOptions(e){const t=this.options,r=H(this,yt);if(this.options=H(this,na).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ma(this.options.enabled,H(this,yt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ft(this,gr,Hw).call(this),H(this,yt).setOptions(this.options),t._defaulted&&!yy(this.options,t)&&H(this,na).getQueryCache().notify({type:"observerOptionsUpdated",query:H(this,yt),observer:this});const n=this.hasListeners();n&&pA(H(this,yt),r,this.options,t)&&ft(this,gr,yh).call(this),this.updateResult(),n&&(H(this,yt)!==r||Ma(this.options.enabled,H(this,yt))!==Ma(t.enabled,H(this,yt))||Zo(this.options.staleTime,H(this,yt))!==Zo(t.staleTime,H(this,yt)))&&ft(this,gr,$w).call(this);const a=ft(this,gr,qw).call(this);n&&(H(this,yt)!==r||Ma(this.options.enabled,H(this,yt))!==Ma(t.enabled,H(this,yt))||a!==H(this,Fl))&&ft(this,gr,Bw).call(this,a)}getOptimisticResult(e){const t=H(this,na).getQueryCache().build(H(this,na),e),r=this.createResult(t,e);return oee(this,r)&&(Pe(this,Ln,r),Pe(this,mh,this.options),Pe(this,Nu,H(this,yt).state)),r}getCurrentResult(){return H(this,Ln)}trackResult(e,t){return new Proxy(e,{get:(r,n)=>(this.trackProp(n),t==null||t(n),n==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&H(this,mo).status==="pending"&&H(this,mo).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,n))})}trackProp(e){H(this,vh).add(e)}getCurrentQuery(){return H(this,yt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=H(this,na).defaultQueryOptions(e),r=H(this,na).getQueryCache().build(H(this,na),t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return ft(this,gr,yh).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),H(this,Ln)))}createResult(e,t){var r;const n=H(this,yt),a=this.options,i=H(this,Ln),o=H(this,Nu),l=H(this,mh),c=e!==n?e.state:H(this,Vg),{state:u}=e;let d={...u},f=!1,h;if(t._optimisticResults){const k=this.hasListeners(),O=!k&&mA(e,t),E=k&&pA(e,n,t,a);(O||E)&&(d={...d,...PL(u.data,e.options)}),t._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:m,errorUpdatedAt:v,status:p}=d;h=d.data;let b=!1;if(t.placeholderData!==void 0&&h===void 0&&p==="pending"){let k;i!=null&&i.isPlaceholderData&&t.placeholderData===(l==null?void 0:l.placeholderData)?(k=i.data,b=!0):k=typeof t.placeholderData=="function"?t.placeholderData((r=H(this,gh))==null?void 0:r.state.data,H(this,gh)):t.placeholderData,k!==void 0&&(p="success",h=Q1(i==null?void 0:i.data,k,t),f=!0)}if(t.select&&h!==void 0&&!b)if(i&&h===(o==null?void 0:o.data)&&t.select===H(this,Wg))h=H(this,ph);else try{Pe(this,Wg,t.select),h=t.select(h),h=Q1(i==null?void 0:i.data,h,t),Pe(this,ph,h),Pe(this,zl,null)}catch(k){Pe(this,zl,k)}H(this,zl)&&(m=H(this,zl),h=H(this,ph),v=Date.now(),p="error");const x=d.fetchStatus==="fetching",y=p==="pending",w=p==="error",j=y&&x,N=h!==void 0,_={status:p,fetchStatus:d.fetchStatus,isPending:y,isSuccess:p==="success",isError:w,isInitialLoading:j,isLoading:j,data:h,dataUpdatedAt:d.dataUpdatedAt,error:m,errorUpdatedAt:v,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:x,isRefetching:x&&!y,isLoadingError:w&&!N,isPaused:d.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:w&&N,isStale:qS(e,t),refetch:this.refetch,promise:H(this,mo),isEnabled:Ma(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const k=T=>{_.status==="error"?T.reject(_.error):_.data!==void 0&&T.resolve(_.data)},O=()=>{const T=Pe(this,mo,_.promise=J1());k(T)},E=H(this,mo);switch(E.status){case"pending":e.queryHash===n.queryHash&&k(E);break;case"fulfilled":(_.status==="error"||_.data!==E.value)&&O();break;case"rejected":(_.status!=="error"||_.error!==E.reason)&&O();break}}return _}updateResult(){const e=H(this,Ln),t=this.createResult(H(this,yt),this.options);if(Pe(this,Nu,H(this,yt).state),Pe(this,mh,this.options),H(this,Nu).data!==void 0&&Pe(this,gh,H(this,yt)),yy(t,e))return;Pe(this,Ln,t);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:n}=this.options,a=typeof n=="function"?n():n;if(a==="all"||!a&&!H(this,vh).size)return!0;const i=new Set(a??H(this,vh));return this.options.throwOnError&&i.add("error"),Object.keys(H(this,Ln)).some(o=>{const l=o;return H(this,Ln)[l]!==e[l]&&i.has(l)})};ft(this,gr,fA).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ft(this,gr,Uw).call(this)}},na=new WeakMap,yt=new WeakMap,Vg=new WeakMap,Ln=new WeakMap,Nu=new WeakMap,mh=new WeakMap,mo=new WeakMap,zl=new WeakMap,Wg=new WeakMap,ph=new WeakMap,gh=new WeakMap,_u=new WeakMap,ku=new WeakMap,Fl=new WeakMap,vh=new WeakMap,gr=new WeakSet,yh=function(e){ft(this,gr,Hw).call(this);let t=H(this,yt).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(_n)),t},$w=function(){ft(this,gr,Vw).call(this);const e=Zo(this.options.staleTime,H(this,yt));if(Pc||H(this,Ln).isStale||!X1(e))return;const t=_L(H(this,Ln).dataUpdatedAt,e)+1;Pe(this,_u,lc.setTimeout(()=>{H(this,Ln).isStale||this.updateResult()},t))},qw=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(H(this,yt)):this.options.refetchInterval)??!1},Bw=function(e){ft(this,gr,Ww).call(this),Pe(this,Fl,e),!(Pc||Ma(this.options.enabled,H(this,yt))===!1||!X1(H(this,Fl))||H(this,Fl)===0)&&Pe(this,ku,lc.setInterval(()=>{(this.options.refetchIntervalInBackground||$S.isFocused())&&ft(this,gr,yh).call(this)},H(this,Fl)))},Uw=function(){ft(this,gr,$w).call(this),ft(this,gr,Bw).call(this,ft(this,gr,qw).call(this))},Vw=function(){H(this,_u)&&(lc.clearTimeout(H(this,_u)),Pe(this,_u,void 0))},Ww=function(){H(this,ku)&&(lc.clearInterval(H(this,ku)),Pe(this,ku,void 0))},Hw=function(){const e=H(this,na).getQueryCache().build(H(this,na),this.options);if(e===H(this,yt))return;const t=H(this,yt);Pe(this,yt,e),Pe(this,Vg,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},fA=function(e){$r.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(H(this,Ln))}),H(this,na).getQueryCache().notify({query:H(this,yt),type:"observerResultsUpdated"})})},hA);function iee(e,t){return Ma(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function mA(e,t){return iee(e,t)||e.state.data!==void 0&&tN(e,t,t.refetchOnMount)}function tN(e,t,r){if(Ma(t.enabled,e)!==!1&&Zo(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&qS(e,t)}return!1}function pA(e,t,r,n){return(e!==t||Ma(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&qS(e,r)}function qS(e,t){return Ma(t.enabled,e)!==!1&&e.isStaleByTime(Zo(t.staleTime,e))}function oee(e,t){return!yy(e.getCurrentResult(),t)}function gA(e){return{onFetch:(t,r)=>{var n,a,i,o,l;const c=t.options,u=(i=(a=(n=t.fetchOptions)==null?void 0:n.meta)==null?void 0:a.fetchMore)==null?void 0:i.direction,d=((o=t.state.data)==null?void 0:o.pages)||[],f=((l=t.state.data)==null?void 0:l.pageParams)||[];let h={pages:[],pageParams:[]},m=0;const v=async()=>{let p=!1;const b=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},x=SL(t.options,t.fetchOptions),y=async(w,j,N)=>{if(p)return Promise.reject();if(j==null&&w.pages.length)return Promise.resolve(w);const _=(()=>{const T={client:t.client,queryKey:t.queryKey,pageParam:j,direction:N?"backward":"forward",meta:t.options.meta};return b(T),T})(),k=await x(_),{maxPages:O}=t.options,E=N?QJ:YJ;return{pages:E(w.pages,k,O),pageParams:E(w.pageParams,j,O)}};if(u&&d.length){const w=u==="backward",j=w?lee:vA,N={pages:d,pageParams:f},_=j(c,N);h=await y(N,_,w)}else{const w=e??d.length;do{const j=m===0?f[0]??c.initialPageParam:vA(c,h);if(m>0&&j==null)break;h=await y(h,j),m++}while(m<w)}return h};t.options.persister?t.fetchFn=()=>{var p,b;return(b=(p=t.options).persister)==null?void 0:b.call(p,v,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=v}}}function vA(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function lee(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Hg,wi,zn,Su,ji,po,yA,cee=(yA=class extends AL{constructor(e){super(),Ue(this,ji),Ue(this,Hg),Ue(this,wi),Ue(this,zn),Ue(this,Su),Pe(this,Hg,e.client),this.mutationId=e.mutationId,Pe(this,zn,e.mutationCache),Pe(this,wi,[]),this.state=e.state||TL(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){H(this,wi).includes(e)||(H(this,wi).push(e),this.clearGcTimeout(),H(this,zn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Pe(this,wi,H(this,wi).filter(t=>t!==e)),this.scheduleGc(),H(this,zn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){H(this,wi).length||(this.state.status==="pending"?this.scheduleGc():H(this,zn).remove(this))}continue(){var e;return((e=H(this,Su))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var t,r,n,a,i,o,l,c,u,d,f,h,m,v,p,b,x,y,w,j;const N=()=>{ft(this,ji,po).call(this,{type:"continue"})},_={client:H(this,Hg),meta:this.options.meta,mutationKey:this.options.mutationKey};Pe(this,Su,EL({fn:()=>this.options.mutationFn?this.options.mutationFn(e,_):Promise.reject(new Error("No mutationFn found")),onFail:(E,T)=>{ft(this,ji,po).call(this,{type:"failed",failureCount:E,error:T})},onPause:()=>{ft(this,ji,po).call(this,{type:"pause"})},onContinue:N,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>H(this,zn).canRun(this)}));const k=this.state.status==="pending",O=!H(this,Su).canStart();try{if(k)N();else{ft(this,ji,po).call(this,{type:"pending",variables:e,isPaused:O}),await((r=(t=H(this,zn).config).onMutate)==null?void 0:r.call(t,e,this,_));const T=await((a=(n=this.options).onMutate)==null?void 0:a.call(n,e,_));T!==this.state.context&&ft(this,ji,po).call(this,{type:"pending",context:T,variables:e,isPaused:O})}const E=await H(this,Su).start();return await((o=(i=H(this,zn).config).onSuccess)==null?void 0:o.call(i,E,e,this.state.context,this,_)),await((c=(l=this.options).onSuccess)==null?void 0:c.call(l,E,e,this.state.context,_)),await((d=(u=H(this,zn).config).onSettled)==null?void 0:d.call(u,E,null,this.state.variables,this.state.context,this,_)),await((h=(f=this.options).onSettled)==null?void 0:h.call(f,E,null,e,this.state.context,_)),ft(this,ji,po).call(this,{type:"success",data:E}),E}catch(E){try{throw await((v=(m=H(this,zn).config).onError)==null?void 0:v.call(m,E,e,this.state.context,this,_)),await((b=(p=this.options).onError)==null?void 0:b.call(p,E,e,this.state.context,_)),await((y=(x=H(this,zn).config).onSettled)==null?void 0:y.call(x,void 0,E,this.state.variables,this.state.context,this,_)),await((j=(w=this.options).onSettled)==null?void 0:j.call(w,void 0,E,e,this.state.context,_)),E}finally{ft(this,ji,po).call(this,{type:"error",error:E})}}finally{H(this,zn).runNext(this)}}},Hg=new WeakMap,wi=new WeakMap,zn=new WeakMap,Su=new WeakMap,ji=new WeakSet,po=function(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),$r.batch(()=>{H(this,wi).forEach(r=>{r.onMutationUpdate(e)}),H(this,zn).notify({mutation:this,type:"updated",action:e})})},yA);function TL(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var go,Ds,Kg,xA,uee=(xA=class extends Af{constructor(e={}){super(),Ue(this,go),Ue(this,Ds),Ue(this,Kg),this.config=e,Pe(this,go,new Set),Pe(this,Ds,new Map),Pe(this,Kg,0)}build(e,t,r){const n=new cee({client:e,mutationCache:this,mutationId:++q1(this,Kg)._,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){H(this,go).add(e);const t=Gg(e);if(typeof t=="string"){const r=H(this,Ds).get(t);r?r.push(e):H(this,Ds).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(H(this,go).delete(e)){const t=Gg(e);if(typeof t=="string"){const r=H(this,Ds).get(t);if(r)if(r.length>1){const n=r.indexOf(e);n!==-1&&r.splice(n,1)}else r[0]===e&&H(this,Ds).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Gg(e);if(typeof t=="string"){const r=H(this,Ds).get(t),n=r==null?void 0:r.find(a=>a.state.status==="pending");return!n||n===e}else return!0}runNext(e){var t;const r=Gg(e);if(typeof r=="string"){const n=(t=H(this,Ds).get(r))==null?void 0:t.find(a=>a!==e&&a.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}else return Promise.resolve()}clear(){$r.batch(()=>{H(this,go).forEach(e=>{this.notify({type:"removed",mutation:e})}),H(this,go).clear(),H(this,Ds).clear()})}getAll(){return Array.from(H(this,go))}find(e){const t={exact:!0,...e};return this.getAll().find(r=>aA(t,r))}findAll(e={}){return this.getAll().filter(t=>aA(e,t))}notify(e){$r.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return $r.batch(()=>Promise.all(e.map(t=>t.continue().catch(_n))))}},go=new WeakMap,Ds=new WeakMap,Kg=new WeakMap,xA);function Gg(e){var t;return(t=e.options.scope)==null?void 0:t.id}var vo,$l,aa,yo,ql,Zg,Kw,bA,dee=(bA=class extends Af{constructor(e,t){super(),Ue(this,ql),Ue(this,vo),Ue(this,$l),Ue(this,aa),Ue(this,yo),Pe(this,vo,e),this.setOptions(t),this.bindMethods(),ft(this,ql,Zg).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var t;const r=this.options;this.options=H(this,vo).defaultMutationOptions(e),yy(this.options,r)||H(this,vo).getMutationCache().notify({type:"observerOptionsUpdated",mutation:H(this,aa),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Tc(r.mutationKey)!==Tc(this.options.mutationKey)?this.reset():((t=H(this,aa))==null?void 0:t.state.status)==="pending"&&H(this,aa).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(e=H(this,aa))==null||e.removeObserver(this)}onMutationUpdate(e){ft(this,ql,Zg).call(this),ft(this,ql,Kw).call(this,e)}getCurrentResult(){return H(this,$l)}reset(){var e;(e=H(this,aa))==null||e.removeObserver(this),Pe(this,aa,void 0),ft(this,ql,Zg).call(this),ft(this,ql,Kw).call(this)}mutate(e,t){var r;return Pe(this,yo,t),(r=H(this,aa))==null||r.removeObserver(this),Pe(this,aa,H(this,vo).getMutationCache().build(H(this,vo),this.options)),H(this,aa).addObserver(this),H(this,aa).execute(e)}},vo=new WeakMap,$l=new WeakMap,aa=new WeakMap,yo=new WeakMap,ql=new WeakSet,Zg=function(){var e;const t=((e=H(this,aa))==null?void 0:e.state)??TL();Pe(this,$l,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},Kw=function(e){$r.batch(()=>{var t,r,n,a,i,o,l,c;if(H(this,yo)&&this.hasListeners()){const u=H(this,$l).variables,d=H(this,$l).context,f={client:H(this,vo),meta:this.options.meta,mutationKey:this.options.mutationKey};(e==null?void 0:e.type)==="success"?((r=(t=H(this,yo)).onSuccess)==null||r.call(t,e.data,u,d,f),(a=(n=H(this,yo)).onSettled)==null||a.call(n,e.data,null,u,d,f)):(e==null?void 0:e.type)==="error"&&((o=(i=H(this,yo)).onError)==null||o.call(i,e.error,u,d,f),(c=(l=H(this,yo)).onSettled)==null||c.call(l,void 0,e.error,u,d,f))}this.listeners.forEach(u=>{u(H(this,$l))})})},bA),Ni,wA,fee=(wA=class extends Af{constructor(e={}){super(),Ue(this,Ni),this.config=e,Pe(this,Ni,new Map)}build(e,t,r){const n=t.queryKey,a=t.queryHash??zS(n,t);let i=this.get(a);return i||(i=new aee({client:e,queryKey:n,queryHash:a,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(i)),i}add(e){H(this,Ni).has(e.queryHash)||(H(this,Ni).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=H(this,Ni).get(e.queryHash);t&&(e.destroy(),t===e&&H(this,Ni).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){$r.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return H(this,Ni).get(e)}getAll(){return[...H(this,Ni).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>nA(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>nA(e,r)):t}notify(e){$r.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){$r.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){$r.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ni=new WeakMap,wA),vr,Bl,Ul,xh,bh,Vl,wh,jh,jA,hee=(jA=class{constructor(e={}){Ue(this,vr),Ue(this,Bl),Ue(this,Ul),Ue(this,xh),Ue(this,bh),Ue(this,Vl),Ue(this,wh),Ue(this,jh),Pe(this,vr,e.queryCache||new fee),Pe(this,Bl,e.mutationCache||new uee),Pe(this,Ul,e.defaultOptions||{}),Pe(this,xh,new Map),Pe(this,bh,new Map),Pe(this,Vl,0)}mount(){q1(this,Vl)._++,H(this,Vl)===1&&(Pe(this,wh,$S.subscribe(async e=>{e&&(await this.resumePausedMutations(),H(this,vr).onFocus())})),Pe(this,jh,xy.subscribe(async e=>{e&&(await this.resumePausedMutations(),H(this,vr).onOnline())})))}unmount(){var e,t;q1(this,Vl)._--,H(this,Vl)===0&&((e=H(this,wh))==null||e.call(this),Pe(this,wh,void 0),(t=H(this,jh))==null||t.call(this),Pe(this,jh,void 0))}isFetching(e){return H(this,vr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return H(this,Bl).findAll({...e,status:"pending"}).length}getQueryData(e){var t;const r=this.defaultQueryOptions({queryKey:e});return(t=H(this,vr).get(r.queryHash))==null?void 0:t.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=H(this,vr).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Zo(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return H(this,vr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=H(this,vr).get(n.queryHash),i=a==null?void 0:a.state.data,o=GJ(t,i);if(o!==void 0)return H(this,vr).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return $r.batch(()=>H(this,vr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var t;const r=this.defaultQueryOptions({queryKey:e});return(t=H(this,vr).get(r.queryHash))==null?void 0:t.state}removeQueries(e){const t=H(this,vr);$r.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=H(this,vr);return $r.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=$r.batch(()=>H(this,vr).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(_n).catch(_n)}invalidateQueries(e,t={}){return $r.batch(()=>(H(this,vr).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=$r.batch(()=>H(this,vr).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(_n)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(_n)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=H(this,vr).build(this,t);return r.isStaleByTime(Zo(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(_n).catch(_n)}fetchInfiniteQuery(e){return e.behavior=gA(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(_n).catch(_n)}ensureInfiniteQueryData(e){return e.behavior=gA(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return xy.isOnline()?H(this,Bl).resumePausedMutations():Promise.resolve()}getQueryCache(){return H(this,vr)}getMutationCache(){return H(this,Bl)}getDefaultOptions(){return H(this,Ul)}setDefaultOptions(e){Pe(this,Ul,e)}setQueryDefaults(e,t){H(this,xh).set(Tc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...H(this,xh).values()],r={};return t.forEach(n=>{Fm(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){H(this,bh).set(Tc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...H(this,bh).values()],r={};return t.forEach(n=>{Fm(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...H(this,Ul).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=zS(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===FS&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...H(this,Ul).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){H(this,vr).clear(),H(this,Bl).clear()}},vr=new WeakMap,Bl=new WeakMap,Ul=new WeakMap,xh=new WeakMap,bh=new WeakMap,Vl=new WeakMap,wh=new WeakMap,jh=new WeakMap,jA),ML=g.createContext(void 0),Pf=e=>{const t=g.useContext(ML);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},mee=({client:e,children:t})=>(g.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(ML.Provider,{value:e,children:t})),RL=g.createContext(!1),pee=()=>g.useContext(RL);RL.Provider;function gee(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var vee=g.createContext(gee()),yee=()=>g.useContext(vee),xee=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},bee=e=>{g.useEffect(()=>{e.clearReset()},[e])},wee=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||OL(r,[e.error,n])),jee=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Nee=(e,t)=>e.isLoading&&e.isFetching&&!t,_ee=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,NA=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function kee(e,t,r){var n,a,i,o,l;const c=pee(),u=yee(),d=Pf(),f=d.defaultQueryOptions(e);(a=(n=d.getDefaultOptions().queries)==null?void 0:n._experimental_beforeQuery)==null||a.call(n,f),f._optimisticResults=c?"isRestoring":"optimistic",jee(f),xee(f,u),bee(u);const h=!d.getQueryCache().get(f.queryHash),[m]=g.useState(()=>new t(d,f)),v=m.getOptimisticResult(f),p=!c&&e.subscribed!==!1;if(g.useSyncExternalStore(g.useCallback(b=>{const x=p?m.subscribe($r.batchCalls(b)):_n;return m.updateResult(),x},[m,p]),()=>m.getCurrentResult(),()=>m.getCurrentResult()),g.useEffect(()=>{m.setOptions(f)},[f,m]),_ee(f,v))throw NA(f,m,u);if(wee({result:v,errorResetBoundary:u,throwOnError:f.throwOnError,query:d.getQueryCache().get(f.queryHash),suspense:f.suspense}))throw v.error;if((o=(i=d.getDefaultOptions().queries)==null?void 0:i._experimental_afterQuery)==null||o.call(i,f,v),f.experimental_prefetchInRender&&!Pc&&Nee(v,c)){const b=h?NA(f,m,u):(l=d.getQueryCache().get(f.queryHash))==null?void 0:l.promise;b==null||b.catch(_n).finally(()=>{m.updateResult()})}return f.notifyOnChangeProps?v:m.trackResult(v)}function bt(e,t){return kee(e,see)}function ua(e,t){const r=Pf(),[n]=g.useState(()=>new dee(r,e));g.useEffect(()=>{n.setOptions(e)},[n,e]);const a=g.useSyncExternalStore(g.useCallback(o=>n.subscribe($r.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=g.useCallback((o,l)=>{n.mutate(o,l).catch(_n)},[n]);if(a.error&&OL(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}/**
* @remix-run/router v1.23.0
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/function $m(){return $m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$m.apply(this,arguments)}var Io;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Io||(Io={}));const _A="popstate";function See(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return rN("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:by(a)}return Cee(t,r,null,e)}function cr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function IL(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Oee(){return Math.random().toString(36).substr(2,8)}function kA(e,t){return{usr:e.state,key:e.key,idx:t}}function rN(e,t,r,n){return r===void 0&&(r=null),$m({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Tf(t):t,{state:r,key:t&&t.key||n||Oee()})}function by(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Tf(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Cee(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=Io.Pop,c=null,u=d();u==null&&(u=0,o.replaceState($m({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=Io.Pop;let b=d(),x=b==null?null:b-u;u=b,c&&c({action:l,location:p.location,delta:x})}function h(b,x){l=Io.Push;let y=rN(p.location,b,x);u=d()+1;let w=kA(y,u),j=p.createHref(y);try{o.pushState(w,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(j)}i&&c&&c({action:l,location:p.location,delta:1})}function m(b,x){l=Io.Replace;let y=rN(p.location,b,x);u=d();let w=kA(y,u),j=p.createHref(y);o.replaceState(w,"",j),i&&c&&c({action:l,location:p.location,delta:0})}function v(b){let x=a.location.origin!=="null"?a.location.origin:a.location.href,y=typeof b=="string"?b:by(b);return y=y.replace(/ $/,"%20"),cr(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let p={get action(){return l},get location(){return e(a,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(_A,f),c=b,()=>{a.removeEventListener(_A,f),c=null}},createHref(b){return t(a,b)},createURL:v,encodeLocation(b){let x=v(b);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:m,go(b){return o.go(b)}};return p}var SA;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(SA||(SA={}));function Eee(e,t,r){return r===void 0&&(r="/"),Aee(e,t,r)}function Aee(e,t,r,n){let a=typeof t=="string"?Tf(t):t,i=Md(a.pathname||"/",r);if(i==null)return null;let o=DL(e);Pee(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=Bee(i);l=$ee(o[c],u)}return l}function DL(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(cr(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Xo([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(cr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),DL(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:zee(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of LL(i.path))a(i,o,c)}),t}function LL(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=LL(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Pee(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Fee(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Tee=/^:[\w-]+$/,Mee=3,Ree=2,Iee=1,Dee=10,Lee=-2,OA=e=>e==="*";function zee(e,t){let r=e.split("/"),n=r.length;return r.some(OA)&&(n+=Lee),t&&(n+=Ree),r.filter(a=>!OA(a)).reduce((a,i)=>a+(Tee.test(i)?Mee:i===""?Iee:Dee),n)}function Fee(e,t){return e.length===t.length&&e.slice(0,-1).every((r,n)=>r===t[n])?e[e.length-1]-t[t.length-1]:0}function $ee(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=nN({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:Xo([i,f.pathname]),pathnameBase:Hee(Xo([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=Xo([i,f.pathnameBase]))}return o}function nN(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=qee(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((c,u,d)=>{let{paramName:f,isOptional:h}=u;if(f==="*"){let v=l[d]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const m=l[d];return h&&!m?c[f]=void 0:c[f]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function qee(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),IL(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function Bee(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return IL(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Md(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Uee(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Tf(e):e;return{pathname:r?r.startsWith("/")?r:Vee(r,t):t,search:Kee(n),hash:Gee(a)}}function Vee(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?r.length>1&&r.pop():n!=="."&&r.push(n)}),r.length>1?r.join("/"):"/"}function Gw(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Wee(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function BS(e,t){let r=Wee(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function US(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Tf(e):(a=$m({},e),cr(!a.pathname||!a.pathname.includes("?"),Gw("?","pathname","search",a)),cr(!a.pathname||!a.pathname.includes("#"),Gw("#","pathname","hash",a)),cr(!a.search||!a.search.includes("#"),Gw("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=Uee(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Xo=e=>e.join("/").replace(/\/\/+/g,"/"),Hee=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Kee=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Gee=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Zee(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const zL=["post","put","patch","delete"];new Set(zL);const Xee=["get",...zL];new Set(Xee);/**
* React Router v6.30.1
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/function qm(){return qm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qm.apply(this,arguments)}const Rb=g.createContext(null),FL=g.createContext(null),ao=g.createContext(null),Ib=g.createContext(null),jl=g.createContext({outlet:null,matches:[],isDataRoute:!1}),$L=g.createContext(null);function Yee(e,t){let{relative:r}=t===void 0?{}:t;Mf()||cr(!1);let{basename:n,navigator:a}=g.useContext(ao),{hash:i,pathname:o,search:l}=Db(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Xo([n,o])),a.createHref({pathname:c,search:l,hash:i})}function Mf(){return g.useContext(Ib)!=null}function Nl(){return Mf()||cr(!1),g.useContext(Ib).location}function qL(e){g.useContext(ao).static||g.useLayoutEffect(e)}function Zp(){let{isDataRoute:e}=g.useContext(jl);return e?ute():Qee()}function Qee(){Mf()||cr(!1);let e=g.useContext(Rb),{basename:t,future:r,navigator:n}=g.useContext(ao),{matches:a}=g.useContext(jl),{pathname:i}=Nl(),o=JSON.stringify(BS(a,r.v7_relativeSplatPath)),l=g.useRef(!1);return qL(()=>{l.current=!0}),g.useCallback(function(c,u){if(u===void 0&&(u={}),!l.current)return;if(typeof c=="number"){n.go(c);return}let d=US(c,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Xo([t,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[t,n,o,i,e])}function Db(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=g.useContext(ao),{matches:a}=g.useContext(jl),{pathname:i}=Nl(),o=JSON.stringify(BS(a,n.v7_relativeSplatPath));return g.useMemo(()=>US(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function Jee(e,t){return ete(e,t)}function ete(e,t,r,n){Mf()||cr(!1);let{navigator:a}=g.useContext(ao),{matches:i}=g.useContext(jl),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Nl(),d;if(t){var f;let b=typeof t=="string"?Tf(t):t;c==="/"||(f=b.pathname)!=null&&f.startsWith(c)||cr(!1),d=b}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let b=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let v=Eee(e,{pathname:m}),p=ste(v&&v.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:Xo([c,a.encodeLocation?a.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Xo([c,a.encodeLocation?a.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,r,n);return t&&p?g.createElement(Ib.Provider,{value:{location:qm({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Io.Pop}},p):p}function tte(){let e=cte(),t=Zee(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),r?g.createElement("pre",{style:n},r):null,null)}const rte=g.createElement(tte,null);class nte extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?g.createElement(jl.Provider,{value:this.props.routeContext},g.createElement($L.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ate(e){let{routeContext:t,match:r,children:n}=e,a=g.useContext(Rb);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),g.createElement(jl.Provider,{value:t},n)}function ste(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||cr(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,v=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||v){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,v=!1,p=null,b=null;r&&(m=l&&f.route.id?l[f.route.id]:void 0,p=f.route.errorElement||rte,c&&(u<0&&h===0?(dte("route-fallback"),v=!0,b=null):u===h&&(v=!0,b=f.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,h+1)),y=()=>{let w;return m?w=p:v?w=b:f.route.Component?w=g.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,g.createElement(ate,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?g.createElement(nte,{location:r.location,revalidation:r.revalidation,component:p,error:m,children:y(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):y()},null)}var BL=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(BL||{}),UL=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(UL||{});function ite(e){let t=g.useContext(Rb);return t||cr(!1),t}function ote(e){let t=g.useContext(FL);return t||cr(!1),t}function lte(e){let t=g.useContext(jl);return t||cr(!1),t}function VL(e){let t=lte(),r=t.matches[t.matches.length-1];return r.route.id||cr(!1),r.route.id}function cte(){var e;let t=g.useContext($L),r=ote(),n=VL();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function ute(){let{router:e}=ite(BL.UseNavigateStable),t=VL(UL.UseNavigateStable),r=g.useRef(!1);return qL(()=>{r.current=!0}),g.useCallback(function(n,a){a===void 0&&(a={}),r.current&&(typeof n=="number"?e.navigate(n):e.navigate(n,qm({fromRouteId:t},a)))},[e,t])}const CA={};function dte(e,t,r){CA[e]||(CA[e]=!0)}function fte(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function hte(e){let{to:t,replace:r,state:n,relative:a}=e;Mf()||cr(!1);let{future:i,static:o}=g.useContext(ao),{matches:l}=g.useContext(jl),{pathname:c}=Nl(),u=Zp(),d=US(t,BS(l,i.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return g.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function Fn(e){cr(!1)}function mte(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Io.Pop,navigator:i,static:o=!1,future:l}=e;Mf()&&cr(!1);let c=t.replace(/^\/*/,"/"),u=g.useMemo(()=>({basename:c,navigator:i,static:o,future:qm({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=Tf(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:v="default"}=n,p=g.useMemo(()=>{let b=Md(d,c);return b==null?null:{location:{pathname:b,search:f,hash:h,state:m,key:v},navigationType:a}},[c,d,f,h,m,v,a]);return p==null?null:g.createElement(ao.Provider,{value:u},g.createElement(Ib.Provider,{children:r,value:p}))}function pte(e){let{children:t,location:r}=e;return Jee(aN(t),r)}new Promise(()=>{});function aN(e,t){t===void 0&&(t=[]);let r=[];return g.Children.forEach(e,(n,a)=>{if(!g.isValidElement(n))return;let i=[...t,a];if(n.type===g.Fragment){r.push.apply(r,aN(n.props.children,i));return}n.type!==Fn&&cr(!1),!n.props.index||!n.props.children||cr(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=aN(n.props.children,i)),r.push(o)}),r}/**
* React Router DOM v6.30.1
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/function wy(){return wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wy.apply(this,arguments)}function WL(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function gte(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function vte(e,t){return e.button===0&&(!t||t==="_self")&&!gte(e)}function sN(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function yte(e,t){let r=sN(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const xte=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],bte=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],wte="6";try{window.__reactRouterVersion=wte}catch{}const jte=g.createContext({isTransitioning:!1}),Nte="startTransition",EA=mk[Nte];function _te(e){let{basename:t,children:r,future:n,window:a}=e,i=g.useRef();i.current==null&&(i.current=See({window:a,v5Compat:!0}));let o=i.current,[l,c]=g.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=g.useCallback(f=>{u&&EA?EA(()=>c(f)):c(f)},[c,u]);return g.useLayoutEffect(()=>o.listen(d),[o,d]),g.useEffect(()=>fte(n),[n]),g.createElement(mte,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const kte=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ste=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ote=g.forwardRef(function(e,t){let{onClick:r,relative:n,reloadDocument:a,replace:i,state:o,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,f=WL(e,xte),{basename:h}=g.useContext(ao),m,v=!1;if(typeof c=="string"&&Ste.test(c)&&(m=c,kte))try{let y=new URL(window.location.href),w=c.startsWith("//")?new URL(y.protocol+c):new URL(c),j=Md(w.pathname,h);w.origin===y.origin&&j!=null?c=j+w.search+w.hash:v=!0}catch{}let p=Yee(c,{relative:n}),b=Ate(c,{replace:i,state:o,target:l,preventScrollReset:u,relative:n,viewTransition:d});function x(y){r&&r(y),y.defaultPrevented||b(y)}return g.createElement("a",wy({},f,{href:m||p,onClick:v||a?r:x,ref:t,target:l}))}),Cte=g.forwardRef(function(e,t){let{"aria-current":r="page",caseSensitive:n=!1,className:a="",end:i=!1,style:o,to:l,viewTransition:c,children:u}=e,d=WL(e,bte),f=Db(l,{relative:d.relative}),h=Nl(),m=g.useContext(FL),{navigator:v,basename:p}=g.useContext(ao),b=m!=null&&Tte(f)&&c===!0,x=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,y=h.pathname,w=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(y=y.toLowerCase(),w=w?w.toLowerCase():null,x=x.toLowerCase()),w&&p&&(w=Md(w,p)||w);const j=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let N=y===x||!i&&y.startsWith(x)&&y.charAt(j)==="/",_=w!=null&&(w===x||!i&&w.startsWith(x)&&w.charAt(x.length)==="/"),k={isActive:N,isPending:_,isTransitioning:b},O=N?r:void 0,E;typeof a=="function"?E=a(k):E=[a,N?"active":null,_?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let T=typeof o=="function"?o(k):o;return g.createElement(Ote,wy({},d,{"aria-current":O,className:E,ref:t,style:T,to:l,viewTransition:c}),typeof u=="function"?u(k):u)});var iN;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(iN||(iN={}));var AA;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(AA||(AA={}));function Ete(e){let t=g.useContext(Rb);return t||cr(!1),t}function Ate(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=Zp(),u=Nl(),d=Db(e,{relative:o});return g.useCallback(f=>{if(vte(f,r)){f.preventDefault();let h=n!==void 0?n:by(u)===by(d);c(e,{replace:h,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,a,r,e,i,o,l])}function Pte(e){let t=g.useRef(sN(e)),r=g.useRef(!1),n=Nl(),a=g.useMemo(()=>yte(n.search,r.current?null:t.current),[n.search]),i=Zp(),o=g.useCallback((l,c)=>{const u=sN(typeof l=="function"?l(a):l);r.current=!0,i("?"+u,c)},[i,a]);return[a,o]}function Tte(e,t){t===void 0&&(t={});let r=g.useContext(jte);r==null&&cr(!1);let{basename:n}=Ete(iN.useViewTransitionState),a=Db(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=Md(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Md(r.nextLocation.pathname,n)||r.nextLocation.pathname;return nN(a.pathname,o)!=null||nN(a.pathname,i)!=null}const Zw=768;function Mte(){const[e,t]=g.useState(void 0);return g.useEffect(()=>{const r=window.matchMedia(`(max-width: ${Zw-1}px)`),n=()=>{t(window.innerWidth<Zw)};return r.addEventListener("change",n),t(window.innerWidth<Zw),()=>r.removeEventListener("change",n)},[]),!!e}const Rte=Yc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Q=g.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const o=n?Hc:"button";return s.jsx(o,{className:ve(Rte({variant:t,size:r,className:e})),ref:i,...a})});Q.displayName="Button";const qe=g.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:ve("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));qe.displayName="Input";var Ite="Separator",PA="horizontal",Dte=["horizontal","vertical"],HL=g.forwardRef((e,t)=>{const{decorative:r,orientation:n=PA,...a}=e,i=Lte(n)?n:PA,o=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(Ae.div,{"data-orientation":i,...o,...a,ref:t})});HL.displayName=Ite;function Lte(e){return Dte.includes(e)}var KL=HL;const xr=g.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},a)=>s.jsx(KL,{ref:a,decorative:r,orientation:t,className:ve("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));xr.displayName=KL.displayName;const zte=vS,Fte=yS,GL=g.forwardRef(({className:e,...t},r)=>s.jsx($p,{className:ve("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));GL.displayName=$p.displayName;const $te=Yc("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),ZL=g.forwardRef(({side:e="right",className:t,children:r,...n},a)=>s.jsxs(Fte,{children:[s.jsx(GL,{}),s.jsxs(qp,{ref:a,className:ve($te({side:e}),t),...n,children:[r,s.jsxs($D,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[s.jsx(Ab,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ZL.displayName=qp.displayName;const qte=g.forwardRef(({className:e,...t},r)=>s.jsx(pb,{ref:r,className:ve("text-lg font-semibold text-foreground",e),...t}));qte.displayName=pb.displayName;const Bte=g.forwardRef(({className:e,...t},r)=>s.jsx(gb,{ref:r,className:ve("text-sm text-muted-foreground",e),...t}));Bte.displayName=gb.displayName;function yr({className:e,...t}){return s.jsx("div",{className:ve("animate-pulse rounded-md bg-muted",e),...t})}const Ute="sidebar:state",Vte=60*60*24*7,Wte="16rem",Hte="18rem",Kte="3rem",Gte="b",XL=g.createContext(null);function Xp(){const e=g.useContext(XL);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const YL=g.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:r,className:n,style:a,children:i,...o},l)=>{const c=Mte(),[u,d]=g.useState(!1),[f,h]=g.useState(e),m=t??f,v=g.useCallback(y=>{const w=typeof y=="function"?y(m):y;r?r(w):h(w),document.cookie=`${Ute}=${w}; path=/; max-age=${Vte}`},[r,m]),p=g.useCallback(()=>c?d(y=>!y):v(y=>!y),[c,v,d]);g.useEffect(()=>{const y=w=>{w.key===Gte&&(w.metaKey||w.ctrlKey)&&(w.preventDefault(),p())};return window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)},[p]);const b=m?"expanded":"collapsed",x=g.useMemo(()=>({state:b,open:m,setOpen:v,isMobile:c,openMobile:u,setOpenMobile:d,toggleSidebar:p}),[b,m,v,c,u,d,p]);return s.jsx(XL.Provider,{value:x,children:s.jsx(jL,{delayDuration:0,children:s.jsx("div",{style:{"--sidebar-width":Wte,"--sidebar-width-icon":Kte,...a},className:ve("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",n),ref:l,...o,children:i})})})});YL.displayName="SidebarProvider";const QL=g.forwardRef(({side:e="left",variant:t="sidebar",collapsible:r="offcanvas",className:n,children:a,...i},o)=>{const{isMobile:l,state:c,openMobile:u,setOpenMobile:d}=Xp();return r==="none"?s.jsx("div",{className:ve("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",n),ref:o,...i,children:a}):l?s.jsx(zte,{open:u,onOpenChange:d,...i,children:s.jsx(ZL,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":Hte},side:e,children:s.jsx("div",{className:"flex h-full w-full flex-col",children:a})})}):s.jsxs("div",{ref:o,className:"group peer hidden text-sidebar-foreground md:block","data-state":c,"data-collapsible":c==="collapsed"?r:"","data-variant":t,"data-side":e,children:[s.jsx("div",{className:ve("relative h-svh w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),s.jsx("div",{className:ve("fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...i,children:s.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:a})})]})});QL.displayName="Sidebar";const oN=g.forwardRef(({className:e,onClick:t,...r},n)=>{const{toggleSidebar:a}=Xp();return s.jsxs(Q,{ref:n,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:ve("h-7 w-7",e),onClick:i=>{t==null||t(i),a()},...r,children:[s.jsx(TQ,{}),s.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});oN.displayName="SidebarTrigger";const Zte=g.forwardRef(({className:e,...t},r)=>{const{toggleSidebar:n}=Xp();return s.jsx("button",{ref:r,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:n,title:"Toggle Sidebar",className:ve("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] group-data-[side=left]:-right-4 group-data-[side=right]:left-0 hover:after:bg-sidebar-border sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});Zte.displayName="SidebarRail";const JL=g.forwardRef(({className:e,...t},r)=>s.jsx("main",{ref:r,className:ve("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));JL.displayName="SidebarInset";const Xte=g.forwardRef(({className:e,...t},r)=>s.jsx(qe,{ref:r,"data-sidebar":"input",className:ve("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));Xte.displayName="SidebarInput";const ez=g.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"header",className:ve("flex flex-col gap-2 p-2",e),...t}));ez.displayName="SidebarHeader";const tz=g.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"footer",className:ve("flex flex-col gap-2 p-2",e),...t}));tz.displayName="SidebarFooter";const Yte=g.forwardRef(({className:e,...t},r)=>s.jsx(xr,{ref:r,"data-sidebar":"separator",className:ve("mx-2 w-auto bg-sidebar-border",e),...t}));Yte.displayName="SidebarSeparator";const rz=g.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"content",className:ve("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));rz.displayName="SidebarContent";const nz=g.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"group",className:ve("relative flex w-full min-w-0 flex-col p-2",e),...t}));nz.displayName="SidebarGroup";const az=g.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const a=t?Hc:"div";return s.jsx(a,{ref:n,"data-sidebar":"group-label",className:ve("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...r})});az.displayName="SidebarGroupLabel";const Qte=g.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const a=t?Hc:"button";return s.jsx(a,{ref:n,"data-sidebar":"group-action",className:ve("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...r})});Qte.displayName="SidebarGroupAction";const sz=g.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"group-content",className:ve("w-full text-sm",e),...t}));sz.displayName="SidebarGroupContent";const lN=g.forwardRef(({className:e,...t},r)=>s.jsx("ul",{ref:r,"data-sidebar":"menu",className:ve("flex w-full min-w-0 flex-col gap-1",e),...t}));lN.displayName="SidebarMenu";const Ev=g.forwardRef(({className:e,...t},r)=>s.jsx("li",{ref:r,"data-sidebar":"menu-item",className:ve("group/menu-item relative",e),...t}));Ev.displayName="SidebarMenuItem";const Jte=Yc("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),Av=g.forwardRef(({asChild:e=!1,isActive:t=!1,variant:r="default",size:n="default",tooltip:a,className:i,...o},l)=>{const c=e?Hc:"button",{isMobile:u,state:d}=Xp(),f=s.jsx(c,{ref:l,"data-sidebar":"menu-button","data-size":n,"data-active":t,className:ve(Jte({variant:r,size:n}),i),...o});return a?(typeof a=="string"&&(a={children:a}),s.jsxs(UJ,{children:[s.jsx(VJ,{asChild:!0,children:f}),s.jsx(NL,{side:"right",align:"center",hidden:d!=="collapsed"||u,...a})]})):f});Av.displayName="SidebarMenuButton";const ere=g.forwardRef(({className:e,asChild:t=!1,showOnHover:r=!1,...n},a)=>{const i=t?Hc:"button";return s.jsx(i,{ref:a,"data-sidebar":"menu-action",className:ve("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform peer-hover/menu-button:text-sidebar-accent-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",r&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...n})});ere.displayName="SidebarMenuAction";const tre=g.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"menu-badge",className:ve("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t}));tre.displayName="SidebarMenuBadge";const rre=g.forwardRef(({className:e,showIcon:t=!1,...r},n)=>{const a=g.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return s.jsxs("div",{ref:n,"data-sidebar":"menu-skeleton",className:ve("flex h-8 items-center gap-2 rounded-md px-2",e),...r,children:[t&&s.jsx(yr,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),s.jsx(yr,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":a}})]})});rre.displayName="SidebarMenuSkeleton";const nre=g.forwardRef(({className:e,...t},r)=>s.jsx("ul",{ref:r,"data-sidebar":"menu-sub",className:ve("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));nre.displayName="SidebarMenuSub";const are=g.forwardRef(({...e},t)=>s.jsx("li",{ref:t,...e}));are.displayName="SidebarMenuSubItem";const sre=g.forwardRef(({asChild:e=!1,size:t="md",isActive:r,className:n,...a},i)=>{const o=e?Hc:"a";return s.jsx(o,{ref:i,"data-sidebar":"menu-sub-button","data-size":t,"data-active":r,className:ve("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring aria-disabled:pointer-events-none aria-disabled:opacity-50 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",n),...a})});sre.displayName="SidebarMenuSubButton";const ire="https://bjsuujkbrhjhuyzydxbr.supabase.co",ore="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJqc3V1amticmhqaHV5enlkeGJyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAyMDYyOTYsImV4cCI6MjA3NTc4MjI5Nn0.8a3fxQyKfp7Xdbh7g76NKhoDRqiDPMtzLkgrIZ0dnHQ",le=FY(ire,ore,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}});function VS(){const[e,t]=g.useState(null),[r,n]=g.useState(!0);return g.useEffect(()=>{(async()=>{try{const{data:{session:i},error:o}=await le.auth.getSession();if(o){console.error("Erro ao verificar sessão:",o);return}if(i!=null&&i.user)t(i.user),localStorage.getItem("rememberMe")==="true"&&console.log("Usuário permanece logado");else{const l=localStorage.getItem("rememberMe"),c=localStorage.getItem("userEmail");l==="true"&&c&&console.log("Tentando restaurar sessão para:",c)}}catch(i){console.error("Erro ao verificar autenticação:",i)}finally{n(!1)}})();const{data:{subscription:a}}=le.auth.onAuthStateChange(async(i,o)=>{var l;console.log("Auth state changed:",i,(l=o==null?void 0:o.user)==null?void 0:l.email),o!=null&&o.user?(t(o.user),localStorage.getItem("rememberMe")==="true"&&localStorage.setItem("userEmail",o.user.email||"")):(t(null),localStorage.getItem("rememberMe")!=="true"&&localStorage.removeItem("userEmail")),n(!1)});return()=>{a.unsubscribe()}},[]),{user:e,loading:r,logout:async()=>{try{localStorage.removeItem("rememberMe"),localStorage.removeItem("userEmail"),await le.auth.signOut(),console.log("Logout realizado")}catch(a){console.error("Erro ao fazer logout:",a)}},clearRememberMe:()=>{localStorage.removeItem("rememberMe"),localStorage.removeItem("userEmail")},isRemembered:localStorage.getItem("rememberMe")==="true"}}var lre=e=>{switch(e){case"success":return dre;case"info":return hre;case"warning":return fre;case"error":return mre;default:return null}},cre=Array(12).fill(0),ure=({visible:e,className:t})=>C.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},C.createElement("div",{className:"sonner-spinner"},cre.map((r,n)=>C.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),dre=C.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},C.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),fre=C.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},C.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),hre=C.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},C.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),mre=C.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},C.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),pre=C.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},C.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),C.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),gre=()=>{let[e,t]=C.useState(document.hidden);return C.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},cN=1,vre=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:cN++,i=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:r}),{...l,...e,id:a,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),a=r!==void 0,i,o=n.then(async c=>{if(i=["resolve",c],C.isValidElement(c))a=!1,this.create({id:r,type:"default",message:c});else if(xre(c)&&!c.ok){a=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){a=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){a=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;a&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>i[0]==="reject"?u(i[1]):c(i[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||cN++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},qn=new vre,yre=(e,t)=>{let r=(t==null?void 0:t.id)||cN++;return qn.addToast({title:e,...t,id:r}),r},xre=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",bre=yre,wre=()=>qn.toasts,jre=()=>qn.getActiveToasts(),ae=Object.assign(bre,{success:qn.success,info:qn.info,warning:qn.warning,error:qn.error,custom:qn.custom,message:qn.message,promise:qn.promise,dismiss:qn.dismiss,loading:qn.loading},{getHistory:wre,getToasts:jre});function Nre(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}Nre(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Xg(e){return e.label!==void 0}var _re=3,kre="32px",Sre="16px",TA=4e3,Ore=356,Cre=14,Ere=20,Are=200;function as(...e){return e.filter(Boolean).join(" ")}function Pre(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var Tre=e=>{var t,r,n,a,i,o,l,c,u,d,f;let{invert:h,toast:m,unstyled:v,interacting:p,setHeights:b,visibleToasts:x,heights:y,index:w,toasts:j,expanded:N,removeToast:_,defaultRichColors:k,closeButton:O,style:E,cancelButtonStyle:T,actionButtonStyle:P,className:S="",descriptionClassName:R="",duration:M,position:B,gap:U,loadingIcon:F,expandByDefault:z,classNames:I,icons:G,closeButtonAriaLabel:L="Close toast",pauseWhenPageIsHidden:$}=e,[J,K]=C.useState(null),[D,oe]=C.useState(null),[V,de]=C.useState(!1),[te,ce]=C.useState(!1),[ne,ee]=C.useState(!1),[Be,Ie]=C.useState(!1),[ut,it]=C.useState(!1),[Xe,Y]=C.useState(0),[q,Z]=C.useState(0),X=C.useRef(m.duration||M||TA),xe=C.useRef(null),ye=C.useRef(null),we=w===0,W=w+1<=x,se=m.type,Se=m.dismissible!==!1,mt=m.className||"",Vt=m.descriptionClassName||"",tr=C.useMemo(()=>y.findIndex(Ve=>Ve.toastId===m.id)||0,[y,m.id]),wn=C.useMemo(()=>{var Ve;return(Ve=m.closeButton)!=null?Ve:O},[m.closeButton,O]),dr=C.useMemo(()=>m.duration||M||TA,[m.duration,M]),Wr=C.useRef(0),Tn=C.useRef(0),Ms=C.useRef(0),ra=C.useRef(null),[Nt,Yf]=B.split("-"),Wt=C.useMemo(()=>y.reduce((Ve,vt,It)=>It>=tr?Ve:Ve+vt.height,0),[y,tr]),Tr=gre(),nu=m.invert||h,vi=se==="loading";Tn.current=C.useMemo(()=>tr*U+Wt,[tr,Wt]),C.useEffect(()=>{X.current=dr},[dr]),C.useEffect(()=>{de(!0)},[]),C.useEffect(()=>{let Ve=ye.current;if(Ve){let vt=Ve.getBoundingClientRect().height;return Z(vt),b(It=>[{toastId:m.id,height:vt,position:m.position},...It]),()=>b(It=>It.filter(Mn=>Mn.toastId!==m.id))}},[b,m.id]),C.useLayoutEffect(()=>{if(!V)return;let Ve=ye.current,vt=Ve.style.height;Ve.style.height="auto";let It=Ve.getBoundingClientRect().height;Ve.style.height=vt,Z(It),b(Mn=>Mn.find(ln=>ln.toastId===m.id)?Mn.map(ln=>ln.toastId===m.id?{...ln,height:It}:ln):[{toastId:m.id,height:It,position:m.position},...Mn])},[V,m.title,m.description,b,m.id]);let tn=C.useCallback(()=>{ce(!0),Y(Tn.current),b(Ve=>Ve.filter(vt=>vt.toastId!==m.id)),setTimeout(()=>{_(m)},Are)},[m,_,b,Tn]);C.useEffect(()=>{if(m.promise&&se==="loading"||m.duration===1/0||m.type==="loading")return;let Ve;return N||p||$&&Tr?(()=>{if(Ms.current<Wr.current){let vt=new Date().getTime()-Wr.current;X.current=X.current-vt}Ms.current=new Date().getTime()})():X.current!==1/0&&(Wr.current=new Date().getTime(),Ve=setTimeout(()=>{var vt;(vt=m.onAutoClose)==null||vt.call(m,m),tn()},X.current)),()=>clearTimeout(Ve)},[N,p,m,se,$,Tr,tn]),C.useEffect(()=>{m.delete&&tn()},[tn,m.delete]);function au(){var Ve,vt,It;return G!=null&&G.loading?C.createElement("div",{className:as(I==null?void 0:I.loader,(Ve=m==null?void 0:m.classNames)==null?void 0:Ve.loader,"sonner-loader"),"data-visible":se==="loading"},G.loading):F?C.createElement("div",{className:as(I==null?void 0:I.loader,(vt=m==null?void 0:m.classNames)==null?void 0:vt.loader,"sonner-loader"),"data-visible":se==="loading"},F):C.createElement(ure,{className:as(I==null?void 0:I.loader,(It=m==null?void 0:m.classNames)==null?void 0:It.loader),visible:se==="loading"})}return C.createElement("li",{tabIndex:0,ref:ye,className:as(S,mt,I==null?void 0:I.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,I==null?void 0:I.default,I==null?void 0:I[se],(r=m==null?void 0:m.classNames)==null?void 0:r[se]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:k,"data-styled":!(m.jsx||m.unstyled||v),"data-mounted":V,"data-promise":!!m.promise,"data-swiped":ut,"data-removed":te,"data-visible":W,"data-y-position":Nt,"data-x-position":Yf,"data-index":w,"data-front":we,"data-swiping":ne,"data-dismissible":Se,"data-type":se,"data-invert":nu,"data-swipe-out":Be,"data-swipe-direction":D,"data-expanded":!!(N||z&&V),style:{"--index":w,"--toasts-before":w,"--z-index":j.length-w,"--offset":`${te?Xe:Tn.current}px`,"--initial-height":z?"auto":`${q}px`,...E,...m.style},onDragEnd:()=>{ee(!1),K(null),ra.current=null},onPointerDown:Ve=>{vi||!Se||(xe.current=new Date,Y(Tn.current),Ve.target.setPointerCapture(Ve.pointerId),Ve.target.tagName!=="BUTTON"&&(ee(!0),ra.current={x:Ve.clientX,y:Ve.clientY}))},onPointerUp:()=>{var Ve,vt,It,Mn;if(Be||!Se)return;ra.current=null;let ln=Number(((Ve=ye.current)==null?void 0:Ve.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),es=Number(((vt=ye.current)==null?void 0:vt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Mr=new Date().getTime()-((It=xe.current)==null?void 0:It.getTime()),Rn=J==="x"?ln:es,yi=Math.abs(Rn)/Mr;if(Math.abs(Rn)>=Ere||yi>.11){Y(Tn.current),(Mn=m.onDismiss)==null||Mn.call(m,m),oe(J==="x"?ln>0?"right":"left":es>0?"down":"up"),tn(),Ie(!0),it(!1);return}ee(!1),K(null)},onPointerMove:Ve=>{var vt,It,Mn,ln;if(!ra.current||!Se||((vt=window.getSelection())==null?void 0:vt.toString().length)>0)return;let es=Ve.clientY-ra.current.y,Mr=Ve.clientX-ra.current.x,Rn=(It=e.swipeDirections)!=null?It:Pre(B);!J&&(Math.abs(Mr)>1||Math.abs(es)>1)&&K(Math.abs(Mr)>Math.abs(es)?"x":"y");let yi={x:0,y:0};J==="y"?(Rn.includes("top")||Rn.includes("bottom"))&&(Rn.includes("top")&&es<0||Rn.includes("bottom")&&es>0)&&(yi.y=es):J==="x"&&(Rn.includes("left")||Rn.includes("right"))&&(Rn.includes("left")&&Mr<0||Rn.includes("right")&&Mr>0)&&(yi.x=Mr),(Math.abs(yi.x)>0||Math.abs(yi.y)>0)&&it(!0),(Mn=ye.current)==null||Mn.style.setProperty("--swipe-amount-x",`${yi.x}px`),(ln=ye.current)==null||ln.style.setProperty("--swipe-amount-y",`${yi.y}px`)}},wn&&!m.jsx?C.createElement("button",{"aria-label":L,"data-disabled":vi,"data-close-button":!0,onClick:vi||!Se?()=>{}:()=>{var Ve;tn(),(Ve=m.onDismiss)==null||Ve.call(m,m)},className:as(I==null?void 0:I.closeButton,(a=m==null?void 0:m.classNames)==null?void 0:a.closeButton)},(i=G==null?void 0:G.close)!=null?i:pre):null,m.jsx||g.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:C.createElement(C.Fragment,null,se||m.icon||m.promise?C.createElement("div",{"data-icon":"",className:as(I==null?void 0:I.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||au():null,m.type!=="loading"?m.icon||(G==null?void 0:G[se])||lre(se):null):null,C.createElement("div",{"data-content":"",className:as(I==null?void 0:I.content,(l=m==null?void 0:m.classNames)==null?void 0:l.content)},C.createElement("div",{"data-title":"",className:as(I==null?void 0:I.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?C.createElement("div",{"data-description":"",className:as(R,Vt,I==null?void 0:I.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),g.isValidElement(m.cancel)?m.cancel:m.cancel&&Xg(m.cancel)?C.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||T,onClick:Ve=>{var vt,It;Xg(m.cancel)&&Se&&((It=(vt=m.cancel).onClick)==null||It.call(vt,Ve),tn())},className:as(I==null?void 0:I.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,g.isValidElement(m.action)?m.action:m.action&&Xg(m.action)?C.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||P,onClick:Ve=>{var vt,It;Xg(m.action)&&((It=(vt=m.action).onClick)==null||It.call(vt,Ve),!Ve.defaultPrevented&&tn())},className:as(I==null?void 0:I.actionButton,(f=m==null?void 0:m.classNames)==null?void 0:f.actionButton)},m.action.label):null))};function MA(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function Mre(e,t){let r={};return[e,t].forEach((n,a)=>{let i=a===1,o=i?"--mobile-offset":"--offset",l=i?Sre:kre;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}g.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:m,visibleToasts:v=_re,toastOptions:p,dir:b=MA(),gap:x=Cre,loadingIcon:y,icons:w,containerAriaLabel:j="Notifications",pauseWhenPageIsHidden:N}=e,[_,k]=C.useState([]),O=C.useMemo(()=>Array.from(new Set([n].concat(_.filter($=>$.position).map($=>$.position)))),[_,n]),[E,T]=C.useState([]),[P,S]=C.useState(!1),[R,M]=C.useState(!1),[B,U]=C.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),F=C.useRef(null),z=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),I=C.useRef(null),G=C.useRef(!1),L=C.useCallback($=>{k(J=>{var K;return(K=J.find(D=>D.id===$.id))!=null&&K.delete||qn.dismiss($.id),J.filter(({id:D})=>D!==$.id)})},[]);return C.useEffect(()=>qn.subscribe($=>{if($.dismiss){k(J=>J.map(K=>K.id===$.id?{...K,delete:!0}:K));return}setTimeout(()=>{qI.flushSync(()=>{k(J=>{let K=J.findIndex(D=>D.id===$.id);return K!==-1?[...J.slice(0,K),{...J[K],...$},...J.slice(K+1)]:[$,...J]})})})}),[]),C.useEffect(()=>{if(d!=="system"){U(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?U("dark"):U("light")),typeof window>"u")return;let $=window.matchMedia("(prefers-color-scheme: dark)");try{$.addEventListener("change",({matches:J})=>{U(J?"dark":"light")})}catch{$.addListener(({matches:J})=>{try{U(J?"dark":"light")}catch(K){console.error(K)}})}},[d]),C.useEffect(()=>{_.length<=1&&S(!1)},[_]),C.useEffect(()=>{let $=J=>{var K,D;a.every(oe=>J[oe]||J.code===oe)&&(S(!0),(K=F.current)==null||K.focus()),J.code==="Escape"&&(document.activeElement===F.current||(D=F.current)!=null&&D.contains(document.activeElement))&&S(!1)};return document.addEventListener("keydown",$),()=>document.removeEventListener("keydown",$)},[a]),C.useEffect(()=>{if(F.current)return()=>{I.current&&(I.current.focus({preventScroll:!0}),I.current=null,G.current=!1)}},[F.current]),C.createElement("section",{ref:t,"aria-label":`${j} ${z}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},O.map(($,J)=>{var K;let[D,oe]=$.split("-");return _.length?C.createElement("ol",{key:$,dir:b==="auto"?MA():b,tabIndex:-1,ref:F,className:l,"data-sonner-toaster":!0,"data-theme":B,"data-y-position":D,"data-lifted":P&&_.length>1&&!i,"data-x-position":oe,style:{"--front-toast-height":`${((K=E[0])==null?void 0:K.height)||0}px`,"--width":`${Ore}px`,"--gap":`${x}px`,...m,...Mre(c,u)},onBlur:V=>{G.current&&!V.currentTarget.contains(V.relatedTarget)&&(G.current=!1,I.current&&(I.current.focus({preventScroll:!0}),I.current=null))},onFocus:V=>{V.target instanceof HTMLElement&&V.target.dataset.dismissible==="false"||G.current||(G.current=!0,I.current=V.relatedTarget)},onMouseEnter:()=>S(!0),onMouseMove:()=>S(!0),onMouseLeave:()=>{R||S(!1)},onDragEnd:()=>S(!1),onPointerDown:V=>{V.target instanceof HTMLElement&&V.target.dataset.dismissible==="false"||M(!0)},onPointerUp:()=>M(!1)},_.filter(V=>!V.position&&J===0||V.position===$).map((V,de)=>{var te,ce;return C.createElement(Tre,{key:V.id,icons:w,index:de,toast:V,defaultRichColors:f,duration:(te=p==null?void 0:p.duration)!=null?te:h,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:r,visibleToasts:v,closeButton:(ce=p==null?void 0:p.closeButton)!=null?ce:o,interacting:R,position:$,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:L,toasts:_.filter(ne=>ne.position==V.position),heights:E.filter(ne=>ne.position==V.position),setHeights:T,expandByDefault:i,gap:x,loadingIcon:y,expanded:P,pauseWhenPageIsHidden:N,swipeDirections:e.swipeDirections})})):null}))});var RA=1,Rre=.9,Ire=.8,Dre=.17,Xw=.1,Yw=.999,Lre=.9999,zre=.99,Fre=/[\\\/_+.#"@\[\(\{&]/,$re=/[\\\/_+.#"@\[\(\{&]/g,qre=/[\s-]/,iz=/[\s-]/g;function uN(e,t,r,n,a,i,o){if(i===t.length)return a===e.length?RA:zre;var l=`${a},${i}`;if(o[l]!==void 0)return o[l];for(var c=n.charAt(i),u=r.indexOf(c,a),d=0,f,h,m,v;u>=0;)f=uN(e,t,r,n,u+1,i+1,o),f>d&&(u===a?f*=RA:Fre.test(e.charAt(u-1))?(f*=Ire,m=e.slice(a,u-1).match($re),m&&a>0&&(f*=Math.pow(Yw,m.length))):qre.test(e.charAt(u-1))?(f*=Rre,v=e.slice(a,u-1).match(iz),v&&a>0&&(f*=Math.pow(Yw,v.length))):(f*=Dre,a>0&&(f*=Math.pow(Yw,u-a))),e.charAt(u)!==t.charAt(i)&&(f*=Lre)),(f<Xw&&r.charAt(u-1)===n.charAt(i+1)||n.charAt(i+1)===n.charAt(i)&&r.charAt(u-1)!==n.charAt(i))&&(h=uN(e,t,r,n,u+1,i+2,o),h*Xw>f&&(f=h*Xw)),f>d&&(d=f),u=r.indexOf(c,u+1);return o[l]=d,d}function IA(e){return e.toLowerCase().replace(iz," ")}function Bre(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,uN(e,t,IA(e),IA(t),0,0,{})}var Nh='[cmdk-group=""]',Qw='[cmdk-group-items=""]',Ure='[cmdk-group-heading=""]',oz='[cmdk-item=""]',DA=`${oz}:not([aria-disabled="true"])`,dN="cmdk-item-select",Du="data-value",Vre=(e,t,r)=>Bre(e,t,r),lz=g.createContext(void 0),Yp=()=>g.useContext(lz),cz=g.createContext(void 0),WS=()=>g.useContext(cz),uz=g.createContext(void 0),dz=g.forwardRef((e,t)=>{let r=Lu(()=>{var $,J;return{search:"",value:(J=($=e.value)!=null?$:e.defaultValue)!=null?J:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=Lu(()=>new Set),a=Lu(()=>new Map),i=Lu(()=>new Map),o=Lu(()=>new Set),l=fz(e),{label:c,children:u,value:d,onValueChange:f,filter:h,shouldFilter:m,loop:v,disablePointerSelection:p=!1,vimBindings:b=!0,...x}=e,y=Qr(),w=Qr(),j=Qr(),N=g.useRef(null),_=tne();Mc(()=>{if(d!==void 0){let $=d.trim();r.current.value=$,k.emit()}},[d]),Mc(()=>{_(6,R)},[]);let k=g.useMemo(()=>({subscribe:$=>(o.current.add($),()=>o.current.delete($)),snapshot:()=>r.current,setState:($,J,K)=>{var D,oe,V,de;if(!Object.is(r.current[$],J)){if(r.current[$]=J,$==="search")S(),T(),_(1,P);else if($==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let te=document.getElementById(j);te?te.focus():(D=document.getElementById(y))==null||D.focus()}if(_(7,()=>{var te;r.current.selectedItemId=(te=M())==null?void 0:te.id,k.emit()}),K||_(5,R),((oe=l.current)==null?void 0:oe.value)!==void 0){let te=J??"";(de=(V=l.current).onValueChange)==null||de.call(V,te);return}}k.emit()}},emit:()=>{o.current.forEach($=>$())}}),[]),O=g.useMemo(()=>({value:($,J,K)=>{var D;J!==((D=i.current.get($))==null?void 0:D.value)&&(i.current.set($,{value:J,keywords:K}),r.current.filtered.items.set($,E(J,K)),_(2,()=>{T(),k.emit()}))},item:($,J)=>(n.current.add($),J&&(a.current.has(J)?a.current.get(J).add($):a.current.set(J,new Set([$]))),_(3,()=>{S(),T(),r.current.value||P(),k.emit()}),()=>{i.current.delete($),n.current.delete($),r.current.filtered.items.delete($);let K=M();_(4,()=>{S(),(K==null?void 0:K.getAttribute("id"))===$&&P(),k.emit()})}),group:$=>(a.current.has($)||a.current.set($,new Set),()=>{i.current.delete($),a.current.delete($)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:y,inputId:j,labelId:w,listInnerRef:N}),[]);function E($,J){var K,D;let oe=(D=(K=l.current)==null?void 0:K.filter)!=null?D:Vre;return $?oe($,r.current.search,J):0}function T(){if(!r.current.search||l.current.shouldFilter===!1)return;let $=r.current.filtered.items,J=[];r.current.filtered.groups.forEach(D=>{let oe=a.current.get(D),V=0;oe.forEach(de=>{let te=$.get(de);V=Math.max(te,V)}),J.push([D,V])});let K=N.current;B().sort((D,oe)=>{var V,de;let te=D.getAttribute("id"),ce=oe.getAttribute("id");return((V=$.get(ce))!=null?V:0)-((de=$.get(te))!=null?de:0)}).forEach(D=>{let oe=D.closest(Qw);oe?oe.appendChild(D.parentElement===oe?D:D.closest(`${Qw} > *`)):K.appendChild(D.parentElement===K?D:D.closest(`${Qw} > *`))}),J.sort((D,oe)=>oe[1]-D[1]).forEach(D=>{var oe;let V=(oe=N.current)==null?void 0:oe.querySelector(`${Nh}[${Du}="${encodeURIComponent(D[0])}"]`);V==null||V.parentElement.appendChild(V)})}function P(){let $=B().find(K=>K.getAttribute("aria-disabled")!=="true"),J=$==null?void 0:$.getAttribute(Du);k.setState("value",J||void 0)}function S(){var $,J,K,D;if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let oe=0;for(let V of n.current){let de=(J=($=i.current.get(V))==null?void 0:$.value)!=null?J:"",te=(D=(K=i.current.get(V))==null?void 0:K.keywords)!=null?D:[],ce=E(de,te);r.current.filtered.items.set(V,ce),ce>0&&oe++}for(let[V,de]of a.current)for(let te of de)if(r.current.filtered.items.get(te)>0){r.current.filtered.groups.add(V);break}r.current.filtered.count=oe}function R(){var $,J,K;let D=M();D&&((($=D.parentElement)==null?void 0:$.firstChild)===D&&((K=(J=D.closest(Nh))==null?void 0:J.querySelector(Ure))==null||K.scrollIntoView({block:"nearest"})),D.scrollIntoView({block:"nearest"}))}function M(){var $;return($=N.current)==null?void 0:$.querySelector(`${oz}[aria-selected="true"]`)}function B(){var $;return Array.from((($=N.current)==null?void 0:$.querySelectorAll(DA))||[])}function U($){let J=B()[$];J&&k.setState("value",J.getAttribute(Du))}function F($){var J;let K=M(),D=B(),oe=D.findIndex(de=>de===K),V=D[oe+$];(J=l.current)!=null&&J.loop&&(V=oe+$<0?D[D.length-1]:oe+$===D.length?D[0]:D[oe+$]),V&&k.setState("value",V.getAttribute(Du))}function z($){let J=M(),K=J==null?void 0:J.closest(Nh),D;for(;K&&!D;)K=$>0?Jre(K,Nh):ene(K,Nh),D=K==null?void 0:K.querySelector(DA);D?k.setState("value",D.getAttribute(Du)):F($)}let I=()=>U(B().length-1),G=$=>{$.preventDefault(),$.metaKey?I():$.altKey?z(1):F(1)},L=$=>{$.preventDefault(),$.metaKey?U(0):$.altKey?z(-1):F(-1)};return g.createElement(Ae.div,{ref:t,tabIndex:-1,...x,"cmdk-root":"",onKeyDown:$=>{var J;(J=x.onKeyDown)==null||J.call(x,$);let K=$.nativeEvent.isComposing||$.keyCode===229;if(!($.defaultPrevented||K))switch($.key){case"n":case"j":{b&&$.ctrlKey&&G($);break}case"ArrowDown":{G($);break}case"p":case"k":{b&&$.ctrlKey&&L($);break}case"ArrowUp":{L($);break}case"Home":{$.preventDefault(),U(0);break}case"End":{$.preventDefault(),I();break}case"Enter":{$.preventDefault();let D=M();if(D){let oe=new Event(dN);D.dispatchEvent(oe)}}}}},g.createElement("label",{"cmdk-label":"",htmlFor:O.inputId,id:O.labelId,style:nne},c),Lb(e,$=>g.createElement(cz.Provider,{value:k},g.createElement(lz.Provider,{value:O},$))))}),Wre=g.forwardRef((e,t)=>{var r,n;let a=Qr(),i=g.useRef(null),o=g.useContext(uz),l=Yp(),c=fz(e),u=(n=(r=c.current)==null?void 0:r.forceMount)!=null?n:o==null?void 0:o.forceMount;Mc(()=>{if(!u)return l.item(a,o==null?void 0:o.id)},[u]);let d=hz(a,i,[e.value,e.children,i],e.keywords),f=WS(),h=hl(_=>_.value&&_.value===d.current),m=hl(_=>u||l.filter()===!1?!0:_.search?_.filtered.items.get(a)>0:!0);g.useEffect(()=>{let _=i.current;if(!(!_||e.disabled))return _.addEventListener(dN,v),()=>_.removeEventListener(dN,v)},[m,e.onSelect,e.disabled]);function v(){var _,k;p(),(k=(_=c.current).onSelect)==null||k.call(_,d.current)}function p(){f.setState("value",d.current,!0)}if(!m)return null;let{disabled:b,value:x,onSelect:y,forceMount:w,keywords:j,...N}=e;return g.createElement(Ae.div,{ref:Gi(i,t),...N,id:a,"cmdk-item":"",role:"option","aria-disabled":!!b,"aria-selected":!!h,"data-disabled":!!b,"data-selected":!!h,onPointerMove:b||l.getDisablePointerSelection()?void 0:p,onClick:b?void 0:v},e.children)}),Hre=g.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:a,...i}=e,o=Qr(),l=g.useRef(null),c=g.useRef(null),u=Qr(),d=Yp(),f=hl(m=>a||d.filter()===!1?!0:m.search?m.filtered.groups.has(o):!0);Mc(()=>d.group(o),[]),hz(o,l,[e.value,e.heading,c]);let h=g.useMemo(()=>({id:o,forceMount:a}),[a]);return g.createElement(Ae.div,{ref:Gi(l,t),...i,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},r&&g.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),Lb(e,m=>g.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},g.createElement(uz.Provider,{value:h},m))))}),Kre=g.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,a=g.useRef(null),i=hl(o=>!o.search);return!r&&!i?null:g.createElement(Ae.div,{ref:Gi(a,t),...n,"cmdk-separator":"",role:"separator"})}),Gre=g.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,a=e.value!=null,i=WS(),o=hl(u=>u.search),l=hl(u=>u.selectedItemId),c=Yp();return g.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),g.createElement(Ae.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:a?e.value:o,onChange:u=>{a||i.setState("search",u.target.value),r==null||r(u.target.value)}})}),Zre=g.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...a}=e,i=g.useRef(null),o=g.useRef(null),l=hl(u=>u.selectedItemId),c=Yp();return g.useEffect(()=>{if(o.current&&i.current){let u=o.current,d=i.current,f,h=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let m=u.offsetHeight;d.style.setProperty("--cmdk-list-height",m.toFixed(1)+"px")})});return h.observe(u),()=>{cancelAnimationFrame(f),h.unobserve(u)}}},[]),g.createElement(Ae.div,{ref:Gi(i,t),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":n,id:c.listId},Lb(e,u=>g.createElement("div",{ref:Gi(o,c.listInnerRef),"cmdk-list-sizer":""},u)))}),Xre=g.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:a,contentClassName:i,container:o,...l}=e;return g.createElement(vS,{open:r,onOpenChange:n},g.createElement(yS,{container:o},g.createElement($p,{"cmdk-overlay":"",className:a}),g.createElement(qp,{"aria-label":e.label,"cmdk-dialog":"",className:i},g.createElement(dz,{ref:t,...l}))))}),Yre=g.forwardRef((e,t)=>hl(r=>r.filtered.count===0)?g.createElement(Ae.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),Qre=g.forwardRef((e,t)=>{let{progress:r,children:n,label:a="Loading...",...i}=e;return g.createElement(Ae.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},Lb(e,o=>g.createElement("div",{"aria-hidden":!0},o)))}),ea=Object.assign(dz,{List:Zre,Item:Wre,Input:Gre,Group:Hre,Separator:Kre,Dialog:Xre,Empty:Yre,Loading:Qre});function Jre(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function ene(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function fz(e){let t=g.useRef(e);return Mc(()=>{t.current=e}),t}var Mc=typeof window>"u"?g.useEffect:g.useLayoutEffect;function Lu(e){let t=g.useRef();return t.current===void 0&&(t.current=e()),t}function hl(e){let t=WS(),r=()=>e(t.snapshot());return g.useSyncExternalStore(t.subscribe,r,r)}function hz(e,t,r,n=[]){let a=g.useRef(),i=Yp();return Mc(()=>{var o;let l=(()=>{var u;for(let d of r){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(u=d.current.textContent)==null?void 0:u.trim():a.current}})(),c=n.map(u=>u.trim());i.value(e,l,c),(o=t.current)==null||o.setAttribute(Du,l),a.current=l}),a}var tne=()=>{let[e,t]=g.useState(),r=Lu(()=>new Map);return Mc(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,a)=>{r.current.set(n,a),t({})}};function rne(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function Lb({asChild:e,children:t},r){return e&&g.isValidElement(t)?g.cloneElement(rne(t),{ref:t.ref},r(t.props.children)):r(t)}var nne={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Qt=vS,mz=FK,ane=yS,pz=g.forwardRef(({className:e,...t},r)=>s.jsx($p,{ref:r,className:ve("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));pz.displayName=$p.displayName;const Ut=g.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(ane,{children:[s.jsx(pz,{}),s.jsxs(qp,{ref:n,className:ve("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs($D,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[s.jsx(Ab,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ut.displayName=qp.displayName;const Jt=({className:e,...t})=>s.jsx("div",{className:ve("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Jt.displayName="DialogHeader";const gn=({className:e,...t})=>s.jsx("div",{className:ve("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});gn.displayName="DialogFooter";const er=g.forwardRef(({className:e,...t},r)=>s.jsx(pb,{ref:r,className:ve("text-lg font-semibold leading-none tracking-tight",e),...t}));er.displayName=pb.displayName;const or=g.forwardRef(({className:e,...t},r)=>s.jsx(gb,{ref:r,className:ve("text-sm text-muted-foreground",e),...t}));or.displayName=gb.displayName;const gz=g.forwardRef(({className:e,...t},r)=>s.jsx(ea,{ref:r,className:ve("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));gz.displayName=ea.displayName;const vz=g.forwardRef(({className:e,...t},r)=>s.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[s.jsx(qa,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),s.jsx(ea.Input,{ref:r,className:ve("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));vz.displayName=ea.Input.displayName;const yz=g.forwardRef(({className:e,...t},r)=>s.jsx(ea.List,{ref:r,className:ve("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));yz.displayName=ea.List.displayName;const xz=g.forwardRef((e,t)=>s.jsx(ea.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));xz.displayName=ea.Empty.displayName;const fN=g.forwardRef(({className:e,...t},r)=>s.jsx(ea.Group,{ref:r,className:ve("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));fN.displayName=ea.Group.displayName;const bz=g.forwardRef(({className:e,...t},r)=>s.jsx(ea.Separator,{ref:r,className:ve("-mx-1 h-px bg-border",e),...t}));bz.displayName=ea.Separator.displayName;const hN=g.forwardRef(({className:e,...t},r)=>s.jsx(ea.Item,{ref:r,className:ve("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));hN.displayName=ea.Item.displayName;var zb="Popover",[wz]=xn(zb,[bl]),Qp=bl(),[sne,_l]=wz(zb),jz=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=Qp(t),c=g.useRef(null),[u,d]=g.useState(!1),[f,h]=Ga({prop:n,defaultProp:a??!1,onChange:i,caller:zb});return s.jsx(lb,{...l,children:s.jsx(sne,{scope:t,contentId:Qr(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:g.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:u,onCustomAnchorAdd:g.useCallback(()=>d(!0),[]),onCustomAnchorRemove:g.useCallback(()=>d(!1),[]),modal:o,children:r})})};jz.displayName=zb;var Nz="PopoverAnchor",ine=g.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=_l(Nz,r),i=Qp(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return g.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(Lp,{...i,...n,ref:t})});ine.displayName=Nz;var _z="PopoverTrigger",kz=g.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=_l(_z,r),i=Qp(r),o=Ze(t,a.triggerRef),l=s.jsx(Ae.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Az(a.open),...n,ref:o,onClick:be(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(Lp,{asChild:!0,...i,children:l})});kz.displayName=_z;var HS="PopoverPortal",[one,lne]=wz(HS,{forceMount:void 0}),Sz=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=_l(HS,t);return s.jsx(one,{scope:t,forceMount:r,children:s.jsx(Jr,{present:r||i.open,children:s.jsx(jf,{asChild:!0,container:a,children:n})})})};Sz.displayName=HS;var Rd="PopoverContent",Oz=g.forwardRef((e,t)=>{const r=lne(Rd,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=_l(Rd,e.__scopePopover);return s.jsx(Jr,{present:n||i.open,children:i.modal?s.jsx(une,{...a,ref:t}):s.jsx(dne,{...a,ref:t})})});Oz.displayName=Rd;var cne=il("PopoverContent.RemoveScroll"),une=g.forwardRef((e,t)=>{const r=_l(Rd,e.__scopePopover),n=g.useRef(null),a=Ze(t,n),i=g.useRef(!1);return g.useEffect(()=>{const o=n.current;if(o)return hb(o)},[]),s.jsx(Fp,{as:cne,allowPinchZoom:!0,children:s.jsx(Cz,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:be(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:be(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:be(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),dne=g.forwardRef((e,t)=>{const r=_l(Rd,e.__scopePopover),n=g.useRef(!1),a=g.useRef(!1);return s.jsx(Cz,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var o,l;(o=e.onInteractOutside)==null||o.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=i.target;(l=r.triggerRef.current)!=null&&l.contains(c)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),Cz=g.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=_l(Rd,r),m=Qp(r);return db(),s.jsx(zp,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Kc,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:s.jsx(cb,{"data-state":Az(h.open),role:"dialog",id:h.contentId,...m,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Ez="PopoverClose",fne=g.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=_l(Ez,r);return s.jsx(Ae.button,{type:"button",...n,ref:t,onClick:be(e.onClick,()=>a.onOpenChange(!1))})});fne.displayName=Ez;var hne="PopoverArrow",mne=g.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Qp(r);return s.jsx(ub,{...a,...n,ref:t})});mne.displayName=hne;function Az(e){return e?"open":"closed"}var pne=jz,gne=kz,vne=Sz,Pz=Oz;const yne=pne,xne=gne,Tz=g.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>s.jsx(vne,{children:s.jsx(Pz,{ref:a,align:t,sideOffset:r,className:ve("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Tz.displayName=Pz.displayName;const Mz=g.createContext(void 0);function bne({children:e}){const[t,r]=g.useState(null),[n,a]=g.useState([]),[i,o]=g.useState(!0),l=async()=>{try{console.log("🔍 fetchOrganizations: Iniciando busca...");const{data:{user:d}}=await le.auth.getUser();if(!d){console.warn("⚠️ fetchOrganizations: Nenhum usuário logado"),a([]),r(null),o(!1);return}console.log("✅ fetchOrganizations: Usuário encontrado:",d.email);const{data:f,error:h}=await le.from("members").select(`
          role,
          orgs (
            id,
            name,
            slug,
            plan
          )
        `).eq("user_id",d.id);if(console.log("📊 fetchOrganizations: Memberships retornadas:",f),console.log("❌ fetchOrganizations: Erro?",h),h)throw h;const m=(f||[]).filter(v=>v.orgs).map(v=>({id:v.orgs.id,name:v.orgs.name,slug:v.orgs.slug,plan:v.orgs.plan,role:v.role}));if(console.log("🏢 fetchOrganizations: Organizações processadas:",m),a(m),!t&&m.length>0){const v=localStorage.getItem("currentOrgId"),p=m.find(b=>b.id===v)||m[0];r(p),localStorage.setItem("currentOrgId",p.id)}if(t&&!m.find(v=>v.id===t.id)){const v=m[0]||null;r(v),v?localStorage.setItem("currentOrgId",v.id):localStorage.removeItem("currentOrgId")}}catch(d){console.error("Erro ao buscar organizações:",d),ae.error("Erro ao carregar organizações")}finally{o(!1)}},c=d=>{const f=n.find(h=>h.id===d);f&&(r(f),localStorage.setItem("currentOrgId",d),ae.success(`Organização alterada para: ${f.name}`),window.location.reload())},u=async()=>{o(!0),await l()};return g.useEffect(()=>{l();const{data:{subscription:d}}=le.auth.onAuthStateChange(f=>{f==="SIGNED_IN"?l():f==="SIGNED_OUT"&&(a([]),r(null),localStorage.removeItem("currentOrgId"))});return()=>{d.unsubscribe()}},[]),s.jsx(Mz.Provider,{value:{currentOrg:t,organizations:n,isLoading:i,switchOrganization:c,refreshOrganizations:u},children:e})}function bn(){const e=g.useContext(Mz);if(e===void 0)throw new Error("useOrganization must be used within an OrganizationProvider");return e}const wne=Yc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Le({className:e,variant:t,...r}){return s.jsx("div",{className:ve(wne({variant:t}),e),...r})}function jne(){const[e,t]=g.useState(!1),{currentOrg:r,organizations:n,isLoading:a,switchOrganization:i}=bn();if(a)return s.jsxs("div",{className:"flex items-center gap-2 px-2 py-1.5 text-sm",children:[s.jsx(nr,{className:"h-4 w-4 animate-pulse"}),s.jsx("span",{className:"text-muted-foreground",children:"Carregando..."})]});if(!r)return null;const o=c=>{switch(c){case"admin":return"default";case"member":return"secondary";case"viewer":return"outline";default:return"secondary"}},l=c=>{switch(c){case"admin":return"Admin";case"member":return"Membro";case"viewer":return"Visualizador";default:return c}};return s.jsxs(yne,{open:e,onOpenChange:t,children:[s.jsx(xne,{asChild:!0,children:s.jsxs(Q,{variant:"outline",role:"combobox","aria-expanded":e,className:"w-full justify-between h-auto min-h-[40px] px-3 py-2",children:[s.jsxs("div",{className:"flex items-center gap-2 overflow-hidden min-w-0 flex-1",children:[s.jsx(nr,{className:"h-4 w-4 shrink-0"}),s.jsx("span",{className:"truncate text-left",children:r.name})]}),s.jsx(yQ,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),s.jsx(Tz,{className:"w-[280px] p-0",children:s.jsxs(gz,{children:[s.jsx(vz,{placeholder:"Buscar organização..."}),s.jsxs(yz,{children:[s.jsx(xz,{children:"Nenhuma organização encontrada."}),s.jsx(fN,{heading:"Organizações",children:n.map(c=>s.jsxs(hN,{value:c.name,onSelect:()=>{c.id!==r.id&&i(c.id),t(!1)},className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Yi,{className:ve("h-4 w-4",r.id===c.id?"opacity-100":"opacity-0")}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{children:c.name}),c.plan&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:["Plano: ",c.plan]})]})]}),s.jsx(Le,{variant:o(c.role),className:"text-xs",children:l(c.role)})]},c.id))}),s.jsx(bz,{}),s.jsx(fN,{children:s.jsxs(hN,{onSelect:()=>{t(!1),window.location.href="/settings?tab=organizations"},className:"flex items-center gap-2",children:[s.jsx(wr,{className:"h-4 w-4"}),s.jsx("span",{children:"Criar Organização"})]})})]})]})})]})}const Nne={admin:{canManageAttendants:!0,canCreateAttendants:!0,canEditAttendants:!0,canDeleteAttendants:!0,canViewAttendantMetrics:!0,canManageCampaigns:!0,canCreateCampaigns:!0,canEditCampaigns:!0,canDeleteCampaigns:!0,canViewCampaignAnalytics:!0,canManageCRM:!0,canCreateProspects:!0,canEditProspects:!0,canDeleteProspects:!0,canViewCRMAnalytics:!0,canManageContacts:!0,canCreateContacts:!0,canEditContacts:!0,canDeleteContacts:!0,canManageIntegrations:!0,canConnectChannels:!0,canConfigureWebhooks:!0,canManageSettings:!0,canManageUsers:!0,canManageBilling:!0,canViewReports:!0,canExportData:!0,canViewAdvancedAnalytics:!0,canAccessInbox:!0,canManageConversations:!0,canAssignConversations:!0,canManageAIAgents:!0,canCreateAIAgents:!0,canConfigureAIAgents:!0},manager:{canManageAttendants:!0,canCreateAttendants:!0,canEditAttendants:!0,canDeleteAttendants:!1,canViewAttendantMetrics:!0,canManageCampaigns:!0,canCreateCampaigns:!0,canEditCampaigns:!0,canDeleteCampaigns:!0,canViewCampaignAnalytics:!0,canManageCRM:!0,canCreateProspects:!0,canEditProspects:!0,canDeleteProspects:!0,canViewCRMAnalytics:!0,canManageContacts:!0,canCreateContacts:!0,canEditContacts:!0,canDeleteContacts:!0,canManageIntegrations:!0,canConnectChannels:!0,canConfigureWebhooks:!1,canManageSettings:!1,canManageUsers:!1,canManageBilling:!1,canViewReports:!0,canExportData:!0,canViewAdvancedAnalytics:!0,canAccessInbox:!0,canManageConversations:!0,canAssignConversations:!0,canManageAIAgents:!0,canCreateAIAgents:!0,canConfigureAIAgents:!0},agent:{canManageAttendants:!1,canCreateAttendants:!1,canEditAttendants:!1,canDeleteAttendants:!1,canViewAttendantMetrics:!1,canManageCampaigns:!1,canCreateCampaigns:!1,canEditCampaigns:!1,canDeleteCampaigns:!1,canViewCampaignAnalytics:!1,canManageCRM:!1,canCreateProspects:!0,canEditProspects:!0,canDeleteProspects:!1,canViewCRMAnalytics:!1,canManageContacts:!1,canCreateContacts:!0,canEditContacts:!0,canDeleteContacts:!1,canManageIntegrations:!1,canConnectChannels:!1,canConfigureWebhooks:!1,canManageSettings:!1,canManageUsers:!1,canManageBilling:!1,canViewReports:!0,canExportData:!1,canViewAdvancedAnalytics:!1,canAccessInbox:!0,canManageConversations:!0,canAssignConversations:!1,canManageAIAgents:!1,canCreateAIAgents:!1,canConfigureAIAgents:!1},viewer:{canManageAttendants:!1,canCreateAttendants:!1,canEditAttendants:!1,canDeleteAttendants:!1,canViewAttendantMetrics:!0,canManageCampaigns:!1,canCreateCampaigns:!1,canEditCampaigns:!1,canDeleteCampaigns:!1,canViewCampaignAnalytics:!0,canManageCRM:!1,canCreateProspects:!1,canEditProspects:!1,canDeleteProspects:!1,canViewCRMAnalytics:!0,canManageContacts:!1,canCreateContacts:!1,canEditContacts:!1,canDeleteContacts:!1,canManageIntegrations:!1,canConnectChannels:!1,canConfigureWebhooks:!1,canManageSettings:!1,canManageUsers:!1,canManageBilling:!1,canViewReports:!0,canExportData:!1,canViewAdvancedAnalytics:!0,canAccessInbox:!0,canManageConversations:!1,canAssignConversations:!1,canManageAIAgents:!1,canCreateAIAgents:!1,canConfigureAIAgents:!1}};function kl(){const{currentOrg:e}=bn(),t=(e==null?void 0:e.role)||"viewer",r=Nne[t];return{userRole:t,permissions:r,isAdmin:t==="admin",isManager:t==="manager",isAgent:t==="agent",isViewer:t==="viewer",canAccess:n=>r[n],canAccessAny:(...n)=>n.some(a=>n[a]),canAccessAll:(...n)=>n.every(a=>n[a])}}const ie=g.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ve("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ie.displayName="Card";const me=g.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ve("flex flex-col space-y-1.5 p-6",e),...t}));me.displayName="CardHeader";const pe=g.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:ve("text-2xl font-semibold leading-none tracking-tight",e),...t}));pe.displayName="CardTitle";const De=g.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:ve("text-sm text-muted-foreground",e),...t}));De.displayName="CardDescription";const ue=g.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ve("p-6 pt-0",e),...t}));ue.displayName="CardContent";const _ne=g.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ve("flex items-center p-6 pt-0",e),...t}));_ne.displayName="CardFooter";function Rz({children:e,permission:t,fallback:r,showFallback:n=!0,requireAny:a,requireAll:i}){const{userRole:o,canAccess:l,canAccessAny:c,canAccessAll:u}=kl();return t&&!l(t)?n?r||s.jsx(Jw,{userRole:o,permission:t}):null:a&&a.length>0&&!c(...a)?n?r||s.jsx(Jw,{userRole:o,permission:a[0],multiple:!0}):null:i&&i.length>0&&!u(...i)?n?r||s.jsx(Jw,{userRole:o,permission:i[0],multiple:!0}):null:s.jsx(s.Fragment,{children:e})}function Jw({userRole:e,permission:t,multiple:r=!1}){const n=i=>{switch(i){case"admin":return"Administrador";case"manager":return"Gerente";case"agent":return"Atendente";case"viewer":return"Visualizador";default:return i}},a=i=>({canManageAttendants:"Gestão de Atendentes",canCreateAttendants:"Criar Atendentes",canEditAttendants:"Editar Atendentes",canDeleteAttendants:"Excluir Atendentes",canViewAttendantMetrics:"Visualizar Métricas de Atendentes",canManageCampaigns:"Gestão de Campanhas",canCreateCampaigns:"Criar Campanhas",canEditCampaigns:"Editar Campanhas",canDeleteCampaigns:"Excluir Campanhas",canViewCampaignAnalytics:"Analytics de Campanhas",canManageCRM:"Gestão de CRM",canCreateProspects:"Criar Prospects",canEditProspects:"Editar Prospects",canDeleteProspects:"Excluir Prospects",canViewCRMAnalytics:"Analytics de CRM",canManageContacts:"Gestão de Contatos",canCreateContacts:"Criar Contatos",canEditContacts:"Editar Contatos",canDeleteContacts:"Excluir Contatos",canManageIntegrations:"Gestão de Integrações",canConnectChannels:"Conectar Canais",canConfigureWebhooks:"Configurar Webhooks",canManageSettings:"Gestão de Configurações",canManageUsers:"Gestão de Usuários",canManageBilling:"Gestão de Faturamento",canViewReports:"Visualizar Relatórios",canExportData:"Exportar Dados",canViewAdvancedAnalytics:"Analytics Avançados",canAccessInbox:"Acesso ao Inbox",canManageConversations:"Gestão de Conversas",canAssignConversations:"Atribuir Conversas",canManageAIAgents:"Gestão de Agentes IA",canCreateAIAgents:"Criar Agentes IA",canConfigureAIAgents:"Configurar Agentes IA"})[i]||i;return s.jsxs(ie,{className:"border-orange-200 bg-orange-50",children:[s.jsxs(me,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"p-3 bg-orange-100 rounded-full",children:s.jsx(ni,{className:"h-8 w-8 text-orange-600"})})}),s.jsx(pe,{className:"text-orange-800",children:"Acesso Restrito"}),s.jsx(De,{className:"text-orange-700",children:"Você não tem permissão para acessar esta funcionalidade"})]}),s.jsxs(ue,{className:"text-center space-y-4",children:[s.jsxs("div",{className:"bg-white p-4 rounded-lg border border-orange-200",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-gray-600 mb-2",children:[s.jsx(rL,{className:"h-4 w-4"}),s.jsx("span",{children:"Funcionalidade:"})]}),s.jsx("p",{className:"font-medium text-gray-800",children:a(t)})]}),s.jsxs("div",{className:"bg-white p-4 rounded-lg border border-orange-200",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-gray-600 mb-2",children:[s.jsx(vy,{className:"h-4 w-4"}),s.jsx("span",{children:"Seu nível de acesso:"})]}),s.jsx("p",{className:"font-medium text-gray-800",children:n(e)})]}),s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsx("p",{children:"Para acessar esta funcionalidade, entre em contato com um administrador para:"}),s.jsxs("ul",{className:"mt-2 space-y-1 text-left",children:[s.jsx("li",{children:"• Elevar seu nível de acesso"}),s.jsx("li",{children:"• Conceder permissões específicas"}),s.jsx("li",{children:"• Obter orientações sobre o uso"})]})]}),s.jsx(Q,{variant:"outline",onClick:()=>window.history.back(),className:"border-orange-300 text-orange-700 hover:bg-orange-100",children:"Voltar"})]})]})}function kne({children:e,permission:t,requireAny:r,requireAll:n}){const{canAccess:a,canAccessAny:i,canAccessAll:o}=kl();return t&&!a(t)||r&&r.length>0&&!i(...r)||n&&n.length>0&&!o(...n)?null:s.jsx(s.Fragment,{children:e})}function Sne(){const{userRole:e}=kl(),t={admin:{label:"Administrador",variant:"default",icon:Cc,className:"bg-red-500 hover:bg-red-600 text-white"},manager:{label:"Gerente",variant:"default",icon:ni,className:"bg-blue-500 hover:bg-blue-600 text-white"},agent:{label:"Atendente",variant:"secondary",icon:qi,className:"bg-green-500 hover:bg-green-600 text-white"},viewer:{label:"Visualizador",variant:"outline",icon:ul,className:"border-gray-300 text-gray-600"}}[e],r=t.icon;return s.jsxs(Le,{variant:t.variant,className:`${t.className} flex items-center gap-1`,children:[s.jsx(r,{className:"h-3 w-3"}),t.label]})}const One=[{title:"Dashboard",url:"/",icon:_Q,permission:"canViewReports"},{title:"Inbox",url:"/inbox",icon:At,permission:"canAccessInbox"},{title:"Contatos",url:"/contacts",icon:ir,permission:"canManageContacts"},{title:"Campanhas",url:"/campaigns",icon:CQ,permission:"canManageCampaigns"},{title:"Prospecção",url:"/prospects",icon:Pd,permission:"canCreateProspects"},{title:"CRM",url:"/crm",icon:xt,permission:"canManageCRM"},{title:"Atendentes",url:"/attendants",icon:fl,permission:"canManageAttendants"},{title:"Agentes IA",url:"/agents",icon:mn,permission:"canManageAIAgents"},{title:"Integrações",url:"/integrations",icon:RQ,permission:"canManageIntegrations"},{title:"Configurações",url:"/settings",icon:qr,permission:"canManageSettings"}];function Cne(){const{state:e}=Xp(),t=Zp(),{logout:r,isRemembered:n}=VS(),a=async()=>{try{await r(),ae.success(n?"Logout realizado. Você permanecerá logado neste dispositivo.":"Logout realizado com sucesso."),t("/auth")}catch(i){ae.error("Erro ao sair: "+i.message)}};return s.jsxs(QL,{collapsible:"icon",children:[s.jsx(ez,{className:"border-b border-sidebar-border",children:s.jsx("div",{className:"p-4 space-y-4",children:e!=="collapsed"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-primary to-primary/60 bg-clip-text text-transparent",children:"Omnichat IA"}),s.jsx(oN,{className:"text-sidebar-foreground"})]}),s.jsxs("div",{className:"w-full space-y-3",children:[s.jsx(jne,{}),s.jsx("div",{className:"flex justify-center",children:s.jsx(Sne,{})})]})]}):s.jsx("div",{className:"flex items-center justify-center",children:s.jsx("div",{className:"h-8 w-8 rounded-lg bg-gradient-to-br from-primary to-primary-glow flex items-center justify-center",children:s.jsx(mn,{className:"h-5 w-5 text-white"})})})})}),s.jsx(rz,{children:s.jsxs(nz,{children:[s.jsx(az,{children:"Menu Principal"}),s.jsx(sz,{children:s.jsx(lN,{children:One.map(i=>s.jsx(kne,{permission:i.permission,children:s.jsx(Ev,{children:s.jsx(Av,{asChild:!0,tooltip:i.title,children:s.jsxs(Cte,{to:i.url,end:i.url==="/",children:[s.jsx(i.icon,{}),e!=="collapsed"&&s.jsx("span",{children:i.title})]})})})},i.title))})})]})}),s.jsx(tz,{className:"border-t border-sidebar-border",children:s.jsxs(lN,{children:[e==="collapsed"&&s.jsx(Ev,{children:s.jsx(Av,{asChild:!0,tooltip:"Expandir menu",children:s.jsx(oN,{className:"text-sidebar-foreground"})})}),s.jsx(Ev,{children:s.jsxs(Av,{onClick:a,tooltip:"Sair",children:[s.jsx(OQ,{}),e!=="collapsed"&&s.jsx("span",{children:"Sair"})]})})]})})]})}function Ls({children:e}){return s.jsx(YL,{children:s.jsxs("div",{className:"flex min-h-screen w-full",children:[s.jsx(Cne,{}),s.jsx(JL,{className:"flex-1",children:s.jsx("main",{className:"flex-1 overflow-auto bg-background",children:e})})]})})}function zs({children:e}){const{user:t,loading:r}=VS();return r?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):t?s.jsx(s.Fragment,{children:e}):s.jsx(hte,{to:"/auth",replace:!0})}var Iz={exports:{}},Dz={};/**
* @license React
* use-sync-external-store-shim.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Id=g;function Ene(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ane=typeof Object.is=="function"?Object.is:Ene,Pne=Id.useState,Tne=Id.useEffect,Mne=Id.useLayoutEffect,Rne=Id.useDebugValue;function Ine(e,t){var r=t(),n=Pne({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return Mne(function(){a.value=r,a.getSnapshot=t,ej(a)&&i({inst:a})},[e,r,t]),Tne(function(){return ej(a)&&i({inst:a}),e(function(){ej(a)&&i({inst:a})})},[e]),Rne(r),r}function ej(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ane(e,r)}catch{return!0}}function Dne(e,t){return t()}var Lne=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Dne:Ine;Dz.useSyncExternalStore=Id.useSyncExternalStore!==void 0?Id.useSyncExternalStore:Lne;Iz.exports=Dz;var zne=Iz.exports;function Fne(){return zne.useSyncExternalStore($ne,()=>!0,()=>!1)}function $ne(){return()=>{}}var KS="Avatar",[qne]=xn(KS),[Bne,Lz]=qne(KS),zz=g.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,i]=g.useState("idle");return s.jsx(Bne,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:s.jsx(Ae.span,{...n,ref:t})})});zz.displayName=KS;var Fz="AvatarImage",$z=g.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=e,o=Lz(Fz,r),l=Une(n,i),c=pr(u=>{a(u),o.onImageLoadingStatusChange(u)});return jr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(Ae.img,{...i,ref:t,src:n}):null});$z.displayName=Fz;var qz="AvatarFallback",Bz=g.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,i=Lz(qz,r),[o,l]=g.useState(n===void 0);return g.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?s.jsx(Ae.span,{...a,ref:t}):null});Bz.displayName=qz;function LA(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Une(e,{referrerPolicy:t,crossOrigin:r}){const n=Fne(),a=g.useRef(null),i=n?(a.current||(a.current=new window.Image),a.current):null,[o,l]=g.useState(()=>LA(i,e));return jr(()=>{l(LA(i,e))},[i,e]),jr(()=>{const c=f=>()=>{l(f)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,r,t]),o}var Uz=zz,Vz=$z,Wz=Bz;const bs=g.forwardRef(({className:e,...t},r)=>s.jsx(Uz,{ref:r,className:ve("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));bs.displayName=Uz.displayName;const ws=g.forwardRef(({className:e,...t},r)=>s.jsx(Vz,{ref:r,className:ve("aspect-square h-full w-full",e),...t}));ws.displayName=Vz.displayName;const js=g.forwardRef(({className:e,...t},r)=>s.jsx(Wz,{ref:r,className:ve("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));js.displayName=Wz.displayName;function Pt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function ci(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Vne(e,t){const r=Pt(e);return isNaN(t)?ci(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Wne(e,t){const r=+Pt(e);return ci(e,r+t)}const Hz=6048e5,Hne=864e5,Kne=36e5,Yg=43200,zA=1440;function Gne(e,t){return Wne(e,t*Kne)}let Zne={};function Jp(){return Zne}function Bm(e,t){var r,n,a,i;const o=Jp(),l=(t==null?void 0:t.weekStartsOn)??((n=(r=t==null?void 0:t.locale)==null?void 0:r.options)==null?void 0:n.weekStartsOn)??o.weekStartsOn??((i=(a=o.locale)==null?void 0:a.options)==null?void 0:i.weekStartsOn)??0,c=Pt(e),u=c.getDay(),d=(u<l?7:0)+u-l;return c.setDate(c.getDate()-d),c.setHours(0,0,0,0),c}function jy(e){return Bm(e,{weekStartsOn:1})}function Kz(e){const t=Pt(e),r=t.getFullYear(),n=ci(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=jy(n),i=ci(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=jy(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function mN(e){const t=Pt(e);return t.setHours(0,0,0,0),t}function Ny(e){const t=Pt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Xne(e,t){const r=mN(e),n=mN(t),a=+r-Ny(r),i=+n-Ny(n);return Math.round((a-i)/Hne)}function Yne(e){const t=Kz(e),r=ci(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),jy(r)}function Pv(e,t){const r=Pt(e),n=Pt(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function Qne(e){return ci(e,Date.now())}function Jne(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function eae(e){if(!Jne(e)&&typeof e!="number")return!1;const t=Pt(e);return!isNaN(Number(t))}function tae(e,t){const r=Pt(e),n=Pt(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function rae(e){return t=>{const r=(0,Math.trunc)(t);return r===0?0:r}}function nae(e,t){return+Pt(e)-+Pt(t)}function aae(e){const t=Pt(e);return t.setHours(23,59,59,999),t}function sae(e){const t=Pt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function iae(e){const t=Pt(e);return+aae(t)==+sae(t)}function oae(e,t){const r=Pt(e),n=Pt(t),a=Pv(r,n),i=Math.abs(tae(r,n));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);let l=Pv(r,n)===-a;iae(Pt(e))&&i===1&&Pv(e,n)===1&&(l=!1),o=a*(i-Number(l))}return o===0?0:o}function lae(e,t,r){const n=nae(e,t)/1e3;return rae()(n)}function cae(e){const t=Pt(e),r=ci(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const uae={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},dae=(e,t,r)=>{let n;const a=uae[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function md(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const fae={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},hae={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},mae={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},pae={date:md({formats:fae,defaultWidth:"full"}),time:md({formats:hae,defaultWidth:"full"}),dateTime:md({formats:mae,defaultWidth:"full"})},gae={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},vae=(e,t,r,n)=>gae[e];function Gs(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const yae={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},xae={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},bae={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},wae={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},jae={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Nae={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},_ae=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},kae={ordinalNumber:_ae,era:Gs({values:yae,defaultWidth:"wide"}),quarter:Gs({values:xae,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Gs({values:bae,defaultWidth:"wide"}),day:Gs({values:wae,defaultWidth:"wide"}),dayPeriod:Gs({values:jae,defaultWidth:"wide",formattingValues:Nae,defaultFormattingWidth:"wide"})};function Zs(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Oae(l,f=>f.test(o)):Sae(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function Sae(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Oae(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Gz(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const Cae=/^(\d+)(th|st|nd|rd)?/i,Eae=/\d+/i,Aae={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Pae={any:[/^b/i,/^(a|c)/i]},Tae={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Mae={any:[/1/i,/2/i,/3/i,/4/i]},Rae={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Iae={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Dae={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Lae={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},zae={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Fae={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},$ae={ordinalNumber:Gz({matchPattern:Cae,parsePattern:Eae,valueCallback:e=>parseInt(e,10)}),era:Zs({matchPatterns:Aae,defaultMatchWidth:"wide",parsePatterns:Pae,defaultParseWidth:"any"}),quarter:Zs({matchPatterns:Tae,defaultMatchWidth:"wide",parsePatterns:Mae,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Zs({matchPatterns:Rae,defaultMatchWidth:"wide",parsePatterns:Iae,defaultParseWidth:"any"}),day:Zs({matchPatterns:Dae,defaultMatchWidth:"wide",parsePatterns:Lae,defaultParseWidth:"any"}),dayPeriod:Zs({matchPatterns:zae,defaultMatchWidth:"any",parsePatterns:Fae,defaultParseWidth:"any"})},Zz={code:"en-US",formatDistance:dae,formatLong:pae,formatRelative:vae,localize:kae,match:$ae,options:{weekStartsOn:0,firstWeekContainsDate:1}};function qae(e){const t=Pt(e);return Xne(t,cae(t))+1}function Bae(e){const t=Pt(e),r=+jy(t)-+Yne(t);return Math.round(r/Hz)+1}function Xz(e,t){var r,n,a,i;const o=Pt(e),l=o.getFullYear(),c=Jp(),u=(t==null?void 0:t.firstWeekContainsDate)??((n=(r=t==null?void 0:t.locale)==null?void 0:r.options)==null?void 0:n.firstWeekContainsDate)??c.firstWeekContainsDate??((i=(a=c.locale)==null?void 0:a.options)==null?void 0:i.firstWeekContainsDate)??1,d=ci(e,0);d.setFullYear(l+1,0,u),d.setHours(0,0,0,0);const f=Bm(d,t),h=ci(e,0);h.setFullYear(l,0,u),h.setHours(0,0,0,0);const m=Bm(h,t);return o.getTime()>=f.getTime()?l+1:o.getTime()>=m.getTime()?l:l-1}function Uae(e,t){var r,n,a,i;const o=Jp(),l=(t==null?void 0:t.firstWeekContainsDate)??((n=(r=t==null?void 0:t.locale)==null?void 0:r.options)==null?void 0:n.firstWeekContainsDate)??o.firstWeekContainsDate??((i=(a=o.locale)==null?void 0:a.options)==null?void 0:i.firstWeekContainsDate)??1,c=Xz(e,t),u=ci(e,0);return u.setFullYear(c,0,l),u.setHours(0,0,0,0),Bm(u,t)}function Vae(e,t){const r=Pt(e),n=+Bm(r,t)-+Uae(r,t);return Math.round(n/Hz)+1}function Et(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const xo={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Et(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Et(r+1,2)},d(e,t){return Et(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Et(e.getHours()%12||12,t.length)},H(e,t){return Et(e.getHours(),t.length)},m(e,t){return Et(e.getMinutes(),t.length)},s(e,t){return Et(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Et(a,t.length)}},Ou={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},FA={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return xo.y(e,t)},Y:function(e,t,r,n){const a=Xz(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Et(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Et(i,t.length)},R:function(e,t){const r=Kz(e);return Et(r,t.length)},u:function(e,t){const r=e.getFullYear();return Et(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Et(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Et(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return xo.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Et(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=Vae(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Et(a,t.length)},I:function(e,t,r){const n=Bae(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Et(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):xo.d(e,t)},D:function(e,t,r){const n=qae(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Et(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Et(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Et(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Et(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Ou.noon:n===0?a=Ou.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Ou.evening:n>=12?a=Ou.afternoon:n>=4?a=Ou.morning:a=Ou.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return xo.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):xo.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Et(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Et(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):xo.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):xo.s(e,t)},S:function(e,t){return xo.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return qA(n);case"XXXX":case"XX":return Yl(n);case"XXXXX":case"XXX":default:return Yl(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return qA(n);case"xxxx":case"xx":return Yl(n);case"xxxxx":case"xxx":default:return Yl(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+$A(n,":");case"OOOO":default:return"GMT"+Yl(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+$A(n,":");case"zzzz":default:return"GMT"+Yl(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Et(n,t.length)},T:function(e,t,r){const n=e.getTime();return Et(n,t.length)}};function $A(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+Et(i,2)}function qA(e,t){return e%60===0?(e>0?"-":"+")+Et(Math.abs(e)/60,2):Yl(e,t)}function Yl(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Et(Math.trunc(n/60),2),i=Et(n%60,2);return r+a+t+i}const BA=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Yz=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Wae=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return BA(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",BA(n,t)).replace("{{time}}",Yz(a,t))},Hae={p:Yz,P:Wae},Kae=/^D+$/,Gae=/^Y+$/,Zae=["D","DD","YY","YYYY"];function Xae(e){return Kae.test(e)}function Yae(e){return Gae.test(e)}function Qae(e,t,r){const n=Jae(e,t,r);if(console.warn(n),Zae.includes(e))throw new RangeError(n)}function Jae(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const ese=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,tse=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,rse=/^'([^]*?)'?$/,nse=/''/g,ase=/[a-zA-Z]/;function pa(e,t,r){var n,a,i,o,l,c,u,d;const f=Jp(),h=(r==null?void 0:r.locale)??f.locale??Zz,m=(r==null?void 0:r.firstWeekContainsDate)??((a=(n=r==null?void 0:r.locale)==null?void 0:n.options)==null?void 0:a.firstWeekContainsDate)??f.firstWeekContainsDate??((o=(i=f.locale)==null?void 0:i.options)==null?void 0:o.firstWeekContainsDate)??1,v=(r==null?void 0:r.weekStartsOn)??((c=(l=r==null?void 0:r.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??f.weekStartsOn??((d=(u=f.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,p=Pt(e);if(!eae(p))throw new RangeError("Invalid time value");let b=t.match(tse).map(y=>{const w=y[0];if(w==="p"||w==="P"){const j=Hae[w];return j(y,h.formatLong)}return y}).join("").match(ese).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const w=y[0];if(w==="'")return{isToken:!1,value:sse(y)};if(FA[w])return{isToken:!0,value:y};if(w.match(ase))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:y}});h.localize.preprocessor&&(b=h.localize.preprocessor(p,b));const x={firstWeekContainsDate:m,weekStartsOn:v,locale:h};return b.map(y=>{if(!y.isToken)return y.value;const w=y.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Yae(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Xae(w))&&Qae(w,t,String(e));const j=FA[w[0]];return j(p,w,h.localize,x)}).join("")}function sse(e){const t=e.match(rse);return t?t[1].replace(nse,"'"):e}function ise(e,t,r){const n=Jp(),a=(r==null?void 0:r.locale)??n.locale??Zz,i=2520,o=Pv(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=Pt(t),u=Pt(e)):(c=Pt(e),u=Pt(t));const d=lae(u,c),f=(Ny(u)-Ny(c))/1e3,h=Math.round((d-f)/60);let m;if(h<2)return r!=null&&r.includeSeconds?d<5?a.formatDistance("lessThanXSeconds",5,l):d<10?a.formatDistance("lessThanXSeconds",10,l):d<20?a.formatDistance("lessThanXSeconds",20,l):d<40?a.formatDistance("halfAMinute",0,l):d<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):h===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",h,l);if(h<45)return a.formatDistance("xMinutes",h,l);if(h<90)return a.formatDistance("aboutXHours",1,l);if(h<zA){const v=Math.round(h/60);return a.formatDistance("aboutXHours",v,l)}else{if(h<i)return a.formatDistance("xDays",1,l);if(h<Yg){const v=Math.round(h/zA);return a.formatDistance("xDays",v,l)}else if(h<Yg*2)return m=Math.round(h/Yg),a.formatDistance("aboutXMonths",m,l)}if(m=oae(u,c),m<12){const v=Math.round(h/Yg);return a.formatDistance("xMonths",v,l)}else{const v=m%12,p=Math.trunc(m/12);return v<3?a.formatDistance("aboutXYears",p,l):v<9?a.formatDistance("overXYears",p,l):a.formatDistance("almostXYears",p+1,l)}}function vc(e,t){return ise(e,Qne(e),t)}function Do(e,t){return Vne(e,-t)}function ose(e,t){return Gne(e,-1)}function lse(){var e;const{currentOrg:t}=bn(),[r,n]=g.useState(!0),{data:a,isLoading:i}=bt({queryKey:["agent-profile",t==null?void 0:t.id],queryFn:async()=>{if(!t)return null;const{data:{user:f}}=await le.auth.getUser();if(!f)return null;const{data:h}=await le.from("attendants").select("*").eq("user_id",f.id).eq("org_id",t.id).single();return h},enabled:!!(t!=null&&t.id)}),{data:o,isLoading:l}=bt({queryKey:["agent-conversations",t==null?void 0:t.id],queryFn:async()=>{if(!t||!a)return[];const{data:f}=await le.from("conversations").select(`
          *,
          contacts (
            full_name,
            phone_e164,
            email,
            avatar_url
          )
        `).eq("org_id",t.id).eq("assigned_to",a.id).eq("status","open").order("created_at",{ascending:!1});return f||[]},enabled:!!(t!=null&&t.id)&&!!(a!=null&&a.id)}),{data:c,isLoading:u}=bt({queryKey:["agent-metrics",t==null?void 0:t.id,a==null?void 0:a.id],queryFn:async()=>{if(!t||!a)return null;const f=Do(new Date,1),{data:h}=await le.from("conversations").select("id, status, created_at, assigned_to").eq("org_id",t.id).eq("assigned_to",a.id).gte("created_at",f.toISOString()),{data:m}=await le.from("messages").select("id, created_at, conversation_id").gte("created_at",f.toISOString()),v=(m==null?void 0:m.filter(x=>h==null?void 0:h.some(y=>y.id===x.conversation_id)))||[],p=(h==null?void 0:h.filter(x=>x.status==="resolved").length)||0,b=(h==null?void 0:h.length)||0;return{totalConversations:b,resolvedConversations:p,resolutionRate:b>0?p/b*100:0,totalMessages:v.length,avgResponseTime:a.avg_response_time||0,satisfactionScore:a.satisfaction_score||0}},enabled:!!(t!=null&&t.id)&&!!(a!=null&&a.id),refetchInterval:3e4}),d=async()=>{if(!a)return;const f=r?"away":"online";try{const{error:h}=await le.from("attendants").update({status:f}).eq("id",a.id);if(h)throw h;n(!r)}catch(h){console.error("Erro ao alterar status:",h)}};return i?s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Qn,{className:"h-4 w-4 animate-spin"}),s.jsx("span",{children:"Carregando seu painel..."})]})}):a?s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:s.jsx("div",{className:"flex h-16 items-center px-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(qi,{className:"h-5 w-5 text-muted-foreground"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Meu Painel"})]})})}),s.jsxs("div",{className:"flex-1 space-y-6 p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs(ie,{className:"md:col-span-2",children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(qi,{className:"h-5 w-5"}),"Meu Perfil"]}),s.jsx(De,{children:"Suas informações e status atual"})]}),s.jsx(ue,{children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(bs,{className:"h-16 w-16",children:[s.jsx(ws,{src:a.avatar_url}),s.jsx(js,{children:a.full_name.split(" ").map(f=>f[0]).join("")})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold",children:a.full_name}),s.jsxs("p",{className:"text-muted-foreground",children:[a.department," • ",a.position]}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx(Le,{variant:r?"default":"secondary",className:r?"bg-green-500":"",children:r?"Online":"Ausente"}),s.jsxs(Q,{size:"sm",variant:"outline",onClick:d,className:"ml-2",children:[r?s.jsx(pQ,{className:"h-4 w-4 mr-2"}):s.jsx(Ed,{className:"h-4 w-4 mr-2"}),r?"Ficar Ausente":"Voltar Online"]})]})]})]})})]}),s.jsxs(ie,{children:[s.jsx(me,{children:s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(ri,{className:"h-5 w-5"}),"Status Atual"]})}),s.jsx(ue,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Conversas Ativas"}),s.jsx("span",{className:"font-semibold",children:(o==null?void 0:o.length)||0})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Máx. Simultâneas"}),s.jsx("span",{className:"font-semibold",children:a.max_concurrent_chats})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Auto Aceitar"}),s.jsx(Le,{variant:a.auto_accept?"default":"secondary",children:a.auto_accept?"Sim":"Não"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Idiomas"}),s.jsx("span",{className:"font-semibold text-sm",children:((e=a.languages)==null?void 0:e.join(", "))||"PT"})]})]})})]})]}),s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(Hn,{className:"h-5 w-5"}),"Minhas Métricas (24h)"]}),s.jsx(De,{children:"Seu desempenho nas últimas 24 horas"})]}),s.jsx(ue,{children:u?s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx(Qn,{className:"h-4 w-4 animate-spin mr-2"}),s.jsx("span",{children:"Carregando métricas..."})]}):s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[s.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-blue-50 to-white rounded-lg border",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:(c==null?void 0:c.totalConversations)||0}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Conversas"})]}),s.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-green-50 to-white rounded-lg border",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:(c==null?void 0:c.resolvedConversations)||0}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Resolvidas"})]}),s.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-purple-50 to-white rounded-lg border",children:[s.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[(c==null?void 0:c.resolutionRate.toFixed(1))||0,"%"]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Taxa Resolução"})]}),s.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-orange-50 to-white rounded-lg border",children:[s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:(c==null?void 0:c.totalMessages)||0}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Mensagens"})]}),s.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-yellow-50 to-white rounded-lg border",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:(c==null?void 0:c.satisfactionScore.toFixed(1))||0}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Satisfação"})]})]})})]}),s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(At,{className:"h-5 w-5"}),"Minhas Conversas Ativas"]}),s.jsx(De,{children:"Conversas atribuídas a você"})]}),s.jsx(ue,{children:l?s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx(Qn,{className:"h-4 w-4 animate-spin mr-2"}),s.jsx("span",{children:"Carregando conversas..."})]}):o&&o.length>0?s.jsx("div",{className:"space-y-3",children:o.map(f=>{var h;return s.jsxs("div",{className:"flex items-center space-x-3 p-3 border rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsxs(bs,{className:"h-10 w-10",children:[s.jsx(ws,{src:f.contacts.avatar_url}),s.jsx(js,{children:((h=f.contacts.full_name)==null?void 0:h.split(" ").map(m=>m[0]).join(""))||"C"})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-medium truncate",children:f.contacts.full_name||"Contato sem nome"}),s.jsx("p",{className:"text-sm text-muted-foreground truncate",children:f.contacts.phone_e164||f.contacts.email})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Le,{variant:"outline",children:pa(new Date(f.created_at),"dd/MM HH:mm")}),s.jsxs(Q,{size:"sm",variant:"outline",children:[s.jsx(At,{className:"h-4 w-4 mr-2"}),"Atender"]})]})]},f.id)})}):s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(At,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Nenhuma conversa atribuída no momento"}),s.jsx("p",{className:"text-sm mt-1",children:"Você será notificado quando novas conversas chegarem"})]})})]})]})]}):s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsxs(ie,{className:"w-full max-w-md",children:[s.jsxs(me,{className:"text-center",children:[s.jsx(cl,{className:"h-12 w-12 mx-auto text-orange-500 mb-4"}),s.jsx(pe,{children:"Perfil de Atendente Não Encontrado"}),s.jsx(De,{children:"Você não está configurado como atendente nesta organização."})]}),s.jsxs(ue,{className:"text-center",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Entre em contato com um administrador para configurar seu perfil de atendente."}),s.jsx(Q,{variant:"outline",onClick:()=>window.history.back(),children:"Voltar"})]})]})})}function bo({children:e,permission:t,fallbackComponent:r}){const{userRole:n}=kl();return n==="agent"&&t==="canManageAttendants"?s.jsx(lse,{}):s.jsx(Rz,{permission:t,children:e})}const Na=JK,Jn=g.forwardRef(({className:e,...t},r)=>s.jsx(a3,{ref:r,className:ve("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Jn.displayName=a3.displayName;const et=g.forwardRef(({className:e,...t},r)=>s.jsx(s3,{ref:r,className:ve("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));et.displayName=s3.displayName;const dt=g.forwardRef(({className:e,...t},r)=>s.jsx(i3,{ref:r,className:ve("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));dt.displayName=i3.displayName;const cse={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 mês",other:"cerca de {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},use=(e,t,r)=>{let n;const a=cse[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"em "+n:"há "+n:n},dse={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},fse={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},hse={full:"{{date}} 'às' {{time}}",long:"{{date}} 'às' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},mse={date:md({formats:dse,defaultWidth:"full"}),time:md({formats:fse,defaultWidth:"full"}),dateTime:md({formats:hse,defaultWidth:"full"})},pse={lastWeek:e=>{const t=e.getDay();return"'"+(t===0||t===6?"último":"última")+"' eeee 'às' p"},yesterday:"'ontem às' p",today:"'hoje às' p",tomorrow:"'amanhã às' p",nextWeek:"eeee 'às' p",other:"P"},gse=(e,t,r,n)=>{const a=pse[e];return typeof a=="function"?a(t):a},vse={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},yse={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},xse={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},bse={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","terça","quarta","quinta","sexta","sábado"],wide:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},wse={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"}},jse={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},Nse=(e,t)=>{const r=Number(e);return(t==null?void 0:t.unit)==="week"?r+"ª":r+"º"},_se={ordinalNumber:Nse,era:Gs({values:vse,defaultWidth:"wide"}),quarter:Gs({values:yse,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Gs({values:xse,defaultWidth:"wide"}),day:Gs({values:bse,defaultWidth:"wide"}),dayPeriod:Gs({values:wse,defaultWidth:"wide",formattingValues:jse,defaultFormattingWidth:"wide"})},kse=/^(\d+)[ºªo]?/i,Sse=/\d+/i,Ose={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},Cse={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},Ese={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},Ase={any:[/1/i,/2/i,/3/i,/4/i]},Pse={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},Tse={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},Mse={narrow:/^(dom|[23456]ª?|s[aá]b)/i,short:/^(dom|[23456]ª?|s[aá]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[aá]b)/i,wide:/^(domingo|(segunda|ter[cç]a|quarta|quinta|sexta)([- ]feira)?|s[aá]bado)/i},Rse={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[aá]b/i]},Ise={narrow:/^(a|p|mn|md|(da) (manhã|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manhã|tarde|noite))/i},Dse={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manhã/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},Lse={ordinalNumber:Gz({matchPattern:kse,parsePattern:Sse,valueCallback:e=>parseInt(e,10)}),era:Zs({matchPatterns:Ose,defaultMatchWidth:"wide",parsePatterns:Cse,defaultParseWidth:"any"}),quarter:Zs({matchPatterns:Ese,defaultMatchWidth:"wide",parsePatterns:Ase,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Zs({matchPatterns:Pse,defaultMatchWidth:"wide",parsePatterns:Tse,defaultParseWidth:"any"}),day:Zs({matchPatterns:Mse,defaultMatchWidth:"wide",parsePatterns:Rse,defaultParseWidth:"any"}),dayPeriod:Zs({matchPatterns:Ise,defaultMatchWidth:"any",parsePatterns:Dse,defaultParseWidth:"any"})},Yo={code:"pt-BR",formatDistance:use,formatLong:mse,formatRelative:gse,localize:_se,match:Lse,options:{weekStartsOn:0,firstWeekContainsDate:1}};var zse=Array.isArray,ta=zse,Fse=typeof pn=="object"&&pn&&pn.Object===Object&&pn,Qz=Fse,$se=Qz,qse=typeof self=="object"&&self&&self.Object===Object&&self,Bse=$se||qse||Function("return this")(),hi=Bse,Use=hi,Vse=Use.Symbol,eg=Vse,UA=eg,Jz=Object.prototype,Wse=Jz.hasOwnProperty,Hse=Jz.toString,_h=UA?UA.toStringTag:void 0;function Kse(e){var t=Wse.call(e,_h),r=e[_h];try{e[_h]=void 0;var n=!0}catch{}var a=Hse.call(e);return n&&(t?e[_h]=r:delete e[_h]),a}var Gse=Kse,Zse=Object.prototype,Xse=Zse.toString;function Yse(e){return Xse.call(e)}var Qse=Yse,VA=eg,Jse=Gse,eie=Qse,tie="[object Null]",rie="[object Undefined]",WA=VA?VA.toStringTag:void 0;function nie(e){return e==null?e===void 0?rie:tie:WA&&WA in Object(e)?Jse(e):eie(e)}var so=nie;function aie(e){return e!=null&&typeof e=="object"}var io=aie,sie=so,iie=io,oie="[object Symbol]";function lie(e){return typeof e=="symbol"||iie(e)&&sie(e)==oie}var Rf=lie,cie=ta,uie=Rf,die=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,fie=/^\w*$/;function hie(e,t){if(cie(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||uie(e)?!0:fie.test(e)||!die.test(e)||t!=null&&e in Object(t)}var GS=hie;function mie(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Sl=mie;const If=Ot(Sl);var pie=so,gie=Sl,vie="[object AsyncFunction]",yie="[object Function]",xie="[object GeneratorFunction]",bie="[object Proxy]";function wie(e){if(!gie(e))return!1;var t=pie(e);return t==yie||t==xie||t==vie||t==bie}var ZS=wie;const We=Ot(ZS);var jie=hi,Nie=jie["__core-js_shared__"],_ie=Nie,tj=_ie,HA=function(){var e=/[^.]+$/.exec(tj&&tj.keys&&tj.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function kie(e){return!!HA&&HA in e}var Sie=kie,Oie=Function.prototype,Cie=Oie.toString;function Eie(e){if(e!=null){try{return Cie.call(e)}catch{}try{return e+""}catch{}}return""}var eF=Eie,Aie=ZS,Pie=Sie,Tie=Sl,Mie=eF,Rie=/[\\^$.*+?()[\]{}|]/g,Iie=/^\[object .+?Constructor\]$/,Die=Function.prototype,Lie=Object.prototype,zie=Die.toString,Fie=Lie.hasOwnProperty,$ie=RegExp("^"+zie.call(Fie).replace(Rie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function qie(e){if(!Tie(e)||Pie(e))return!1;var t=Aie(e)?$ie:Iie;return t.test(Mie(e))}var Bie=qie;function Uie(e,t){return e==null?void 0:e[t]}var Vie=Uie,Wie=Bie,Hie=Vie;function Kie(e,t){var r=Hie(e,t);return Wie(r)?r:void 0}var Qc=Kie,Gie=Qc,Zie=Gie(Object,"create"),Fb=Zie,KA=Fb;function Xie(){this.__data__=KA?KA(null):{},this.size=0}var Yie=Xie;function Qie(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Jie=Qie,eoe=Fb,toe="__lodash_hash_undefined__",roe=Object.prototype,noe=roe.hasOwnProperty;function aoe(e){var t=this.__data__;if(eoe){var r=t[e];return r===toe?void 0:r}return noe.call(t,e)?t[e]:void 0}var soe=aoe,ioe=Fb,ooe=Object.prototype,loe=ooe.hasOwnProperty;function coe(e){var t=this.__data__;return ioe?t[e]!==void 0:loe.call(t,e)}var uoe=coe,doe=Fb,foe="__lodash_hash_undefined__";function hoe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=doe&&t===void 0?foe:t,this}var moe=hoe,poe=Yie,goe=Jie,voe=soe,yoe=uoe,xoe=moe;function Df(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Df.prototype.clear=poe;Df.prototype.delete=goe;Df.prototype.get=voe;Df.prototype.has=yoe;Df.prototype.set=xoe;var boe=Df;function woe(){this.__data__=[],this.size=0}var joe=woe;function Noe(e,t){return e===t||e!==e&&t!==t}var XS=Noe,_oe=XS;function koe(e,t){for(var r=e.length;r--;)if(_oe(e[r][0],t))return r;return-1}var $b=koe,Soe=$b,Ooe=Array.prototype,Coe=Ooe.splice;function Eoe(e){var t=this.__data__,r=Soe(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Coe.call(t,r,1),--this.size,!0}var Aoe=Eoe,Poe=$b;function Toe(e){var t=this.__data__,r=Poe(t,e);return r<0?void 0:t[r][1]}var Moe=Toe,Roe=$b;function Ioe(e){return Roe(this.__data__,e)>-1}var Doe=Ioe,Loe=$b;function zoe(e,t){var r=this.__data__,n=Loe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var Foe=zoe,$oe=joe,qoe=Aoe,Boe=Moe,Uoe=Doe,Voe=Foe;function Lf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Lf.prototype.clear=$oe;Lf.prototype.delete=qoe;Lf.prototype.get=Boe;Lf.prototype.has=Uoe;Lf.prototype.set=Voe;var qb=Lf,Woe=Qc,Hoe=hi,Koe=Woe(Hoe,"Map"),YS=Koe,GA=boe,Goe=qb,Zoe=YS;function Xoe(){this.size=0,this.__data__={hash:new GA,map:new(Zoe||Goe),string:new GA}}var Yoe=Xoe;function Qoe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Joe=Qoe,ele=Joe;function tle(e,t){var r=e.__data__;return ele(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Bb=tle,rle=Bb;function nle(e){var t=rle(this,e).delete(e);return this.size-=t?1:0,t}var ale=nle,sle=Bb;function ile(e){return sle(this,e).get(e)}var ole=ile,lle=Bb;function cle(e){return lle(this,e).has(e)}var ule=cle,dle=Bb;function fle(e,t){var r=dle(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var hle=fle,mle=Yoe,ple=ale,gle=ole,vle=ule,yle=hle;function zf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}zf.prototype.clear=mle;zf.prototype.delete=ple;zf.prototype.get=gle;zf.prototype.has=vle;zf.prototype.set=yle;var QS=zf,tF=QS,xle="Expected a function";function JS(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(xle);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(JS.Cache||tF),r}JS.Cache=tF;var rF=JS;const ble=Ot(rF);var wle=rF,jle=500;function Nle(e){var t=wle(e,function(n){return r.size===jle&&r.clear(),n}),r=t.cache;return t}var _le=Nle,kle=_le,Sle=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ole=/\\(\\)?/g,Cle=kle(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Sle,function(r,n,a,i){t.push(a?i.replace(Ole,"$1"):n||r)}),t}),Ele=Cle;function Ale(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var e2=Ale,ZA=eg,Ple=e2,Tle=ta,Mle=Rf,XA=ZA?ZA.prototype:void 0,YA=XA?XA.toString:void 0;function nF(e){if(typeof e=="string")return e;if(Tle(e))return Ple(e,nF)+"";if(Mle(e))return YA?YA.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Rle=nF,Ile=Rle;function Dle(e){return e==null?"":Ile(e)}var aF=Dle,Lle=ta,zle=GS,Fle=Ele,$le=aF;function qle(e,t){return Lle(e)?e:zle(e,t)?[e]:Fle($le(e))}var sF=qle,Ble=Rf;function Ule(e){if(typeof e=="string"||Ble(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Ub=Ule,Vle=sF,Wle=Ub;function Hle(e,t){t=Vle(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Wle(t[r++])];return r&&r==n?e:void 0}var t2=Hle,Kle=t2;function Gle(e,t,r){var n=e==null?void 0:Kle(e,t);return n===void 0?r:n}var iF=Gle;const wa=Ot(iF);function Zle(e){return e==null}var Xle=Zle;const Ke=Ot(Xle);var Yle=so,Qle=ta,Jle=io,ece="[object String]";function tce(e){return typeof e=="string"||!Qle(e)&&Jle(e)&&Yle(e)==ece}var rce=tce;const Rc=Ot(rce);var oF={exports:{}},Mt={};/**
* @license React
* react-is.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var r2=Symbol.for("react.element"),n2=Symbol.for("react.portal"),Vb=Symbol.for("react.fragment"),Wb=Symbol.for("react.strict_mode"),Hb=Symbol.for("react.profiler"),Kb=Symbol.for("react.provider"),Gb=Symbol.for("react.context"),nce=Symbol.for("react.server_context"),Zb=Symbol.for("react.forward_ref"),Xb=Symbol.for("react.suspense"),Yb=Symbol.for("react.suspense_list"),Qb=Symbol.for("react.memo"),Jb=Symbol.for("react.lazy"),ace=Symbol.for("react.offscreen"),lF;lF=Symbol.for("react.module.reference");function Xa(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case r2:switch(e=e.type,e){case Vb:case Hb:case Wb:case Xb:case Yb:return e;default:switch(e=e&&e.$$typeof,e){case nce:case Gb:case Zb:case Jb:case Qb:case Kb:return e;default:return t}}case n2:return t}}}Mt.ContextConsumer=Gb;Mt.ContextProvider=Kb;Mt.Element=r2;Mt.ForwardRef=Zb;Mt.Fragment=Vb;Mt.Lazy=Jb;Mt.Memo=Qb;Mt.Portal=n2;Mt.Profiler=Hb;Mt.StrictMode=Wb;Mt.Suspense=Xb;Mt.SuspenseList=Yb;Mt.isAsyncMode=function(){return!1};Mt.isConcurrentMode=function(){return!1};Mt.isContextConsumer=function(e){return Xa(e)===Gb};Mt.isContextProvider=function(e){return Xa(e)===Kb};Mt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===r2};Mt.isForwardRef=function(e){return Xa(e)===Zb};Mt.isFragment=function(e){return Xa(e)===Vb};Mt.isLazy=function(e){return Xa(e)===Jb};Mt.isMemo=function(e){return Xa(e)===Qb};Mt.isPortal=function(e){return Xa(e)===n2};Mt.isProfiler=function(e){return Xa(e)===Hb};Mt.isStrictMode=function(e){return Xa(e)===Wb};Mt.isSuspense=function(e){return Xa(e)===Xb};Mt.isSuspenseList=function(e){return Xa(e)===Yb};Mt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Vb||e===Hb||e===Wb||e===Xb||e===Yb||e===ace||typeof e=="object"&&e!==null&&(e.$$typeof===Jb||e.$$typeof===Qb||e.$$typeof===Kb||e.$$typeof===Gb||e.$$typeof===Zb||e.$$typeof===lF||e.getModuleId!==void 0)};Mt.typeOf=Xa;oF.exports=Mt;var sce=oF.exports,ice=so,oce=io,lce="[object Number]";function cce(e){return typeof e=="number"||oce(e)&&ice(e)==lce}var cF=cce;const uce=Ot(cF);var dce=cF;function fce(e){return dce(e)&&e!=+e}var hce=fce;const Ff=Ot(hce);var Xr=function(e){return e===0?0:e>0?1:-1},cc=function(e){return Rc(e)&&e.indexOf("%")===e.length-1},je=function(e){return uce(e)&&!Ff(e)},mce=function(e){return Ke(e)},Ur=function(e){return je(e)||Rc(e)},pce=0,Ol=function(e){var t=++pce;return"".concat(e||"").concat(t)},Sn=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!je(e)&&!Rc(e))return r;var a;if(cc(e)){var i=e.indexOf("%");a=t*parseFloat(e.slice(0,i))/100}else a=+e;return Ff(a)&&(a=r),n&&a>t&&(a=t),a},To=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},gce=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1},$t=function(e,t){return je(e)&&je(t)?function(r){return e+r*(t-e)}:function(){return t}};function _y(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):wa(n,t))===r})}var vce=function(e){if(!e||!e.length)return null;for(var t=e.length,r=0,n=0,a=0,i=0,o=1/0,l=-1/0,c=0,u=0,d=0;d<t;d++)c=e[d].cx||0,u=e[d].cy||0,r+=c,n+=u,a+=c*u,i+=c*c,o=Math.min(o,c),l=Math.max(l,c);var f=t*i!==r*r?(t*a-r*n)/(t*i-r*r):0;return{xmin:o,xmax:l,a:f,b:(n-f*r)/t}},yce=function(e,t){return je(e)&&je(t)?e-t:Rc(e)&&Rc(t)?e.localeCompare(t):e instanceof Date&&t instanceof Date?e.getTime()-t.getTime():String(e).localeCompare(String(t))};function pd(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function pN(e){"@babel/helpers - typeof";return pN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pN(e)}var xce=["viewBox","children"],bce=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],QA=["points","pathLength"],JA={svg:xce,polygon:QA,polyline:QA},a2=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],ky=function(e,t){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(g.isValidElement(e)&&(r=e.props),!If(r))return null;var n={};return Object.keys(r).forEach(function(a){a2.includes(a)&&(n[a]=t||function(i){return r[a](r,i)})}),n},wce=function(e,t,r){return function(n){return e(t,r,n),null}},ui=function(e,t,r){if(!If(e)||pN(e)!=="object")return null;var n=null;return Object.keys(e).forEach(function(a){var i=e[a];a2.includes(a)&&typeof i=="function"&&(n||(n={}),n[a]=wce(i,t,r))}),n},jce=["children"],Nce=["children"];function eP(e,t){if(e==null)return{};var r=_ce(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _ce(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function gN(e){"@babel/helpers - typeof";return gN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gN(e)}var tP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Bi=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},rP=null,rj=null,s2=function e(t){if(t===rP&&Array.isArray(rj))return rj;var r=[];return g.Children.forEach(t,function(n){Ke(n)||(sce.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),rj=r,rP=t,r};function vn(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Bi(a)}):n=[Bi(t)],s2(e).forEach(function(a){var i=wa(a,"type.displayName")||wa(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function ca(e,t){var r=vn(e,t);return r&&r[0]}var nP=function(e){if(!e||!e.props)return!1;var t=e.props,r=t.width,n=t.height;return!(!je(r)||r<=0||!je(n)||n<=0)},kce=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Sce=function(e){return e&&e.type&&Rc(e.type)&&kce.indexOf(e.type)>=0},uF=function(e){return e&&gN(e)==="object"&&"clipDot"in e},Oce=function(e,t,r,n){var a,i=(a=JA==null?void 0:JA[n])!==null&&a!==void 0?a:[];return t.startsWith("data-")||!We(e)&&(n&&i.includes(t)||bce.includes(t))||r&&a2.includes(t)},ze=function(e,t,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(g.isValidElement(e)&&(n=e.props),!If(n))return null;var a={};return Object.keys(n).forEach(function(i){var o;Oce((o=n)===null||o===void 0?void 0:o[i],i,t,r)&&(a[i]=n[i])}),a},vN=function e(t,r){if(t===r)return!0;var n=g.Children.count(t);if(n!==g.Children.count(r))return!1;if(n===0)return!0;if(n===1)return aP(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!aP(i,o))return!1}return!0},aP=function(e,t){if(Ke(e)&&Ke(t))return!0;if(!Ke(e)&&!Ke(t)){var r=e.props||{},n=r.children,a=eP(r,jce),i=t.props||{},o=i.children,l=eP(i,Nce);return n&&o?pd(a,l)&&vN(n,o):!n&&!o?pd(a,l):!1}return!1},sP=function(e,t){var r=[],n={};return s2(e).forEach(function(a,i){if(Sce(a))r.push(a);else if(a){var o=Bi(a.type),l=t[o]||{},c=l.handler,u=l.once;if(c&&(!u||!n[o])){var d=c(a,o,i);r.push(d),n[o]=!0}}}),r},Cce=function(e){var t=e&&e.type;return t&&tP[t]?tP[t]:null},Ece=function(e,t){return s2(t).indexOf(e)},Ace=["children","width","height","viewBox","className","style","title","desc"];function yN(){return yN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yN.apply(this,arguments)}function Pce(e,t){if(e==null)return{};var r=Tce(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Tce(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function xN(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=Pce(e,Ace),d=a||{width:r,height:n,x:0,y:0},f=Ye("recharts-surface",i);return C.createElement("svg",yN({},ze(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),C.createElement("title",null,l),C.createElement("desc",null,c),t)}var Mce=["children","className"];function bN(){return bN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bN.apply(this,arguments)}function Rce(e,t){if(e==null)return{};var r=Ice(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ice(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Qe=C.forwardRef(function(e,t){var r=e.children,n=e.className,a=Rce(e,Mce),i=Ye("recharts-layer",n);return C.createElement("g",bN({className:i},ze(a,!0),{ref:t}),r)}),Ss=function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a]};function Dce(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var Lce=Dce,zce=Lce;function Fce(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:zce(e,t,r)}var $ce=Fce,qce="\\ud800-\\udfff",Bce="\\u0300-\\u036f",Uce="\\ufe20-\\ufe2f",Vce="\\u20d0-\\u20ff",Wce=Bce+Uce+Vce,Hce="\\ufe0e\\ufe0f",Kce="\\u200d",Gce=RegExp("["+Kce+qce+Wce+Hce+"]");function Zce(e){return Gce.test(e)}var dF=Zce;function Xce(e){return e.split("")}var Yce=Xce,fF="\\ud800-\\udfff",Qce="\\u0300-\\u036f",Jce="\\ufe20-\\ufe2f",eue="\\u20d0-\\u20ff",tue=Qce+Jce+eue,rue="\\ufe0e\\ufe0f",nue="["+fF+"]",wN="["+tue+"]",jN="\\ud83c[\\udffb-\\udfff]",aue="(?:"+wN+"|"+jN+")",hF="[^"+fF+"]",mF="(?:\\ud83c[\\udde6-\\uddff]){2}",pF="[\\ud800-\\udbff][\\udc00-\\udfff]",sue="\\u200d",gF=aue+"?",vF="["+rue+"]?",iue="(?:"+sue+"(?:"+[hF,mF,pF].join("|")+")"+vF+gF+")*",oue=vF+gF+iue,lue="(?:"+[hF+wN+"?",wN,mF,pF,nue].join("|")+")",cue=RegExp(jN+"(?="+jN+")|"+lue+oue,"g");function uue(e){return e.match(cue)||[]}var due=uue,fue=Yce,hue=dF,mue=due;function pue(e){return hue(e)?mue(e):fue(e)}var gue=pue,vue=$ce,yue=dF,xue=gue,bue=aF;function wue(e){return function(t){t=bue(t);var r=yue(t)?xue(t):void 0,n=r?r[0]:t.charAt(0),a=r?vue(r,1).join(""):t.slice(1);return n[e]()+a}}var jue=wue,Nue=jue,_ue=Nue("toUpperCase"),kue=_ue;const e0=Ot(kue);function Zt(e){return function(){return e}}const yF=Math.cos,Sy=Math.sin,Ts=Math.sqrt,Oy=Math.PI,t0=2*Oy,NN=Math.PI,_N=2*NN,Ql=1e-6,Sue=_N-Ql;function xF(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Oue(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return xF;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class Cue{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?xF:Oue(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Ql)if(!(Math.abs(f*c-u*d)>Ql)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,v=a-l,p=c*c+u*u,b=m*m+v*v,x=Math.sqrt(p),y=Math.sqrt(h),w=i*Math.tan((NN-Math.acos((p+h-b)/(2*x*y)))/2),j=w/y,N=w/x;Math.abs(j-1)>Ql&&this._append`L${t+j*d},${r+j*f}`,this._append`A${i},${i},0,0,${+(f*m>d*v)},${this._x1=t+N*c},${this._y1=r+N*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Ql||Math.abs(this._y1-d)>Ql)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%_N+_N),h>Sue?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Ql&&this._append`A${n},${n},0,${+(h>=NN)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function i2(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Cue(t)}function o2(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function bF(e){this._context=e}bF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function r0(e){return new bF(e)}function wF(e){return e[0]}function jF(e){return e[1]}function NF(e,t){var r=Zt(!0),n=null,a=r0,i=null,o=i2(l);e=typeof e=="function"?e:e===void 0?wF:Zt(e),t=typeof t=="function"?t:t===void 0?jF:Zt(t);function l(c){var u,d=(c=o2(c)).length,f,h=!1,m;for(n==null&&(i=a(m=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(m)return i=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Zt(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Zt(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Zt(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function Qg(e,t,r){var n=null,a=Zt(!0),i=null,o=r0,l=null,c=i2(u);e=typeof e=="function"?e:e===void 0?wF:Zt(+e),t=typeof t=="function"?t:Zt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?jF:Zt(+r);function u(f){var h,m,v,p=(f=o2(f)).length,b,x=!1,y,w=new Array(p),j=new Array(p);for(i==null&&(l=o(y=c())),h=0;h<=p;++h){if(!(h<p&&a(b=f[h],h,f))===x)if(x=!x)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=h-1;v>=m;--v)l.point(w[v],j[v]);l.lineEnd(),l.areaEnd()}x&&(w[h]=+e(b,h,f),j[h]=+t(b,h,f),l.point(n?+n(b,h,f):w[h],r?+r(b,h,f):j[h]))}if(y)return l=null,y+""||null}function d(){return NF().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Zt(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Zt(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Zt(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Zt(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Zt(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Zt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Zt(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class _F{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Eue(e){return new _F(e,!0)}function Aue(e){return new _F(e,!1)}const l2={draw(e,t){const r=Ts(t/Oy);e.moveTo(r,0),e.arc(0,0,r,0,t0)}},Pue={draw(e,t){const r=Ts(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},kF=Ts(1/3),Tue=kF*2,Mue={draw(e,t){const r=Ts(t/Tue),n=r*kF;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Rue={draw(e,t){const r=Ts(t),n=-r/2;e.rect(n,n,r,r)}},Iue=.8908130915292852,SF=Sy(Oy/10)/Sy(7*Oy/10),Due=Sy(t0/10)*SF,Lue=-yF(t0/10)*SF,zue={draw(e,t){const r=Ts(t*Iue),n=Due*r,a=Lue*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=t0*i/5,l=yF(o),c=Sy(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},nj=Ts(3),Fue={draw(e,t){const r=-Ts(t/(nj*3));e.moveTo(0,r*2),e.lineTo(-nj*r,-r),e.lineTo(nj*r,-r),e.closePath()}},Ea=-.5,Aa=Ts(3)/2,kN=1/Ts(12),$ue=(kN/2+1)*3,que={draw(e,t){const r=Ts(t/$ue),n=r/2,a=r*kN,i=n,o=r*kN+r,l=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Ea*n-Aa*a,Aa*n+Ea*a),e.lineTo(Ea*i-Aa*o,Aa*i+Ea*o),e.lineTo(Ea*l-Aa*c,Aa*l+Ea*c),e.lineTo(Ea*n+Aa*a,Ea*a-Aa*n),e.lineTo(Ea*i+Aa*o,Ea*o-Aa*i),e.lineTo(Ea*l+Aa*c,Ea*c-Aa*l),e.closePath()}};function Bue(e,t){let r=null,n=i2(a);e=typeof e=="function"?e:Zt(e||l2),t=typeof t=="function"?t:Zt(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Zt(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Zt(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Cy(){}function Ey(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function OF(e){this._context=e}OF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ey(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ey(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Uue(e){return new OF(e)}function CF(e){this._context=e}CF.prototype={areaStart:Cy,areaEnd:Cy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ey(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Vue(e){return new CF(e)}function EF(e){this._context=e}EF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Ey(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Wue(e){return new EF(e)}function AF(e){this._context=e}AF.prototype={areaStart:Cy,areaEnd:Cy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Hue(e){return new AF(e)}function iP(e){return e<0?-1:1}function oP(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(iP(i)+iP(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function lP(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function aj(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function Ay(e){this._context=e}Ay.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:aj(this,this._t0,lP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,aj(this,lP(this,r=oP(this,e,t)),r);break;default:aj(this,this._t0,r=oP(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function PF(e){this._context=new TF(e)}(PF.prototype=Object.create(Ay.prototype)).point=function(e,t){Ay.prototype.point.call(this,t,e)};function TF(e){this._context=e}TF.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function Kue(e){return new Ay(e)}function Gue(e){return new PF(e)}function MF(e){this._context=e}MF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=cP(e),a=cP(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function cP(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function Zue(e){return new MF(e)}function n0(e,t){this._context=e,this._t=t}n0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Xue(e){return new n0(e,.5)}function Yue(e){return new n0(e,0)}function Que(e){return new n0(e,1)}function Dd(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function SN(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Jue(e,t){return e[t]}function ede(e){const t=[];return t.key=e,t}function tde(){var e=Zt([]),t=SN,r=Dd,n=Jue;function a(i){var o=Array.from(e.apply(this,arguments),ede),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=o2(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Zt(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Zt(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?SN:typeof i=="function"?i:Zt(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Dd,a):r},a}function rde(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}Dd(e,t)}}function nde(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Dd(e,t)}}function ade(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,v=0;v<l;++v){var p=e[t[v]],b=p[n][1]||0,x=p[n-1][1]||0;m+=b-x}c+=f,u+=m*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Dd(e,t)}}function Um(e){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Um(e)}var sde=["type","size","sizeType"];function ON(){return ON=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ON.apply(this,arguments)}function uP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uP(Object(r),!0).forEach(function(n){ide(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ide(e,t,r){return t=ode(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ode(e){var t=lde(e,"string");return Um(t)=="symbol"?t:t+""}function lde(e,t){if(Um(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Um(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cde(e,t){if(e==null)return{};var r=ude(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ude(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var RF={symbolCircle:l2,symbolCross:Pue,symbolDiamond:Mue,symbolSquare:Rue,symbolStar:zue,symbolTriangle:Fue,symbolWye:que},dde=Math.PI/180,fde=function(e){var t="symbol".concat(e0(e));return RF[t]||l2},hde=function(e,t,r){if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*dde;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.pow(Math.tan(n),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},mde=function(e,t){RF["symbol".concat(e0(e))]=t},a0=function(e){var t=e.type,r=t===void 0?"circle":t,n=e.size,a=n===void 0?64:n,i=e.sizeType,o=i===void 0?"area":i,l=cde(e,sde),c=dP(dP({},l),{},{type:r,size:a,sizeType:o}),u=function(){var v=fde(r),p=Bue().type(v).size(hde(a,o,r));return p()},d=c.className,f=c.cx,h=c.cy,m=ze(c,!0);return f===+f&&h===+h&&a===+a?C.createElement("path",ON({},m,{className:Ye("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(h,")"),d:u()})):null};a0.registerSymbol=mde;function Ld(e){"@babel/helpers - typeof";return Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ld(e)}function CN(){return CN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},CN.apply(this,arguments)}function fP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pde(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fP(Object(r),!0).forEach(function(n){Vm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vde(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DF(n.key),n)}}function yde(e,t,r){return t&&vde(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xde(e,t,r){return t=Py(t),bde(e,IF()?Reflect.construct(t,r||[],Py(e).constructor):t.apply(e,r))}function bde(e,t){if(t&&(Ld(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wde(e)}function wde(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IF=function(){return!!e})()}function Py(e){return Py=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Py(e)}function jde(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&EN(e,t)}function EN(e,t){return EN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},EN(e,t)}function Vm(e,t,r){return t=DF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DF(e){var t=Nde(e,"string");return Ld(t)=="symbol"?t:t+""}function Nde(e,t){if(Ld(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Pa=32,c2=function(e){function t(){return gde(this,t),xde(this,t,arguments)}return jde(t,e),yde(t,[{key:"renderIcon",value:function(r){var n=this.props.inactiveColor,a=Pa/2,i=Pa/6,o=Pa/3,l=r.inactive?n:r.color;if(r.type==="plainline")return C.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:Pa,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return C.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(Pa,"M").concat(2*o,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return C.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Pa/8,"h").concat(Pa,"v").concat(Pa*3/4,"h").concat(-Pa,"z"),className:"recharts-legend-icon"});if(C.isValidElement(r.legendIcon)){var c=pde({},r);return delete c.legendIcon,C.cloneElement(r.legendIcon,c)}return C.createElement(a0,{fill:l,cx:a,cy:a,size:Pa,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,n=this.props,a=n.payload,i=n.iconSize,o=n.layout,l=n.formatter,c=n.inactiveColor,u={x:0,y:0,width:Pa,height:Pa},d={display:o==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(h,m){var v=h.formatter||l,p=Ye(Vm(Vm({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",h.inactive));if(h.type==="none")return null;var b=We(h.value)?null:h.value;Ss(!We(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=h.inactive?c:h.color;return C.createElement("li",CN({className:p,style:d,key:"legend-item-".concat(m)},ui(r.props,h,m)),C.createElement(xN,{width:i,height:i,viewBox:u,style:f},r.renderIcon(h)),C.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},v?v(b,h,m):b))})}},{key:"render",value:function(){var r=this.props,n=r.payload,a=r.layout,i=r.align;if(!n||!n.length)return null;var o={padding:0,margin:0,textAlign:a==="horizontal"?i:"left"};return C.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(g.PureComponent);Vm(c2,"displayName","Legend");Vm(c2,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var _de=qb;function kde(){this.__data__=new _de,this.size=0}var Sde=kde;function Ode(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Cde=Ode;function Ede(e){return this.__data__.get(e)}var Ade=Ede;function Pde(e){return this.__data__.has(e)}var Tde=Pde,Mde=qb,Rde=YS,Ide=QS,Dde=200;function Lde(e,t){var r=this.__data__;if(r instanceof Mde){var n=r.__data__;if(!Rde||n.length<Dde-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Ide(n)}return r.set(e,t),this.size=r.size,this}var zde=Lde,Fde=qb,$de=Sde,qde=Cde,Bde=Ade,Ude=Tde,Vde=zde;function $f(e){var t=this.__data__=new Fde(e);this.size=t.size}$f.prototype.clear=$de;$f.prototype.delete=qde;$f.prototype.get=Bde;$f.prototype.has=Ude;$f.prototype.set=Vde;var LF=$f,Wde="__lodash_hash_undefined__";function Hde(e){return this.__data__.set(e,Wde),this}var Kde=Hde;function Gde(e){return this.__data__.has(e)}var Zde=Gde,Xde=QS,Yde=Kde,Qde=Zde;function Ty(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Xde;++t<r;)this.add(e[t])}Ty.prototype.add=Ty.prototype.push=Yde;Ty.prototype.has=Qde;var zF=Ty;function Jde(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var FF=Jde;function efe(e,t){return e.has(t)}var $F=efe,tfe=zF,rfe=FF,nfe=$F,afe=1,sfe=2;function ife(e,t,r,n,a,i){var o=r&afe,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,m=r&sfe?new tfe:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var v=e[f],p=t[f];if(n)var b=o?n(p,v,f,t,e,i):n(v,p,f,e,t,i);if(b!==void 0){if(b)continue;h=!1;break}if(m){if(!rfe(t,function(x,y){if(!nfe(m,y)&&(v===x||a(v,x,r,n,i)))return m.push(y)})){h=!1;break}}else if(!(v===p||a(v,p,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var qF=ife,ofe=hi,lfe=ofe.Uint8Array,cfe=lfe;function ufe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var dfe=ufe;function ffe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var u2=ffe,hP=eg,mP=cfe,hfe=XS,mfe=qF,pfe=dfe,gfe=u2,vfe=1,yfe=2,xfe="[object Boolean]",bfe="[object Date]",wfe="[object Error]",jfe="[object Map]",Nfe="[object Number]",_fe="[object RegExp]",kfe="[object Set]",Sfe="[object String]",Ofe="[object Symbol]",Cfe="[object ArrayBuffer]",Efe="[object DataView]",pP=hP?hP.prototype:void 0,sj=pP?pP.valueOf:void 0;function Afe(e,t,r,n,a,i,o){switch(r){case Efe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Cfe:return!(e.byteLength!=t.byteLength||!i(new mP(e),new mP(t)));case xfe:case bfe:case Nfe:return hfe(+e,+t);case wfe:return e.name==t.name&&e.message==t.message;case _fe:case Sfe:return e==t+"";case jfe:var l=pfe;case kfe:var c=n&vfe;if(l||(l=gfe),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=yfe,o.set(e,t);var d=mfe(l(e),l(t),n,a,i,o);return o.delete(e),d;case Ofe:if(sj)return sj.call(e)==sj.call(t)}return!1}var Pfe=Afe;function Tfe(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var BF=Tfe,Mfe=BF,Rfe=ta;function Ife(e,t,r){var n=t(e);return Rfe(e)?n:Mfe(n,r(e))}var Dfe=Ife;function Lfe(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var zfe=Lfe;function Ffe(){return[]}var $fe=Ffe,qfe=zfe,Bfe=$fe,Ufe=Object.prototype,Vfe=Ufe.propertyIsEnumerable,gP=Object.getOwnPropertySymbols,Wfe=gP?function(e){return e==null?[]:(e=Object(e),qfe(gP(e),function(t){return Vfe.call(e,t)}))}:Bfe,Hfe=Wfe;function Kfe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Gfe=Kfe,Zfe=so,Xfe=io,Yfe="[object Arguments]";function Qfe(e){return Xfe(e)&&Zfe(e)==Yfe}var Jfe=Qfe,vP=Jfe,ehe=io,UF=Object.prototype,the=UF.hasOwnProperty,rhe=UF.propertyIsEnumerable,nhe=vP(function(){return arguments}())?vP:function(e){return ehe(e)&&the.call(e,"callee")&&!rhe.call(e,"callee")},d2=nhe,My={exports:{}};function ahe(){return!1}var she=ahe;My.exports;(function(e,t){var r=hi,n=she,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(My,My.exports);var VF=My.exports,ihe=9007199254740991,ohe=/^(?:0|[1-9]\d*)$/;function lhe(e,t){var r=typeof e;return t=t??ihe,!!t&&(r=="number"||r!="symbol"&&ohe.test(e))&&e>-1&&e%1==0&&e<t}var f2=lhe,che=9007199254740991;function uhe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=che}var h2=uhe,dhe=so,fhe=h2,hhe=io,mhe="[object Arguments]",phe="[object Array]",ghe="[object Boolean]",vhe="[object Date]",yhe="[object Error]",xhe="[object Function]",bhe="[object Map]",whe="[object Number]",jhe="[object Object]",Nhe="[object RegExp]",_he="[object Set]",khe="[object String]",She="[object WeakMap]",Ohe="[object ArrayBuffer]",Che="[object DataView]",Ehe="[object Float32Array]",Ahe="[object Float64Array]",Phe="[object Int8Array]",The="[object Int16Array]",Mhe="[object Int32Array]",Rhe="[object Uint8Array]",Ihe="[object Uint8ClampedArray]",Dhe="[object Uint16Array]",Lhe="[object Uint32Array]",Gt={};Gt[Ehe]=Gt[Ahe]=Gt[Phe]=Gt[The]=Gt[Mhe]=Gt[Rhe]=Gt[Ihe]=Gt[Dhe]=Gt[Lhe]=!0;Gt[mhe]=Gt[phe]=Gt[Ohe]=Gt[ghe]=Gt[Che]=Gt[vhe]=Gt[yhe]=Gt[xhe]=Gt[bhe]=Gt[whe]=Gt[jhe]=Gt[Nhe]=Gt[_he]=Gt[khe]=Gt[She]=!1;function zhe(e){return hhe(e)&&fhe(e.length)&&!!Gt[dhe(e)]}var Fhe=zhe;function $he(e){return function(t){return e(t)}}var WF=$he,Ry={exports:{}};Ry.exports;(function(e,t){var r=Qz,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(Ry,Ry.exports);var qhe=Ry.exports,Bhe=Fhe,Uhe=WF,yP=qhe,xP=yP&&yP.isTypedArray,Vhe=xP?Uhe(xP):Bhe,HF=Vhe,Whe=Gfe,Hhe=d2,Khe=ta,Ghe=VF,Zhe=f2,Xhe=HF,Yhe=Object.prototype,Qhe=Yhe.hasOwnProperty;function Jhe(e,t){var r=Khe(e),n=!r&&Hhe(e),a=!r&&!n&&Ghe(e),i=!r&&!n&&!a&&Xhe(e),o=r||n||a||i,l=o?Whe(e.length,String):[],c=l.length;for(var u in e)(t||Qhe.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Zhe(u,c)))&&l.push(u);return l}var eme=Jhe,tme=Object.prototype;function rme(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||tme;return e===r}var nme=rme;function ame(e,t){return function(r){return e(t(r))}}var KF=ame,sme=KF,ime=sme(Object.keys,Object),ome=ime,lme=nme,cme=ome,ume=Object.prototype,dme=ume.hasOwnProperty;function fme(e){if(!lme(e))return cme(e);var t=[];for(var r in Object(e))dme.call(e,r)&&r!="constructor"&&t.push(r);return t}var hme=fme,mme=ZS,pme=h2;function gme(e){return e!=null&&pme(e.length)&&!mme(e)}var tg=gme,vme=eme,yme=hme,xme=tg;function bme(e){return xme(e)?vme(e):yme(e)}var s0=bme,wme=Dfe,jme=Hfe,Nme=s0;function _me(e){return wme(e,Nme,jme)}var kme=_me,bP=kme,Sme=1,Ome=Object.prototype,Cme=Ome.hasOwnProperty;function Eme(e,t,r,n,a,i){var o=r&Sme,l=bP(e),c=l.length,u=bP(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:Cme.call(t,h)))return!1}var m=i.get(e),v=i.get(t);if(m&&v)return m==t&&v==e;var p=!0;i.set(e,t),i.set(t,e);for(var b=o;++f<c;){h=l[f];var x=e[h],y=t[h];if(n)var w=o?n(y,x,h,t,e,i):n(x,y,h,e,t,i);if(!(w===void 0?x===y||a(x,y,r,n,i):w)){p=!1;break}b||(b=h=="constructor")}if(p&&!b){var j=e.constructor,N=t.constructor;j!=N&&"constructor"in e&&"constructor"in t&&!(typeof j=="function"&&j instanceof j&&typeof N=="function"&&N instanceof N)&&(p=!1)}return i.delete(e),i.delete(t),p}var Ame=Eme,Pme=Qc,Tme=hi,Mme=Pme(Tme,"DataView"),Rme=Mme,Ime=Qc,Dme=hi,Lme=Ime(Dme,"Promise"),zme=Lme,Fme=Qc,$me=hi,qme=Fme($me,"Set"),GF=qme,Bme=Qc,Ume=hi,Vme=Bme(Ume,"WeakMap"),Wme=Vme,AN=Rme,PN=YS,TN=zme,MN=GF,RN=Wme,ZF=so,qf=eF,wP="[object Map]",Hme="[object Object]",jP="[object Promise]",NP="[object Set]",_P="[object WeakMap]",kP="[object DataView]",Kme=qf(AN),Gme=qf(PN),Zme=qf(TN),Xme=qf(MN),Yme=qf(RN),Jl=ZF;(AN&&Jl(new AN(new ArrayBuffer(1)))!=kP||PN&&Jl(new PN)!=wP||TN&&Jl(TN.resolve())!=jP||MN&&Jl(new MN)!=NP||RN&&Jl(new RN)!=_P)&&(Jl=function(e){var t=ZF(e),r=t==Hme?e.constructor:void 0,n=r?qf(r):"";if(n)switch(n){case Kme:return kP;case Gme:return wP;case Zme:return jP;case Xme:return NP;case Yme:return _P}return t});var Qme=Jl,ij=LF,Jme=qF,epe=Pfe,tpe=Ame,SP=Qme,OP=ta,CP=VF,rpe=HF,npe=1,EP="[object Arguments]",AP="[object Array]",Jg="[object Object]",ape=Object.prototype,PP=ape.hasOwnProperty;function spe(e,t,r,n,a,i){var o=OP(e),l=OP(t),c=o?AP:SP(e),u=l?AP:SP(t);c=c==EP?Jg:c,u=u==EP?Jg:u;var d=c==Jg,f=u==Jg,h=c==u;if(h&&CP(e)){if(!CP(t))return!1;o=!0,d=!1}if(h&&!d)return i||(i=new ij),o||rpe(e)?Jme(e,t,r,n,a,i):epe(e,t,c,r,n,a,i);if(!(r&npe)){var m=d&&PP.call(e,"__wrapped__"),v=f&&PP.call(t,"__wrapped__");if(m||v){var p=m?e.value():e,b=v?t.value():t;return i||(i=new ij),a(p,b,r,n,i)}}return h?(i||(i=new ij),tpe(e,t,r,n,a,i)):!1}var ipe=spe,ope=ipe,TP=io;function XF(e,t,r,n,a){return e===t?!0:e==null||t==null||!TP(e)&&!TP(t)?e!==e&&t!==t:ope(e,t,r,n,XF,a)}var m2=XF,lpe=LF,cpe=m2,upe=1,dpe=2;function fpe(e,t,r,n){var a=r.length,i=a,o=!n;if(e==null)return!i;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=r[a];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new lpe;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?cpe(d,u,upe|dpe,n,f):h))return!1}}return!0}var hpe=fpe,mpe=Sl;function ppe(e){return e===e&&!mpe(e)}var YF=ppe,gpe=YF,vpe=s0;function ype(e){for(var t=vpe(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,gpe(a)]}return t}var xpe=ype;function bpe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var QF=bpe,wpe=hpe,jpe=xpe,Npe=QF;function _pe(e){var t=jpe(e);return t.length==1&&t[0][2]?Npe(t[0][0],t[0][1]):function(r){return r===e||wpe(r,e,t)}}var kpe=_pe;function Spe(e,t){return e!=null&&t in Object(e)}var Ope=Spe,Cpe=sF,Epe=d2,Ape=ta,Ppe=f2,Tpe=h2,Mpe=Ub;function Rpe(e,t,r){t=Cpe(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var o=Mpe(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&Tpe(a)&&Ppe(o,a)&&(Ape(e)||Epe(e)))}var Ipe=Rpe,Dpe=Ope,Lpe=Ipe;function zpe(e,t){return e!=null&&Lpe(e,t,Dpe)}var Fpe=zpe,$pe=m2,qpe=iF,Bpe=Fpe,Upe=GS,Vpe=YF,Wpe=QF,Hpe=Ub,Kpe=1,Gpe=2;function Zpe(e,t){return Upe(e)&&Vpe(t)?Wpe(Hpe(e),t):function(r){var n=qpe(r,e);return n===void 0&&n===t?Bpe(r,e):$pe(t,n,Kpe|Gpe)}}var Xpe=Zpe;function Ype(e){return e}var Bf=Ype;function Qpe(e){return function(t){return t==null?void 0:t[e]}}var Jpe=Qpe,ege=t2;function tge(e){return function(t){return ege(t,e)}}var rge=tge,nge=Jpe,age=rge,sge=GS,ige=Ub;function oge(e){return sge(e)?nge(ige(e)):age(e)}var lge=oge,cge=kpe,uge=Xpe,dge=Bf,fge=ta,hge=lge;function mge(e){return typeof e=="function"?e:e==null?dge:typeof e=="object"?fge(e)?uge(e[0],e[1]):cge(e):hge(e)}var mi=mge;function pge(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var JF=pge;function gge(e){return e!==e}var vge=gge;function yge(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var xge=yge,bge=JF,wge=vge,jge=xge;function Nge(e,t,r){return t===t?jge(e,t,r):bge(e,wge,r)}var _ge=Nge,kge=_ge;function Sge(e,t){var r=e==null?0:e.length;return!!r&&kge(e,t,0)>-1}var Oge=Sge;function Cge(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var Ege=Cge;function Age(){}var Pge=Age,oj=GF,Tge=Pge,Mge=u2,Rge=1/0,Ige=oj&&1/Mge(new oj([,-0]))[1]==Rge?function(e){return new oj(e)}:Tge,Dge=Ige,Lge=zF,zge=Oge,Fge=Ege,$ge=$F,qge=Dge,Bge=u2,Uge=200;function Vge(e,t,r){var n=-1,a=zge,i=e.length,o=!0,l=[],c=l;if(r)o=!1,a=Fge;else if(i>=Uge){var u=t?null:qge(e);if(u)return Bge(u);o=!1,a=$ge,c=new Lge}else c=t?[]:l;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var Wge=Vge,Hge=mi,Kge=Wge;function Gge(e,t){return e&&e.length?Kge(e,Hge(t)):[]}var Zge=Gge;const MP=Ot(Zge);function e8(e,t,r){return t===!0?MP(e,r):We(t)?MP(e,t):e}function zd(e){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zd(e)}var Xge=["ref"];function RP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _i(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RP(Object(r),!0).forEach(function(n){i0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,r8(n.key),n)}}function Qge(e,t,r){return t&&IP(e.prototype,t),r&&IP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jge(e,t,r){return t=Iy(t),eve(e,t8()?Reflect.construct(t,r||[],Iy(e).constructor):t.apply(e,r))}function eve(e,t){if(t&&(zd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tve(e)}function tve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function t8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t8=function(){return!!e})()}function Iy(e){return Iy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Iy(e)}function rve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&IN(e,t)}function IN(e,t){return IN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},IN(e,t)}function i0(e,t,r){return t=r8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r8(e){var t=nve(e,"string");return zd(t)=="symbol"?t:t+""}function nve(e,t){if(zd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function ave(e,t){if(e==null)return{};var r=sve(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sve(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ive(e){return e.value}function ove(e,t){if(C.isValidElement(e))return C.cloneElement(e,t);if(typeof e=="function")return C.createElement(e,t);t.ref;var r=ave(t,Xge);return C.createElement(c2,r)}var DP=1,Qo=function(e){function t(){var r;Yge(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Jge(this,t,[].concat(a)),i0(r,"lastBoundingBox",{width:-1,height:-1}),r}return rve(t,e),Qge(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,n=this.getBBox();n?(Math.abs(n.width-this.lastBoundingBox.width)>DP||Math.abs(n.height-this.lastBoundingBox.height)>DP)&&(this.lastBoundingBox.width=n.width,this.lastBoundingBox.height=n.height,r&&r(n)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?_i({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var n=this.props,a=n.layout,i=n.align,o=n.verticalAlign,l=n.margin,c=n.chartWidth,u=n.chartHeight,d,f;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(i==="center"&&a==="vertical"){var h=this.getBBoxSnapshot();d={left:((c||0)-h.width)/2}}else d=i==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(o==="middle"){var m=this.getBBoxSnapshot();f={top:((u||0)-m.height)/2}}else f=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return _i(_i({},d),f)}},{key:"render",value:function(){var r=this,n=this.props,a=n.content,i=n.width,o=n.height,l=n.wrapperStyle,c=n.payloadUniqBy,u=n.payload,d=_i(_i({position:"absolute",width:i||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return C.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(f){r.wrapperNode=f}},ove(a,_i(_i({},this.props),{},{payload:e8(u,c,ive)})))}}],[{key:"getWithHeight",value:function(r,n){var a=_i(_i({},this.defaultProps),r.props),i=a.layout;return i==="vertical"&&je(r.props.height)?{height:r.props.height}:i==="horizontal"?{width:r.props.width||n}:null}}])}(g.PureComponent);i0(Qo,"displayName","Legend");i0(Qo,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var LP=eg,lve=d2,cve=ta,zP=LP?LP.isConcatSpreadable:void 0;function uve(e){return cve(e)||lve(e)||!!(zP&&e&&e[zP])}var dve=uve,fve=BF,hve=dve;function n8(e,t,r,n,a){var i=-1,o=e.length;for(r||(r=hve),a||(a=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?n8(l,t-1,r,n,a):fve(a,l):n||(a[a.length]=l)}return a}var a8=n8;function mve(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++a];if(r(i[c],c,i)===!1)break}return t}}var pve=mve,gve=pve,vve=gve(),yve=vve,xve=yve,bve=s0;function wve(e,t){return e&&xve(e,t,bve)}var s8=wve,jve=tg;function Nve(e,t){return function(r,n){if(r==null)return r;if(!jve(r))return e(r,n);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&n(o[i],i,o)!==!1;);return r}}var _ve=Nve,kve=s8,Sve=_ve,Ove=Sve(kve),p2=Ove,Cve=p2,Eve=tg;function Ave(e,t){var r=-1,n=Eve(e)?Array(e.length):[];return Cve(e,function(a,i,o){n[++r]=t(a,i,o)}),n}var i8=Ave;function Pve(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var Tve=Pve,FP=Rf;function Mve(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=FP(e),o=t!==void 0,l=t===null,c=t===t,u=FP(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!a)return 1;if(!n&&!i&&!u&&e<t||u&&r&&a&&!n&&!i||l&&r&&a||!o&&a||!c)return-1}return 0}var Rve=Mve,Ive=Rve;function Dve(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,o=a.length,l=r.length;++n<o;){var c=Ive(a[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var Lve=Dve,lj=e2,zve=t2,Fve=mi,$ve=i8,qve=Tve,Bve=WF,Uve=Lve,Vve=Bf,Wve=ta;function Hve(e,t,r){t.length?t=lj(t,function(i){return Wve(i)?function(o){return zve(o,i.length===1?i[0]:i)}:i}):t=[Vve];var n=-1;t=lj(t,Bve(Fve));var a=$ve(e,function(i,o,l){var c=lj(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return qve(a,function(i,o){return Uve(i,o,r)})}var Kve=Hve;function Gve(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Zve=Gve,Xve=Zve,$P=Math.max;function Yve(e,t,r){return t=$P(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=$P(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),Xve(e,this,l)}}var Qve=Yve;function Jve(e){return function(){return e}}var eye=Jve,tye=Qc,rye=function(){try{var e=tye(Object,"defineProperty");return e({},"",{}),e}catch{}}(),o8=rye,nye=eye,qP=o8,aye=Bf,sye=qP?function(e,t){return qP(e,"toString",{configurable:!0,enumerable:!1,value:nye(t),writable:!0})}:aye,iye=sye,oye=800,lye=16,cye=Date.now;function uye(e){var t=0,r=0;return function(){var n=cye(),a=lye-(n-r);if(r=n,a>0){if(++t>=oye)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var dye=uye,fye=iye,hye=dye,mye=hye(fye),pye=mye,gye=Bf,vye=Qve,yye=pye;function xye(e,t){return yye(vye(e,t,gye),e+"")}var bye=xye,wye=XS,jye=tg,Nye=f2,_ye=Sl;function kye(e,t,r){if(!_ye(r))return!1;var n=typeof t;return(n=="number"?jye(r)&&Nye(t,r.length):n=="string"&&t in r)?wye(r[t],e):!1}var o0=kye,Sye=a8,Oye=Kve,Cye=bye,BP=o0,Eye=Cye(function(e,t){if(e==null)return[];var r=t.length;return r>1&&BP(e,t[0],t[1])?t=[]:r>2&&BP(t[0],t[1],t[2])&&(t=[t[0]]),Oye(e,Sye(t,1),[])}),Aye=Eye;const g2=Ot(Aye);function Wm(e){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wm(e)}function DN(){return DN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},DN.apply(this,arguments)}function Pye(e,t){return Iye(e)||Rye(e,t)||Mye(e,t)||Tye()}function Tye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mye(e,t){if(e){if(typeof e=="string")return UP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UP(e,t)}}function UP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Rye(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Iye(e){if(Array.isArray(e))return e}function VP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VP(Object(r),!0).forEach(function(n){Dye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dye(e,t,r){return t=Lye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lye(e){var t=zye(e,"string");return Wm(t)=="symbol"?t:t+""}function zye(e,t){if(Wm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fye(e){return Array.isArray(e)&&Ur(e[0])&&Ur(e[1])?e.join(" ~ "):e}var $ye=function(e){var t=e.separator,r=t===void 0?" : ":t,n=e.contentStyle,a=n===void 0?{}:n,i=e.itemStyle,o=i===void 0?{}:i,l=e.labelStyle,c=l===void 0?{}:l,u=e.payload,d=e.formatter,f=e.itemSorter,h=e.wrapperClassName,m=e.labelClassName,v=e.label,p=e.labelFormatter,b=e.accessibilityLayer,x=b===void 0?!1:b,y=function(){if(u&&u.length){var T={padding:0,margin:0},P=(f?g2(u,f):u).map(function(S,R){if(S.type==="none")return null;var M=cj({display:"block",paddingTop:4,paddingBottom:4,color:S.color||"#000"},o),B=S.formatter||d||Fye,U=S.value,F=S.name,z=U,I=F;if(B&&z!=null&&I!=null){var G=B(U,F,S,R,u);if(Array.isArray(G)){var L=Pye(G,2);z=L[0],I=L[1]}else z=G}return C.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(R),style:M},Ur(I)?C.createElement("span",{className:"recharts-tooltip-item-name"},I):null,Ur(I)?C.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,C.createElement("span",{className:"recharts-tooltip-item-value"},z),C.createElement("span",{className:"recharts-tooltip-item-unit"},S.unit||""))});return C.createElement("ul",{className:"recharts-tooltip-item-list",style:T},P)}return null},w=cj({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),j=cj({margin:0},c),N=!Ke(v),_=N?v:"",k=Ye("recharts-default-tooltip",h),O=Ye("recharts-tooltip-label",m);N&&p&&u!==void 0&&u!==null&&(_=p(v,u));var E=x?{role:"status","aria-live":"assertive"}:{};return C.createElement("div",DN({className:k,style:w},E),C.createElement("p",{className:O,style:j},C.isValidElement(_)?_:"".concat(_)),y())};function Hm(e){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hm(e)}function ev(e,t,r){return t=qye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qye(e){var t=Bye(e,"string");return Hm(t)=="symbol"?t:t+""}function Bye(e,t){if(Hm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kh="recharts-tooltip-wrapper",Uye={visibility:"hidden"};function Vye(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Ye(kh,ev(ev(ev(ev({},"".concat(kh,"-right"),je(r)&&t&&je(t.x)&&r>=t.x),"".concat(kh,"-left"),je(r)&&t&&je(t.x)&&r<t.x),"".concat(kh,"-bottom"),je(n)&&t&&je(t.y)&&n>=t.y),"".concat(kh,"-top"),je(n)&&t&&je(t.y)&&n<t.y))}function WP(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&je(i[n]))return i[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var h=d,m=c[n];return h<m?Math.max(f,c[n]):Math.max(d,c[n])}var v=f+l,p=c[n]+u;return v>p?Math.max(d,c[n]):Math.max(f,c[n])}function Wye(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Hye(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=WP({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=WP({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=Wye({translateX:d,translateY:f,useTranslate3d:l})):u=Uye,{cssProperties:u,cssClasses:Vye({translateX:d,translateY:f,coordinate:r})}}function Fd(e){"@babel/helpers - typeof";return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fd(e)}function HP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function KP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HP(Object(r),!0).forEach(function(n){zN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gye(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c8(n.key),n)}}function Zye(e,t,r){return t&&Gye(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xye(e,t,r){return t=Dy(t),Yye(e,l8()?Reflect.construct(t,r||[],Dy(e).constructor):t.apply(e,r))}function Yye(e,t){if(t&&(Fd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qye(e)}function Qye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l8=function(){return!!e})()}function Dy(e){return Dy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Dy(e)}function Jye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&LN(e,t)}function LN(e,t){return LN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},LN(e,t)}function zN(e,t,r){return t=c8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c8(e){var t=exe(e,"string");return Fd(t)=="symbol"?t:t+""}function exe(e,t){if(Fd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var GP=1,txe=function(e){function t(){var r;Kye(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Xye(this,t,[].concat(a)),zN(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),zN(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return Jye(t,e),Zye(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>GP||Math.abs(r.height-this.state.lastBoundingBox.height)>GP)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,n;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,n=this.props,a=n.active,i=n.allowEscapeViewBox,o=n.animationDuration,l=n.animationEasing,c=n.children,u=n.coordinate,d=n.hasPayload,f=n.isAnimationActive,h=n.offset,m=n.position,v=n.reverseDirection,p=n.useTranslate3d,b=n.viewBox,x=n.wrapperStyle,y=Hye({allowEscapeViewBox:i,coordinate:u,offsetTopLeft:h,position:m,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:p,viewBox:b}),w=y.cssClasses,j=y.cssProperties,N=KP(KP({transition:f&&a?"transform ".concat(o,"ms ").concat(l):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&d?"visible":"hidden",position:"absolute",top:0,left:0},x);return C.createElement("div",{tabIndex:-1,className:w,style:N,ref:function(_){r.wrapperNode=_}},c)}}])}(g.PureComponent),rxe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},pi={isSsr:rxe()};function $d(e){"@babel/helpers - typeof";return $d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$d(e)}function ZP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function XP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZP(Object(r),!0).forEach(function(n){v2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function axe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d8(n.key),n)}}function sxe(e,t,r){return t&&axe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ixe(e,t,r){return t=Ly(t),oxe(e,u8()?Reflect.construct(t,r||[],Ly(e).constructor):t.apply(e,r))}function oxe(e,t){if(t&&($d(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lxe(e)}function lxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u8=function(){return!!e})()}function Ly(e){return Ly=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ly(e)}function cxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FN(e,t)}function FN(e,t){return FN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},FN(e,t)}function v2(e,t,r){return t=d8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d8(e){var t=uxe(e,"string");return $d(t)=="symbol"?t:t+""}function uxe(e,t){if($d(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($d(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function dxe(e){return e.dataKey}function fxe(e,t){return C.isValidElement(e)?C.cloneElement(e,t):typeof e=="function"?C.createElement(e,t):C.createElement($ye,t)}var Ra=function(e){function t(){return nxe(this,t),ixe(this,t,arguments)}return cxe(t,e),sxe(t,[{key:"render",value:function(){var r=this,n=this.props,a=n.active,i=n.allowEscapeViewBox,o=n.animationDuration,l=n.animationEasing,c=n.content,u=n.coordinate,d=n.filterNull,f=n.isAnimationActive,h=n.offset,m=n.payload,v=n.payloadUniqBy,p=n.position,b=n.reverseDirection,x=n.useTranslate3d,y=n.viewBox,w=n.wrapperStyle,j=m??[];d&&j.length&&(j=e8(m.filter(function(_){return _.value!=null&&(_.hide!==!0||r.props.includeHidden)}),v,dxe));var N=j.length>0;return C.createElement(txe,{allowEscapeViewBox:i,animationDuration:o,animationEasing:l,isAnimationActive:f,active:a,coordinate:u,hasPayload:N,offset:h,position:p,reverseDirection:b,useTranslate3d:x,viewBox:y,wrapperStyle:w},fxe(c,XP(XP({},this.props),{},{payload:j})))}}])}(g.PureComponent);v2(Ra,"displayName","Tooltip");v2(Ra,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!pi.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var hxe=hi,mxe=function(){return hxe.Date.now()},pxe=mxe,gxe=/\s/;function vxe(e){for(var t=e.length;t--&&gxe.test(e.charAt(t)););return t}var yxe=vxe,xxe=yxe,bxe=/^\s+/;function wxe(e){return e&&e.slice(0,xxe(e)+1).replace(bxe,"")}var jxe=wxe,Nxe=jxe,YP=Sl,_xe=Rf,QP=NaN,kxe=/^[-+]0x[0-9a-f]+$/i,Sxe=/^0b[01]+$/i,Oxe=/^0o[0-7]+$/i,Cxe=parseInt;function Exe(e){if(typeof e=="number")return e;if(_xe(e))return QP;if(YP(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=YP(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Nxe(e);var r=Sxe.test(e);return r||Oxe.test(e)?Cxe(e.slice(2),r?2:8):kxe.test(e)?QP:+e}var f8=Exe,Axe=Sl,uj=pxe,JP=f8,Pxe="Expected a function",Txe=Math.max,Mxe=Math.min;function Rxe(e,t,r){var n,a,i,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(Pxe);t=JP(t)||0,Axe(r)&&(d=!!r.leading,f="maxWait"in r,i=f?Txe(JP(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function m(_){var k=n,O=a;return n=a=void 0,u=_,o=e.apply(O,k),o}function v(_){return u=_,l=setTimeout(x,t),d?m(_):o}function p(_){var k=_-c,O=_-u,E=t-k;return f?Mxe(E,i-O):E}function b(_){var k=_-c,O=_-u;return c===void 0||k>=t||k<0||f&&O>=i}function x(){var _=uj();if(b(_))return y(_);l=setTimeout(x,p(_))}function y(_){return l=void 0,h&&n?m(_):(n=a=void 0,o)}function w(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function j(){return l===void 0?o:y(uj())}function N(){var _=uj(),k=b(_);if(n=arguments,a=this,c=_,k){if(l===void 0)return v(c);if(f)return clearTimeout(l),l=setTimeout(x,t),m(c)}return l===void 0&&(l=setTimeout(x,t)),o}return N.cancel=w,N.flush=j,N}var Ixe=Rxe,Dxe=Ixe,Lxe=Sl,zxe="Expected a function";function Fxe(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(zxe);return Lxe(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),Dxe(e,t,{leading:n,maxWait:t,trailing:a})}var $xe=Fxe;const h8=Ot($xe);function Km(e){"@babel/helpers - typeof";return Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Km(e)}function eT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eT(Object(r),!0).forEach(function(n){qxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qxe(e,t,r){return t=Bxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bxe(e){var t=Uxe(e,"string");return Km(t)=="symbol"?t:t+""}function Uxe(e,t){if(Km(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vxe(e,t){return Gxe(e)||Kxe(e,t)||Hxe(e,t)||Wxe()}function Wxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hxe(e,t){if(e){if(typeof e=="string")return tT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tT(e,t)}}function tT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Kxe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Gxe(e){if(Array.isArray(e))return e}var dj=g.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,m=e.children,v=e.debounce,p=v===void 0?0:v,b=e.id,x=e.className,y=e.onResize,w=e.style,j=w===void 0?{}:w,N=g.useRef(null),_=g.useRef();_.current=y,g.useImperativeHandle(t,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var k=g.useState({containerWidth:a.width,containerHeight:a.height}),O=Vxe(k,2),E=O[0],T=O[1],P=g.useCallback(function(R,M){T(function(B){var U=Math.round(R),F=Math.round(M);return B.containerWidth===U&&B.containerHeight===F?B:{containerWidth:U,containerHeight:F}})},[]);g.useEffect(function(){var R=function(z){var I,G=z[0].contentRect,L=G.width,$=G.height;P(L,$),(I=_.current)===null||I===void 0||I.call(_,L,$)};p>0&&(R=h8(R,p,{trailing:!0,leading:!1}));var M=new ResizeObserver(R),B=N.current.getBoundingClientRect(),U=B.width,F=B.height;return P(U,F),M.observe(N.current),function(){M.disconnect()}},[P,p]);var S=g.useMemo(function(){var R=E.containerWidth,M=E.containerHeight;if(R<0||M<0)return null;Ss(cc(o)||cc(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Ss(!r||r>0,"The aspect(%s) must be greater than zero.",r);var B=cc(o)?R:o,U=cc(c)?M:c;r&&r>0&&(B?U=B/r:U&&(B=U*r),h&&U>h&&(U=h)),Ss(B>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,U,o,c,d,f,r);var F=!Array.isArray(m)&&Bi(m.type).endsWith("Chart");return C.Children.map(m,function(z){return C.isValidElement(z)?g.cloneElement(z,tv({width:B,height:U},F?{style:tv({height:"100%",width:"100%",maxHeight:U,maxWidth:B},z.props.style)}:{})):z})},[r,m,c,h,f,d,E,o]);return C.createElement("div",{id:b?"".concat(b):void 0,className:Ye("recharts-responsive-container",x),style:tv(tv({},j),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:N},S)}),Uf=function(e){return null};Uf.displayName="Cell";function Gm(e){"@babel/helpers - typeof";return Gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gm(e)}function rT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $N(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rT(Object(r),!0).forEach(function(n){Zxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zxe(e,t,r){return t=Xxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xxe(e){var t=Yxe(e,"string");return Gm(t)=="symbol"?t:t+""}function Yxe(e,t){if(Gm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cu={widthCache:{},cacheCount:0},Qxe=2e3,Jxe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},nT="recharts_measurement_span";function ebe(e){var t=$N({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var rm=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||pi.isSsr)return{width:0,height:0};var r=ebe(t),n=JSON.stringify({text:e,copyStyle:r});if(Cu.widthCache[n])return Cu.widthCache[n];try{var a=document.getElementById(nT);a||(a=document.createElement("span"),a.setAttribute("id",nT),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var i=$N($N({},Jxe),r);Object.assign(a.style,i),a.textContent="".concat(e);var o=a.getBoundingClientRect(),l={width:o.width,height:o.height};return Cu.widthCache[n]=l,++Cu.cacheCount>Qxe&&(Cu.cacheCount=0,Cu.widthCache={}),l}catch{return{width:0,height:0}}},tbe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Zm(e){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zm(e)}function zy(e,t){return sbe(e)||abe(e,t)||nbe(e,t)||rbe()}function rbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nbe(e,t){if(e){if(typeof e=="string")return aT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aT(e,t)}}function aT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function abe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function sbe(e){if(Array.isArray(e))return e}function ibe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lbe(n.key),n)}}function obe(e,t,r){return t&&sT(e.prototype,t),r&&sT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function lbe(e){var t=cbe(e,"string");return Zm(t)=="symbol"?t:t+""}function cbe(e,t){if(Zm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var iT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,oT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ube=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,dbe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,m8={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},fbe=Object.keys(m8),Ju="NaN";function hbe(e,t){return e*m8[t]}var rv=function(){function e(t,r){ibe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!ube.test(r)&&(this.num=NaN,this.unit=""),fbe.includes(r)&&(this.num=hbe(t,r),this.unit="px")}return obe(e,[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(t){var r,n=(r=dbe.exec(t))!==null&&r!==void 0?r:[],a=zy(n,3),i=a[1],o=a[2];return new e(parseFloat(i),o??"")}}])}();function p8(e){if(e.includes(Ju))return Ju;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=iT.exec(t))!==null&&r!==void 0?r:[],a=zy(n,4),i=a[1],o=a[2],l=a[3],c=rv.parse(i??""),u=rv.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Ju;t=t.replace(iT,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=oT.exec(t))!==null&&f!==void 0?f:[],m=zy(h,4),v=m[1],p=m[2],b=m[3],x=rv.parse(v??""),y=rv.parse(b??""),w=p==="+"?x.add(y):x.subtract(y);if(w.isNaN())return Ju;t=t.replace(oT,w.toString())}return t}var lT=/\(([^()]*)\)/;function mbe(e){for(var t=e;t.includes("(");){var r=lT.exec(t),n=zy(r,2),a=n[1];t=t.replace(lT,p8(a))}return t}function pbe(e){var t=e.replace(/\s+/g,"");return t=mbe(t),t=p8(t),t}function gbe(e){try{return pbe(e)}catch{return Ju}}function fj(e){var t=gbe(e.slice(5,-1));return t===Ju?"":t}var vbe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],ybe=["dx","dy","angle","className","breakAll"];function qN(){return qN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qN.apply(this,arguments)}function cT(e,t){if(e==null)return{};var r=xbe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function uT(e,t){return Nbe(e)||jbe(e,t)||wbe(e,t)||bbe()}function bbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wbe(e,t){if(e){if(typeof e=="string")return dT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dT(e,t)}}function dT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jbe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Nbe(e){if(Array.isArray(e))return e}var g8=/[ \f\n\r\t\v\u2028\u2029]+/,v8=function(e){var t=e.children,r=e.breakAll,n=e.style;try{var a=[];Ke(t)||(r?a=t.toString().split(""):a=t.toString().split(g8));var i=a.map(function(l){return{word:l,width:rm(l,n).width}}),o=r?0:rm(" ",n).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}},_be=function(e,t,r,n,a){var i=e.maxLines,o=e.children,l=e.style,c=e.breakAll,u=je(i),d=o,f=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return R.reduce(function(M,B){var U=B.word,F=B.width,z=M[M.length-1];if(z&&(n==null||a||z.width+F+r<Number(n)))z.words.push(U),z.width+=F+r;else{var I={words:[U],width:F};M.push(I)}return M},[])},h=f(t),m=function(R){return R.reduce(function(M,B){return M.width>B.width?M:B})};if(!u)return h;for(var v="…",p=function(R){var M=d.slice(0,R),B=v8({breakAll:c,style:l,children:M+v}).wordsWithComputedWidth,U=f(B),F=U.length>i||m(U).width>Number(n);return[F,U]},b=0,x=d.length-1,y=0,w;b<=x&&y<=d.length-1;){var j=Math.floor((b+x)/2),N=j-1,_=p(N),k=uT(_,2),O=k[0],E=k[1],T=p(j),P=uT(T,1),S=P[0];if(!O&&!S&&(b=j+1),O&&S&&(x=j-1),!O&&S){w=E;break}y++}return w||h},fT=function(e){var t=Ke(e)?[]:e.toString().split(g8);return[{words:t}]},kbe=function(e){var t=e.width,r=e.scaleToFit,n=e.children,a=e.style,i=e.breakAll,o=e.maxLines;if((t||r)&&!pi.isSsr){var l,c,u=v8({breakAll:i,children:n,style:a});if(u){var d=u.wordsWithComputedWidth,f=u.spaceWidth;l=d,c=f}else return fT(n);return _be({breakAll:i,children:n,maxLines:o,style:a},l,c,t,r)}return fT(n)},hT="#808080",Ic=function(e){var t=e.x,r=t===void 0?0:t,n=e.y,a=n===void 0?0:n,i=e.lineHeight,o=i===void 0?"1em":i,l=e.capHeight,c=l===void 0?"0.71em":l,u=e.scaleToFit,d=u===void 0?!1:u,f=e.textAnchor,h=f===void 0?"start":f,m=e.verticalAnchor,v=m===void 0?"end":m,p=e.fill,b=p===void 0?hT:p,x=cT(e,vbe),y=g.useMemo(function(){return kbe({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:d,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,d,x.style,x.width]),w=x.dx,j=x.dy,N=x.angle,_=x.className,k=x.breakAll,O=cT(x,ybe);if(!Ur(r)||!Ur(a))return null;var E=r+(je(w)?w:0),T=a+(je(j)?j:0),P;switch(v){case"start":P=fj("calc(".concat(c,")"));break;case"middle":P=fj("calc(".concat((y.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:P=fj("calc(".concat(y.length-1," * -").concat(o,")"));break}var S=[];if(d){var R=y[0].width,M=x.width;S.push("scale(".concat((je(M)?M/R:1)/R,")"))}return N&&S.push("rotate(".concat(N,", ").concat(E,", ").concat(T,")")),S.length&&(O.transform=S.join(" ")),C.createElement("text",qN({},ze(O,!0),{x:E,y:T,className:Ye("recharts-text",_),textAnchor:h,fill:b.includes("url")?hT:b}),y.map(function(B,U){var F=B.words.join(k?"":" ");return C.createElement("tspan",{x:E,dy:U===0?P:o,key:"".concat(F,"-").concat(U)},F)}))};function Jo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Sbe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function y2(e){let t,r,n;e.length!==2?(t=Jo,r=(l,c)=>Jo(e(l),c),n=(l,c)=>e(l)-c):(t=e===Jo||e===Sbe?e:Obe,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:i}}function Obe(){return 0}function y8(e){return e===null?NaN:+e}function*Cbe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Ebe=y2(Jo),rg=Ebe.right;y2(y8).center;class mT extends Map{constructor(t,r=Tbe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(pT(this,t))}has(t){return super.has(pT(this,t))}set(t,r){return super.set(Abe(this,t),r)}delete(t){return super.delete(Pbe(this,t))}}function pT({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Abe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Pbe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Tbe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Mbe(e=Jo){if(e===Jo)return x8;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function x8(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Rbe=Math.sqrt(50),Ibe=Math.sqrt(10),Dbe=Math.sqrt(2);function Fy(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=Rbe?10:i>=Ibe?5:i>=Dbe?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Fy(e,t,r*2):[l,c,u]}function BN(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?Fy(t,e,r):Fy(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function UN(e,t,r){return t=+t,e=+e,r=+r,Fy(e,t,r)[2]}function VN(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?UN(t,e,r):UN(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function gT(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function vT(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function b8(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?x8:Mbe(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),v=Math.min(n,Math.floor(t+(c-u)*f/c+h));b8(e,t,m,v,a)}const i=e[t];let o=r,l=n;for(Sh(e,r,t),a(e[n],i)>0&&Sh(e,r,n);o<l;){for(Sh(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?Sh(e,r,l):(++l,Sh(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Sh(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Lbe(e,t,r){if(e=Float64Array.from(Cbe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return vT(e);if(t>=1)return gT(e);var n,a=(n-1)*t,i=Math.floor(a),o=gT(b8(e,i).subarray(0,i+1)),l=vT(e.subarray(i+1));return o+(l-o)*(a-i)}}function zbe(e,t,r=y8){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function Fbe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Ya(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function oo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const WN=Symbol("implicit");function x2(){var e=new mT,t=[],r=[],n=WN;function a(i){let o=e.get(i);if(o===void 0){if(n!==WN)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new mT;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return x2(t,r).unknown(n)},Ya.apply(a,arguments),a}function Xm(){var e=x2().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<n,v=m?a:n,p=m?n:a;i=(p-v)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),v+=(p-v-i*(h-c))*d,o=i*(1-c),l&&(v=Math.round(v),o=Math.round(o));var b=Fbe(h).map(function(x){return v+i*x});return r(m?b.reverse():b)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Xm(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},Ya.apply(f(),arguments)}function w8(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return w8(t())},e}function nm(){return w8(Xm.apply(null,arguments).paddingInner(1))}function b2(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function j8(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function ng(){}var Ym=.7,$y=1/Ym,gd="\\s*([+-]?\\d+)\\s*",Qm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",si="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$be=/^#([0-9a-f]{3,8})$/,qbe=new RegExp(`^rgb\\(${gd},${gd},${gd}\\)$`),Bbe=new RegExp(`^rgb\\(${si},${si},${si}\\)$`),Ube=new RegExp(`^rgba\\(${gd},${gd},${gd},${Qm}\\)$`),Vbe=new RegExp(`^rgba\\(${si},${si},${si},${Qm}\\)$`),Wbe=new RegExp(`^hsl\\(${Qm},${si},${si}\\)$`),Hbe=new RegExp(`^hsla\\(${Qm},${si},${si},${Qm}\\)$`),yT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};b2(ng,Jm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:xT,formatHex:xT,formatHex8:Kbe,formatHsl:Gbe,formatRgb:bT,toString:bT});function xT(){return this.rgb().formatHex()}function Kbe(){return this.rgb().formatHex8()}function Gbe(){return N8(this).formatHsl()}function bT(){return this.rgb().formatRgb()}function Jm(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=$be.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?wT(t):r===3?new Kn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?nv(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?nv(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=qbe.exec(e))?new Kn(t[1],t[2],t[3],1):(t=Bbe.exec(e))?new Kn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Ube.exec(e))?nv(t[1],t[2],t[3],t[4]):(t=Vbe.exec(e))?nv(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Wbe.exec(e))?_T(t[1],t[2]/100,t[3]/100,1):(t=Hbe.exec(e))?_T(t[1],t[2]/100,t[3]/100,t[4]):yT.hasOwnProperty(e)?wT(yT[e]):e==="transparent"?new Kn(NaN,NaN,NaN,0):null}function wT(e){return new Kn(e>>16&255,e>>8&255,e&255,1)}function nv(e,t,r,n){return n<=0&&(e=t=r=NaN),new Kn(e,t,r,n)}function Zbe(e){return e instanceof ng||(e=Jm(e)),e?(e=e.rgb(),new Kn(e.r,e.g,e.b,e.opacity)):new Kn}function HN(e,t,r,n){return arguments.length===1?Zbe(e):new Kn(e,t,r,n??1)}function Kn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}b2(Kn,HN,j8(ng,{brighter(e){return e=e==null?$y:Math.pow($y,e),new Kn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ym:Math.pow(Ym,e),new Kn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Kn(yc(this.r),yc(this.g),yc(this.b),qy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:jT,formatHex:jT,formatHex8:Xbe,formatRgb:NT,toString:NT}));function jT(){return`#${uc(this.r)}${uc(this.g)}${uc(this.b)}`}function Xbe(){return`#${uc(this.r)}${uc(this.g)}${uc(this.b)}${uc((isNaN(this.opacity)?1:this.opacity)*255)}`}function NT(){const e=qy(this.opacity);return`${e===1?"rgb(":"rgba("}${yc(this.r)}, ${yc(this.g)}, ${yc(this.b)}${e===1?")":`, ${e})`}`}function qy(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function yc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function uc(e){return e=yc(e),(e<16?"0":"")+e.toString(16)}function _T(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new vs(e,t,r,n)}function N8(e){if(e instanceof vs)return new vs(e.h,e.s,e.l,e.opacity);if(e instanceof ng||(e=Jm(e)),!e)return new vs;if(e instanceof vs)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new vs(o,l,c,e.opacity)}function Ybe(e,t,r,n){return arguments.length===1?N8(e):new vs(e,t,r,n??1)}function vs(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}b2(vs,Ybe,j8(ng,{brighter(e){return e=e==null?$y:Math.pow($y,e),new vs(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ym:Math.pow(Ym,e),new vs(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Kn(hj(e>=240?e-240:e+120,a,n),hj(e,a,n),hj(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new vs(kT(this.h),av(this.s),av(this.l),qy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=qy(this.opacity);return`${e===1?"hsl(":"hsla("}${kT(this.h)}, ${av(this.s)*100}%, ${av(this.l)*100}%${e===1?")":`, ${e})`}`}}));function kT(e){return e=(e||0)%360,e<0?e+360:e}function av(e){return Math.max(0,Math.min(1,e||0))}function hj(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const w2=e=>()=>e;function Qbe(e,t){return function(r){return e+r*t}}function Jbe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function e0e(e){return(e=+e)==1?_8:function(t,r){return r-t?Jbe(t,r,e):w2(isNaN(t)?r:t)}}function _8(e,t){var r=t-e;return r?Qbe(e,r):w2(isNaN(e)?t:e)}const ST=function e(t){var r=e0e(t);function n(a,i){var o=r((a=HN(a)).r,(i=HN(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=_8(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function t0e(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function r0e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function n0e(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=Vf(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function a0e(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function By(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function s0e(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Vf(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var KN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,mj=new RegExp(KN.source,"g");function i0e(e){return function(){return e}}function o0e(e){return function(t){return e(t)+""}}function l0e(e,t){var r=KN.lastIndex=mj.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=KN.exec(e))&&(a=mj.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:By(n,a)})),r=mj.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?o0e(c[0].x):i0e(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Vf(e,t){var r=typeof t,n;return t==null||r==="boolean"?w2(t):(r==="number"?By:r==="string"?(n=Jm(t))?(t=n,ST):l0e:t instanceof Jm?ST:t instanceof Date?a0e:r0e(t)?t0e:Array.isArray(t)?n0e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?s0e:By)(e,t)}function j2(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function c0e(e,t){t===void 0&&(t=e,e=Vf);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function u0e(e){return function(){return e}}function Uy(e){return+e}var OT=[0,1];function On(e){return e}function GN(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:u0e(isNaN(t)?NaN:.5)}function d0e(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function f0e(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=GN(a,n),i=r(o,i)):(n=GN(n,a),i=r(i,o)),function(l){return i(n(l))}}function h0e(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=GN(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=rg(e,l,1,n)-1;return i[c](a[c](l))}}function ag(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function l0(){var e=OT,t=OT,r=Vf,n,a,i,o=On,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==On&&(o=d0e(e[0],e[h-1])),l=h>2?h0e:f0e,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=l(t,e.map(n),By)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Uy),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=j2,d()},f.clamp=function(h){return arguments.length?(o=h?!0:On,d()):o!==On},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,m){return n=h,a=m,d()}}function N2(){return l0()(On,On)}function m0e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Vy(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function qd(e){return e=Vy(Math.abs(e)),e?e[1]:NaN}function p0e(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function g0e(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var v0e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ep(e){if(!(t=v0e.exec(e)))throw new Error("invalid format: "+e);var t;return new _2({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ep.prototype=_2.prototype;function _2(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}_2.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function y0e(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var k8;function x0e(e,t){var r=Vy(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(k8=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Vy(e,Math.max(0,t+i-1))[0]}function CT(e,t){var r=Vy(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const ET={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:m0e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>CT(e*100,t),r:CT,s:x0e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function AT(e){return e}var PT=Array.prototype.map,TT=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function b0e(e){var t=e.grouping===void 0||e.thousands===void 0?AT:p0e(PT.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?AT:g0e(PT.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=ep(f);var h=f.fill,m=f.align,v=f.sign,p=f.symbol,b=f.zero,x=f.width,y=f.comma,w=f.precision,j=f.trim,N=f.type;N==="n"?(y=!0,N="g"):ET[N]||(w===void 0&&(w=12),j=!0,N="g"),(b||h==="0"&&m==="=")&&(b=!0,h="0",m="=");var _=p==="$"?r:p==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",k=p==="$"?n:/[%p]/.test(N)?o:"",O=ET[N],E=/[defgprs%]/.test(N);w=w===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function T(P){var S=_,R=k,M,B,U;if(N==="c")R=O(P)+R,P="";else{P=+P;var F=P<0||1/P<0;if(P=isNaN(P)?c:O(Math.abs(P),w),j&&(P=y0e(P)),F&&+P==0&&v!=="+"&&(F=!1),S=(F?v==="("?v:l:v==="-"||v==="("?"":v)+S,R=(N==="s"?TT[8+k8/3]:"")+R+(F&&v==="("?")":""),E){for(M=-1,B=P.length;++M<B;)if(U=P.charCodeAt(M),48>U||U>57){R=(U===46?a+P.slice(M+1):P.slice(M))+R,P=P.slice(0,M);break}}}y&&!b&&(P=t(P,1/0));var z=S.length+P.length+R.length,I=z<x?new Array(x-z+1).join(h):"";switch(y&&b&&(P=t(I+P,I.length?x-R.length:1/0),I=""),m){case"<":P=S+P+R+I;break;case"=":P=S+I+P+R;break;case"^":P=I.slice(0,z=I.length>>1)+S+P+R+I.slice(z);break;default:P=I+S+P+R;break}return i(P)}return T.toString=function(){return f+""},T}function d(f,h){var m=u((f=ep(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(qd(h)/3)))*3,p=Math.pow(10,-v),b=TT[8+v/3];return function(x){return m(p*x)+b}}return{format:u,formatPrefix:d}}var sv,k2,S8;w0e({thousands:",",grouping:[3],currency:["$",""]});function w0e(e){return sv=b0e(e),k2=sv.format,S8=sv.formatPrefix,sv}function j0e(e){return Math.max(0,-qd(Math.abs(e)))}function N0e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(qd(t)/3)))*3-qd(Math.abs(e)))}function _0e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,qd(t)-qd(e))+1}function O8(e,t,r,n){var a=VN(e,t,r),i;switch(n=ep(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=N0e(a,o))&&(n.precision=i),S8(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=_0e(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=j0e(a))&&(n.precision=i-(n.type==="%")*2);break}}return k2(n)}function Cl(e){var t=e.domain;return e.ticks=function(r){var n=t();return BN(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return O8(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=UN(o,l,r),u===c)return n[a]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function Wy(){var e=N2();return e.copy=function(){return ag(e,Wy())},Ya.apply(e,arguments),Cl(e)}function C8(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Uy),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return C8(e).unknown(t)},e=arguments.length?Array.from(e,Uy):[0,1],Cl(r)}function E8(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function MT(e){return Math.log(e)}function RT(e){return Math.exp(e)}function k0e(e){return-Math.log(-e)}function S0e(e){return-Math.exp(-e)}function O0e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function C0e(e){return e===10?O0e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function E0e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function IT(e){return(t,r)=>-e(-t,r)}function S2(e){const t=e(MT,RT),r=t.domain;let n=10,a,i;function o(){return a=E0e(n),i=C0e(n),r()[0]<0?(a=IT(a),i=IT(i),e(k0e,S0e)):e(MT,RT),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),m=a(d),v,p;const b=l==null?10:+l;let x=[];if(!(n%1)&&m-h<b){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(v=1;v<n;++v)if(p=h<0?v/i(-h):v*i(h),!(p<u)){if(p>d)break;x.push(p)}}else for(;h<=m;++h)for(v=n-1;v>=1;--v)if(p=h>0?v/i(-h):v*i(h),!(p<u)){if(p>d)break;x.push(p)}x.length*2<b&&(x=BN(u,d,b))}else x=BN(h,m,Math.min(m-h,b)).map(i);return f?x.reverse():x},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=ep(c)).precision==null&&(c.trim=!0),c=k2(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(E8(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function A8(){const e=S2(l0()).domain([1,10]);return e.copy=()=>ag(e,A8()).base(e.base()),Ya.apply(e,arguments),e}function DT(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function LT(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function O2(e){var t=1,r=e(DT(t),LT(t));return r.constant=function(n){return arguments.length?e(DT(t=+n),LT(t)):t},Cl(r)}function P8(){var e=O2(l0());return e.copy=function(){return ag(e,P8()).constant(e.constant())},Ya.apply(e,arguments)}function zT(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function A0e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function P0e(e){return e<0?-e*e:e*e}function C2(e){var t=e(On,On),r=1;function n(){return r===1?e(On,On):r===.5?e(A0e,P0e):e(zT(r),zT(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Cl(t)}function E2(){var e=C2(l0());return e.copy=function(){return ag(e,E2()).exponent(e.exponent())},Ya.apply(e,arguments),e}function T0e(){return E2.apply(null,arguments).exponent(.5)}function FT(e){return Math.sign(e)*e*e}function M0e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function T8(){var e=N2(),t=[0,1],r=!1,n;function a(i){var o=M0e(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(FT(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Uy)).map(FT)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return T8(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ya.apply(a,arguments),Cl(a)}function M8(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=zbe(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[rg(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Jo),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return M8().domain(e).range(t).unknown(n)},Ya.apply(i,arguments)}function R8(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[rg(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return R8().domain([e,t]).range(a).unknown(i)},Ya.apply(Cl(o),arguments)}function I8(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[rg(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return I8().domain(e).range(t).unknown(r)},Ya.apply(a,arguments)}const pj=new Date,gj=new Date;function Vr(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},a.filter=i=>Vr(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(pj.setTime(+i),gj.setTime(+o),e(pj),e(gj),Math.floor(r(pj,gj))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const Hy=Vr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Hy.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Vr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Hy);Hy.range;const Ii=1e3,Ba=Ii*60,Di=Ba*60,Qi=Di*24,A2=Qi*7,$T=Qi*30,vj=Qi*365,dc=Vr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ii)},(e,t)=>(t-e)/Ii,e=>e.getUTCSeconds());dc.range;const P2=Vr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ii)},(e,t)=>{e.setTime(+e+t*Ba)},(e,t)=>(t-e)/Ba,e=>e.getMinutes());P2.range;const T2=Vr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ba)},(e,t)=>(t-e)/Ba,e=>e.getUTCMinutes());T2.range;const M2=Vr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ii-e.getMinutes()*Ba)},(e,t)=>{e.setTime(+e+t*Di)},(e,t)=>(t-e)/Di,e=>e.getHours());M2.range;const R2=Vr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Di)},(e,t)=>(t-e)/Di,e=>e.getUTCHours());R2.range;const sg=Vr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ba)/Qi,e=>e.getDate()-1);sg.range;const c0=Vr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Qi,e=>e.getUTCDate()-1);c0.range;const D8=Vr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Qi,e=>Math.floor(e/Qi));D8.range;function Jc(e){return Vr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ba)/A2)}const u0=Jc(0),Ky=Jc(1),R0e=Jc(2),I0e=Jc(3),Bd=Jc(4),D0e=Jc(5),L0e=Jc(6);u0.range;Ky.range;R0e.range;I0e.range;Bd.range;D0e.range;L0e.range;function eu(e){return Vr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/A2)}const d0=eu(0),Gy=eu(1),z0e=eu(2),F0e=eu(3),Ud=eu(4),$0e=eu(5),q0e=eu(6);d0.range;Gy.range;z0e.range;F0e.range;Ud.range;$0e.range;q0e.range;const I2=Vr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());I2.range;const D2=Vr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());D2.range;const Ji=Vr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ji.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Vr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ji.range;const eo=Vr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());eo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Vr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});eo.range;function L8(e,t,r,n,a,i){const o=[[dc,1,Ii],[dc,5,5*Ii],[dc,15,15*Ii],[dc,30,30*Ii],[i,1,Ba],[i,5,5*Ba],[i,15,15*Ba],[i,30,30*Ba],[a,1,Di],[a,3,3*Di],[a,6,6*Di],[a,12,12*Di],[n,1,Qi],[n,2,2*Qi],[r,1,A2],[t,1,$T],[t,3,3*$T],[e,1,vj]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),v=m?m.range(u,+d+1):[];return h?v.reverse():v}function c(u,d,f){const h=Math.abs(d-u)/f,m=y2(([,,b])=>b).right(o,h);if(m===o.length)return e.every(VN(u/vj,d/vj,f));if(m===0)return Hy.every(Math.max(VN(u,d,f),1));const[v,p]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return v.every(p)}return[l,c]}const[B0e,U0e]=L8(eo,D2,d0,D8,R2,T2),[V0e,W0e]=L8(Ji,I2,u0,sg,M2,P2);function yj(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function xj(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Oh(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function H0e(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Ch(a),d=Eh(a),f=Ch(i),h=Eh(i),m=Ch(o),v=Eh(o),p=Ch(l),b=Eh(l),x=Ch(c),y=Eh(c),w={a:F,A:z,b:I,B:G,c:null,d:HT,e:HT,f:pwe,g:kwe,G:Owe,H:fwe,I:hwe,j:mwe,L:z8,m:gwe,M:vwe,p:L,q:$,Q:ZT,s:XT,S:ywe,u:xwe,U:bwe,V:wwe,w:jwe,W:Nwe,x:null,X:null,y:_we,Y:Swe,Z:Cwe,"%":GT},j={a:J,A:K,b:D,B:oe,c:null,d:KT,e:KT,f:Twe,g:Bwe,G:Vwe,H:Ewe,I:Awe,j:Pwe,L:$8,m:Mwe,M:Rwe,p:V,q:de,Q:ZT,s:XT,S:Iwe,u:Dwe,U:Lwe,V:zwe,w:Fwe,W:$we,x:null,X:null,y:qwe,Y:Uwe,Z:Wwe,"%":GT},N={a:T,A:P,b:S,B:R,c:M,d:VT,e:VT,f:lwe,g:UT,G:BT,H:WT,I:WT,j:awe,L:owe,m:nwe,M:swe,p:E,q:rwe,Q:uwe,s:dwe,S:iwe,u:Y0e,U:Q0e,V:J0e,w:X0e,W:ewe,x:B,X:U,y:UT,Y:BT,Z:twe,"%":cwe};w.x=_(r,w),w.X=_(n,w),w.c=_(t,w),j.x=_(r,j),j.X=_(n,j),j.c=_(t,j);function _(te,ce){return function(ne){var ee=[],Be=-1,Ie=0,ut=te.length,it,Xe,Y;for(ne instanceof Date||(ne=new Date(+ne));++Be<ut;)te.charCodeAt(Be)===37&&(ee.push(te.slice(Ie,Be)),(Xe=qT[it=te.charAt(++Be)])!=null?it=te.charAt(++Be):Xe=it==="e"?" ":"0",(Y=ce[it])&&(it=Y(ne,Xe)),ee.push(it),Ie=Be+1);return ee.push(te.slice(Ie,Be)),ee.join("")}}function k(te,ce){return function(ne){var ee=Oh(1900,void 0,1),Be=O(ee,te,ne+="",0),Ie,ut;if(Be!=ne.length)return null;if("Q"in ee)return new Date(ee.Q);if("s"in ee)return new Date(ee.s*1e3+("L"in ee?ee.L:0));if(ce&&!("Z"in ee)&&(ee.Z=0),"p"in ee&&(ee.H=ee.H%12+ee.p*12),ee.m===void 0&&(ee.m="q"in ee?ee.q:0),"V"in ee){if(ee.V<1||ee.V>53)return null;"w"in ee||(ee.w=1),"Z"in ee?(Ie=xj(Oh(ee.y,0,1)),ut=Ie.getUTCDay(),Ie=ut>4||ut===0?Gy.ceil(Ie):Gy(Ie),Ie=c0.offset(Ie,(ee.V-1)*7),ee.y=Ie.getUTCFullYear(),ee.m=Ie.getUTCMonth(),ee.d=Ie.getUTCDate()+(ee.w+6)%7):(Ie=yj(Oh(ee.y,0,1)),ut=Ie.getDay(),Ie=ut>4||ut===0?Ky.ceil(Ie):Ky(Ie),Ie=sg.offset(Ie,(ee.V-1)*7),ee.y=Ie.getFullYear(),ee.m=Ie.getMonth(),ee.d=Ie.getDate()+(ee.w+6)%7)}else("W"in ee||"U"in ee)&&("w"in ee||(ee.w="u"in ee?ee.u%7:"W"in ee?1:0),ut="Z"in ee?xj(Oh(ee.y,0,1)).getUTCDay():yj(Oh(ee.y,0,1)).getDay(),ee.m=0,ee.d="W"in ee?(ee.w+6)%7+ee.W*7-(ut+5)%7:ee.w+ee.U*7-(ut+6)%7);return"Z"in ee?(ee.H+=ee.Z/100|0,ee.M+=ee.Z%100,xj(ee)):yj(ee)}}function O(te,ce,ne,ee){for(var Be=0,Ie=ce.length,ut=ne.length,it,Xe;Be<Ie;){if(ee>=ut)return-1;if(it=ce.charCodeAt(Be++),it===37){if(it=ce.charAt(Be++),Xe=N[it in qT?ce.charAt(Be++):it],!Xe||(ee=Xe(te,ne,ee))<0)return-1}else if(it!=ne.charCodeAt(ee++))return-1}return ee}function E(te,ce,ne){var ee=u.exec(ce.slice(ne));return ee?(te.p=d.get(ee[0].toLowerCase()),ne+ee[0].length):-1}function T(te,ce,ne){var ee=m.exec(ce.slice(ne));return ee?(te.w=v.get(ee[0].toLowerCase()),ne+ee[0].length):-1}function P(te,ce,ne){var ee=f.exec(ce.slice(ne));return ee?(te.w=h.get(ee[0].toLowerCase()),ne+ee[0].length):-1}function S(te,ce,ne){var ee=x.exec(ce.slice(ne));return ee?(te.m=y.get(ee[0].toLowerCase()),ne+ee[0].length):-1}function R(te,ce,ne){var ee=p.exec(ce.slice(ne));return ee?(te.m=b.get(ee[0].toLowerCase()),ne+ee[0].length):-1}function M(te,ce,ne){return O(te,t,ce,ne)}function B(te,ce,ne){return O(te,r,ce,ne)}function U(te,ce,ne){return O(te,n,ce,ne)}function F(te){return o[te.getDay()]}function z(te){return i[te.getDay()]}function I(te){return c[te.getMonth()]}function G(te){return l[te.getMonth()]}function L(te){return a[+(te.getHours()>=12)]}function $(te){return 1+~~(te.getMonth()/3)}function J(te){return o[te.getUTCDay()]}function K(te){return i[te.getUTCDay()]}function D(te){return c[te.getUTCMonth()]}function oe(te){return l[te.getUTCMonth()]}function V(te){return a[+(te.getUTCHours()>=12)]}function de(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var ce=_(te+="",w);return ce.toString=function(){return te},ce},parse:function(te){var ce=k(te+="",!1);return ce.toString=function(){return te},ce},utcFormat:function(te){var ce=_(te+="",j);return ce.toString=function(){return te},ce},utcParse:function(te){var ce=k(te+="",!0);return ce.toString=function(){return te},ce}}}var qT={"-":"",_:" ",0:"0"},en=/^\s*\d+/,K0e=/^%/,G0e=/[\\^$*+?|[\]().{}]/g;function kt(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function Z0e(e){return e.replace(G0e,"\\$&")}function Ch(e){return new RegExp("^(?:"+e.map(Z0e).join("|")+")","i")}function Eh(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function X0e(e,t,r){var n=en.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Y0e(e,t,r){var n=en.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Q0e(e,t,r){var n=en.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function J0e(e,t,r){var n=en.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function ewe(e,t,r){var n=en.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function BT(e,t,r){var n=en.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function UT(e,t,r){var n=en.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function twe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function rwe(e,t,r){var n=en.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function nwe(e,t,r){var n=en.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function VT(e,t,r){var n=en.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function awe(e,t,r){var n=en.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function WT(e,t,r){var n=en.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function swe(e,t,r){var n=en.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function iwe(e,t,r){var n=en.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function owe(e,t,r){var n=en.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function lwe(e,t,r){var n=en.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function cwe(e,t,r){var n=K0e.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function uwe(e,t,r){var n=en.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function dwe(e,t,r){var n=en.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function HT(e,t){return kt(e.getDate(),t,2)}function fwe(e,t){return kt(e.getHours(),t,2)}function hwe(e,t){return kt(e.getHours()%12||12,t,2)}function mwe(e,t){return kt(1+sg.count(Ji(e),e),t,3)}function z8(e,t){return kt(e.getMilliseconds(),t,3)}function pwe(e,t){return z8(e,t)+"000"}function gwe(e,t){return kt(e.getMonth()+1,t,2)}function vwe(e,t){return kt(e.getMinutes(),t,2)}function ywe(e,t){return kt(e.getSeconds(),t,2)}function xwe(e){var t=e.getDay();return t===0?7:t}function bwe(e,t){return kt(u0.count(Ji(e)-1,e),t,2)}function F8(e){var t=e.getDay();return t>=4||t===0?Bd(e):Bd.ceil(e)}function wwe(e,t){return e=F8(e),kt(Bd.count(Ji(e),e)+(Ji(e).getDay()===4),t,2)}function jwe(e){return e.getDay()}function Nwe(e,t){return kt(Ky.count(Ji(e)-1,e),t,2)}function _we(e,t){return kt(e.getFullYear()%100,t,2)}function kwe(e,t){return e=F8(e),kt(e.getFullYear()%100,t,2)}function Swe(e,t){return kt(e.getFullYear()%1e4,t,4)}function Owe(e,t){var r=e.getDay();return e=r>=4||r===0?Bd(e):Bd.ceil(e),kt(e.getFullYear()%1e4,t,4)}function Cwe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+kt(t/60|0,"0",2)+kt(t%60,"0",2)}function KT(e,t){return kt(e.getUTCDate(),t,2)}function Ewe(e,t){return kt(e.getUTCHours(),t,2)}function Awe(e,t){return kt(e.getUTCHours()%12||12,t,2)}function Pwe(e,t){return kt(1+c0.count(eo(e),e),t,3)}function $8(e,t){return kt(e.getUTCMilliseconds(),t,3)}function Twe(e,t){return $8(e,t)+"000"}function Mwe(e,t){return kt(e.getUTCMonth()+1,t,2)}function Rwe(e,t){return kt(e.getUTCMinutes(),t,2)}function Iwe(e,t){return kt(e.getUTCSeconds(),t,2)}function Dwe(e){var t=e.getUTCDay();return t===0?7:t}function Lwe(e,t){return kt(d0.count(eo(e)-1,e),t,2)}function q8(e){var t=e.getUTCDay();return t>=4||t===0?Ud(e):Ud.ceil(e)}function zwe(e,t){return e=q8(e),kt(Ud.count(eo(e),e)+(eo(e).getUTCDay()===4),t,2)}function Fwe(e){return e.getUTCDay()}function $we(e,t){return kt(Gy.count(eo(e)-1,e),t,2)}function qwe(e,t){return kt(e.getUTCFullYear()%100,t,2)}function Bwe(e,t){return e=q8(e),kt(e.getUTCFullYear()%100,t,2)}function Uwe(e,t){return kt(e.getUTCFullYear()%1e4,t,4)}function Vwe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Ud(e):Ud.ceil(e),kt(e.getUTCFullYear()%1e4,t,4)}function Wwe(){return"+0000"}function GT(){return"%"}function ZT(e){return+e}function XT(e){return Math.floor(+e/1e3)}var Eu,B8,U8;Hwe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Hwe(e){return Eu=H0e(e),B8=Eu.format,Eu.parse,U8=Eu.utcFormat,Eu.utcParse,Eu}function Kwe(e){return new Date(e)}function Gwe(e){return e instanceof Date?+e:+new Date(+e)}function L2(e,t,r,n,a,i,o,l,c,u){var d=N2(),f=d.invert,h=d.domain,m=u(".%L"),v=u(":%S"),p=u("%I:%M"),b=u("%I %p"),x=u("%a %d"),y=u("%b %d"),w=u("%B"),j=u("%Y");function N(_){return(c(_)<_?m:l(_)<_?v:o(_)<_?p:i(_)<_?b:n(_)<_?a(_)<_?x:y:r(_)<_?w:j)(_)}return d.invert=function(_){return new Date(f(_))},d.domain=function(_){return arguments.length?h(Array.from(_,Gwe)):h().map(Kwe)},d.ticks=function(_){var k=h();return e(k[0],k[k.length-1],_??10)},d.tickFormat=function(_,k){return k==null?N:u(k)},d.nice=function(_){var k=h();return(!_||typeof _.range!="function")&&(_=t(k[0],k[k.length-1],_??10)),_?h(E8(k,_)):d},d.copy=function(){return ag(d,L2(e,t,r,n,a,i,o,l,c,u))},d}function Zwe(){return Ya.apply(L2(V0e,W0e,Ji,I2,u0,sg,M2,P2,dc,B8).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Xwe(){return Ya.apply(L2(B0e,U0e,eo,D2,d0,c0,R2,T2,dc,U8).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function f0(){var e=0,t=1,r,n,a,i,o=On,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,v;return arguments.length?([m,v]=h,o=f(m,v),u):[o(0),o(1)]}}return u.range=d(Vf),u.rangeRound=d(j2),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function El(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function V8(){var e=Cl(f0()(On));return e.copy=function(){return El(e,V8())},oo.apply(e,arguments)}function W8(){var e=S2(f0()).domain([1,10]);return e.copy=function(){return El(e,W8()).base(e.base())},oo.apply(e,arguments)}function H8(){var e=O2(f0());return e.copy=function(){return El(e,H8()).constant(e.constant())},oo.apply(e,arguments)}function z2(){var e=C2(f0());return e.copy=function(){return El(e,z2()).exponent(e.exponent())},oo.apply(e,arguments)}function Ywe(){return z2.apply(null,arguments).exponent(.5)}function K8(){var e=[],t=On;function r(n){if(n!=null&&!isNaN(n=+n))return t((rg(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Jo),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>Lbe(e,i/n))},r.copy=function(){return K8(t).domain(e)},oo.apply(r,arguments)}function h0(){var e=0,t=.5,r=1,n=1,a,i,o,l,c,u=On,d,f=!1,h;function m(p){return isNaN(p=+p)?h:(p=.5+((p=+d(p))-i)*(n*p<n*i?l:c),u(f?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([e,t,r]=p,a=d(e=+e),i=d(t=+t),o=d(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m):[e,t,r]},m.clamp=function(p){return arguments.length?(f=!!p,m):f},m.interpolator=function(p){return arguments.length?(u=p,m):u};function v(p){return function(b){var x,y,w;return arguments.length?([x,y,w]=b,u=c0e(p,[x,y,w]),m):[u(0),u(.5),u(1)]}}return m.range=v(Vf),m.rangeRound=v(j2),m.unknown=function(p){return arguments.length?(h=p,m):h},function(p){return d=p,a=p(e),i=p(t),o=p(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m}}function G8(){var e=Cl(h0()(On));return e.copy=function(){return El(e,G8())},oo.apply(e,arguments)}function Z8(){var e=S2(h0()).domain([.1,1,10]);return e.copy=function(){return El(e,Z8()).base(e.base())},oo.apply(e,arguments)}function X8(){var e=O2(h0());return e.copy=function(){return El(e,X8()).constant(e.constant())},oo.apply(e,arguments)}function F2(){var e=C2(h0());return e.copy=function(){return El(e,F2()).exponent(e.exponent())},oo.apply(e,arguments)}function Qwe(){return F2.apply(null,arguments).exponent(.5)}const YT=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Xm,scaleDiverging:G8,scaleDivergingLog:Z8,scaleDivergingPow:F2,scaleDivergingSqrt:Qwe,scaleDivergingSymlog:X8,scaleIdentity:C8,scaleImplicit:WN,scaleLinear:Wy,scaleLog:A8,scaleOrdinal:x2,scalePoint:nm,scalePow:E2,scaleQuantile:M8,scaleQuantize:R8,scaleRadial:T8,scaleSequential:V8,scaleSequentialLog:W8,scaleSequentialPow:z2,scaleSequentialQuantile:K8,scaleSequentialSqrt:Ywe,scaleSequentialSymlog:H8,scaleSqrt:T0e,scaleSymlog:P8,scaleThreshold:I8,scaleTime:Zwe,scaleUtc:Xwe,tickFormat:O8},Symbol.toStringTag,{value:"Module"}));var Jwe=Rf;function eje(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!Jwe(o):r(o,l)))var l=o,c=i}return c}var m0=eje;function tje(e,t){return e>t}var Y8=tje,rje=m0,nje=Y8,aje=Bf;function sje(e){return e&&e.length?rje(e,aje,nje):void 0}var ije=sje;const Lo=Ot(ije);function oje(e,t){return e<t}var Q8=oje,lje=m0,cje=Q8,uje=Bf;function dje(e){return e&&e.length?lje(e,uje,cje):void 0}var fje=dje;const p0=Ot(fje);var hje=e2,mje=mi,pje=i8,gje=ta;function vje(e,t){var r=gje(e)?hje:pje;return r(e,mje(t))}var yje=vje,xje=a8,bje=yje;function wje(e,t){return xje(bje(e,t),1)}var jje=wje;const Nje=Ot(jje);var _je=m2;function kje(e,t){return _je(e,t)}var Sje=kje;const to=Ot(Sje);var Wf=1e9,Oje={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},q2,ar=!0,Za="[DecimalError] ",xc=Za+"Invalid argument: ",$2=Za+"Exponent out of range: ",Hf=Math.floor,ec=Math.pow,Cje=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ga,Kr=1e7,Xt=7,J8=9007199254740991,Zy=Hf(J8/Xt),Re={};Re.absoluteValue=Re.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Re.comparedTo=Re.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Re.decimalPlaces=Re.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Xt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Re.dividedBy=Re.div=function(e){return Ui(this,new this.constructor(e))};Re.dividedToIntegerBy=Re.idiv=function(e){var t=this,r=t.constructor;return Dt(Ui(t,new r(e),0,1),r.precision)};Re.equals=Re.eq=function(e){return!this.cmp(e)};Re.exponent=function(){return Ar(this)};Re.greaterThan=Re.gt=function(e){return this.cmp(e)>0};Re.greaterThanOrEqualTo=Re.gte=function(e){return this.cmp(e)>=0};Re.isInteger=Re.isint=function(){return this.e>this.d.length-2};Re.isNegative=Re.isneg=function(){return this.s<0};Re.isPositive=Re.ispos=function(){return this.s>0};Re.isZero=function(){return this.s===0};Re.lessThan=Re.lt=function(e){return this.cmp(e)<0};Re.lessThanOrEqualTo=Re.lte=function(e){return this.cmp(e)<1};Re.logarithm=Re.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(ga))throw Error(Za+"NaN");if(r.s<1)throw Error(Za+(r.s?"NaN":"-Infinity"));return r.eq(ga)?new n(0):(ar=!1,t=Ui(tp(r,i),tp(e,i),i),ar=!0,Dt(t,a))};Re.minus=Re.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?r$(t,e):e$(t,(e.s=-e.s,e))};Re.modulo=Re.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Za+"NaN");return r.s?(ar=!1,t=Ui(r,e,0,1).times(e),ar=!0,r.minus(t)):Dt(new n(r),a)};Re.naturalExponential=Re.exp=function(){return t$(this)};Re.naturalLogarithm=Re.ln=function(){return tp(this)};Re.negated=Re.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Re.plus=Re.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?e$(t,e):r$(t,(e.s=-e.s,e))};Re.precision=Re.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(xc+e);if(t=Ar(a)+1,n=a.d.length-1,r=n*Xt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Re.squareRoot=Re.sqrt=function(){var e,t,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Za+"NaN")}for(e=Ar(l),ar=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Ys(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Hf((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(Ui(l,i,o+2)).times(.5),Ys(i.d).slice(0,o)===(t=Ys(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Dt(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return ar=!0,Dt(n,r)};Re.times=Re.mul=function(e){var t,r,n,a,i,o,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(i=h,h=m,m=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+m[n]*h[a-n-1]+t,i[a--]=l%Kr|0,t=l/Kr|0;i[a]=(i[a]+t)%Kr|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,ar?Dt(e,f.precision):e};Re.toDecimalPlaces=Re.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(di(e,0,Wf),t===void 0?t=n.rounding:di(t,0,8),Dt(r,e+Ar(r)+1,t))};Re.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Dc(n,!0):(di(e,0,Wf),t===void 0?t=a.rounding:di(t,0,8),n=Dt(new a(n),e+1,t),r=Dc(n,!0,e+1)),r};Re.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Dc(a):(di(e,0,Wf),t===void 0?t=i.rounding:di(t,0,8),n=Dt(new i(a),e+Ar(a)+1,t),r=Dc(n.abs(),!1,e+Ar(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Re.toInteger=Re.toint=function(){var e=this,t=e.constructor;return Dt(new t(e),Ar(e)+1,t.rounding)};Re.toNumber=function(){return+this};Re.toPower=Re.pow=function(e){var t,r,n,a,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(ga);if(l=new c(l),!l.s){if(e.s<1)throw Error(Za+"Infinity");return l}if(l.eq(ga))return l;if(n=c.precision,e.eq(ga))return Dt(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=J8){for(a=new c(ga),t=Math.ceil(n/Xt+4),ar=!1;r%2&&(a=a.times(l),JT(a.d,t)),r=Hf(r/2),r!==0;)l=l.times(l),JT(l.d,t);return ar=!0,e.s<0?new c(ga).div(a):Dt(a,n)}}else if(i<0)throw Error(Za+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,ar=!1,a=e.times(tp(l,n+u)),ar=!0,a=t$(a),a.s=i,a};Re.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Ar(a),n=Dc(a,r<=i.toExpNeg||r>=i.toExpPos)):(di(e,1,Wf),t===void 0?t=i.rounding:di(t,0,8),a=Dt(new i(a),e,t),r=Ar(a),n=Dc(a,e<=r||r<=i.toExpNeg,e)),n};Re.toSignificantDigits=Re.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(di(e,1,Wf),t===void 0?t=n.rounding:di(t,0,8)),Dt(new n(r),e,t)};Re.toString=Re.valueOf=Re.val=Re.toJSON=Re[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ar(e),r=e.constructor;return Dc(e,t<=r.toExpNeg||t>=r.toExpPos)};function e$(e,t){var r,n,a,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),ar?Dt(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/Xt),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/Kr|0,c[i]%=Kr;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,ar?Dt(t,f):t}function di(e,t,r){if(e!==~~e||e<t||e>r)throw Error(xc+e)}function Ys(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=Xt-n.length,r&&(i+=So(r)),i+=n;o=e[t],n=o+"",r=Xt-n.length,r&&(i+=So(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Ui=function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%Kr|0,o=i/Kr|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*Kr+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,u,d,f,h,m,v,p,b,x,y,w,j,N,_,k,O,E=n.constructor,T=n.s==a.s?1:-1,P=n.d,S=a.d;if(!n.s)return new E(n);if(!a.s)throw Error(Za+"Division by zero");for(c=n.e-a.e,k=S.length,N=P.length,m=new E(T),v=m.d=[],u=0;S[u]==(P[u]||0);)++u;if(S[u]>(P[u]||0)&&--c,i==null?y=i=E.precision:o?y=i+(Ar(n)-Ar(a))+1:y=i,y<0)return new E(0);if(y=y/Xt+2|0,u=0,k==1)for(d=0,S=S[0],y++;(u<N||d)&&y--;u++)w=d*Kr+(P[u]||0),v[u]=w/S|0,d=w%S|0;else{for(d=Kr/(S[0]+1)|0,d>1&&(S=e(S,d),P=e(P,d),k=S.length,N=P.length),j=k,p=P.slice(0,k),b=p.length;b<k;)p[b++]=0;O=S.slice(),O.unshift(0),_=S[0],S[1]>=Kr/2&&++_;do d=0,l=t(S,p,k,b),l<0?(x=p[0],k!=b&&(x=x*Kr+(p[1]||0)),d=x/_|0,d>1?(d>=Kr&&(d=Kr-1),f=e(S,d),h=f.length,b=p.length,l=t(f,p,h,b),l==1&&(d--,r(f,k<h?O:S,h))):(d==0&&(l=d=1),f=S.slice()),h=f.length,h<b&&f.unshift(0),r(p,f,b),l==-1&&(b=p.length,l=t(S,p,k,b),l<1&&(d++,r(p,k<b?O:S,b))),b=p.length):l===0&&(d++,p=[0]),v[u++]=d,l&&p[0]?p[b++]=P[j]||0:(p=[P[j]],b=1);while((j++<N||p[0]!==void 0)&&y--)}return v[0]||v.shift(),m.e=c,Dt(m,o?i+Ar(m)+1:i)}}();function t$(e,t){var r,n,a,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(Ar(e)>16)throw Error($2+Ar(e));if(!e.s)return new d(ga);for(ar=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(ec(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(ga),d.precision=l;;){if(a=Dt(a.times(e),l),r=r.times(++c),o=i.plus(Ui(a,r,l)),Ys(o.d).slice(0,l)===Ys(i.d).slice(0,l)){for(;u--;)i=Dt(i.times(i),l);return d.precision=f,t==null?(ar=!0,Dt(i,f)):i}i=o}}function Ar(e){for(var t=e.e*Xt,r=e.d[0];r>=10;r/=10)t++;return t}function bj(e,t,r){if(t>e.LN10.sd())throw ar=!0,r&&(e.precision=r),Error(Za+"LN10 precision limit exceeded");return Dt(new e(e.LN10),t)}function So(e){for(var t="";e--;)t+="0";return t}function tp(e,t){var r,n,a,i,o,l,c,u,d,f=1,h=10,m=e,v=m.d,p=m.constructor,b=p.precision;if(m.s<1)throw Error(Za+(m.s?"NaN":"-Infinity"));if(m.eq(ga))return new p(0);if(t==null?(ar=!1,u=b):u=t,m.eq(10))return t==null&&(ar=!0),bj(p,u);if(u+=h,p.precision=u,r=Ys(v),n=r.charAt(0),i=Ar(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=Ys(m.d),n=r.charAt(0),f++;i=Ar(m),n>1?(m=new p("0."+r),i++):m=new p(n+"."+r.slice(1))}else return c=bj(p,u+2,b).times(i+""),m=tp(new p(n+"."+r.slice(1)),u-h).plus(c),p.precision=b,t==null?(ar=!0,Dt(m,b)):m;for(l=o=m=Ui(m.minus(ga),m.plus(ga),u),d=Dt(m.times(m),u),a=3;;){if(o=Dt(o.times(d),u),c=l.plus(Ui(o,new p(a),u)),Ys(c.d).slice(0,u)===Ys(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(bj(p,u+2,b).times(i+""))),l=Ui(l,new p(f),u),p.precision=b,t==null?(ar=!0,Dt(l,b)):l;l=c,a+=2}}function QT(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Hf(r/Xt),e.d=[],n=(r+1)%Xt,r<0&&(n+=Xt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Xt;n<a;)e.d.push(+t.slice(n,n+=Xt));t=t.slice(n),n=Xt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),ar&&(e.e>Zy||e.e<-Zy))throw Error($2+r)}else e.s=0,e.e=0,e.d=[0];return e}function Dt(e,t,r){var n,a,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Xt,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Xt),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=Xt,a=n-Xt+o}if(r!==void 0&&(i=ec(10,o-a-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/ec(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=Ar(e),f.length=1,t=t-i-1,f[0]=ec(10,(Xt-t%Xt)%Xt),e.e=Hf(-t/Xt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=ec(10,Xt-n),f[d]=a>0?(u/ec(10,o-a)%ec(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==Kr&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=Kr)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(ar&&(e.e>Zy||e.e<-Zy))throw Error($2+Ar(e));return e}function r$(e,t){var r,n,a,i,o,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),ar?Dt(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(m/Xt),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=Kr-1;--c[i],c[a]+=Kr}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,ar?Dt(t,m):t):new h(0)}function Dc(e,t,r){var n,a=Ar(e),i=Ys(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+So(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+So(-a-1)+i,r&&(n=r-o)>0&&(i+=So(n))):a>=o?(i+=So(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+So(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=So(n))),e.s<0?"-"+i:i}function JT(e,t){if(e.length>t)return e.length=t,!0}function n$(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(xc+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return QT(o,i.toString())}else if(typeof i!="string")throw Error(xc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,Cje.test(i))QT(o,i);else throw Error(xc+i)}if(a.prototype=Re,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=n$,a.config=a.set=Eje,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function Eje(e){if(!e||typeof e!="object")throw Error(Za+"Object expected");var t,r,n,a=["precision",1,Wf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Hf(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(xc+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(xc+r+": "+n);return this}var q2=n$(Oje);ga=new q2(1);const Rt=q2;function Aje(e){return Rje(e)||Mje(e)||Tje(e)||Pje()}function Pje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tje(e,t){if(e){if(typeof e=="string")return ZN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZN(e,t)}}function Mje(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Rje(e){if(Array.isArray(e))return ZN(e)}function ZN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ije=function(e){return e},a$={},s$=function(e){return e===a$},eM=function(e){return function t(){return arguments.length===0||arguments.length===1&&s$(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},Dje=function e(t,r){return t===1?r:eM(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==a$}).length;return o>=t?r.apply(void 0,a):e(t-o,eM(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return s$(f)?c.shift():f});return r.apply(void 0,Aje(d).concat(c))}))})},g0=function(e){return Dje(e.length,e)},XN=function(e,t){for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},Lje=g0(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),zje=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.length)return Ije;var n=t.reverse(),a=n[0],i=n.slice(1);return function(){return i.reduce(function(o,l){return l(o)},a.apply(void 0,arguments))}},YN=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},i$=function(e){var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t&&a.every(function(o,l){return o===t[l]})||(t=a,r=e.apply(void 0,a)),r}};function Fje(e){var t;return e===0?t=1:t=Math.floor(new Rt(e).abs().log(10).toNumber())+1,t}function $je(e,t,r){for(var n=new Rt(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var qje=g0(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),Bje=g0(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),Uje=g0(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const v0={rangeStep:$je,getDigitCount:Fje,interpolateNumber:qje,uninterpolateNumber:Bje,uninterpolateTruncation:Uje};function QN(e){return Hje(e)||Wje(e)||o$(e)||Vje()}function Vje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wje(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Hje(e){if(Array.isArray(e))return JN(e)}function rp(e,t){return Zje(e)||Gje(e,t)||o$(e,t)||Kje()}function Kje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o$(e,t){if(e){if(typeof e=="string")return JN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JN(e,t)}}function JN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Gje(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function Zje(e){if(Array.isArray(e))return e}function l$(e){var t=rp(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function c$(e,t,r){if(e.lte(0))return new Rt(0);var n=v0.getDigitCount(e.toNumber()),a=new Rt(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new Rt(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new Rt(Math.ceil(c))}function Xje(e,t,r){var n=1,a=new Rt(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Rt(10).pow(v0.getDigitCount(e)-1),a=new Rt(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Rt(Math.floor(e)))}else e===0?a=new Rt(Math.floor((t-1)/2)):r||(a=new Rt(Math.floor(e)));var o=Math.floor((t-1)/2),l=zje(Lje(function(c){return a.add(new Rt(c-o).mul(n)).toNumber()}),XN);return l(0,t)}function u$(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Rt(0),tickMin:new Rt(0),tickMax:new Rt(0)};var i=c$(new Rt(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new Rt(0):(o=new Rt(e).add(t).div(2),o=o.sub(new Rt(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new Rt(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?u$(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new Rt(l).mul(i)),tickMax:o.add(new Rt(c).mul(i))})}function Yje(e){var t=rp(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=l$([r,n]),c=rp(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(QN(XN(0,a-1).map(function(){return 1/0}))):[].concat(QN(XN(0,a-1).map(function(){return-1/0})),[d]);return r>n?YN(f):f}if(u===d)return Xje(u,a,i);var h=u$(u,d,o,i),m=h.step,v=h.tickMin,p=h.tickMax,b=v0.rangeStep(v,p.add(new Rt(.1).mul(m)),m);return r>n?YN(b):b}function Qje(e,t){var r=rp(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=l$([n,a]),l=rp(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=c$(new Rt(u).sub(c).div(d-1),i,0),h=[].concat(QN(v0.rangeStep(new Rt(c),new Rt(u).sub(new Rt(.99).mul(f)),f)),[u]);return n>a?YN(h):h}var Jje=i$(Yje),e1e=i$(Qje),t1e="Invariant failed";function Lc(e,t){throw new Error(t1e)}var r1e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Vd(e){"@babel/helpers - typeof";return Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vd(e)}function Xy(){return Xy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xy.apply(this,arguments)}function n1e(e,t){return o1e(e)||i1e(e,t)||s1e(e,t)||a1e()}function a1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s1e(e,t){if(e){if(typeof e=="string")return tM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tM(e,t)}}function tM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i1e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function o1e(e){if(Array.isArray(e))return e}function l1e(e,t){if(e==null)return{};var r=c1e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function c1e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function u1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d1e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h$(n.key),n)}}function f1e(e,t,r){return t&&d1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function h1e(e,t,r){return t=Yy(t),m1e(e,d$()?Reflect.construct(t,r||[],Yy(e).constructor):t.apply(e,r))}function m1e(e,t){if(t&&(Vd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p1e(e)}function p1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d$=function(){return!!e})()}function Yy(e){return Yy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Yy(e)}function g1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&e_(e,t)}function e_(e,t){return e_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},e_(e,t)}function f$(e,t,r){return t=h$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h$(e){var t=v1e(e,"string");return Vd(t)=="symbol"?t:t+""}function v1e(e,t){if(Vd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Kf=function(e){function t(){return u1e(this,t),h1e(this,t,arguments)}return g1e(t,e),f1e(t,[{key:"render",value:function(){var r=this.props,n=r.offset,a=r.layout,i=r.width,o=r.dataKey,l=r.data,c=r.dataPointFormatter,u=r.xAxis,d=r.yAxis,f=l1e(r,r1e),h=ze(f,!1);this.props.direction==="x"&&u.type!=="number"&&Lc();var m=l.map(function(v){var p=c(v,o),b=p.x,x=p.y,y=p.value,w=p.errorVal;if(!w)return null;var j=[],N,_;if(Array.isArray(w)){var k=n1e(w,2);N=k[0],_=k[1]}else N=_=w;if(a==="vertical"){var O=u.scale,E=x+n,T=E+i,P=E-i,S=O(y-N),R=O(y+_);j.push({x1:R,y1:T,x2:R,y2:P}),j.push({x1:S,y1:E,x2:R,y2:E}),j.push({x1:S,y1:T,x2:S,y2:P})}else if(a==="horizontal"){var M=d.scale,B=b+n,U=B-i,F=B+i,z=M(y-N),I=M(y+_);j.push({x1:U,y1:I,x2:F,y2:I}),j.push({x1:B,y1:z,x2:B,y2:I}),j.push({x1:U,y1:z,x2:F,y2:z})}return C.createElement(Qe,Xy({className:"recharts-errorBar",key:"bar-".concat(j.map(function(G){return"".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))},h),j.map(function(G){return C.createElement("line",Xy({},G,{key:"line-".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))}))});return C.createElement(Qe,{className:"recharts-errorBars"},m)}}])}(C.Component);f$(Kf,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});f$(Kf,"displayName","ErrorBar");function np(e){"@babel/helpers - typeof";return np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},np(e)}function rM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rM(Object(r),!0).forEach(function(n){y1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function y1e(e,t,r){return t=x1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x1e(e){var t=b1e(e,"string");return np(t)=="symbol"?t:t+""}function b1e(e,t){if(np(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(np(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var m$=function(e){var t=e.children,r=e.formattedGraphicalItems,n=e.legendWidth,a=e.legendContent,i=ca(t,Qo);if(!i)return null;var o=Qo.defaultProps,l=o!==void 0?Wl(Wl({},o),i.props):{},c;return i.props&&i.props.payload?c=i.props&&i.props.payload:a==="children"?c=(r||[]).reduce(function(u,d){var f=d.item,h=d.props,m=h.sectors||h.data||[];return u.concat(m.map(function(v){return{type:i.props.iconType||f.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):c=(r||[]).map(function(u){var d=u.item,f=d.type.defaultProps,h=f!==void 0?Wl(Wl({},f),d.props):{},m=h.dataKey,v=h.name,p=h.legendType,b=h.hide;return{inactive:b,dataKey:m,type:l.iconType||p||"square",color:B2(d),value:v||m,payload:h}}),Wl(Wl(Wl({},l),Qo.getWithHeight(i,n)),{},{payload:c,item:i})};function ap(e){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ap(e)}function nM(e){return _1e(e)||N1e(e)||j1e(e)||w1e()}function w1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j1e(e,t){if(e){if(typeof e=="string")return t_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t_(e,t)}}function N1e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _1e(e){if(Array.isArray(e))return t_(e)}function t_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aM(Object(r),!0).forEach(function(n){vd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vd(e,t,r){return t=k1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k1e(e){var t=S1e(e,"string");return ap(t)=="symbol"?t:t+""}function S1e(e,t){if(ap(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bt(e,t,r){return Ke(e)||Ke(t)?r:Ur(t)?wa(e,t,r):We(t)?t(e):r}function Tv(e,t,r,n){var a=Nje(e,function(l){return Bt(l,t)});if(r==="number"){var i=a.filter(function(l){return je(l)||parseFloat(l)});return i.length?[p0(i),Lo(i)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!Ke(l)}):a;return o.map(function(l){return Ur(l)||l instanceof Date?l:""})}var O1e=function(e){var t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,i=-1,o=(t=r==null?void 0:r.length)!==null&&t!==void 0?t:0;if(o<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,c=0;c<o;c++){var u=c>0?n[c-1].coordinate:n[o-1].coordinate,d=n[c].coordinate,f=c>=o-1?n[0].coordinate:n[c+1].coordinate,h=void 0;if(Xr(d-u)!==Xr(f-d)){var m=[];if(Xr(f-d)===Xr(l[1]-l[0])){h=f;var v=d+l[1]-l[0];m[0]=Math.min(v,(v+u)/2),m[1]=Math.max(v,(v+u)/2)}else{h=u;var p=f+l[1]-l[0];m[0]=Math.min(d,(p+d)/2),m[1]=Math.max(d,(p+d)/2)}var b=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>b[0]&&e<=b[1]||e>=m[0]&&e<=m[1]){i=n[c].index;break}}else{var x=Math.min(u,f),y=Math.max(u,f);if(e>(x+d)/2&&e<=(y+d)/2){i=n[c].index;break}}}else for(var w=0;w<o;w++)if(w===0&&e<=(r[w].coordinate+r[w+1].coordinate)/2||w>0&&w<o-1&&e>(r[w].coordinate+r[w-1].coordinate)/2&&e<=(r[w].coordinate+r[w+1].coordinate)/2||w===o-1&&e>(r[w].coordinate+r[w-1].coordinate)/2){i=r[w].index;break}return i},B2=function(e){var t,r=e,n=r.type.displayName,a=(t=e.type)!==null&&t!==void 0&&t.defaultProps?hr(hr({},e.type.defaultProps),e.props):e.props,i=a.stroke,o=a.fill,l;switch(n){case"Line":l=i;break;case"Area":case"Radar":l=i&&i!=="none"?i:o;break;default:l=o;break}return l},C1e=function(e){var t=e.barSize,r=e.totalSize,n=e.stackGroups,a=n===void 0?{}:n;if(!a)return{};for(var i={},o=Object.keys(a),l=0,c=o.length;l<c;l++)for(var u=a[o[l]].stackGroups,d=Object.keys(u),f=0,h=d.length;f<h;f++){var m=u[d[f]],v=m.items,p=m.cateAxisId,b=v.filter(function(_){return Bi(_.type).indexOf("Bar")>=0});if(b&&b.length){var x=b[0].type.defaultProps,y=x!==void 0?hr(hr({},x),b[0].props):b[0].props,w=y.barSize,j=y[p];i[j]||(i[j]=[]);var N=Ke(w)?t:w;i[j].push({item:b[0],stackList:b.slice(1),barSize:Ke(N)?void 0:Sn(N,r,0)})}}return i},E1e=function(e){var t=e.barGap,r=e.barCategoryGap,n=e.bandSize,a=e.sizeList,i=a===void 0?[]:a,o=e.maxBarSize,l=i.length;if(l<1)return null;var c=Sn(t,n,0,!0),u,d=[];if(i[0].barSize===+i[0].barSize){var f=!1,h=n/l,m=i.reduce(function(w,j){return w+j.barSize||0},0);m+=(l-1)*c,m>=n&&(m-=(l-1)*c,c=0),m>=n&&h>0&&(f=!0,h*=.9,m=l*h);var v=(n-m)/2>>0,p={offset:v-c,size:0};u=i.reduce(function(w,j){var N={item:j.item,position:{offset:p.offset+p.size+c,size:f?h:j.barSize}},_=[].concat(nM(w),[N]);return p=_[_.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(k){_.push({item:k,position:p})}),_},d)}else{var b=Sn(r,n,0,!0);n-2*b-(l-1)*c<=0&&(c=0);var x=(n-2*b-(l-1)*c)/l;x>1&&(x>>=0);var y=o===+o?Math.min(x,o):x;u=i.reduce(function(w,j,N){var _=[].concat(nM(w),[{item:j.item,position:{offset:b+(x+c)*N+(x-y)/2,size:y}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(k){_.push({item:k,position:_[_.length-1].position})}),_},d)}return u},A1e=function(e,t,r,n){var a=r.children,i=r.width,o=r.margin,l=i-(o.left||0)-(o.right||0),c=m$({children:a,legendWidth:l});if(c){var u=n||{},d=u.width,f=u.height,h=c.align,m=c.verticalAlign,v=c.layout;if((v==="vertical"||v==="horizontal"&&m==="middle")&&h!=="center"&&je(e[h]))return hr(hr({},e),{},vd({},h,e[h]+(d||0)));if((v==="horizontal"||v==="vertical"&&h==="center")&&m!=="middle"&&je(e[m]))return hr(hr({},e),{},vd({},m,e[m]+(f||0)))}return e},P1e=function(e,t,r){return Ke(t)?!0:e==="horizontal"?t==="yAxis":e==="vertical"||r==="x"?t==="xAxis":r==="y"?t==="yAxis":!0},p$=function(e,t,r,n,a){var i=t.props.children,o=vn(i,Kf).filter(function(c){return P1e(n,a,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return e.reduce(function(c,u){var d=Bt(u,r);if(Ke(d))return c;var f=Array.isArray(d)?[p0(d),Lo(d)]:[d,d],h=l.reduce(function(m,v){var p=Bt(u,v,0),b=f[0]-Math.abs(Array.isArray(p)?p[0]:p),x=f[1]+Math.abs(Array.isArray(p)?p[1]:p);return[Math.min(b,m[0]),Math.max(x,m[1])]},[1/0,-1/0]);return[Math.min(h[0],c[0]),Math.max(h[1],c[1])]},[1/0,-1/0])}return null},T1e=function(e,t,r,n,a){var i=t.map(function(o){return p$(e,o,r,a,n)}).filter(function(o){return!Ke(o)});return i&&i.length?i.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},g$=function(e,t,r,n,a){var i=t.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&p$(e,l,c,n)||Tv(e,c,r,a)});if(r==="number")return i.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return i.reduce(function(l,c){for(var u=0,d=c.length;u<d;u++)o[c[u]]||(o[c[u]]=!0,l.push(c[u]));return l},[])},v$=function(e,t){return e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis"},y$=function(e,t,r,n){if(n)return e.map(function(l){return l.coordinate});var a,i,o=e.map(function(l){return l.coordinate===t&&(a=!0),l.coordinate===r&&(i=!0),l.coordinate});return a||o.push(t),i||o.push(r),o},Li=function(e,t,r){if(!e)return null;var n=e.scale,a=e.duplicateDomain,i=e.type,o=e.range,l=e.realScaleType==="scaleBand"?n.bandwidth()/2:2,c=(t||r)&&i==="category"&&n.bandwidth?n.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?Xr(o[0]-o[1])*2*c:c,t&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(d){var f=a?a.indexOf(d):d;return{coordinate:n(f)+c,value:d,offset:c}});return u.filter(function(d){return!Ff(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,f){return{coordinate:n(d)+c,value:d,index:f,offset:c}}):n.ticks&&!r?n.ticks(e.tickCount).map(function(d){return{coordinate:n(d)+c,value:d,offset:c}}):n.domain().map(function(d,f){return{coordinate:n(d)+c,value:a?a[d]:d,index:f,offset:c}})},wj=new WeakMap,iv=function(e,t){if(typeof t!="function")return e;wj.has(e)||wj.set(e,new WeakMap);var r=wj.get(e);if(r.has(t))return r.get(t);var n=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return r.set(t,n),n},x$=function(e,t,r){var n=e.scale,a=e.type,i=e.layout,o=e.axisType;if(n==="auto")return i==="radial"&&o==="radiusAxis"?{scale:Xm(),realScaleType:"band"}:i==="radial"&&o==="angleAxis"?{scale:Wy(),realScaleType:"linear"}:a==="category"&&t&&(t.indexOf("LineChart")>=0||t.indexOf("AreaChart")>=0||t.indexOf("ComposedChart")>=0&&!r)?{scale:nm(),realScaleType:"point"}:a==="category"?{scale:Xm(),realScaleType:"band"}:{scale:Wy(),realScaleType:"linear"};if(Rc(n)){var l="scale".concat(e0(n));return{scale:(YT[l]||nm)(),realScaleType:YT[l]?l:"point"}}return We(n)?{scale:n}:{scale:nm(),realScaleType:"point"}},sM=1e-4,b$=function(e){var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-sM,i=Math.max(n[0],n[1])+sM,o=e(t[0]),l=e(t[r-1]);(o<a||o>i||l<a||l>i)&&e.domain([t[0],t[r-1]])}},w$=function(e,t){if(!e)return null;for(var r=0,n=e.length;r<n;r++)if(e[r].item===t)return e[r].position;return null},j$=function(e,t){if(!t||t.length!==2||!je(t[0])||!je(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!je(e[0])||e[0]<r)&&(a[0]=r),(!je(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},M1e=function(e){var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0,o=0;o<t;++o){var l=Ff(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1]):(e[o][r][0]=i,e[o][r][1]=i+l,i=e[o][r][1])}},R1e=function(e){var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0;i<t;++i){var o=Ff(e[i][r][1])?e[i][r][0]:e[i][r][1];o>=0?(e[i][r][0]=a,e[i][r][1]=a+o,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},I1e={sign:M1e,expand:rde,none:Dd,silhouette:nde,wiggle:ade,positive:R1e},D1e=function(e,t,r){var n=t.map(function(o){return o.props.dataKey}),a=I1e[r],i=tde().keys(n).value(function(o,l){return+Bt(o,l,0)}).order(SN).offset(a);return i(e)},L1e=function(e,t,r,n,a,i){if(!e)return null;var o=i?t.reverse():t,l={},c=o.reduce(function(d,f){var h,m=(h=f.type)!==null&&h!==void 0&&h.defaultProps?hr(hr({},f.type.defaultProps),f.props):f.props,v=m.stackId,p=m.hide;if(p)return d;var b=m[r],x=d[b]||{hasStack:!1,stackGroups:{}};if(Ur(v)){var y=x.stackGroups[v]||{numericAxisId:r,cateAxisId:n,items:[]};y.items.push(f),x.hasStack=!0,x.stackGroups[v]=y}else x.stackGroups[Ol("_stackId_")]={numericAxisId:r,cateAxisId:n,items:[f]};return hr(hr({},d),{},vd({},b,x))},l),u={};return Object.keys(c).reduce(function(d,f){var h=c[f];if(h.hasStack){var m={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(v,p){var b=h.stackGroups[p];return hr(hr({},v),{},vd({},p,{numericAxisId:r,cateAxisId:n,items:b.items,stackedData:D1e(e,b.items,a)}))},m)}return hr(hr({},d),{},vd({},f,h))},u)},N$=function(e,t){var r=t.realScaleType,n=t.type,a=t.tickCount,i=t.originalDomain,o=t.allowDecimals,l=r||t.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&n==="number"&&i&&(i[0]==="auto"||i[1]==="auto")){var c=e.domain();if(!c.length)return null;var u=Jje(c,a,o);return e.domain([p0(u),Lo(u)]),{niceTicks:u}}if(a&&n==="number"){var d=e.domain(),f=e1e(d,a,o);return{niceTicks:f}}return null};function Wd(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ke(a[t.dataKey])){var l=_y(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=Bt(a,Ke(o)?t.dataKey:o);return Ke(c)?null:t.scale(c)}var Qy=function(e){var t=e.axis,r=e.ticks,n=e.offset,a=e.bandSize,i=e.entry,o=e.index;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var l=Bt(i,t.dataKey,t.domain[o]);return Ke(l)?null:t.scale(l)-a/2+n},_$=function(e){var t=e.numericAxis,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},z1e=function(e,t){var r,n=(r=e.type)!==null&&r!==void 0&&r.defaultProps?hr(hr({},e.type.defaultProps),e.props):e.props,a=n.stackId;if(Ur(a)){var i=t[a];if(i){var o=i.items.indexOf(e);return o>=0?i.stackedData[o]:null}}return null},F1e=function(e){return e.reduce(function(t,r){return[p0(r.concat([t[0]]).filter(je)),Lo(r.concat([t[1]]).filter(je))]},[1/0,-1/0])},k$=function(e,t,r){return Object.keys(e).reduce(function(n,a){var i=e[a],o=i.stackedData,l=o.reduce(function(c,u){var d=F1e(u.slice(t,r+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]).map(function(n){return n===1/0||n===-1/0?0:n})},iM=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,oM=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,r_=function(e,t,r){if(We(e))return e(t,r);if(!Array.isArray(e))return t;var n=[];if(je(e[0]))n[0]=r?e[0]:Math.min(e[0],t[0]);else if(iM.test(e[0])){var a=+iM.exec(e[0])[1];n[0]=t[0]-a}else We(e[0])?n[0]=e[0](t[0]):n[0]=t[0];if(je(e[1]))n[1]=r?e[1]:Math.max(e[1],t[1]);else if(oM.test(e[1])){var i=+oM.exec(e[1])[1];n[1]=t[1]+i}else We(e[1])?n[1]=e[1](t[1]):n[1]=t[1];return n},Jy=function(e,t,r){if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=g2(t,function(d){return d.coordinate}),i=1/0,o=1,l=a.length;o<l;o++){var c=a[o],u=a[o-1];i=Math.min((c.coordinate||0)-(u.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0},lM=function(e,t,r){return!e||!e.length||to(e,wa(r,"type.defaultProps.domain"))?t:e},U2=function(e,t){var r=e.type.defaultProps?hr(hr({},e.type.defaultProps),e.props):e.props,n=r.dataKey,a=r.name,i=r.unit,o=r.formatter,l=r.tooltipType,c=r.chartType,u=r.hide;return hr(hr({},ze(e,!1)),{},{dataKey:n,unit:i,formatter:o,name:a||n,color:B2(e),value:Bt(t,n),type:l,payload:t,chartType:c,hide:u})};function sp(e){"@babel/helpers - typeof";return sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sp(e)}function cM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ei(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cM(Object(r),!0).forEach(function(n){S$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S$(e,t,r){return t=$1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $1e(e){var t=q1e(e,"string");return sp(t)=="symbol"?t:t+""}function q1e(e,t){if(sp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function B1e(e,t){return H1e(e)||W1e(e,t)||V1e(e,t)||U1e()}function U1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V1e(e,t){if(e){if(typeof e=="string")return uM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uM(e,t)}}function uM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function W1e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function H1e(e){if(Array.isArray(e))return e}var ex=Math.PI/180,K1e=function(e){return e*180/Math.PI},Lt=function(e,t,r,n){return{x:e+Math.cos(-ex*n)*r,y:t+Math.sin(-ex*n)*r}},O$=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(t-(r.top||0)-(r.bottom||0)))/2},C$=function(e,t,r,n,a){var i=e.width,o=e.height,l=e.startAngle,c=e.endAngle,u=Sn(e.cx,i,i/2),d=Sn(e.cy,o,o/2),f=O$(i,o,r),h=Sn(e.innerRadius,f,0),m=Sn(e.outerRadius,f,f*.8),v=Object.keys(t);return v.reduce(function(p,b){var x=t[b],y=x.domain,w=x.reversed,j;if(Ke(x.range))n==="angleAxis"?j=[l,c]:n==="radiusAxis"&&(j=[h,m]),w&&(j=[j[1],j[0]]);else{j=x.range;var N=j,_=B1e(N,2);l=_[0],c=_[1]}var k=x$(x,a),O=k.realScaleType,E=k.scale;E.domain(y).range(j),b$(E);var T=N$(E,Ei(Ei({},x),{},{realScaleType:O})),P=Ei(Ei(Ei({},x),T),{},{range:j,radius:m,realScaleType:O,scale:E,cx:u,cy:d,innerRadius:h,outerRadius:m,startAngle:l,endAngle:c});return Ei(Ei({},p),{},S$({},b,P))},{})},G1e=function(e,t){var r=e.x,n=e.y,a=t.x,i=t.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(n-i,2))},Z1e=function(e,t){var r=e.x,n=e.y,a=t.cx,i=t.cy,o=G1e({x:r,y:n},{x:a,y:i});if(o<=0)return{radius:o};var l=(r-a)/o,c=Math.acos(l);return n>i&&(c=2*Math.PI-c),{radius:o,angle:K1e(c),angleInRadian:c}},X1e=function(e){var t=e.startAngle,r=e.endAngle,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},Y1e=function(e,t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return e+o*360},dM=function(e,t){var r=e.x,n=e.y,a=Z1e({x:r,y:n},t),i=a.radius,o=a.angle,l=t.innerRadius,c=t.outerRadius;if(i<l||i>c)return!1;if(i===0)return!0;var u=X1e(t),d=u.startAngle,f=u.endAngle,h=o,m;if(d<=f){for(;h>f;)h-=360;for(;h<d;)h+=360;m=h>=d&&h<=f}else{for(;h>d;)h-=360;for(;h<f;)h+=360;m=h>=f&&h<=d}return m?Ei(Ei({},t),{},{radius:i,angle:Y1e(h,t)}):null},E$=function(e){return!g.isValidElement(e)&&!We(e)&&typeof e!="boolean"?e.className:""};function ip(e){"@babel/helpers - typeof";return ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ip(e)}var Q1e=["offset"];function J1e(e){return nNe(e)||rNe(e)||tNe(e)||eNe()}function eNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tNe(e,t){if(e){if(typeof e=="string")return n_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n_(e,t)}}function rNe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nNe(e){if(Array.isArray(e))return n_(e)}function n_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aNe(e,t){if(e==null)return{};var r=sNe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sNe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function fM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fM(Object(r),!0).forEach(function(n){iNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iNe(e,t,r){return t=oNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oNe(e){var t=lNe(e,"string");return ip(t)=="symbol"?t:t+""}function lNe(e,t){if(ip(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ip(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function op(){return op=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},op.apply(this,arguments)}var cNe=function(e){var t=e.value,r=e.formatter,n=Ke(e.children)?t:e.children;return We(r)?r(n):n},uNe=function(e,t){var r=Xr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},dNe=function(e,t,r){var n=e.position,a=e.viewBox,i=e.offset,o=e.className,l=a,c=l.cx,u=l.cy,d=l.innerRadius,f=l.outerRadius,h=l.startAngle,m=l.endAngle,v=l.clockWise,p=(d+f)/2,b=uNe(h,m),x=b>=0?1:-1,y,w;n==="insideStart"?(y=h+x*i,w=v):n==="insideEnd"?(y=m-x*i,w=!v):n==="end"&&(y=m+x*i,w=v),w=b<=0?w:!w;var j=Lt(c,u,p,y),N=Lt(c,u,p,y+(w?1:-1)*359),_="M".concat(j.x,",").concat(j.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(w?0:1,`,
    `).concat(N.x,",").concat(N.y),k=Ke(e.id)?Ol("recharts-radial-line-"):e.id;return C.createElement("text",op({},r,{dominantBaseline:"central",className:Ye("recharts-radial-bar-label",o)}),C.createElement("defs",null,C.createElement("path",{id:k,d:_})),C.createElement("textPath",{xlinkHref:"#".concat(k)},t))},fNe=function(e){var t=e.viewBox,r=e.offset,n=e.position,a=t,i=a.cx,o=a.cy,l=a.innerRadius,c=a.outerRadius,u=a.startAngle,d=a.endAngle,f=(u+d)/2;if(n==="outside"){var h=Lt(i,o,c+r,f),m=h.x,v=h.y;return{x:m,y:v,textAnchor:m>=i?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:i,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:i,y:o,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:i,y:o,textAnchor:"middle",verticalAnchor:"end"};var p=(l+c)/2,b=Lt(i,o,p,f),x=b.x,y=b.y;return{x,y,textAnchor:"middle",verticalAnchor:"middle"}},hNe=function(e){var t=e.viewBox,r=e.parentViewBox,n=e.offset,a=e.position,i=t,o=i.x,l=i.y,c=i.width,u=i.height,d=u>=0?1:-1,f=d*n,h=d>0?"end":"start",m=d>0?"start":"end",v=c>=0?1:-1,p=v*n,b=v>0?"end":"start",x=v>0?"start":"end";if(a==="top"){var y={x:o+c/2,y:l-d*n,textAnchor:"middle",verticalAnchor:h};return Ir(Ir({},y),r?{height:Math.max(l-r.y,0),width:c}:{})}if(a==="bottom"){var w={x:o+c/2,y:l+u+f,textAnchor:"middle",verticalAnchor:m};return Ir(Ir({},w),r?{height:Math.max(r.y+r.height-(l+u),0),width:c}:{})}if(a==="left"){var j={x:o-p,y:l+u/2,textAnchor:b,verticalAnchor:"middle"};return Ir(Ir({},j),r?{width:Math.max(j.x-r.x,0),height:u}:{})}if(a==="right"){var N={x:o+c+p,y:l+u/2,textAnchor:x,verticalAnchor:"middle"};return Ir(Ir({},N),r?{width:Math.max(r.x+r.width-N.x,0),height:u}:{})}var _=r?{width:c,height:u}:{};return a==="insideLeft"?Ir({x:o+p,y:l+u/2,textAnchor:x,verticalAnchor:"middle"},_):a==="insideRight"?Ir({x:o+c-p,y:l+u/2,textAnchor:b,verticalAnchor:"middle"},_):a==="insideTop"?Ir({x:o+c/2,y:l+f,textAnchor:"middle",verticalAnchor:m},_):a==="insideBottom"?Ir({x:o+c/2,y:l+u-f,textAnchor:"middle",verticalAnchor:h},_):a==="insideTopLeft"?Ir({x:o+p,y:l+f,textAnchor:x,verticalAnchor:m},_):a==="insideTopRight"?Ir({x:o+c-p,y:l+f,textAnchor:b,verticalAnchor:m},_):a==="insideBottomLeft"?Ir({x:o+p,y:l+u-f,textAnchor:x,verticalAnchor:h},_):a==="insideBottomRight"?Ir({x:o+c-p,y:l+u-f,textAnchor:b,verticalAnchor:h},_):If(a)&&(je(a.x)||cc(a.x))&&(je(a.y)||cc(a.y))?Ir({x:o+Sn(a.x,c),y:l+Sn(a.y,u),textAnchor:"end",verticalAnchor:"end"},_):Ir({x:o+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},_)},mNe=function(e){return"cx"in e&&je(e.cx)};function Zr(e){var t=e.offset,r=t===void 0?5:t,n=aNe(e,Q1e),a=Ir({offset:r},n),i=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!i||Ke(l)&&Ke(c)&&!g.isValidElement(u)&&!We(u))return null;if(g.isValidElement(u))return g.cloneElement(u,a);var m;if(We(u)){if(m=g.createElement(u,a),g.isValidElement(m))return m}else m=cNe(a);var v=mNe(i),p=ze(a,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return dNe(a,m,p);var b=v?fNe(a):hNe(a);return C.createElement(Ic,op({className:Ye("recharts-label",f)},p,b,{breakAll:h}),m)}Zr.displayName="Label";var A$=function(e){var t=e.cx,r=e.cy,n=e.angle,a=e.startAngle,i=e.endAngle,o=e.r,l=e.radius,c=e.innerRadius,u=e.outerRadius,d=e.x,f=e.y,h=e.top,m=e.left,v=e.width,p=e.height,b=e.clockWise,x=e.labelViewBox;if(x)return x;if(je(v)&&je(p)){if(je(d)&&je(f))return{x:d,y:f,width:v,height:p};if(je(h)&&je(m))return{x:h,y:m,width:v,height:p}}return je(d)&&je(f)?{x:d,y:f,width:0,height:0}:je(t)&&je(r)?{cx:t,cy:r,startAngle:a||n||0,endAngle:i||n||0,innerRadius:c||0,outerRadius:u||l||o||0,clockWise:b}:e.viewBox?e.viewBox:{}},pNe=function(e,t){return e?e===!0?C.createElement(Zr,{key:"label-implicit",viewBox:t}):Ur(e)?C.createElement(Zr,{key:"label-implicit",viewBox:t,value:e}):g.isValidElement(e)?e.type===Zr?g.cloneElement(e,{key:"label-implicit",viewBox:t}):C.createElement(Zr,{key:"label-implicit",content:e,viewBox:t}):We(e)?C.createElement(Zr,{key:"label-implicit",content:e,viewBox:t}):If(e)?C.createElement(Zr,op({viewBox:t},e,{key:"label-implicit"})):null:null},gNe=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=A$(e),i=vn(n,Zr).map(function(l,c){return g.cloneElement(l,{viewBox:t||a,key:"label-".concat(c)})});if(!r)return i;var o=pNe(e.label,t||a);return[o].concat(J1e(i))};Zr.parseViewBox=A$;Zr.renderCallByParent=gNe;function vNe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var yNe=vNe;const xNe=Ot(yNe);function lp(e){"@babel/helpers - typeof";return lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lp(e)}var bNe=["valueAccessor"],wNe=["data","dataKey","clockWise","id","textBreakAll"];function jNe(e){return SNe(e)||kNe(e)||_Ne(e)||NNe()}function NNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Ne(e,t){if(e){if(typeof e=="string")return a_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a_(e,t)}}function kNe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function SNe(e){if(Array.isArray(e))return a_(e)}function a_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tx(){return tx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tx.apply(this,arguments)}function hM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hM(Object(r),!0).forEach(function(n){ONe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ONe(e,t,r){return t=CNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CNe(e){var t=ENe(e,"string");return lp(t)=="symbol"?t:t+""}function ENe(e,t){if(lp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pM(e,t){if(e==null)return{};var r=ANe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ANe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var PNe=function(e){return Array.isArray(e.value)?xNe(e.value):e.value};function Wa(e){var t=e.valueAccessor,r=t===void 0?PNe:t,n=pM(e,bNe),a=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=pM(n,wNe);return!a||!a.length?null:C.createElement(Qe,{className:"recharts-label-list"},a.map(function(d,f){var h=Ke(i)?r(d,f):Bt(d&&d.payload,i),m=Ke(l)?{}:{id:"".concat(l,"-").concat(f)};return C.createElement(Zr,tx({},ze(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:Zr.parseViewBox(Ke(o)?d:mM(mM({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Wa.displayName="LabelList";function TNe(e,t){return e?e===!0?C.createElement(Wa,{key:"labelList-implicit",data:t}):C.isValidElement(e)||We(e)?C.createElement(Wa,{key:"labelList-implicit",data:t,content:e}):If(e)?C.createElement(Wa,tx({data:t},e,{key:"labelList-implicit"})):null:null}function MNe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=vn(n,Wa).map(function(o,l){return g.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=TNe(e.label,t);return[i].concat(jNe(a))}Wa.renderCallByParent=MNe;function cp(e){"@babel/helpers - typeof";return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cp(e)}function s_(){return s_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s_.apply(this,arguments)}function gM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gM(Object(r),!0).forEach(function(n){RNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RNe(e,t,r){return t=INe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function INe(e){var t=DNe(e,"string");return cp(t)=="symbol"?t:t+""}function DNe(e,t){if(cp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LNe=function(e,t){var r=Xr(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},ov=function(e){var t=e.cx,r=e.cy,n=e.radius,a=e.angle,i=e.sign,o=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,u=l*(o?1:-1)+n,d=Math.asin(l/u)/ex,f=c?a:a+i*d,h=Lt(t,r,u,f),m=Lt(t,r,n,f),v=c?a-i*d:a,p=Lt(t,r,u*Math.cos(d*ex),v);return{center:h,circleTangency:m,lineTangency:p,theta:d}},P$=function(e){var t=e.cx,r=e.cy,n=e.innerRadius,a=e.outerRadius,i=e.startAngle,o=e.endAngle,l=LNe(i,o),c=i+l,u=Lt(t,r,a,i),d=Lt(t,r,a,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var h=Lt(t,r,n,i),m=Lt(t,r,n,c);f+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},zNe=function(e){var t=e.cx,r=e.cy,n=e.innerRadius,a=e.outerRadius,i=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,u=e.endAngle,d=Xr(u-c),f=ov({cx:t,cy:r,radius:a,angle:c,sign:d,cornerRadius:i,cornerIsExternal:l}),h=f.circleTangency,m=f.lineTangency,v=f.theta,p=ov({cx:t,cy:r,radius:a,angle:u,sign:-d,cornerRadius:i,cornerIsExternal:l}),b=p.circleTangency,x=p.lineTangency,y=p.theta,w=l?Math.abs(c-u):Math.abs(c-u)-v-y;if(w<0)return o?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):P$({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:c,endAngle:u});var j="M ".concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(w>180),",").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
  `);if(n>0){var N=ov({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),_=N.circleTangency,k=N.lineTangency,O=N.theta,E=ov({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),T=E.circleTangency,P=E.lineTangency,S=E.theta,R=l?Math.abs(c-u):Math.abs(c-u)-O-S;if(R<0&&i===0)return"".concat(j,"L").concat(t,",").concat(r,"Z");j+="L".concat(P.x,",").concat(P.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(R>180),",").concat(+(d>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(k.x,",").concat(k.y,"Z")}else j+="L".concat(t,",").concat(r,"Z");return j},FNe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},T$=function(e){var t=vM(vM({},FNe),e),r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=t.className;if(i<a||u===d)return null;var h=Ye("recharts-sector",f),m=i-a,v=Sn(o,m,0,!0),p;return v>0&&Math.abs(u-d)<360?p=zNe({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(v,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):p=P$({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d}),C.createElement("path",s_({},ze(t,!0),{className:h,d:p,role:"img"}))};function up(e){"@babel/helpers - typeof";return up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},up(e)}function i_(){return i_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i_.apply(this,arguments)}function yM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yM(Object(r),!0).forEach(function(n){$Ne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Ne(e,t,r){return t=qNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qNe(e){var t=BNe(e,"string");return up(t)=="symbol"?t:t+""}function BNe(e,t){if(up(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(up(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bM={curveBasisClosed:Vue,curveBasisOpen:Wue,curveBasis:Uue,curveBumpX:Eue,curveBumpY:Aue,curveLinearClosed:Hue,curveLinear:r0,curveMonotoneX:Kue,curveMonotoneY:Gue,curveNatural:Zue,curveStep:Xue,curveStepAfter:Que,curveStepBefore:Yue},lv=function(e){return e.x===+e.x&&e.y===+e.y},Ah=function(e){return e.x},Ph=function(e){return e.y},UNe=function(e,t){if(We(e))return e;var r="curve".concat(e0(e));return(r==="curveMonotone"||r==="curveBump")&&t?bM["".concat(r).concat(t==="vertical"?"Y":"X")]:bM[r]||r0},VNe=function(e){var t=e.type,r=t===void 0?"linear":t,n=e.points,a=n===void 0?[]:n,i=e.baseLine,o=e.layout,l=e.connectNulls,c=l===void 0?!1:l,u=UNe(r,o),d=c?a.filter(function(v){return lv(v)}):a,f;if(Array.isArray(i)){var h=c?i.filter(function(v){return lv(v)}):i,m=d.map(function(v,p){return xM(xM({},v),{},{base:h[p]})});return o==="vertical"?f=Qg().y(Ph).x1(Ah).x0(function(v){return v.base.x}):f=Qg().x(Ah).y1(Ph).y0(function(v){return v.base.y}),f.defined(lv).curve(u),f(m)}return o==="vertical"&&je(i)?f=Qg().y(Ph).x1(Ah).x0(i):je(i)?f=Qg().x(Ah).y1(Ph).y0(i):f=NF().x(Ah).y(Ph),f.defined(lv).curve(u),f(d)},el=function(e){var t=e.className,r=e.points,n=e.path,a=e.pathRef;if((!r||!r.length)&&!n)return null;var i=r&&r.length?VNe(e):n;return g.createElement("path",i_({},ze(e,!1),ky(e),{className:Ye("recharts-curve",t),d:i,ref:a}))},M$={exports:{}},WNe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",HNe=WNe,KNe=HNe;function R$(){}function I$(){}I$.resetWarningCache=R$;var GNe=function(){function e(n,a,i,o,l,c){if(c!==KNe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:I$,resetWarningCache:R$};return r.PropTypes=r,r};M$.exports=GNe();var ZNe=M$.exports;const St=Ot(ZNe);var XNe=Object.getOwnPropertyNames,YNe=Object.getOwnPropertySymbols,QNe=Object.prototype.hasOwnProperty;function wM(e,t){return function(r,n,a){return e(r,n,a)&&t(r,n,a)}}function cv(e){return function(t,r,n){if(!t||!r||typeof t!="object"||typeof r!="object")return e(t,r,n);var a=n.cache,i=a.get(t),o=a.get(r);if(i&&o)return i===r&&o===t;a.set(t,r),a.set(r,t);var l=e(t,r,n);return a.delete(t),a.delete(r),l}}function JNe(e){return e!=null?e[Symbol.toStringTag]:void 0}function jM(e){return XNe(e).concat(YNe(e))}var e_e=Object.hasOwn||function(e,t){return QNe.call(e,t)};function tu(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var t_e="__v",r_e="__o",n_e="_owner",NM=Object.getOwnPropertyDescriptor,_M=Object.keys;function a_e(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function s_e(e,t){return tu(e.getTime(),t.getTime())}function i_e(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function o_e(e,t){return e===t}function kM(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var h=o.value,m=l.value;if(r.equals(h[0],m[0],c,f,e,t,r)&&r.equals(h[1],m[1],h[0],m[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var l_e=tu;function c_e(e,t,r){var n=_M(e),a=n.length;if(_M(t).length!==a)return!1;for(;a-- >0;)if(!D$(e,t,r,n[a]))return!1;return!0}function Th(e,t,r){var n=jM(e),a=n.length;if(jM(t).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=n[a],!D$(e,t,r,i)||(o=NM(e,i),l=NM(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function u_e(e,t){return tu(e.valueOf(),t.valueOf())}function d_e(e,t){return e.source===t.source&&e.flags===t.flags}function SM(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function f_e(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function h_e(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function D$(e,t,r,n){return(n===n_e||n===r_e||n===t_e)&&(e.$$typeof||t.$$typeof)?!0:e_e(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var m_e="[object Arguments]",p_e="[object Boolean]",g_e="[object Date]",v_e="[object Error]",y_e="[object Map]",x_e="[object Number]",b_e="[object Object]",w_e="[object RegExp]",j_e="[object Set]",N_e="[object String]",__e="[object URL]",k_e=Array.isArray,OM=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,CM=Object.assign,S_e=Object.prototype.toString.call.bind(Object.prototype.toString);function O_e(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual,m=e.unknownTagComparators;return function(v,p,b){if(v===p)return!0;if(v==null||p==null)return!1;var x=typeof v;if(x!==typeof p)return!1;if(x!=="object")return x==="number"?o(v,p,b):x==="function"?a(v,p,b):!1;var y=v.constructor;if(y!==p.constructor)return!1;if(y===Object)return l(v,p,b);if(k_e(v))return t(v,p,b);if(OM!=null&&OM(v))return f(v,p,b);if(y===Date)return r(v,p,b);if(y===RegExp)return u(v,p,b);if(y===Map)return i(v,p,b);if(y===Set)return d(v,p,b);var w=S_e(v);if(w===g_e)return r(v,p,b);if(w===w_e)return u(v,p,b);if(w===y_e)return i(v,p,b);if(w===j_e)return d(v,p,b);if(w===b_e)return typeof v.then!="function"&&typeof p.then!="function"&&l(v,p,b);if(w===__e)return h(v,p,b);if(w===v_e)return n(v,p,b);if(w===m_e)return l(v,p,b);if(w===p_e||w===x_e||w===N_e)return c(v,p,b);if(m){var j=m[w];if(!j){var N=JNe(v);N&&(j=m[N])}if(j)return j(v,p,b)}return!1}}function C_e(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Th:a_e,areDatesEqual:s_e,areErrorsEqual:i_e,areFunctionsEqual:o_e,areMapsEqual:n?wM(kM,Th):kM,areNumbersEqual:l_e,areObjectsEqual:n?Th:c_e,arePrimitiveWrappersEqual:u_e,areRegExpsEqual:d_e,areSetsEqual:n?wM(SM,Th):SM,areTypedArraysEqual:n?Th:f_e,areUrlsEqual:h_e,unknownTagComparators:void 0};if(r&&(a=CM({},a,r(a))),t){var i=cv(a.areArraysEqual),o=cv(a.areMapsEqual),l=cv(a.areObjectsEqual),c=cv(a.areSetsEqual);a=CM({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function E_e(e){return function(t,r,n,a,i,o,l){return e(t,r,l)}}function A_e(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(l,c){var u=n(),d=u.cache,f=d===void 0?t?new WeakMap:void 0:d,h=u.meta;return r(l,c,{cache:f,equals:a,meta:h,strict:i})};if(t)return function(l,c){return r(l,c,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(l,c){return r(l,c,o)}}var P_e=Al();Al({strict:!0});Al({circular:!0});Al({circular:!0,strict:!0});Al({createInternalComparator:function(){return tu}});Al({strict:!0,createInternalComparator:function(){return tu}});Al({circular:!0,createInternalComparator:function(){return tu}});Al({circular:!0,createInternalComparator:function(){return tu},strict:!0});function Al(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,l=C_e(e),c=O_e(l),u=n?n(c):E_e(c);return A_e({circular:r,comparator:c,createState:a,equals:u,strict:o})}function T_e(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function EM(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):T_e(a)};requestAnimationFrame(n)}function o_(e){"@babel/helpers - typeof";return o_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o_(e)}function M_e(e){return L_e(e)||D_e(e)||I_e(e)||R_e()}function R_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I_e(e,t){if(e){if(typeof e=="string")return AM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AM(e,t)}}function AM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function D_e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function L_e(e){if(Array.isArray(e))return e}function z_e(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=M_e(o),c=l[0],u=l.slice(1);if(typeof c=="number"){EM(a.bind(null,u),c);return}a(c),EM(a.bind(null,u));return}o_(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function dp(e){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dp(e)}function PM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function TM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PM(Object(r),!0).forEach(function(n){L$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L$(e,t,r){return t=F_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F_e(e){var t=$_e(e,"string");return dp(t)==="symbol"?t:String(t)}function $_e(e,t){if(dp(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var q_e=function(e,t){return[Object.keys(e),Object.keys(t)].reduce(function(r,n){return r.filter(function(a){return n.includes(a)})})},B_e=function(e){return e},U_e=function(e){return e.replace(/([A-Z])/g,function(t){return"-".concat(t.toLowerCase())})},am=function(e,t){return Object.keys(t).reduce(function(r,n){return TM(TM({},r),{},L$({},n,e(n,t[n])))},{})},MM=function(e,t,r){return e.map(function(n){return"".concat(U_e(n)," ").concat(t,"ms ").concat(r)}).join(",")};function V_e(e,t){return K_e(e)||H_e(e,t)||z$(e,t)||W_e()}function W_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H_e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function K_e(e){if(Array.isArray(e))return e}function G_e(e){return Y_e(e)||X_e(e)||z$(e)||Z_e()}function Z_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z$(e,t){if(e){if(typeof e=="string")return l_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l_(e,t)}}function X_e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Y_e(e){if(Array.isArray(e))return l_(e)}function l_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var rx=1e-4,F$=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},$$=function(e,t){return e.map(function(r,n){return r*Math.pow(t,n)}).reduce(function(r,n){return r+n})},RM=function(e,t){return function(r){var n=F$(e,t);return $$(n,r)}},Q_e=function(e,t){return function(r){var n=F$(e,t),a=[].concat(G_e(n.map(function(i,o){return i*o}).slice(1)),[0]);return $$(a,r)}},IM=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0],a=t[1],i=t[2],o=t[3];if(t.length===1)switch(t[0]){case"linear":n=0,a=0,i=1,o=1;break;case"ease":n=.25,a=.1,i=.25,o=1;break;case"ease-in":n=.42,a=0,i=1,o=1;break;case"ease-out":n=.42,a=0,i=.58,o=1;break;case"ease-in-out":n=0,a=0,i=.58,o=1;break;default:{var l=t[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(p){return parseFloat(p)}),u=V_e(c,4);n=u[0],a=u[1],i=u[2],o=u[3]}}}var d=RM(n,i),f=RM(a,o),h=Q_e(n,i),m=function(p){return p>1?1:p<0?0:p},v=function(p){for(var b=p>1?1:p,x=b,y=0;y<8;++y){var w=d(x)-b,j=h(x);if(Math.abs(w-b)<rx||j<rx)return f(x);x=m(x-w/j)}return f(x)};return v.isStepper=!1,v},J_e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.stiff,r=t===void 0?100:t,n=e.damping,a=n===void 0?8:n,i=e.dt,o=i===void 0?17:i,l=function(c,u,d){var f=-(c-u)*r,h=d*a,m=d+(f-h)*o/1e3,v=d*o/1e3+c;return Math.abs(v-u)<rx&&Math.abs(m)<rx?[u,0]:[v,m]};return l.isStepper=!0,l.dt=o,l},eke=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0];if(typeof n=="string")switch(n){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return IM(n);case"spring":return J_e();default:if(n.split("(")[0]==="cubic-bezier")return IM(n)}return typeof n=="function"?n:null};function fp(e){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fp(e)}function DM(e){return nke(e)||rke(e)||q$(e)||tke()}function tke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nke(e){if(Array.isArray(e))return u_(e)}function LM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LM(Object(r),!0).forEach(function(n){c_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function c_(e,t,r){return t=ake(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ake(e){var t=ske(e,"string");return fp(t)==="symbol"?t:String(t)}function ske(e,t){if(fp(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ike(e,t){return cke(e)||lke(e,t)||q$(e,t)||oke()}function oke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q$(e,t){if(e){if(typeof e=="string")return u_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u_(e,t)}}function u_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lke(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function cke(e){if(Array.isArray(e))return e}var nx=function(e,t,r){return e+(t-e)*r},d_=function(e){var t=e.from,r=e.to;return t!==r},uke=function e(t,r,n){var a=am(function(i,o){if(d_(o)){var l=t(o.from,o.to,o.velocity),c=ike(l,2),u=c[0],d=c[1];return nn(nn({},o),{},{from:u,velocity:d})}return o},r);return n<1?am(function(i,o){return d_(o)?nn(nn({},o),{},{velocity:nx(o.velocity,a[i].velocity,n),from:nx(o.from,a[i].from,n)}):o},r):e(t,a,n-1)};const dke=function(e,t,r,n,a){var i=q_e(e,t),o=i.reduce(function(b,x){return nn(nn({},b),{},c_({},x,[e[x],t[x]]))},{}),l=i.reduce(function(b,x){return nn(nn({},b),{},c_({},x,{from:e[x],velocity:0,to:t[x]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return am(function(b,x){return x.from},l)},m=function(){return!Object.values(l).filter(d_).length},v=function(b){u||(u=b);var x=b-u,y=x/r.dt;l=uke(r,l,y),a(nn(nn(nn({},e),t),h())),u=b,m()||(c=requestAnimationFrame(f))},p=function(b){d||(d=b);var x=(b-d)/n,y=am(function(j,N){return nx.apply(void 0,DM(N).concat([r(x)]))},o);if(a(nn(nn(nn({},e),t),y)),x<1)c=requestAnimationFrame(f);else{var w=am(function(j,N){return nx.apply(void 0,DM(N).concat([r(1)]))},o);a(nn(nn(nn({},e),t),w))}};return f=r.isStepper?v:p,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Hd(e){"@babel/helpers - typeof";return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hd(e)}var fke=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function hke(e,t){if(e==null)return{};var r=mke(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mke(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function jj(e){return yke(e)||vke(e)||gke(e)||pke()}function pke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gke(e,t){if(e){if(typeof e=="string")return f_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f_(e,t)}}function vke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yke(e){if(Array.isArray(e))return f_(e)}function f_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ss(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zM(Object(r),!0).forEach(function(n){qh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qh(e,t,r){return t=B$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bke(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,B$(n.key),n)}}function wke(e,t,r){return t&&bke(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function B$(e){var t=jke(e,"string");return Hd(t)==="symbol"?t:String(t)}function jke(e,t){if(Hd(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h_(e,t)}function h_(e,t){return h_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},h_(e,t)}function _ke(e){var t=kke();return function(){var r=ax(e),n;if(t){var a=ax(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m_(this,n)}}function m_(e,t){if(t&&(Hd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p_(e)}function p_(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kke(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ax(e){return ax=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ax(e)}var _a=function(e){Nke(r,e);var t=_ke(r);function r(n,a){var i;xke(this,r),i=t.call(this,n,a);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,m=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(p_(i)),i.changeStyle=i.changeStyle.bind(p_(i)),!l||m<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),m_(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},m_(i);i.state={style:c?qh({},c,u):u}}else i.state={style:{}};return i}return wke(r,[{key:"componentDidMount",value:function(){var n=this.props,a=n.isActive,i=n.canBegin;this.mounted=!0,!(!a||!i)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(n){var a=this.props,i=a.isActive,o=a.canBegin,l=a.attributeName,c=a.shouldReAnimate,u=a.to,d=a.from,f=this.state.style;if(o){if(!i){var h={style:l?qh({},l,u):u};this.state&&f&&(l&&f[l]!==u||!l&&f!==u)&&this.setState(h);return}if(!(P_e(n.to,u)&&n.canBegin&&n.isActive)){var m=!n.canBegin||!n.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=m||c?d:n.to;if(this.state&&f){var p={style:l?qh({},l,v):v};(l&&f[l]!==v||!l&&f!==v)&&this.setState(p)}this.runAnimation(ss(ss({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var n=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),n&&n()}},{key:"handleStyleChange",value:function(n){this.changeStyle(n)}},{key:"changeStyle",value:function(n){this.mounted&&this.setState({style:n})}},{key:"runJSAnimation",value:function(n){var a=this,i=n.from,o=n.to,l=n.duration,c=n.easing,u=n.begin,d=n.onAnimationEnd,f=n.onAnimationStart,h=dke(i,o,eke(c),l,this.changeStyle),m=function(){a.stopJSAnimation=h()};this.manager.start([f,u,m,l,d])}},{key:"runStepAnimation",value:function(n){var a=this,i=n.steps,o=n.begin,l=n.onAnimationStart,c=i[0],u=c.style,d=c.duration,f=d===void 0?0:d,h=function(m,v,p){if(p===0)return m;var b=v.duration,x=v.easing,y=x===void 0?"ease":x,w=v.style,j=v.properties,N=v.onAnimationEnd,_=p>0?i[p-1]:v,k=j||Object.keys(w);if(typeof y=="function"||y==="spring")return[].concat(jj(m),[a.runJSAnimation.bind(a,{from:_.style,to:w,duration:b,easing:y}),b]);var O=MM(k,b,y),E=ss(ss(ss({},_.style),w),{},{transition:O});return[].concat(jj(m),[E,b,N]).filter(B_e)};return this.manager.start([l].concat(jj(i.reduce(h,[u,Math.max(f,o)])),[n.onAnimationEnd]))}},{key:"runAnimation",value:function(n){this.manager||(this.manager=z_e());var a=n.begin,i=n.duration,o=n.attributeName,l=n.to,c=n.easing,u=n.onAnimationStart,d=n.onAnimationEnd,f=n.steps,h=n.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof c=="function"||typeof h=="function"||c==="spring"){this.runJSAnimation(n);return}if(f.length>1){this.runStepAnimation(n);return}var v=o?qh({},o,l):l,p=MM(Object.keys(v),i,c);m.start([u,a,ss(ss({},v),{},{transition:p}),i,d])}},{key:"render",value:function(){var n=this.props,a=n.children;n.begin;var i=n.duration;n.attributeName,n.easing;var o=n.isActive;n.steps,n.from,n.to,n.canBegin,n.onAnimationEnd,n.shouldReAnimate,n.onAnimationReStart;var l=hke(n,fke),c=g.Children.count(a),u=this.state.style;if(typeof a=="function")return a(u);if(!o||c===0||i<=0)return a;var d=function(f){var h=f.props,m=h.style,v=m===void 0?{}:m,p=h.className,b=g.cloneElement(f,ss(ss({},l),{},{style:ss(ss({},v),u),className:p}));return b};return c===1?d(g.Children.only(a)):C.createElement("div",null,g.Children.map(a,function(f){return d(f)}))}}]),r}(g.PureComponent);_a.displayName="Animate";_a.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};_a.propTypes={from:St.oneOfType([St.object,St.string]),to:St.oneOfType([St.object,St.string]),attributeName:St.string,duration:St.number,begin:St.number,easing:St.oneOfType([St.string,St.func]),steps:St.arrayOf(St.shape({duration:St.number.isRequired,style:St.object.isRequired,easing:St.oneOfType([St.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),St.func]),properties:St.arrayOf("string"),onAnimationEnd:St.func})),children:St.oneOfType([St.node,St.func]),isActive:St.bool,canBegin:St.bool,onAnimationEnd:St.func,shouldReAnimate:St.bool,onAnimationStart:St.func,onAnimationReStart:St.func};function hp(e){"@babel/helpers - typeof";return hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hp(e)}function sx(){return sx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sx.apply(this,arguments)}function Ske(e,t){return Ake(e)||Eke(e,t)||Cke(e,t)||Oke()}function Oke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cke(e,t){if(e){if(typeof e=="string")return FM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FM(e,t)}}function FM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Eke(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Ake(e){if(Array.isArray(e))return e}function $M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$M(Object(r),!0).forEach(function(n){Pke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$M(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pke(e,t,r){return t=Tke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tke(e){var t=Mke(e,"string");return hp(t)=="symbol"?t:t+""}function Mke(e,t){if(hp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BM=function(e,t,r,n,a){var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,u;if(i>0&&a instanceof Array){for(var d=[0,0,0,0],f=0,h=4;f<h;f++)d[f]=a[f]>i?i:a[f];u="M".concat(e,",").concat(t+o*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(t)),u+="L ".concat(e+r-l*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+o*d[1])),u+="L ".concat(e+r,",").concat(t+n-o*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-l*d[2],",").concat(t+n)),u+="L ".concat(e+l*d[3],",").concat(t+n),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-o*d[3])),u+="Z"}else if(i>0&&a===+a&&a>0){var m=Math.min(i,a);u="M ".concat(e,",").concat(t+o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+l*m,",").concat(t,`
            L `).concat(e+r-l*m,",").concat(t,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r,",").concat(t+o*m,`
            L `).concat(e+r,",").concat(t+n-o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r-l*m,",").concat(t+n,`
            L `).concat(e+l*m,",").concat(t+n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(t+n-o*m," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},Rke=function(e,t){if(!e||!t)return!1;var r=e.x,n=e.y,a=t.x,i=t.y,o=t.width,l=t.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(a,a+o),u=Math.max(a,a+o),d=Math.min(i,i+l),f=Math.max(i,i+l);return r>=c&&r<=u&&n>=d&&n<=f}return!1},Ike={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},V2=function(e){var t=qM(qM({},Ike),e),r=g.useRef(),n=g.useState(-1),a=Ske(n,2),i=a[0],o=a[1];g.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&o(w)}catch{}},[]);var l=t.x,c=t.y,u=t.width,d=t.height,f=t.radius,h=t.className,m=t.animationEasing,v=t.animationDuration,p=t.animationBegin,b=t.isAnimationActive,x=t.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||u===0||d===0)return null;var y=Ye("recharts-rectangle",h);return x?C.createElement(_a,{canBegin:i>0,from:{width:u,height:d,x:l,y:c},to:{width:u,height:d,x:l,y:c},duration:v,animationEasing:m,isActive:x},function(w){var j=w.width,N=w.height,_=w.x,k=w.y;return C.createElement(_a,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:v,isActive:b,easing:m},C.createElement("path",sx({},ze(t,!0),{className:y,d:BM(_,k,j,N,f),ref:r})))}):C.createElement("path",sx({},ze(t,!0),{className:y,d:BM(l,c,u,d,f)}))},Dke=["points","className","baseLinePoints","connectNulls"];function ed(){return ed=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ed.apply(this,arguments)}function Lke(e,t){if(e==null)return{};var r=zke(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zke(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function UM(e){return Bke(e)||qke(e)||$ke(e)||Fke()}function Fke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ke(e,t){if(e){if(typeof e=="string")return g_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g_(e,t)}}function qke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Bke(e){if(Array.isArray(e))return g_(e)}function g_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var VM=function(e){return e&&e.x===+e.x&&e.y===+e.y},Uke=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=[[]];return e.forEach(function(r){VM(r)?t[t.length-1].push(r):t[t.length-1].length>0&&t.push([])}),VM(e[0])&&t[t.length-1].push(e[0]),t[t.length-1].length<=0&&(t=t.slice(0,-1)),t},sm=function(e,t){var r=Uke(e);t&&(r=[r.reduce(function(a,i){return[].concat(UM(a),UM(i))},[])]);var n=r.map(function(a){return a.reduce(function(i,o,l){return"".concat(i).concat(l===0?"M":"L").concat(o.x,",").concat(o.y)},"")}).join("");return r.length===1?"".concat(n,"Z"):n},Vke=function(e,t,r){var n=sm(e,r);return"".concat(n.slice(-1)==="Z"?n.slice(0,-1):n,"L").concat(sm(t.reverse(),r).slice(1))},Wke=function(e){var t=e.points,r=e.className,n=e.baseLinePoints,a=e.connectNulls,i=Lke(e,Dke);if(!t||!t.length)return null;var o=Ye("recharts-polygon",r);if(n&&n.length){var l=i.stroke&&i.stroke!=="none",c=Vke(t,n,a);return C.createElement("g",{className:o},C.createElement("path",ed({},ze(i,!0),{fill:c.slice(-1)==="Z"?i.fill:"none",stroke:"none",d:c})),l?C.createElement("path",ed({},ze(i,!0),{fill:"none",d:sm(t,a)})):null,l?C.createElement("path",ed({},ze(i,!0),{fill:"none",d:sm(n,a)})):null)}var u=sm(t,a);return C.createElement("path",ed({},ze(i,!0),{fill:u.slice(-1)==="Z"?i.fill:"none",className:o,d:u}))};function v_(){return v_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v_.apply(this,arguments)}var ig=function(e){var t=e.cx,r=e.cy,n=e.r,a=e.className,i=Ye("recharts-dot",a);return t===+t&&r===+r&&n===+n?g.createElement("circle",v_({},ze(e,!1),ky(e),{className:i,cx:t,cy:r,r:n})):null};function mp(e){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mp(e)}var Hke=["x","y","top","left","width","height","className"];function y_(){return y_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y_.apply(this,arguments)}function WM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kke(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WM(Object(r),!0).forEach(function(n){Gke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gke(e,t,r){return t=Zke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zke(e){var t=Xke(e,"string");return mp(t)=="symbol"?t:t+""}function Xke(e,t){if(mp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yke(e,t){if(e==null)return{};var r=Qke(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Qke(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Jke=function(e,t,r,n,a,i){return"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r)},eSe=function(e){var t=e.x,r=t===void 0?0:t,n=e.y,a=n===void 0?0:n,i=e.top,o=i===void 0?0:i,l=e.left,c=l===void 0?0:l,u=e.width,d=u===void 0?0:u,f=e.height,h=f===void 0?0:f,m=e.className,v=Yke(e,Hke),p=Kke({x:r,y:a,top:o,left:c,width:d,height:h},v);return!je(r)||!je(a)||!je(d)||!je(h)||!je(o)||!je(c)?null:C.createElement("path",y_({},ze(p,!0),{className:Ye("recharts-cross",m),d:Jke(r,a,d,h,o,c)}))},tSe=m0,rSe=Y8,nSe=mi;function aSe(e,t){return e&&e.length?tSe(e,nSe(t),rSe):void 0}var sSe=aSe;const iSe=Ot(sSe);var oSe=m0,lSe=mi,cSe=Q8;function uSe(e,t){return e&&e.length?oSe(e,lSe(t),cSe):void 0}var dSe=uSe;const fSe=Ot(dSe);var hSe=["cx","cy","angle","ticks","axisLine"],mSe=["ticks","tick","angle","tickFormatter","stroke"];function Kd(e){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kd(e)}function im(){return im=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},im.apply(this,arguments)}function HM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HM(Object(r),!0).forEach(function(n){y0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KM(e,t){if(e==null)return{};var r=pSe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pSe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function gSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,V$(n.key),n)}}function vSe(e,t,r){return t&&GM(e.prototype,t),r&&GM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ySe(e,t,r){return t=ix(t),xSe(e,U$()?Reflect.construct(t,r||[],ix(e).constructor):t.apply(e,r))}function xSe(e,t){if(t&&(Kd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bSe(e)}function bSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U$=function(){return!!e})()}function ix(e){return ix=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ix(e)}function wSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x_(e,t)}function x_(e,t){return x_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},x_(e,t)}function y0(e,t,r){return t=V$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V$(e){var t=jSe(e,"string");return Kd(t)=="symbol"?t:t+""}function jSe(e,t){if(Kd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var og=function(e){function t(){return gSe(this,t),ySe(this,t,arguments)}return wSe(t,e),vSe(t,[{key:"getTickValueCoord",value:function(r){var n=r.coordinate,a=this.props,i=a.angle,o=a.cx,l=a.cy;return Lt(o,l,n,i)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,n;switch(r){case"left":n="end";break;case"right":n="start";break;default:n="middle";break}return n}},{key:"getViewBox",value:function(){var r=this.props,n=r.cx,a=r.cy,i=r.angle,o=r.ticks,l=iSe(o,function(u){return u.coordinate||0}),c=fSe(o,function(u){return u.coordinate||0});return{cx:n,cy:a,startAngle:i,endAngle:i,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,n=r.cx,a=r.cy,i=r.angle,o=r.ticks,l=r.axisLine,c=KM(r,hSe),u=o.reduce(function(m,v){return[Math.min(m[0],v.coordinate),Math.max(m[1],v.coordinate)]},[1/0,-1/0]),d=Lt(n,a,u[0],i),f=Lt(n,a,u[1],i),h=Hl(Hl(Hl({},ze(c,!1)),{},{fill:"none"},ze(l,!1)),{},{x1:d.x,y1:d.y,x2:f.x,y2:f.y});return C.createElement("line",im({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var r=this,n=this.props,a=n.ticks,i=n.tick,o=n.angle,l=n.tickFormatter,c=n.stroke,u=KM(n,mSe),d=this.getTickTextAnchor(),f=ze(u,!1),h=ze(i,!1),m=a.map(function(v,p){var b=r.getTickValueCoord(v),x=Hl(Hl(Hl(Hl({textAnchor:d,transform:"rotate(".concat(90-o,", ").concat(b.x,", ").concat(b.y,")")},f),{},{stroke:"none",fill:c},h),{},{index:p},b),{},{payload:v});return C.createElement(Qe,im({className:Ye("recharts-polar-radius-axis-tick",E$(i)),key:"tick-".concat(v.coordinate)},ui(r.props,v,p)),t.renderTickItem(i,x,l?l(v.value,p):v.value))});return C.createElement(Qe,{className:"recharts-polar-radius-axis-ticks"},m)}},{key:"render",value:function(){var r=this.props,n=r.ticks,a=r.axisLine,i=r.tick;return!n||!n.length?null:C.createElement(Qe,{className:Ye("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),i&&this.renderTicks(),Zr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,n,a){var i;return C.isValidElement(r)?i=C.cloneElement(r,n):We(r)?i=r(n):i=C.createElement(Ic,im({},n,{className:"recharts-polar-radius-axis-tick-value"}),a),i}}])}(g.PureComponent);y0(og,"displayName","PolarRadiusAxis");y0(og,"axisType","radiusAxis");y0(og,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Gd(e){"@babel/helpers - typeof";return Gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gd(e)}function nc(){return nc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nc.apply(this,arguments)}function ZM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZM(Object(r),!0).forEach(function(n){x0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,H$(n.key),n)}}function _Se(e,t,r){return t&&XM(e.prototype,t),r&&XM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function kSe(e,t,r){return t=ox(t),SSe(e,W$()?Reflect.construct(t,r||[],ox(e).constructor):t.apply(e,r))}function SSe(e,t){if(t&&(Gd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OSe(e)}function OSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(W$=function(){return!!e})()}function ox(e){return ox=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ox(e)}function CSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b_(e,t)}function b_(e,t){return b_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},b_(e,t)}function x0(e,t,r){return t=H$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H$(e){var t=ESe(e,"string");return Gd(t)=="symbol"?t:t+""}function ESe(e,t){if(Gd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ASe=Math.PI/180,YM=1e-5,lg=function(e){function t(){return NSe(this,t),kSe(this,t,arguments)}return CSe(t,e),_Se(t,[{key:"getTickLineCoord",value:function(r){var n=this.props,a=n.cx,i=n.cy,o=n.radius,l=n.orientation,c=n.tickSize,u=c||8,d=Lt(a,i,o,r.coordinate),f=Lt(a,i,o+(l==="inner"?-1:1)*u,r.coordinate);return{x1:d.x,y1:d.y,x2:f.x,y2:f.y}}},{key:"getTickTextAnchor",value:function(r){var n=this.props.orientation,a=Math.cos(-r.coordinate*ASe),i;return a>YM?i=n==="outer"?"start":"end":a<-YM?i=n==="outer"?"end":"start":i="middle",i}},{key:"renderAxisLine",value:function(){var r=this.props,n=r.cx,a=r.cy,i=r.radius,o=r.axisLine,l=r.axisLineType,c=Kl(Kl({},ze(this.props,!1)),{},{fill:"none"},ze(o,!1));if(l==="circle")return C.createElement(ig,nc({className:"recharts-polar-angle-axis-line"},c,{cx:n,cy:a,r:i}));var u=this.props.ticks,d=u.map(function(f){return Lt(n,a,i,f.coordinate)});return C.createElement(Wke,nc({className:"recharts-polar-angle-axis-line"},c,{points:d}))}},{key:"renderTicks",value:function(){var r=this,n=this.props,a=n.ticks,i=n.tick,o=n.tickLine,l=n.tickFormatter,c=n.stroke,u=ze(this.props,!1),d=ze(i,!1),f=Kl(Kl({},u),{},{fill:"none"},ze(o,!1)),h=a.map(function(m,v){var p=r.getTickLineCoord(m),b=r.getTickTextAnchor(m),x=Kl(Kl(Kl({textAnchor:b},u),{},{stroke:"none",fill:c},d),{},{index:v,payload:m,x:p.x2,y:p.y2});return C.createElement(Qe,nc({className:Ye("recharts-polar-angle-axis-tick",E$(i)),key:"tick-".concat(m.coordinate)},ui(r.props,m,v)),o&&C.createElement("line",nc({className:"recharts-polar-angle-axis-tick-line"},f,p)),i&&t.renderTickItem(i,x,l?l(m.value,v):m.value))});return C.createElement(Qe,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var r=this.props,n=r.ticks,a=r.radius,i=r.axisLine;return a<=0||!n||!n.length?null:C.createElement(Qe,{className:Ye("recharts-polar-angle-axis",this.props.className)},i&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,n,a){var i;return C.isValidElement(r)?i=C.cloneElement(r,n):We(r)?i=r(n):i=C.createElement(Ic,nc({},n,{className:"recharts-polar-angle-axis-tick-value"}),a),i}}])}(g.PureComponent);x0(lg,"displayName","PolarAngleAxis");x0(lg,"axisType","angleAxis");x0(lg,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var PSe=KF,TSe=PSe(Object.getPrototypeOf,Object),MSe=TSe,RSe=so,ISe=MSe,DSe=io,LSe="[object Object]",zSe=Function.prototype,FSe=Object.prototype,K$=zSe.toString,$Se=FSe.hasOwnProperty,qSe=K$.call(Object);function BSe(e){if(!DSe(e)||RSe(e)!=LSe)return!1;var t=ISe(e);if(t===null)return!0;var r=$Se.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&K$.call(r)==qSe}var USe=BSe;const VSe=Ot(USe);var WSe=so,HSe=io,KSe="[object Boolean]";function GSe(e){return e===!0||e===!1||HSe(e)&&WSe(e)==KSe}var ZSe=GSe;const XSe=Ot(ZSe);function pp(e){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pp(e)}function lx(){return lx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lx.apply(this,arguments)}function YSe(e,t){return t2e(e)||e2e(e,t)||JSe(e,t)||QSe()}function QSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JSe(e,t){if(e){if(typeof e=="string")return QM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QM(e,t)}}function QM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function e2e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function t2e(e){if(Array.isArray(e))return e}function JM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function e4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JM(Object(r),!0).forEach(function(n){r2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r2e(e,t,r){return t=n2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n2e(e){var t=a2e(e,"string");return pp(t)=="symbol"?t:t+""}function a2e(e,t){if(pp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var t4=function(e,t,r,n,a){var i=r-n,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+r,",").concat(t),o+="L ".concat(e+r-i/2,",").concat(t+a),o+="L ".concat(e+r-i/2-n,",").concat(t+a),o+="L ".concat(e,",").concat(t," Z"),o},s2e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},i2e=function(e){var t=e4(e4({},s2e),e),r=g.useRef(),n=g.useState(-1),a=YSe(n,2),i=a[0],o=a[1];g.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var y=r.current.getTotalLength();y&&o(y)}catch{}},[]);var l=t.x,c=t.y,u=t.upperWidth,d=t.lowerWidth,f=t.height,h=t.className,m=t.animationEasing,v=t.animationDuration,p=t.animationBegin,b=t.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||f!==+f||u===0&&d===0||f===0)return null;var x=Ye("recharts-trapezoid",h);return b?C.createElement(_a,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:f,x:l,y:c},to:{upperWidth:u,lowerWidth:d,height:f,x:l,y:c},duration:v,animationEasing:m,isActive:b},function(y){var w=y.upperWidth,j=y.lowerWidth,N=y.height,_=y.x,k=y.y;return C.createElement(_a,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:v,easing:m},C.createElement("path",lx({},ze(t,!0),{className:x,d:t4(_,k,w,j,N),ref:r})))}):C.createElement("g",null,C.createElement("path",lx({},ze(t,!0),{className:x,d:t4(l,c,u,d,f)})))},o2e=["option","shapeType","propTransformer","activeClassName","isActive"];function gp(e){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gp(e)}function l2e(e,t){if(e==null)return{};var r=c2e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function c2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function r4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r4(Object(r),!0).forEach(function(n){u2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function u2e(e,t,r){return t=d2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d2e(e){var t=f2e(e,"string");return gp(t)=="symbol"?t:t+""}function f2e(e,t){if(gp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function h2e(e,t){return cx(cx({},t),e)}function m2e(e,t){return e==="symbols"}function n4(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return C.createElement(V2,r);case"trapezoid":return C.createElement(i2e,r);case"sector":return C.createElement(T$,r);case"symbols":if(m2e(t))return C.createElement(a0,r);break;default:return null}}function p2e(e){return g.isValidElement(e)?e.props:e}function vp(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?h2e:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=l2e(e,o2e),u;if(g.isValidElement(t))u=g.cloneElement(t,cx(cx({},c),p2e(t)));else if(We(t))u=t(c);else if(VSe(t)&&!XSe(t)){var d=a(t,c);u=C.createElement(n4,{shapeType:r,elementProps:d})}else{var f=c;u=C.createElement(n4,{shapeType:r,elementProps:f})}return l?C.createElement(Qe,{className:o},u):u}function b0(e,t){return t!=null&&"trapezoids"in e.props}function w0(e,t){return t!=null&&"sectors"in e.props}function yp(e,t){return t!=null&&"points"in e.props}function g2e(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function v2e(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function y2e(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function x2e(e,t){var r;return b0(e,t)?r=g2e:w0(e,t)?r=v2e:yp(e,t)&&(r=y2e),r}function b2e(e,t){var r;return b0(e,t)?r="trapezoids":w0(e,t)?r="sectors":yp(e,t)&&(r="points"),r}function w2e(e,t){if(b0(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(w0(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return yp(e,t)?t.payload:{}}function j2e(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=b2e(r,t),i=w2e(r,t),o=n.filter(function(c,u){var d=to(i,c),f=r.props[a].filter(function(v){var p=x2e(r,t);return p(v,t)}),h=r.props[a].indexOf(f[f.length-1]),m=u===h;return d&&m}),l=n.indexOf(o[o.length-1]);return l}var Mv;function Zd(e){"@babel/helpers - typeof";return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zd(e)}function td(){return td=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},td.apply(this,arguments)}function a4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ft(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a4(Object(r),!0).forEach(function(n){La(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Z$(n.key),n)}}function _2e(e,t,r){return t&&s4(e.prototype,t),r&&s4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function k2e(e,t,r){return t=ux(t),S2e(e,G$()?Reflect.construct(t,r||[],ux(e).constructor):t.apply(e,r))}function S2e(e,t){if(t&&(Zd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O2e(e)}function O2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G$=function(){return!!e})()}function ux(e){return ux=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ux(e)}function C2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w_(e,t)}function w_(e,t){return w_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},w_(e,t)}function La(e,t,r){return t=Z$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z$(e){var t=E2e(e,"string");return Zd(t)=="symbol"?t:t+""}function E2e(e,t){if(Zd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var lo=function(e){function t(r){var n;return N2e(this,t),n=k2e(this,t,[r]),La(n,"pieRef",null),La(n,"sectorRefs",[]),La(n,"id",Ol("recharts-pie-")),La(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),We(a)&&a()}),La(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),We(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return C2e(t,e),_2e(t,[{key:"isActiveIndex",value:function(r){var n=this.props.activeIndex;return Array.isArray(n)?n.indexOf(r)!==-1:r===n}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var a=this.props,i=a.label,o=a.labelLine,l=a.dataKey,c=a.valueKey,u=ze(this.props,!1),d=ze(i,!1),f=ze(o,!1),h=i&&i.offsetRadius||20,m=r.map(function(v,p){var b=(v.startAngle+v.endAngle)/2,x=Lt(v.cx,v.cy,v.outerRadius+h,b),y=Ft(Ft(Ft(Ft({},u),v),{},{stroke:"none"},d),{},{index:p,textAnchor:t.getTextAnchor(x.x,v.cx)},x),w=Ft(Ft(Ft(Ft({},u),v),{},{fill:"none",stroke:v.fill},f),{},{index:p,points:[Lt(v.cx,v.cy,v.outerRadius,b),x]}),j=l;return Ke(l)&&Ke(c)?j="value":Ke(l)&&(j=c),C.createElement(Qe,{key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(p)},o&&t.renderLabelLineItem(o,w,"line"),t.renderLabelItem(i,y,Bt(v,j)))});return C.createElement(Qe,{className:"recharts-pie-labels"},m)}},{key:"renderSectorsStatically",value:function(r){var n=this,a=this.props,i=a.activeShape,o=a.blendStroke,l=a.inactiveShape;return r.map(function(c,u){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&r.length!==1)return null;var d=n.isActiveIndex(u),f=l&&n.hasActiveIndex()?l:null,h=d?i:f,m=Ft(Ft({},c),{},{stroke:o?c.fill:c.stroke,tabIndex:-1});return C.createElement(Qe,td({ref:function(v){v&&!n.sectorRefs.includes(v)&&n.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},ui(n.props,c,u),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(u)}),C.createElement(vp,td({option:h,isActive:d,shapeType:"sector"},m)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,n=this.props,a=n.sectors,i=n.isAnimationActive,o=n.animationBegin,l=n.animationDuration,c=n.animationEasing,u=n.animationId,d=this.state,f=d.prevSectors,h=d.prevIsAnimationActive;return C.createElement(_a,{begin:o,duration:l,isActive:i,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(m){var v=m.t,p=[],b=a&&a[0],x=b.startAngle;return a.forEach(function(y,w){var j=f&&f[w],N=w>0?wa(y,"paddingAngle",0):0;if(j){var _=$t(j.endAngle-j.startAngle,y.endAngle-y.startAngle),k=Ft(Ft({},y),{},{startAngle:x+N,endAngle:x+_(v)+N});p.push(k),x=k.endAngle}else{var O=y.endAngle,E=y.startAngle,T=$t(0,O-E),P=T(v),S=Ft(Ft({},y),{},{startAngle:x+N,endAngle:x+P+N});p.push(S),x=S.endAngle}}),C.createElement(Qe,null,r.renderSectorsStatically(p))})}},{key:"attachKeyboardHandlers",value:function(r){var n=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var i=++n.state.sectorToFocus%n.sectorRefs.length;n.sectorRefs[i].focus(),n.setState({sectorToFocus:i});break}case"ArrowRight":{var o=--n.state.sectorToFocus<0?n.sectorRefs.length-1:n.state.sectorToFocus%n.sectorRefs.length;n.sectorRefs[o].focus(),n.setState({sectorToFocus:o});break}case"Escape":{n.sectorRefs[n.state.sectorToFocus].blur(),n.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,n=r.sectors,a=r.isAnimationActive,i=this.state.prevSectors;return a&&n&&n.length&&(!i||!to(i,n))?this.renderSectorsWithAnimation():this.renderSectorsStatically(n)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,n=this.props,a=n.hide,i=n.sectors,o=n.className,l=n.label,c=n.cx,u=n.cy,d=n.innerRadius,f=n.outerRadius,h=n.isAnimationActive,m=this.state.isAnimationFinished;if(a||!i||!i.length||!je(c)||!je(u)||!je(d)||!je(f))return null;var v=Ye("recharts-pie",o);return C.createElement(Qe,{tabIndex:this.props.rootTabIndex,className:v,ref:function(p){r.pieRef=p}},this.renderSectors(),l&&this.renderLabels(i),Zr.renderCallByParent(this.props,null,!1),(!h||m)&&Wa.renderCallByParent(this.props,i,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,n){return n.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==n.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:n.curSectors,isAnimationFinished:!0}:r.sectors!==n.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,n){return r>n?"start":r<n?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,n,a){if(C.isValidElement(r))return C.cloneElement(r,n);if(We(r))return r(n);var i=Ye("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return C.createElement(el,td({},n,{key:a,type:"linear",className:i}))}},{key:"renderLabelItem",value:function(r,n,a){if(C.isValidElement(r))return C.cloneElement(r,n);var i=a;if(We(r)&&(i=r(n),C.isValidElement(i)))return i;var o=Ye("recharts-pie-label-text",typeof r!="boolean"&&!We(r)?r.className:"");return C.createElement(Ic,td({},n,{alignmentBaseline:"middle",className:o}),i)}}])}(g.PureComponent);Mv=lo;La(lo,"displayName","Pie");La(lo,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!pi.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});La(lo,"parseDeltaAngle",function(e,t){var r=Xr(t-e),n=Math.min(Math.abs(t-e),360);return r*n});La(lo,"getRealPieData",function(e){var t=e.data,r=e.children,n=ze(e,!1),a=vn(r,Uf);return t&&t.length?t.map(function(i,o){return Ft(Ft(Ft({payload:i},n),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return Ft(Ft({},n),i.props)}):[]});La(lo,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,o=O$(a,i),l=n+Sn(e.cx,a,a/2),c=r+Sn(e.cy,i,i/2),u=Sn(e.innerRadius,o,0),d=Sn(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});La(lo,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Ft(Ft({},t.type.defaultProps),t.props):t.props,a=Mv.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,m=Math.abs(n.minAngle),v=Mv.parseCoordinateOfPie(n,r),p=Mv.parseDeltaAngle(o,l),b=Math.abs(p),x=u;Ke(u)&&Ke(f)?(Ss(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):Ke(u)&&(Ss(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=f);var y=a.filter(function(O){return Bt(O,x,0)!==0}).length,w=(b>=360?y:y-1)*c,j=b-y*m-w,N=a.reduce(function(O,E){var T=Bt(E,x,0);return O+(je(T)?T:0)},0),_;if(N>0){var k;_=a.map(function(O,E){var T=Bt(O,x,0),P=Bt(O,d,E),S=(je(T)?T:0)/N,R;E?R=k.endAngle+Xr(p)*c*(T!==0?1:0):R=o;var M=R+Xr(p)*((T!==0?m:0)+S*j),B=(R+M)/2,U=(v.innerRadius+v.outerRadius)/2,F=[{name:P,value:T,payload:O,dataKey:x,type:h}],z=Lt(v.cx,v.cy,U,B);return k=Ft(Ft(Ft({percent:S,cornerRadius:i,name:P,tooltipPayload:F,midAngle:B,middleRadius:U,tooltipPosition:z},O),v),{},{value:Bt(O,x),startAngle:R,endAngle:M,payload:O,paddingAngle:Xr(p)*c}),k})}return Ft(Ft({},v),{},{sectors:_,data:a})});function xp(e){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xp(e)}function j_(){return j_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j_.apply(this,arguments)}function i4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i4(Object(r),!0).forEach(function(n){A2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function A2e(e,t,r){return t=P2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P2e(e){var t=T2e(e,"string");return xp(t)=="symbol"?t:t+""}function T2e(e,t){if(xp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function o4(e){return typeof e=="string"?parseInt(e,10):e}function M2e(e,t){var r="".concat(t.cx||e.cx),n=Number(r),a="".concat(t.cy||e.cy),i=Number(a);return Nj(Nj(Nj({},t),e),{},{cx:n,cy:i})}function l4(e){return C.createElement(vp,j_({shapeType:"sector",propTransformer:M2e},e))}var R2e=["shape","activeShape","activeIndex","cornerRadius"],I2e=["value","background"];function Xd(e){"@babel/helpers - typeof";return Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xd(e)}function dx(){return dx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dx.apply(this,arguments)}function c4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c4(Object(r),!0).forEach(function(n){bc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function u4(e,t){if(e==null)return{};var r=D2e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function D2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function L2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Y$(n.key),n)}}function z2e(e,t,r){return t&&d4(e.prototype,t),r&&d4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function F2e(e,t,r){return t=fx(t),$2e(e,X$()?Reflect.construct(t,r||[],fx(e).constructor):t.apply(e,r))}function $2e(e,t){if(t&&(Xd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q2e(e)}function q2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X$=function(){return!!e})()}function fx(e){return fx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},fx(e)}function B2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N_(e,t)}function N_(e,t){return N_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},N_(e,t)}function bc(e,t,r){return t=Y$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y$(e){var t=U2e(e,"string");return Xd(t)=="symbol"?t:t+""}function U2e(e,t){if(Xd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var cg=function(e){function t(){var r;L2e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=F2e(this,t,[].concat(a)),bc(r,"state",{isAnimationFinished:!1}),bc(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),We(o)&&o()}),bc(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),We(o)&&o()}),r}return B2e(t,e),z2e(t,[{key:"getDeltaAngle",value:function(){var r=this.props,n=r.startAngle,a=r.endAngle,i=Xr(a-n),o=Math.min(Math.abs(a-n),360);return i*o}},{key:"renderSectorsStatically",value:function(r){var n=this,a=this.props,i=a.shape,o=a.activeShape,l=a.activeIndex,c=a.cornerRadius,u=u4(a,R2e),d=ze(u,!1);return r.map(function(f,h){var m=h===l,v=Hr(Hr(Hr(Hr({},d),{},{cornerRadius:o4(c)},f),ui(n.props,f,h)),{},{className:"recharts-radial-bar-sector ".concat(f.className),forceCornerRadius:u.forceCornerRadius,cornerIsExternal:u.cornerIsExternal,isActive:m,option:m?o:i});return C.createElement(l4,dx({},v,{key:"sector-".concat(h)}))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,n=this.props,a=n.data,i=n.isAnimationActive,o=n.animationBegin,l=n.animationDuration,c=n.animationEasing,u=n.animationId,d=this.state.prevData;return C.createElement(_a,{begin:o,duration:l,isActive:i,easing:c,from:{t:0},to:{t:1},key:"radialBar-".concat(u),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(f){var h=f.t,m=a.map(function(v,p){var b=d&&d[p];if(b){var x=$t(b.startAngle,v.startAngle),y=$t(b.endAngle,v.endAngle);return Hr(Hr({},v),{},{startAngle:x(h),endAngle:y(h)})}var w=v.endAngle,j=v.startAngle,N=$t(j,w);return Hr(Hr({},v),{},{endAngle:N(h)})});return C.createElement(Qe,null,r.renderSectorsStatically(m))})}},{key:"renderSectors",value:function(){var r=this.props,n=r.data,a=r.isAnimationActive,i=this.state.prevData;return a&&n&&n.length&&(!i||!to(i,n))?this.renderSectorsWithAnimation():this.renderSectorsStatically(n)}},{key:"renderBackground",value:function(r){var n=this,a=this.props.cornerRadius,i=ze(this.props.background,!1);return r.map(function(o,l){o.value;var c=o.background,u=u4(o,I2e);if(!c)return null;var d=Hr(Hr(Hr(Hr(Hr({cornerRadius:o4(a)},u),{},{fill:"#eee"},c),i),ui(n.props,o,l)),{},{index:l,className:Ye("recharts-radial-bar-background-sector",i==null?void 0:i.className),option:c,isActive:!1});return C.createElement(l4,dx({},d,{key:"sector-".concat(l)}))})}},{key:"render",value:function(){var r=this.props,n=r.hide,a=r.data,i=r.className,o=r.background,l=r.isAnimationActive;if(n||!a||!a.length)return null;var c=this.state.isAnimationFinished,u=Ye("recharts-area",i);return C.createElement(Qe,{className:u},o&&C.createElement(Qe,{className:"recharts-radial-bar-background"},this.renderBackground(a)),C.createElement(Qe,{className:"recharts-radial-bar-sectors"},this.renderSectors()),(!l||c)&&Wa.renderCallByParent(Hr({},this.props),a))}}],[{key:"getDerivedStateFromProps",value:function(r,n){return r.animationId!==n.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:n.curData}:r.data!==n.curData?{curData:r.data}:null}}])}(g.PureComponent);bc(cg,"displayName","RadialBar");bc(cg,"defaultProps",{angleAxisId:0,radiusAxisId:0,minPointSize:0,hide:!1,legendType:"rect",data:[],isAnimationActive:!pi.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease",forceCornerRadius:!1,cornerIsExternal:!1});bc(cg,"getComposedData",function(e){var t=e.item,r=e.props,n=e.radiusAxis,a=e.radiusAxisTicks,i=e.angleAxis,o=e.angleAxisTicks,l=e.displayedData,c=e.dataKey,u=e.stackedData,d=e.barPosition,f=e.bandSize,h=e.dataStartIndex,m=w$(d,t);if(!m)return null;var v=i.cx,p=i.cy,b=r.layout,x=t.props,y=x.children,w=x.minPointSize,j=b==="radial"?i:n,N=u?j.scale.domain():null,_=_$({numericAxis:j}),k=vn(y,Uf),O=l.map(function(E,T){var P,S,R,M,B,U;if(u?P=j$(u[h+T],N):(P=Bt(E,c),Array.isArray(P)||(P=[_,P])),b==="radial"){S=Qy({axis:n,ticks:a,bandSize:f,offset:m.offset,entry:E,index:T}),B=i.scale(P[1]),M=i.scale(P[0]),R=S+m.size;var F=B-M;if(Math.abs(w)>0&&Math.abs(F)<Math.abs(w)){var z=Xr(F||w)*(Math.abs(w)-Math.abs(F));B+=z}U={background:{cx:v,cy:p,innerRadius:S,outerRadius:R,startAngle:r.startAngle,endAngle:r.endAngle}}}else{S=n.scale(P[0]),R=n.scale(P[1]),M=Qy({axis:i,ticks:o,bandSize:f,offset:m.offset,entry:E,index:T}),B=M+m.size;var I=R-S;if(Math.abs(w)>0&&Math.abs(I)<Math.abs(w)){var G=Xr(I||w)*(Math.abs(w)-Math.abs(I));R+=G}}return Hr(Hr(Hr(Hr({},E),U),{},{payload:E,value:u?P:P[1],cx:v,cy:p,innerRadius:S,outerRadius:R,startAngle:M,endAngle:B},k&&k[T]&&k[T].props),{},{tooltipPayload:[U2(t,E)],tooltipPosition:Lt(v,p,(S+R)/2,(M+B)/2)})});return{data:O,layout:b}});var V2e=Math.ceil,W2e=Math.max;function H2e(e,t,r,n){for(var a=-1,i=W2e(V2e((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++a]=e,e+=r;return o}var K2e=H2e,G2e=f8,f4=1/0,Z2e=17976931348623157e292;function X2e(e){if(!e)return e===0?e:0;if(e=G2e(e),e===f4||e===-f4){var t=e<0?-1:1;return t*Z2e}return e===e?e:0}var Q$=X2e,Y2e=K2e,Q2e=o0,_j=Q$;function J2e(e){return function(t,r,n){return n&&typeof n!="number"&&Q2e(t,r,n)&&(r=n=void 0),t=_j(t),r===void 0?(r=t,t=0):r=_j(r),n=n===void 0?t<r?1:-1:_j(n),Y2e(t,r,n,e)}}var eOe=J2e,tOe=eOe,rOe=tOe(),nOe=rOe;const hx=Ot(nOe);function bp(e){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bp(e)}function h4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function m4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h4(Object(r),!0).forEach(function(n){J$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function J$(e,t,r){return t=aOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aOe(e){var t=sOe(e,"string");return bp(t)=="symbol"?t:t+""}function sOe(e,t){if(bp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iOe=["Webkit","Moz","O","ms"],oOe=function(e,t){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),n=iOe.reduce(function(a,i){return m4(m4({},a),{},J$({},i+r,t))},{});return n[e]=t,n};function Yd(e){"@babel/helpers - typeof";return Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yd(e)}function mx(){return mx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mx.apply(this,arguments)}function p4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p4(Object(r),!0).forEach(function(n){oa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tq(n.key),n)}}function cOe(e,t,r){return t&&g4(e.prototype,t),r&&g4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function uOe(e,t,r){return t=px(t),dOe(e,eq()?Reflect.construct(t,r||[],px(e).constructor):t.apply(e,r))}function dOe(e,t){if(t&&(Yd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fOe(e)}function fOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eq=function(){return!!e})()}function px(e){return px=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},px(e)}function hOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&__(e,t)}function __(e,t){return __=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},__(e,t)}function oa(e,t,r){return t=tq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tq(e){var t=mOe(e,"string");return Yd(t)=="symbol"?t:t+""}function mOe(e,t){if(Yd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var pOe=function(e){var t=e.data,r=e.startIndex,n=e.endIndex,a=e.x,i=e.width,o=e.travellerWidth;if(!t||!t.length)return{};var l=t.length,c=nm().domain(hx(0,l)).range([a,a+i-o]),u=c.domain().map(function(d){return c(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(n),scale:c,scaleValues:u}},v4=function(e){return e.changedTouches&&!!e.changedTouches.length},Qd=function(e){function t(r){var n;return lOe(this,t),n=uOe(this,t,[r]),oa(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),oa(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),oa(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),oa(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),oa(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),oa(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),oa(n,"handleSlideDragStart",function(a){var i=v4(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return hOe(t,e),cOe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var n=r.startX,a=r.endX,i=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,u=c.length-1,d=Math.min(n,a),f=Math.max(n,a),h=t.getIndexInRange(i,d),m=t.getIndexInRange(i,f);return{startIndex:h-h%l,endIndex:m===u?u:m-m%l}}},{key:"getTextOfTick",value:function(r){var n=this.props,a=n.data,i=n.tickFormatter,o=n.dataKey,l=Bt(a[r],o,r);return We(i)?i(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var n=this.state,a=n.slideMoveStartX,i=n.startX,o=n.endX,l=this.props,c=l.x,u=l.width,d=l.travellerWidth,f=l.startIndex,h=l.endIndex,m=l.onChange,v=r.pageX-a;v>0?v=Math.min(v,c+u-d-o,c+u-d-i):v<0&&(v=Math.max(v,c-i,c-o));var p=this.getIndex({startX:i+v,endX:o+v});(p.startIndex!==f||p.endIndex!==h)&&m&&m(p),this.setState({startX:i+v,endX:o+v,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,n){var a=v4(n)?n.changedTouches[0]:n;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var n=this.state,a=n.brushMoveStartX,i=n.movingTravellerId,o=n.endX,l=n.startX,c=this.state[i],u=this.props,d=u.x,f=u.width,h=u.travellerWidth,m=u.onChange,v=u.gap,p=u.data,b={startX:this.state.startX,endX:this.state.endX},x=r.pageX-a;x>0?x=Math.min(x,d+f-h-c):x<0&&(x=Math.max(x,d-c)),b[i]=c+x;var y=this.getIndex(b),w=y.startIndex,j=y.endIndex,N=function(){var _=p.length-1;return i==="startX"&&(o>l?w%v===0:j%v===0)||o<l&&j===_||i==="endX"&&(o>l?j%v===0:w%v===0)||o>l&&j===_};this.setState(oa(oa({},i,c+x),"brushMoveStartX",r.pageX),function(){m&&N()&&m(y)})}},{key:"handleTravellerMoveKeyboard",value:function(r,n){var a=this,i=this.state,o=i.scaleValues,l=i.startX,c=i.endX,u=this.state[n],d=o.indexOf(u);if(d!==-1){var f=d+r;if(!(f===-1||f>=o.length)){var h=o[f];n==="startX"&&h>=c||n==="endX"&&h<=l||this.setState(oa({},n,h),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,n=r.x,a=r.y,i=r.width,o=r.height,l=r.fill,c=r.stroke;return C.createElement("rect",{stroke:c,fill:l,x:n,y:a,width:i,height:o})}},{key:"renderPanorama",value:function(){var r=this.props,n=r.x,a=r.y,i=r.width,o=r.height,l=r.data,c=r.children,u=r.padding,d=g.Children.only(c);return d?C.cloneElement(d,{x:n,y:a,width:i,height:o,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,n){var a,i,o=this,l=this.props,c=l.y,u=l.travellerWidth,d=l.height,f=l.traveller,h=l.ariaLabel,m=l.data,v=l.startIndex,p=l.endIndex,b=Math.max(r,this.props.x),x=kj(kj({},ze(this.props,!1)),{},{x:b,y:c,width:u,height:d}),y=h||"Min value: ".concat((a=m[v])===null||a===void 0?void 0:a.name,", Max value: ").concat((i=m[p])===null||i===void 0?void 0:i.name);return C.createElement(Qe,{tabIndex:0,role:"slider","aria-label":y,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[n],onTouchStart:this.travellerDragStartHandlers[n],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),o.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,n))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(f,x))}},{key:"renderSlide",value:function(r,n){var a=this.props,i=a.y,o=a.height,l=a.stroke,c=a.travellerWidth,u=Math.min(r,n)+c,d=Math.max(Math.abs(n-r)-c,0);return C.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:i,width:d,height:o})}},{key:"renderText",value:function(){var r=this.props,n=r.startIndex,a=r.endIndex,i=r.y,o=r.height,l=r.travellerWidth,c=r.stroke,u=this.state,d=u.startX,f=u.endX,h=5,m={pointerEvents:"none",fill:c};return C.createElement(Qe,{className:"recharts-brush-texts"},C.createElement(Ic,mx({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,f)-h,y:i+o/2},m),this.getTextOfTick(n)),C.createElement(Ic,mx({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,f)+l+h,y:i+o/2},m),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,n=r.data,a=r.className,i=r.children,o=r.x,l=r.y,c=r.width,u=r.height,d=r.alwaysShowText,f=this.state,h=f.startX,m=f.endX,v=f.isTextActive,p=f.isSlideMoving,b=f.isTravellerMoving,x=f.isTravellerFocused;if(!n||!n.length||!je(o)||!je(l)||!je(c)||!je(u)||c<=0||u<=0)return null;var y=Ye("recharts-brush",a),w=C.Children.count(i)===1,j=oOe("userSelect","none");return C.createElement(Qe,{className:y,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),w&&this.renderPanorama(),this.renderSlide(h,m),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(m,"endX"),(v||p||b||x||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var n=r.x,a=r.y,i=r.width,o=r.height,l=r.stroke,c=Math.floor(a+o/2)-1;return C.createElement(C.Fragment,null,C.createElement("rect",{x:n,y:a,width:i,height:o,fill:l,stroke:"none"}),C.createElement("line",{x1:n+1,y1:c,x2:n+i-1,y2:c,fill:"none",stroke:"#fff"}),C.createElement("line",{x1:n+1,y1:c+2,x2:n+i-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,n){var a;return C.isValidElement(r)?a=C.cloneElement(r,n):We(r)?a=r(n):a=t.renderDefaultTraveller(n),a}},{key:"getDerivedStateFromProps",value:function(r,n){var a=r.data,i=r.width,o=r.x,l=r.travellerWidth,c=r.updateId,u=r.startIndex,d=r.endIndex;if(a!==n.prevData||c!==n.prevUpdateId)return kj({prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:i},a&&a.length?pOe({data:a,width:i,x:o,travellerWidth:l,startIndex:u,endIndex:d}):{scale:null,scaleValues:null});if(n.scale&&(i!==n.prevWidth||o!==n.prevX||l!==n.prevTravellerWidth)){n.scale.range([o,o+i-l]);var f=n.scale.domain().map(function(h){return n.scale(h)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:i,startX:n.scale(r.startIndex),endX:n.scale(r.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(r,n){for(var a=r.length,i=0,o=a-1;o-i>1;){var l=Math.floor((i+o)/2);r[l]>n?o=l:i=l}return n>=r[o]?o:i}}])}(g.PureComponent);oa(Qd,"displayName","Brush");oa(Qd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var gOe=p2;function vOe(e,t){var r;return gOe(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var yOe=vOe,xOe=FF,bOe=mi,wOe=yOe,jOe=ta,NOe=o0;function _Oe(e,t,r){var n=jOe(e)?xOe:wOe;return r&&NOe(e,t,r)&&(t=void 0),n(e,bOe(t))}var kOe=_Oe;const SOe=Ot(kOe);var ii=function(e,t){var r=e.alwaysShow,n=e.ifOverflow;return r&&(n="extendDomain"),n===t},y4=o8;function OOe(e,t,r){t=="__proto__"&&y4?y4(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var COe=OOe,EOe=COe,AOe=s8,POe=mi;function TOe(e,t){var r={};return t=POe(t),AOe(e,function(n,a,i){EOe(r,a,t(n,a,i))}),r}var MOe=TOe;const ROe=Ot(MOe);function IOe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var DOe=IOe,LOe=p2;function zOe(e,t){var r=!0;return LOe(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var FOe=zOe,$Oe=DOe,qOe=FOe,BOe=mi,UOe=ta,VOe=o0;function WOe(e,t,r){var n=UOe(e)?$Oe:qOe;return r&&VOe(e,t,r)&&(t=void 0),n(e,BOe(t))}var HOe=WOe;const rq=Ot(HOe);var KOe=["x","y"];function wp(e){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wp(e)}function k_(){return k_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k_.apply(this,arguments)}function x4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x4(Object(r),!0).forEach(function(n){GOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GOe(e,t,r){return t=ZOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZOe(e){var t=XOe(e,"string");return wp(t)=="symbol"?t:t+""}function XOe(e,t){if(wp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YOe(e,t){if(e==null)return{};var r=QOe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function QOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function JOe(e,t){var r=e.x,n=e.y,a=YOe(e,KOe),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return Mh(Mh(Mh(Mh(Mh({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function b4(e){return C.createElement(vp,k_({shapeType:"rectangle",propTransformer:JOe,activeClassName:"recharts-active-bar"},e))}var eCe=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,n){if(typeof e=="number")return e;var a=je(r)||mce(r);return a?e(r,n):(a||Lc(),t)}},tCe=["value","background"],nq;function Jd(e){"@babel/helpers - typeof";return Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jd(e)}function rCe(e,t){if(e==null)return{};var r=nCe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nCe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function gx(){return gx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gx.apply(this,arguments)}function w4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w4(Object(r),!0).forEach(function(n){zo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sq(n.key),n)}}function sCe(e,t,r){return t&&j4(e.prototype,t),r&&j4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function iCe(e,t,r){return t=vx(t),oCe(e,aq()?Reflect.construct(t,r||[],vx(e).constructor):t.apply(e,r))}function oCe(e,t){if(t&&(Jd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lCe(e)}function lCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aq=function(){return!!e})()}function vx(e){return vx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},vx(e)}function cCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S_(e,t)}function S_(e,t){return S_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},S_(e,t)}function zo(e,t,r){return t=sq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sq(e){var t=uCe(e,"string");return Jd(t)=="symbol"?t:t+""}function uCe(e,t){if(Jd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ml=function(e){function t(){var r;aCe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=iCe(this,t,[].concat(a)),zo(r,"state",{isAnimationFinished:!1}),zo(r,"id",Ol("recharts-bar-")),zo(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),zo(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return cCe(t,e),sCe(t,[{key:"renderRectanglesStatically",value:function(r){var n=this,a=this.props,i=a.shape,o=a.dataKey,l=a.activeIndex,c=a.activeBar,u=ze(this.props,!1);return r&&r.map(function(d,f){var h=f===l,m=h?c:i,v=kr(kr(kr({},u),d),{},{isActive:h,option:m,index:f,dataKey:o,onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd});return C.createElement(Qe,gx({className:"recharts-bar-rectangle"},ui(n.props,d,f),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(f)}),C.createElement(b4,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,n=this.props,a=n.data,i=n.layout,o=n.isAnimationActive,l=n.animationBegin,c=n.animationDuration,u=n.animationEasing,d=n.animationId,f=this.state.prevData;return C.createElement(_a,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var m=h.t,v=a.map(function(p,b){var x=f&&f[b];if(x){var y=$t(x.x,p.x),w=$t(x.y,p.y),j=$t(x.width,p.width),N=$t(x.height,p.height);return kr(kr({},p),{},{x:y(m),y:w(m),width:j(m),height:N(m)})}if(i==="horizontal"){var _=$t(0,p.height),k=_(m);return kr(kr({},p),{},{y:p.y+p.height-k,height:k})}var O=$t(0,p.width),E=O(m);return kr(kr({},p),{},{width:E})});return C.createElement(Qe,null,r.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var r=this.props,n=r.data,a=r.isAnimationActive,i=this.state.prevData;return a&&n&&n.length&&(!i||!to(i,n))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(n)}},{key:"renderBackground",value:function(){var r=this,n=this.props,a=n.data,i=n.dataKey,o=n.activeIndex,l=ze(this.props.background,!1);return a.map(function(c,u){c.value;var d=c.background,f=rCe(c,tCe);if(!d)return null;var h=kr(kr(kr(kr(kr({},f),{},{fill:"#eee"},d),l),ui(r.props,c,u)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:i,index:u,className:"recharts-bar-background-rectangle"});return C.createElement(b4,gx({key:"background-bar-".concat(u),option:r.props.background,isActive:u===o},h))})}},{key:"renderErrorBar",value:function(r,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,i=a.data,o=a.xAxis,l=a.yAxis,c=a.layout,u=a.children,d=vn(u,Kf);if(!d)return null;var f=c==="vertical"?i[0].height/2:i[0].width/2,h=function(v,p){var b=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:b,errorVal:Bt(v,p)}},m={clipPath:r?"url(#clipPath-".concat(n,")"):null};return C.createElement(Qe,m,d.map(function(v){return C.cloneElement(v,{key:"error-bar-".concat(n,"-").concat(v.props.dataKey),data:i,xAxis:o,yAxis:l,layout:c,offset:f,dataPointFormatter:h})}))}},{key:"render",value:function(){var r=this.props,n=r.hide,a=r.data,i=r.className,o=r.xAxis,l=r.yAxis,c=r.left,u=r.top,d=r.width,f=r.height,h=r.isAnimationActive,m=r.background,v=r.id;if(n||!a||!a.length)return null;var p=this.state.isAnimationFinished,b=Ye("recharts-bar",i),x=o&&o.allowDataOverflow,y=l&&l.allowDataOverflow,w=x||y,j=Ke(v)?this.id:v;return C.createElement(Qe,{className:b},x||y?C.createElement("defs",null,C.createElement("clipPath",{id:"clipPath-".concat(j)},C.createElement("rect",{x:x?c:c-d/2,y:y?u:u-f/2,width:x?d:d*2,height:y?f:f*2}))):null,C.createElement(Qe,{className:"recharts-bar-rectangles",clipPath:w?"url(#clipPath-".concat(j,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(w,j),(!h||p)&&Wa.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,n){return r.animationId!==n.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:n.curData}:r.data!==n.curData?{curData:r.data}:null}}])}(g.PureComponent);nq=ml;zo(ml,"displayName","Bar");zo(ml,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!pi.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});zo(ml,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=w$(n,r);if(!m)return null;var v=t.layout,p=r.type.defaultProps,b=p!==void 0?kr(kr({},p),r.props):r.props,x=b.dataKey,y=b.children,w=b.minPointSize,j=v==="horizontal"?o:i,N=u?j.scale.domain():null,_=_$({numericAxis:j}),k=vn(y,Uf),O=f.map(function(E,T){var P,S,R,M,B,U;u?P=j$(u[d+T],N):(P=Bt(E,x),Array.isArray(P)||(P=[_,P]));var F=eCe(w,nq.defaultProps.minPointSize)(P[1],T);if(v==="horizontal"){var z,I=[o.scale(P[0]),o.scale(P[1])],G=I[0],L=I[1];S=Qy({axis:i,ticks:l,bandSize:a,offset:m.offset,entry:E,index:T}),R=(z=L??G)!==null&&z!==void 0?z:void 0,M=m.size;var $=G-L;if(B=Number.isNaN($)?0:$,U={x:S,y:o.y,width:M,height:o.height},Math.abs(F)>0&&Math.abs(B)<Math.abs(F)){var J=Xr(B||F)*(Math.abs(F)-Math.abs(B));R-=J,B+=J}}else{var K=[i.scale(P[0]),i.scale(P[1])],D=K[0],oe=K[1];if(S=D,R=Qy({axis:o,ticks:c,bandSize:a,offset:m.offset,entry:E,index:T}),M=oe-D,B=m.size,U={x:i.x,y:R,width:i.width,height:B},Math.abs(F)>0&&Math.abs(M)<Math.abs(F)){var V=Xr(M||F)*(Math.abs(F)-Math.abs(M));M+=V}}return kr(kr(kr({},E),{},{x:S,y:R,width:M,height:B,value:u?P:P[1],payload:E,background:U},k&&k[T]&&k[T].props),{},{tooltipPayload:[U2(r,E)],tooltipPosition:{x:S+M/2,y:R+B/2}})});return kr({data:O,layout:v},h)});function jp(e){"@babel/helpers - typeof";return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jp(e)}function dCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iq(n.key),n)}}function fCe(e,t,r){return t&&N4(e.prototype,t),r&&N4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ds(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_4(Object(r),!0).forEach(function(n){j0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j0(e,t,r){return t=iq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iq(e){var t=hCe(e,"string");return jp(t)=="symbol"?t:t+""}function hCe(e,t){if(jp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mCe=function(e,t,r,n,a){var i=e.width,o=e.height,l=e.layout,c=e.children,u=Object.keys(t),d={left:r.left,leftMirror:r.left,right:i-r.right,rightMirror:i-r.right,top:r.top,topMirror:r.top,bottom:o-r.bottom,bottomMirror:o-r.bottom},f=!!ca(c,ml);return u.reduce(function(h,m){var v=t[m],p=v.orientation,b=v.domain,x=v.padding,y=x===void 0?{}:x,w=v.mirror,j=v.reversed,N="".concat(p).concat(w?"Mirror":""),_,k,O,E,T;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var P=b[1]-b[0],S=1/0,R=v.categoricalDomain.sort(yce);if(R.forEach(function(J,K){K>0&&(S=Math.min((J||0)-(R[K-1]||0),S))}),Number.isFinite(S)){var M=S/P,B=v.layout==="vertical"?r.height:r.width;if(v.padding==="gap"&&(_=M*B/2),v.padding==="no-gap"){var U=Sn(e.barCategoryGap,M*B),F=M*B/2;_=F-U-(F-U)/B*U}}}n==="xAxis"?k=[r.left+(y.left||0)+(_||0),r.left+r.width-(y.right||0)-(_||0)]:n==="yAxis"?k=l==="horizontal"?[r.top+r.height-(y.bottom||0),r.top+(y.top||0)]:[r.top+(y.top||0)+(_||0),r.top+r.height-(y.bottom||0)-(_||0)]:k=v.range,j&&(k=[k[1],k[0]]);var z=x$(v,a,f),I=z.scale,G=z.realScaleType;I.domain(b).range(k),b$(I);var L=N$(I,ds(ds({},v),{},{realScaleType:G}));n==="xAxis"?(T=p==="top"&&!w||p==="bottom"&&w,O=r.left,E=d[N]-T*v.height):n==="yAxis"&&(T=p==="left"&&!w||p==="right"&&w,O=d[N]-T*v.width,E=r.top);var $=ds(ds(ds({},v),L),{},{realScaleType:G,x:O,y:E,scale:I,width:n==="xAxis"?r.width:v.width,height:n==="yAxis"?r.height:v.height});return $.bandSize=Jy($,L),!v.hide&&n==="xAxis"?d[N]+=(T?-1:1)*$.height:v.hide||(d[N]+=(T?-1:1)*$.width),ds(ds({},h),{},j0({},m,$))},{})},oq=function(e,t){var r=e.x,n=e.y,a=t.x,i=t.y;return{x:Math.min(r,a),y:Math.min(n,i),width:Math.abs(a-r),height:Math.abs(i-n)}},pCe=function(e){var t=e.x1,r=e.y1,n=e.x2,a=e.y2;return oq({x:t,y:r},{x:n,y:a})},lq=function(){function e(t){dCe(this,e),this.scale=t}return fCe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.bandAware,a=r.position;if(t!==void 0){if(a)switch(a){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(t)+o}default:return this.scale(t)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}},{key:"isInRange",value:function(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}],[{key:"create",value:function(t){return new e(t)}}])}();j0(lq,"EPS",1e-4);var W2=function(e){var t=Object.keys(e).reduce(function(r,n){return ds(ds({},r),{},j0({},n,lq.create(e[n])))},{});return ds(ds({},t),{},{apply:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;return ROe(r,function(o,l){return t[l].apply(o,{bandAware:a,position:i})})},isInRange:function(r){return rq(r,function(n,a){return t[a].isInRange(n)})}})};function gCe(e){return(e%180+180)%180}var vCe=function(e){var t=e.width,r=e.height,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=gCe(n),i=a*Math.PI/180,o=Math.atan(r/t),l=i>o&&i<Math.PI-o?r/Math.sin(i):t/Math.cos(i);return Math.abs(l)},yCe=mi,xCe=tg,bCe=s0;function wCe(e){return function(t,r,n){var a=Object(t);if(!xCe(t)){var i=yCe(r);t=bCe(t),r=function(l){return i(a[l],l,a)}}var o=e(t,r,n);return o>-1?a[i?t[o]:o]:void 0}}var jCe=wCe,NCe=Q$;function _Ce(e){var t=NCe(e),r=t%1;return t===t?r?t-r:t:0}var kCe=_Ce,SCe=JF,OCe=mi,CCe=kCe,ECe=Math.max;function ACe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:CCe(r);return a<0&&(a=ECe(n+a,0)),SCe(e,OCe(t),a)}var PCe=ACe,TCe=jCe,MCe=PCe,RCe=TCe(MCe),ICe=RCe;const DCe=Ot(ICe);var LCe=ble(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),H2=g.createContext(void 0),K2=g.createContext(void 0),cq=g.createContext(void 0),uq=g.createContext({}),dq=g.createContext(void 0),fq=g.createContext(0),hq=g.createContext(0),k4=function(e){var t=e.state,r=t.xAxisMap,n=t.yAxisMap,a=t.offset,i=e.clipPathId,o=e.children,l=e.width,c=e.height,u=LCe(a);return C.createElement(H2.Provider,{value:r},C.createElement(K2.Provider,{value:n},C.createElement(uq.Provider,{value:a},C.createElement(cq.Provider,{value:u},C.createElement(dq.Provider,{value:i},C.createElement(fq.Provider,{value:c},C.createElement(hq.Provider,{value:l},o)))))))},zCe=function(){return g.useContext(dq)},mq=function(e){var t=g.useContext(H2);t==null&&Lc();var r=t[e];return r==null&&Lc(),r},FCe=function(){var e=g.useContext(H2);return To(e)},$Ce=function(){var e=g.useContext(K2),t=DCe(e,function(r){return rq(r.domain,Number.isFinite)});return t||To(e)},pq=function(e){var t=g.useContext(K2);t==null&&Lc();var r=t[e];return r==null&&Lc(),r},qCe=function(){var e=g.useContext(cq);return e},BCe=function(){return g.useContext(uq)},G2=function(){return g.useContext(hq)},Z2=function(){return g.useContext(fq)};function ef(e){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ef(e)}function UCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VCe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vq(n.key),n)}}function WCe(e,t,r){return t&&VCe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function HCe(e,t,r){return t=yx(t),KCe(e,gq()?Reflect.construct(t,r||[],yx(e).constructor):t.apply(e,r))}function KCe(e,t){if(t&&(ef(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GCe(e)}function GCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gq=function(){return!!e})()}function yx(e){return yx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},yx(e)}function ZCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O_(e,t)}function O_(e,t){return O_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},O_(e,t)}function S4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function O4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S4(Object(r),!0).forEach(function(n){X2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function X2(e,t,r){return t=vq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vq(e){var t=XCe(e,"string");return ef(t)=="symbol"?t:t+""}function XCe(e,t){if(ef(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ef(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function YCe(e,t){return tEe(e)||eEe(e,t)||JCe(e,t)||QCe()}function QCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JCe(e,t){if(e){if(typeof e=="string")return C4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C4(e,t)}}function C4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eEe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function tEe(e){if(Array.isArray(e))return e}function C_(){return C_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},C_.apply(this,arguments)}var rEe=function(e,t){var r;return C.isValidElement(e)?r=C.cloneElement(e,t):We(e)?r=e(t):r=C.createElement("line",C_({},t,{className:"recharts-reference-line-line"})),r},nEe=function(e,t,r,n,a,i,o,l,c){var u=a.x,d=a.y,f=a.width,h=a.height;if(r){var m=c.y,v=e.y.apply(m,{position:i});if(ii(c,"discard")&&!e.y.isInRange(v))return null;var p=[{x:u+f,y:v},{x:u,y:v}];return l==="left"?p.reverse():p}if(t){var b=c.x,x=e.x.apply(b,{position:i});if(ii(c,"discard")&&!e.x.isInRange(x))return null;var y=[{x,y:d+h},{x,y:d}];return o==="top"?y.reverse():y}if(n){var w=c.segment,j=w.map(function(N){return e.apply(N,{position:i})});return ii(c,"discard")&&SOe(j,function(N){return!e.isInRange(N)})?null:j}return null};function aEe(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=zCe(),d=mq(a),f=pq(i),h=qCe();if(!u||!h)return null;Ss(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=W2({x:d.scale,y:f.scale}),v=Ur(t),p=Ur(r),b=n&&n.length===2,x=nEe(m,v,p,b,h,e.position,d.orientation,f.orientation,e);if(!x)return null;var y=YCe(x,2),w=y[0],j=w.x,N=w.y,_=y[1],k=_.x,O=_.y,E=ii(e,"hidden")?"url(#".concat(u,")"):void 0,T=O4(O4({clipPath:E},ze(e,!0)),{},{x1:j,y1:N,x2:k,y2:O});return C.createElement(Qe,{className:Ye("recharts-reference-line",l)},rEe(o,T),Zr.renderCallByParent(e,pCe({x1:j,y1:N,x2:k,y2:O})))}var Y2=function(e){function t(){return UCe(this,t),HCe(this,t,arguments)}return ZCe(t,e),WCe(t,[{key:"render",value:function(){return C.createElement(aEe,this.props)}}])}(C.Component);X2(Y2,"displayName","ReferenceLine");X2(Y2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function E_(){return E_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E_.apply(this,arguments)}function tf(e){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tf(e)}function E4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function A4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E4(Object(r),!0).forEach(function(n){N0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iEe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xq(n.key),n)}}function oEe(e,t,r){return t&&iEe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lEe(e,t,r){return t=xx(t),cEe(e,yq()?Reflect.construct(t,r||[],xx(e).constructor):t.apply(e,r))}function cEe(e,t){if(t&&(tf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uEe(e)}function uEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yq=function(){return!!e})()}function xx(e){return xx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xx(e)}function dEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A_(e,t)}function A_(e,t){return A_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},A_(e,t)}function N0(e,t,r){return t=xq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xq(e){var t=fEe(e,"string");return tf(t)=="symbol"?t:t+""}function fEe(e,t){if(tf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var hEe=function(e){var t=e.x,r=e.y,n=e.xAxis,a=e.yAxis,i=W2({x:n.scale,y:a.scale}),o=i.apply({x:t,y:r},{bandAware:!0});return ii(e,"discard")&&!i.isInRange(o)?null:o},_0=function(e){function t(){return sEe(this,t),lEe(this,t,arguments)}return dEe(t,e),oEe(t,[{key:"render",value:function(){var r=this.props,n=r.x,a=r.y,i=r.r,o=r.alwaysShow,l=r.clipPathId,c=Ur(n),u=Ur(a);if(Ss(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var d=hEe(this.props);if(!d)return null;var f=d.x,h=d.y,m=this.props,v=m.shape,p=m.className,b=ii(this.props,"hidden")?"url(#".concat(l,")"):void 0,x=A4(A4({clipPath:b},ze(this.props,!0)),{},{cx:f,cy:h});return C.createElement(Qe,{className:Ye("recharts-reference-dot",p)},t.renderDot(v,x),Zr.renderCallByParent(this.props,{x:f-i,y:h-i,width:2*i,height:2*i}))}}])}(C.Component);N0(_0,"displayName","ReferenceDot");N0(_0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});N0(_0,"renderDot",function(e,t){var r;return C.isValidElement(e)?r=C.cloneElement(e,t):We(e)?r=e(t):r=C.createElement(ig,E_({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function P_(){return P_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P_.apply(this,arguments)}function rf(e){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rf(e)}function P4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function T4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P4(Object(r),!0).forEach(function(n){k0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pEe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wq(n.key),n)}}function gEe(e,t,r){return t&&pEe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vEe(e,t,r){return t=bx(t),yEe(e,bq()?Reflect.construct(t,r||[],bx(e).constructor):t.apply(e,r))}function yEe(e,t){if(t&&(rf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xEe(e)}function xEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bq=function(){return!!e})()}function bx(e){return bx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},bx(e)}function bEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T_(e,t)}function T_(e,t){return T_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},T_(e,t)}function k0(e,t,r){return t=wq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wq(e){var t=wEe(e,"string");return rf(t)=="symbol"?t:t+""}function wEe(e,t){if(rf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var jEe=function(e,t,r,n,a){var i=a.x1,o=a.x2,l=a.y1,c=a.y2,u=a.xAxis,d=a.yAxis;if(!u||!d)return null;var f=W2({x:u.scale,y:d.scale}),h={x:e?f.x.apply(i,{position:"start"}):f.x.rangeMin,y:r?f.y.apply(l,{position:"start"}):f.y.rangeMin},m={x:t?f.x.apply(o,{position:"end"}):f.x.rangeMax,y:n?f.y.apply(c,{position:"end"}):f.y.rangeMax};return ii(a,"discard")&&(!f.isInRange(h)||!f.isInRange(m))?null:oq(h,m)},S0=function(e){function t(){return mEe(this,t),vEe(this,t,arguments)}return bEe(t,e),gEe(t,[{key:"render",value:function(){var r=this.props,n=r.x1,a=r.x2,i=r.y1,o=r.y2,l=r.className,c=r.alwaysShow,u=r.clipPathId;Ss(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=Ur(n),f=Ur(a),h=Ur(i),m=Ur(o),v=this.props.shape;if(!d&&!f&&!h&&!m&&!v)return null;var p=jEe(d,f,h,m,this.props);if(!p&&!v)return null;var b=ii(this.props,"hidden")?"url(#".concat(u,")"):void 0;return C.createElement(Qe,{className:Ye("recharts-reference-area",l)},t.renderRect(v,T4(T4({clipPath:b},ze(this.props,!0)),p)),Zr.renderCallByParent(this.props,p))}}])}(C.Component);k0(S0,"displayName","ReferenceArea");k0(S0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});k0(S0,"renderRect",function(e,t){var r;return C.isValidElement(e)?r=C.cloneElement(e,t):We(e)?r=e(t):r=C.createElement(V2,P_({},t,{className:"recharts-reference-area-rect"})),r});function jq(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function NEe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return vCe(n,r)}function _Ee(e,t,r){var n=r==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function wx(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function kEe(e,t){return jq(e,t+1)}function SEe(e,t,r,n,a){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var m=n==null?void 0:n[c];if(m===void 0)return{v:jq(n,u)};var v=c,p,b=function(){return p===void 0&&(p=r(m,v)),p},x=m.coordinate,y=c===0||wx(e,x,b,d,l);y||(c=0,d=o,u+=1),y&&(d=x+e*(b()/2+a),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function Np(e){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Np(e)}function M4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M4(Object(r),!0).forEach(function(n){OEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OEe(e,t,r){return t=CEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CEe(e){var t=EEe(e,"string");return Np(t)=="symbol"?t:t+""}function EEe(e,t){if(Np(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Np(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AEe(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(f){var h=i[f],m,v=function(){return m===void 0&&(m=r(h,f)),m};if(f===o-1){var p=e*(h.coordinate+e*v()/2-c);i[f]=h=dn(dn({},h),{},{tickCoord:p>0?h.coordinate-p*e:h.coordinate})}else i[f]=h=dn(dn({},h),{},{tickCoord:h.coordinate});var b=wx(e,h.tickCoord,v,l,c);b&&(c=h.tickCoord-e*(v()/2+a),i[f]=dn(dn({},h),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function PEe(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=dn(dn({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=wx(e,d.tickCoord,function(){return f},c,u);m&&(u=d.tickCoord-e*(f/2+a),o[l-1]=dn(dn({},d),{},{isShow:!0}))}for(var v=i?l-1:l,p=function(x){var y=o[x],w,j=function(){return w===void 0&&(w=r(y,x)),w};if(x===0){var N=e*(y.coordinate-e*j()/2-c);o[x]=y=dn(dn({},y),{},{tickCoord:N<0?y.coordinate-N*e:y.coordinate})}else o[x]=y=dn(dn({},y),{},{tickCoord:y.coordinate});var _=wx(e,y.tickCoord,j,c,u);_&&(c=y.tickCoord+e*(j()/2+a),o[x]=dn(dn({},y),{},{isShow:!0}))},b=0;b<v;b++)p(b);return o}function Q2(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(je(c)||pi.isSsr)return kEe(a,typeof c=="number"&&je(c)?c:0);var h=[],m=l==="top"||l==="bottom"?"width":"height",v=d&&m==="width"?rm(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},p=function(y,w){var j=We(u)?u(y.value,w):y.value;return m==="width"?NEe(rm(j,{fontSize:t,letterSpacing:r}),v,f):rm(j,{fontSize:t,letterSpacing:r})[m]},b=a.length>=2?Xr(a[1].coordinate-a[0].coordinate):1,x=_Ee(i,b,m);return c==="equidistantPreserveStart"?SEe(b,x,p,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=PEe(b,x,p,a,o,c==="preserveStartEnd"):h=AEe(b,x,p,a,o),h.filter(function(y){return y.isShow}))}var TEe=["viewBox"],MEe=["viewBox"],REe=["ticks"];function nf(e){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nf(e)}function rd(){return rd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rd.apply(this,arguments)}function R4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R4(Object(r),!0).forEach(function(n){J2(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sj(e,t){if(e==null)return{};var r=IEe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function IEe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function DEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_q(n.key),n)}}function LEe(e,t,r){return t&&I4(e.prototype,t),r&&I4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function zEe(e,t,r){return t=jx(t),FEe(e,Nq()?Reflect.construct(t,r||[],jx(e).constructor):t.apply(e,r))}function FEe(e,t){if(t&&(nf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Ee(e)}function $Ee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Nq=function(){return!!e})()}function jx(e){return jx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},jx(e)}function qEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M_(e,t)}function M_(e,t){return M_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},M_(e,t)}function J2(e,t,r){return t=_q(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _q(e){var t=BEe(e,"string");return nf(t)=="symbol"?t:t+""}function BEe(e,t){if(nf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Gf=function(e){function t(r){var n;return DEe(this,t),n=zEe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return qEe(t,e),LEe(t,[{key:"shouldComponentUpdate",value:function(r,n){var a=r.viewBox,i=Sj(r,TEe),o=this.props,l=o.viewBox,c=Sj(o,MEe);return!pd(a,l)||!pd(i,c)||!pd(n,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var n=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];n&&this.setState({fontSize:window.getComputedStyle(n).fontSize,letterSpacing:window.getComputedStyle(n).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.tickSize,d=n.mirror,f=n.tickMargin,h,m,v,p,b,x,y=d?-1:1,w=r.tickSize||u,j=je(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":h=m=r.coordinate,p=i+ +!d*l,v=p-y*w,x=v-y*f,b=j;break;case"left":v=p=r.coordinate,m=a+ +!d*o,h=m-y*w,b=h-y*f,x=j;break;case"right":v=p=r.coordinate,m=a+ +d*o,h=m+y*w,b=h+y*f,x=j;break;default:h=m=r.coordinate,p=i+ +d*l,v=p+y*w,x=v+y*f,b=j;break}return{line:{x1:h,y1:v,x2:m,y2:p},tick:{x:b,y:x}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,n=r.orientation,a=r.mirror,i;switch(n){case"left":i=a?"start":"end";break;case"right":i=a?"end":"start";break;default:i="middle";break}return i}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,n=r.orientation,a=r.mirror,i="end";switch(n){case"left":case"right":i="middle";break;case"top":i=a?"start":"end";break;default:i=a?"end":"start";break}return i}},{key:"renderAxisLine",value:function(){var r=this.props,n=r.x,a=r.y,i=r.width,o=r.height,l=r.orientation,c=r.mirror,u=r.axisLine,d=Rr(Rr(Rr({},ze(this.props,!1)),ze(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var f=+(l==="top"&&!c||l==="bottom"&&c);d=Rr(Rr({},d),{},{x1:n,y1:a+f*o,x2:n+i,y2:a+f*o})}else{var h=+(l==="left"&&!c||l==="right"&&c);d=Rr(Rr({},d),{},{x1:n+h*i,y1:a,x2:n+h*i,y2:a+o})}return C.createElement("line",rd({},d,{className:Ye("recharts-cartesian-axis-line",wa(u,"className"))}))}},{key:"renderTicks",value:function(r,n,a){var i=this,o=this.props,l=o.tickLine,c=o.stroke,u=o.tick,d=o.tickFormatter,f=o.unit,h=Q2(Rr(Rr({},this.props),{},{ticks:r}),n,a),m=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),p=ze(this.props,!1),b=ze(u,!1),x=Rr(Rr({},p),{},{fill:"none"},ze(l,!1)),y=h.map(function(w,j){var N=i.getTickLineCoord(w),_=N.line,k=N.tick,O=Rr(Rr(Rr(Rr({textAnchor:m,verticalAnchor:v},p),{},{stroke:"none",fill:c},b),k),{},{index:j,payload:w,visibleTicksCount:h.length,tickFormatter:d});return C.createElement(Qe,rd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(w.value,"-").concat(w.coordinate,"-").concat(w.tickCoord)},ui(i.props,w,j)),l&&C.createElement("line",rd({},x,_,{className:Ye("recharts-cartesian-axis-tick-line",wa(l,"className"))})),u&&t.renderTickItem(u,O,"".concat(We(d)?d(w.value,j):w.value).concat(f||"")))});return C.createElement("g",{className:"recharts-cartesian-axis-ticks"},y)}},{key:"render",value:function(){var r=this,n=this.props,a=n.axisLine,i=n.width,o=n.height,l=n.ticksGenerator,c=n.className,u=n.hide;if(u)return null;var d=this.props,f=d.ticks,h=Sj(d,REe),m=f;return We(l)&&(m=f&&f.length>0?l(this.props):l(h)),i<=0||o<=0||!m||!m.length?null:C.createElement(Qe,{className:Ye("recharts-cartesian-axis",c),ref:function(v){r.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),Zr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,n,a){var i,o=Ye(n.className,"recharts-cartesian-axis-tick-value");return C.isValidElement(r)?i=C.cloneElement(r,Rr(Rr({},n),{},{className:o})):We(r)?i=r(Rr(Rr({},n),{},{className:o})):i=C.createElement(Ic,rd({},n,{className:"recharts-cartesian-axis-tick-value"}),a),i}}])}(g.Component);J2(Gf,"displayName","CartesianAxis");J2(Gf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var UEe=["x1","y1","x2","y2","key"],VEe=["offset"];function zc(e){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zc(e)}function D4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D4(Object(r),!0).forEach(function(n){WEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WEe(e,t,r){return t=HEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HEe(e){var t=KEe(e,"string");return zc(t)=="symbol"?t:t+""}function KEe(e,t){if(zc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fc(){return fc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fc.apply(this,arguments)}function L4(e,t){if(e==null)return{};var r=GEe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function GEe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ZEe=function(e){var t=e.fill;if(!t||t==="none")return null;var r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,l=e.ry;return C.createElement("rect",{x:n,y:a,ry:l,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function kq(e,t){var r;if(C.isValidElement(e))r=C.cloneElement(e,t);else if(We(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=L4(t,UEe),u=ze(c,!1);u.offset;var d=L4(u,VEe);r=C.createElement("line",fc({},d,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function XEe(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=hn(hn({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return kq(a,u)});return C.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function YEe(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=hn(hn({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return kq(a,u)});return C.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function QEe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var v=!d[m+1],p=v?a+o-h:d[m+1]-h;if(p<=0)return null;var b=m%t.length;return C.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:p,width:i,stroke:"none",fill:t[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function JEe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var v=!d[m+1],p=v?i+l-h:d[m+1]-h;if(p<=0)return null;var b=m%n.length;return C.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:p,height:c,stroke:"none",fill:n[b],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var eAe=function(e,t){var r=e.xAxis,n=e.width,a=e.height,i=e.offset;return y$(Q2(hn(hn(hn({},Gf.defaultProps),r),{},{ticks:Li(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},tAe=function(e,t){var r=e.yAxis,n=e.width,a=e.height,i=e.offset;return y$(Q2(hn(hn(hn({},Gf.defaultProps),r),{},{ticks:Li(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},Au={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Sq(e){var t,r,n,a,i,o,l=G2(),c=Z2(),u=BCe(),d=hn(hn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Au.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Au.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Au.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Au.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Au.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Au.verticalFill,x:je(e.x)?e.x:u.left,y:je(e.y)?e.y:u.top,width:je(e.width)?e.width:u.width,height:je(e.height)?e.height:u.height}),f=d.x,h=d.y,m=d.width,v=d.height,p=d.syncWithTicks,b=d.horizontalValues,x=d.verticalValues,y=FCe(),w=$Ce();if(!je(m)||m<=0||!je(v)||v<=0||!je(f)||f!==+f||!je(h)||h!==+h)return null;var j=d.verticalCoordinatesGenerator||eAe,N=d.horizontalCoordinatesGenerator||tAe,_=d.horizontalPoints,k=d.verticalPoints;if((!_||!_.length)&&We(N)){var O=b&&b.length,E=N({yAxis:w?hn(hn({},w),{},{ticks:O?b:w.ticks}):void 0,width:l,height:c,offset:u},O?!0:p);Ss(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(zc(E),"]")),Array.isArray(E)&&(_=E)}if((!k||!k.length)&&We(j)){var T=x&&x.length,P=j({xAxis:y?hn(hn({},y),{},{ticks:T?x:y.ticks}):void 0,width:l,height:c,offset:u},T?!0:p);Ss(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(zc(P),"]")),Array.isArray(P)&&(k=P)}return C.createElement("g",{className:"recharts-cartesian-grid"},C.createElement(ZEe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),C.createElement(XEe,fc({},d,{offset:u,horizontalPoints:_,xAxis:y,yAxis:w})),C.createElement(YEe,fc({},d,{offset:u,verticalPoints:k,xAxis:y,yAxis:w})),C.createElement(QEe,fc({},d,{horizontalPoints:_})),C.createElement(JEe,fc({},d,{verticalPoints:k})))}Sq.displayName="CartesianGrid";var rAe=["type","layout","connectNulls","ref"],nAe=["key"];function af(e){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},af(e)}function z4(e,t){if(e==null)return{};var r=aAe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function om(){return om=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},om.apply(this,arguments)}function F4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F4(Object(r),!0).forEach(function(n){fs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pu(e){return lAe(e)||oAe(e)||iAe(e)||sAe()}function sAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iAe(e,t){if(e){if(typeof e=="string")return R_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R_(e,t)}}function oAe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lAe(e){if(Array.isArray(e))return R_(e)}function R_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Cq(n.key),n)}}function uAe(e,t,r){return t&&$4(e.prototype,t),r&&$4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function dAe(e,t,r){return t=Nx(t),fAe(e,Oq()?Reflect.construct(t,r||[],Nx(e).constructor):t.apply(e,r))}function fAe(e,t){if(t&&(af(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hAe(e)}function hAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Oq=function(){return!!e})()}function Nx(e){return Nx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Nx(e)}function mAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I_(e,t)}function I_(e,t){return I_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},I_(e,t)}function fs(e,t,r){return t=Cq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cq(e){var t=pAe(e,"string");return af(t)=="symbol"?t:t+""}function pAe(e,t){if(af(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ug=function(e){function t(){var r;cAe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=dAe(this,t,[].concat(a)),fs(r,"state",{isAnimationFinished:!0,totalLength:0}),fs(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),fs(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(x,y){return x+y});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,h=l-o,m=[],v=0,p=0;v<c.length;p+=c[v],++v)if(p+c[v]>f){m=[].concat(Pu(c.slice(0,v)),[f-p]);break}var b=m.length%2===0?[0,h]:[h];return[].concat(Pu(t.repeat(c,d)),Pu(m),b).map(function(x){return"".concat(x,"px")}).join(", ")}),fs(r,"id",Ol("recharts-line-")),fs(r,"pathRef",function(o){r.mainCurve=o}),fs(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),fs(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return mAe(t,e),uAe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,i=a.points,o=a.xAxis,l=a.yAxis,c=a.layout,u=a.children,d=vn(u,Kf);if(!d)return null;var f=function(m,v){return{x:m.x,y:m.y,value:m.value,errorVal:Bt(m.payload,v)}},h={clipPath:r?"url(#clipPath-".concat(n,")"):null};return C.createElement(Qe,h,d.map(function(m){return C.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:i,xAxis:o,yAxis:l,layout:c,dataPointFormatter:f})}))}},{key:"renderDots",value:function(r,n,a){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,c=o.points,u=o.dataKey,d=ze(this.props,!1),f=ze(l,!0),h=c.map(function(v,p){var b=sa(sa(sa({key:"dot-".concat(p),r:3},d),f),{},{index:p,cx:v.x,cy:v.y,value:v.value,dataKey:u,payload:v.payload,points:c});return t.renderDotItem(l,b)}),m={clipPath:r?"url(#clipPath-".concat(n?"":"dots-").concat(a,")"):null};return C.createElement(Qe,om({className:"recharts-line-dots",key:"dots"},m),h)}},{key:"renderCurveStatically",value:function(r,n,a,i){var o=this.props,l=o.type,c=o.layout,u=o.connectNulls;o.ref;var d=z4(o,rAe),f=sa(sa(sa({},ze(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:n?"url(#clipPath-".concat(a,")"):null,points:r},i),{},{type:l,layout:c,connectNulls:u});return C.createElement(el,om({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,n){var a=this,i=this.props,o=i.points,l=i.strokeDasharray,c=i.isAnimationActive,u=i.animationBegin,d=i.animationDuration,f=i.animationEasing,h=i.animationId,m=i.animateNewValues,v=i.width,p=i.height,b=this.state,x=b.prevPoints,y=b.totalLength;return C.createElement(_a,{begin:u,duration:d,isActive:c,easing:f,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var j=w.t;if(x){var N=x.length/o.length,_=o.map(function(P,S){var R=Math.floor(S*N);if(x[R]){var M=x[R],B=$t(M.x,P.x),U=$t(M.y,P.y);return sa(sa({},P),{},{x:B(j),y:U(j)})}if(m){var F=$t(v*2,P.x),z=$t(p/2,P.y);return sa(sa({},P),{},{x:F(j),y:z(j)})}return sa(sa({},P),{},{x:P.x,y:P.y})});return a.renderCurveStatically(_,r,n)}var k=$t(0,y),O=k(j),E;if(l){var T="".concat(l).split(/[,\s]+/gim).map(function(P){return parseFloat(P)});E=a.getStrokeDasharray(O,y,T)}else E=a.generateSimpleStrokeDasharray(y,O);return a.renderCurveStatically(o,r,n,{strokeDasharray:E})})}},{key:"renderCurve",value:function(r,n){var a=this.props,i=a.points,o=a.isAnimationActive,l=this.state,c=l.prevPoints,u=l.totalLength;return o&&i&&i.length&&(!c&&u>0||!to(c,i))?this.renderCurveWithAnimation(r,n):this.renderCurveStatically(i,r,n)}},{key:"render",value:function(){var r,n=this.props,a=n.hide,i=n.dot,o=n.points,l=n.className,c=n.xAxis,u=n.yAxis,d=n.top,f=n.left,h=n.width,m=n.height,v=n.isAnimationActive,p=n.id;if(a||!o||!o.length)return null;var b=this.state.isAnimationFinished,x=o.length===1,y=Ye("recharts-line",l),w=c&&c.allowDataOverflow,j=u&&u.allowDataOverflow,N=w||j,_=Ke(p)?this.id:p,k=(r=ze(i,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},O=k.r,E=O===void 0?3:O,T=k.strokeWidth,P=T===void 0?2:T,S=uF(i)?i:{},R=S.clipDot,M=R===void 0?!0:R,B=E*2+P;return C.createElement(Qe,{className:y},w||j?C.createElement("defs",null,C.createElement("clipPath",{id:"clipPath-".concat(_)},C.createElement("rect",{x:w?f:f-h/2,y:j?d:d-m/2,width:w?h:h*2,height:j?m:m*2})),!M&&C.createElement("clipPath",{id:"clipPath-dots-".concat(_)},C.createElement("rect",{x:f-B/2,y:d-B/2,width:h+B,height:m+B}))):null,!x&&this.renderCurve(N,_),this.renderErrorBar(N,_),(x||i)&&this.renderDots(N,M,_),(!v||b)&&Wa.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,n){return r.animationId!==n.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:n.curPoints}:r.points!==n.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,n){for(var a=r.length%2!==0?[].concat(Pu(r),[0]):r,i=[],o=0;o<n;++o)i=[].concat(Pu(i),Pu(a));return i}},{key:"renderDotItem",value:function(r,n){var a;if(C.isValidElement(r))a=C.cloneElement(r,n);else if(We(r))a=r(n);else{var i=n.key,o=z4(n,nAe),l=Ye("recharts-line-dot",typeof r!="boolean"?r.className:"");a=C.createElement(ig,om({key:i},o,{className:l}))}return a}}])}(g.PureComponent);fs(ug,"displayName","Line");fs(ug,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!pi.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});fs(ug,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,m){var v=Bt(h,o);return d==="horizontal"?{x:Wd({axis:r,ticks:a,bandSize:l,entry:h,index:m}),y:Ke(v)?null:n.scale(v),value:v,payload:h}:{x:Ke(v)?null:r.scale(v),y:Wd({axis:n,ticks:i,bandSize:l,entry:h,index:m}),value:v,payload:h}});return sa({points:f,layout:d},u)});var gAe=["layout","type","stroke","connectNulls","isRange","ref"],vAe=["key"],Eq;function sf(e){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sf(e)}function Aq(e,t){if(e==null)return{};var r=yAe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function hc(){return hc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hc.apply(this,arguments)}function q4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function No(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q4(Object(r),!0).forEach(function(n){Qs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Tq(n.key),n)}}function bAe(e,t,r){return t&&B4(e.prototype,t),r&&B4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function wAe(e,t,r){return t=_x(t),jAe(e,Pq()?Reflect.construct(t,r||[],_x(e).constructor):t.apply(e,r))}function jAe(e,t){if(t&&(sf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NAe(e)}function NAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Pq=function(){return!!e})()}function _x(e){return _x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_x(e)}function _Ae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D_(e,t)}function D_(e,t){return D_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},D_(e,t)}function Qs(e,t,r){return t=Tq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tq(e){var t=kAe(e,"string");return sf(t)=="symbol"?t:t+""}function kAe(e,t){if(sf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ru=function(e){function t(){var r;xAe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=wAe(this,t,[].concat(a)),Qs(r,"state",{isAnimationFinished:!0}),Qs(r,"id",Ol("recharts-area-")),Qs(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),We(o)&&o()}),Qs(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),We(o)&&o()}),r}return _Ae(t,e),bAe(t,[{key:"renderDots",value:function(r,n,a){var i=this.props.isAnimationActive,o=this.state.isAnimationFinished;if(i&&!o)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=ze(this.props,!1),h=ze(c,!0),m=u.map(function(p,b){var x=No(No(No({key:"dot-".concat(b),r:3},f),h),{},{index:b,cx:p.x,cy:p.y,dataKey:d,value:p.value,payload:p.payload,points:u});return t.renderDotItem(c,x)}),v={clipPath:r?"url(#clipPath-".concat(n?"":"dots-").concat(a,")"):null};return C.createElement(Qe,hc({className:"recharts-area-dots"},v),m)}},{key:"renderHorizontalRect",value:function(r){var n=this.props,a=n.baseLine,i=n.points,o=n.strokeWidth,l=i[0].x,c=i[i.length-1].x,u=r*Math.abs(l-c),d=Lo(i.map(function(f){return f.y||0}));return je(a)&&typeof a=="number"?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(Lo(a.map(function(f){return f.y||0})),d)),je(d)?C.createElement("rect",{x:l<c?l:l-u,y:0,width:u,height:Math.floor(d+(o?parseInt("".concat(o),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var n=this.props,a=n.baseLine,i=n.points,o=n.strokeWidth,l=i[0].y,c=i[i.length-1].y,u=r*Math.abs(l-c),d=Lo(i.map(function(f){return f.x||0}));return je(a)&&typeof a=="number"?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(Lo(a.map(function(f){return f.x||0})),d)),je(d)?C.createElement("rect",{x:0,y:l<c?l:l-u,width:d+(o?parseInt("".concat(o),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(r){var n=this.props.layout;return n==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,n,a,i){var o=this.props,l=o.layout,c=o.type,u=o.stroke,d=o.connectNulls,f=o.isRange;o.ref;var h=Aq(o,gAe);return C.createElement(Qe,{clipPath:a?"url(#clipPath-".concat(i,")"):null},C.createElement(el,hc({},ze(h,!0),{points:r,connectNulls:d,type:c,baseLine:n,layout:l,stroke:"none",className:"recharts-area-area"})),u!=="none"&&C.createElement(el,hc({},ze(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:r})),u!=="none"&&f&&C.createElement(el,hc({},ze(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:n})))}},{key:"renderAreaWithAnimation",value:function(r,n){var a=this,i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,u=i.animationBegin,d=i.animationDuration,f=i.animationEasing,h=i.animationId,m=this.state,v=m.prevPoints,p=m.prevBaseLine;return C.createElement(_a,{begin:u,duration:d,isActive:c,easing:f,from:{t:0},to:{t:1},key:"area-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var x=b.t;if(v){var y=v.length/o.length,w=o.map(function(k,O){var E=Math.floor(O*y);if(v[E]){var T=v[E],P=$t(T.x,k.x),S=$t(T.y,k.y);return No(No({},k),{},{x:P(x),y:S(x)})}return k}),j;if(je(l)&&typeof l=="number"){var N=$t(p,l);j=N(x)}else if(Ke(l)||Ff(l)){var _=$t(p,0);j=_(x)}else j=l.map(function(k,O){var E=Math.floor(O*y);if(p[E]){var T=p[E],P=$t(T.x,k.x),S=$t(T.y,k.y);return No(No({},k),{},{x:P(x),y:S(x)})}return k});return a.renderAreaStatically(w,j,r,n)}return C.createElement(Qe,null,C.createElement("defs",null,C.createElement("clipPath",{id:"animationClipPath-".concat(n)},a.renderClipRect(x))),C.createElement(Qe,{clipPath:"url(#animationClipPath-".concat(n,")")},a.renderAreaStatically(o,l,r,n)))})}},{key:"renderArea",value:function(r,n){var a=this.props,i=a.points,o=a.baseLine,l=a.isAnimationActive,c=this.state,u=c.prevPoints,d=c.prevBaseLine,f=c.totalLength;return l&&i&&i.length&&(!u&&f>0||!to(u,i)||!to(d,o))?this.renderAreaWithAnimation(r,n):this.renderAreaStatically(i,o,r,n)}},{key:"render",value:function(){var r,n=this.props,a=n.hide,i=n.dot,o=n.points,l=n.className,c=n.top,u=n.left,d=n.xAxis,f=n.yAxis,h=n.width,m=n.height,v=n.isAnimationActive,p=n.id;if(a||!o||!o.length)return null;var b=this.state.isAnimationFinished,x=o.length===1,y=Ye("recharts-area",l),w=d&&d.allowDataOverflow,j=f&&f.allowDataOverflow,N=w||j,_=Ke(p)?this.id:p,k=(r=ze(i,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},O=k.r,E=O===void 0?3:O,T=k.strokeWidth,P=T===void 0?2:T,S=uF(i)?i:{},R=S.clipDot,M=R===void 0?!0:R,B=E*2+P;return C.createElement(Qe,{className:y},w||j?C.createElement("defs",null,C.createElement("clipPath",{id:"clipPath-".concat(_)},C.createElement("rect",{x:w?u:u-h/2,y:j?c:c-m/2,width:w?h:h*2,height:j?m:m*2})),!M&&C.createElement("clipPath",{id:"clipPath-dots-".concat(_)},C.createElement("rect",{x:u-B/2,y:c-B/2,width:h+B,height:m+B}))):null,x?null:this.renderArea(N,_),(i||x)&&this.renderDots(N,M,_),(!v||b)&&Wa.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,n){return r.animationId!==n.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:n.curPoints,prevBaseLine:n.curBaseLine}:r.points!==n.curPoints||r.baseLine!==n.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(g.PureComponent);Eq=ru;Qs(ru,"displayName","Area");Qs(ru,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!pi.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Qs(ru,"getBaseValue",function(e,t,r,n){var a=e.layout,i=e.baseValue,o=t.props.baseValue,l=o??i;if(je(l)&&typeof l=="number")return l;var c=a==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});Qs(ru,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=t.layout,v=u&&u.length,p=Eq.getBaseValue(t,r,n,a),b=m==="horizontal",x=!1,y=f.map(function(j,N){var _;v?_=u[d+N]:(_=Bt(j,c),Array.isArray(_)?x=!0:_=[p,_]);var k=_[1]==null||v&&Bt(j,c)==null;return b?{x:Wd({axis:n,ticks:i,bandSize:l,entry:j,index:N}),y:k?null:a.scale(_[1]),value:_,payload:j}:{x:k?null:n.scale(_[1]),y:Wd({axis:a,ticks:o,bandSize:l,entry:j,index:N}),value:_,payload:j}}),w;return v||x?w=y.map(function(j){var N=Array.isArray(j.value)?j.value[0]:null;return b?{x:j.x,y:N!=null&&j.y!=null?a.scale(N):null}:{x:N!=null?n.scale(N):null,y:j.y}}):w=b?a.scale(p):n.scale(p),No({points:y,baseLine:w,layout:m,isRange:x},h)});Qs(ru,"renderDotItem",function(e,t){var r;if(C.isValidElement(e))r=C.cloneElement(e,t);else if(We(e))r=e(t);else{var n=Ye("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,i=Aq(t,vAe);r=C.createElement(ig,hc({},i,{key:a,className:n}))}return r});function of(e){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},of(e)}function SAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OAe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Iq(n.key),n)}}function CAe(e,t,r){return t&&OAe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function EAe(e,t,r){return t=kx(t),AAe(e,Mq()?Reflect.construct(t,r||[],kx(e).constructor):t.apply(e,r))}function AAe(e,t){if(t&&(of(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PAe(e)}function PAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mq=function(){return!!e})()}function kx(e){return kx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},kx(e)}function TAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L_(e,t)}function L_(e,t){return L_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},L_(e,t)}function Rq(e,t,r){return t=Iq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Iq(e){var t=MAe(e,"string");return of(t)=="symbol"?t:t+""}function MAe(e,t){if(of(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(of(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var O0=function(e){function t(){return SAe(this,t),EAe(this,t,arguments)}return TAe(t,e),CAe(t,[{key:"render",value:function(){return null}}])}(g.Component);Rq(O0,"displayName","ZAxis");Rq(O0,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var RAe=["option","isActive"];function lm(){return lm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lm.apply(this,arguments)}function IAe(e,t){if(e==null)return{};var r=DAe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function DAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function LAe(e){var t=e.option,r=e.isActive,n=IAe(e,RAe);return typeof t=="string"?g.createElement(vp,lm({option:g.createElement(a0,lm({type:t},n)),isActive:r,shapeType:"symbols"},n)):g.createElement(vp,lm({option:t,isActive:r,shapeType:"symbols"},n))}function lf(e){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lf(e)}function cm(){return cm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cm.apply(this,arguments)}function U4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ta(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U4(Object(r),!0).forEach(function(n){Fo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Lq(n.key),n)}}function FAe(e,t,r){return t&&V4(e.prototype,t),r&&V4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $Ae(e,t,r){return t=Sx(t),qAe(e,Dq()?Reflect.construct(t,r||[],Sx(e).constructor):t.apply(e,r))}function qAe(e,t){if(t&&(lf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BAe(e)}function BAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Dq=function(){return!!e})()}function Sx(e){return Sx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Sx(e)}function UAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z_(e,t)}function z_(e,t){return z_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},z_(e,t)}function Fo(e,t,r){return t=Lq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lq(e){var t=VAe(e,"string");return lf(t)=="symbol"?t:t+""}function VAe(e,t){if(lf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var C0=function(e){function t(){var r;zAe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=$Ae(this,t,[].concat(a)),Fo(r,"state",{isAnimationFinished:!1}),Fo(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),Fo(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),Fo(r,"id",Ol("recharts-scatter-")),r}return UAe(t,e),FAe(t,[{key:"renderSymbolsStatically",value:function(r){var n=this,a=this.props,i=a.shape,o=a.activeShape,l=a.activeIndex,c=ze(this.props,!1);return r.map(function(u,d){var f=l===d,h=f?o:i,m=Ta(Ta({},c),u);return C.createElement(Qe,cm({className:"recharts-scatter-symbol",key:"symbol-".concat(u==null?void 0:u.cx,"-").concat(u==null?void 0:u.cy,"-").concat(u==null?void 0:u.size,"-").concat(d)},ui(n.props,u,d),{role:"img"}),C.createElement(LAe,cm({option:h,isActive:f,key:"symbol-".concat(d)},m)))})}},{key:"renderSymbolsWithAnimation",value:function(){var r=this,n=this.props,a=n.points,i=n.isAnimationActive,o=n.animationBegin,l=n.animationDuration,c=n.animationEasing,u=n.animationId,d=this.state.prevPoints;return C.createElement(_a,{begin:o,duration:l,isActive:i,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var h=f.t,m=a.map(function(v,p){var b=d&&d[p];if(b){var x=$t(b.cx,v.cx),y=$t(b.cy,v.cy),w=$t(b.size,v.size);return Ta(Ta({},v),{},{cx:x(h),cy:y(h),size:w(h)})}var j=$t(0,v.size);return Ta(Ta({},v),{},{size:j(h)})});return C.createElement(Qe,null,r.renderSymbolsStatically(m))})}},{key:"renderSymbols",value:function(){var r=this.props,n=r.points,a=r.isAnimationActive,i=this.state.prevPoints;return a&&n&&n.length&&(!i||!to(i,n))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(n)}},{key:"renderErrorBar",value:function(){var r=this.props.isAnimationActive;if(r&&!this.state.isAnimationFinished)return null;var n=this.props,a=n.points,i=n.xAxis,o=n.yAxis,l=n.children,c=vn(l,Kf);return c?c.map(function(u,d){var f=u.props,h=f.direction,m=f.dataKey;return C.cloneElement(u,{key:"".concat(h,"-").concat(m,"-").concat(a[d]),data:a,xAxis:i,yAxis:o,layout:h==="x"?"vertical":"horizontal",dataPointFormatter:function(v,p){return{x:v.cx,y:v.cy,value:h==="x"?+v.node.x:+v.node.y,errorVal:Bt(v,p)}}})}):null}},{key:"renderLine",value:function(){var r=this.props,n=r.points,a=r.line,i=r.lineType,o=r.lineJointType,l=ze(this.props,!1),c=ze(a,!1),u,d;if(i==="joint")u=n.map(function(y){return{x:y.cx,y:y.cy}});else if(i==="fitting"){var f=vce(n),h=f.xmin,m=f.xmax,v=f.a,p=f.b,b=function(y){return v*y+p};u=[{x:h,y:b(h)},{x:m,y:b(m)}]}var x=Ta(Ta(Ta({},l),{},{fill:"none",stroke:l&&l.fill},c),{},{points:u});return C.isValidElement(a)?d=C.cloneElement(a,x):We(a)?d=a(x):d=C.createElement(el,cm({},x,{type:o})),C.createElement(Qe,{className:"recharts-scatter-line",key:"recharts-scatter-line"},d)}},{key:"render",value:function(){var r=this.props,n=r.hide,a=r.points,i=r.line,o=r.className,l=r.xAxis,c=r.yAxis,u=r.left,d=r.top,f=r.width,h=r.height,m=r.id,v=r.isAnimationActive;if(n||!a||!a.length)return null;var p=this.state.isAnimationFinished,b=Ye("recharts-scatter",o),x=l&&l.allowDataOverflow,y=c&&c.allowDataOverflow,w=x||y,j=Ke(m)?this.id:m;return C.createElement(Qe,{className:b,clipPath:w?"url(#clipPath-".concat(j,")"):null},x||y?C.createElement("defs",null,C.createElement("clipPath",{id:"clipPath-".concat(j)},C.createElement("rect",{x:x?u:u-f/2,y:y?d:d-h/2,width:x?f:f*2,height:y?h:h*2}))):null,i&&this.renderLine(),this.renderErrorBar(),C.createElement(Qe,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!v||p)&&Wa.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,n){return r.animationId!==n.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:n.curPoints}:r.points!==n.curPoints?{curPoints:r.points}:null}}])}(g.PureComponent);Fo(C0,"displayName","Scatter");Fo(C0,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!pi.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});Fo(C0,"getComposedData",function(e){var t=e.xAxis,r=e.yAxis,n=e.zAxis,a=e.item,i=e.displayedData,o=e.xAxisTicks,l=e.yAxisTicks,c=e.offset,u=a.props.tooltipType,d=vn(a.props.children,Uf),f=Ke(t.dataKey)?a.props.dataKey:t.dataKey,h=Ke(r.dataKey)?a.props.dataKey:r.dataKey,m=n&&n.dataKey,v=n?n.range:O0.defaultProps.range,p=v&&v[0],b=t.scale.bandwidth?t.scale.bandwidth():0,x=r.scale.bandwidth?r.scale.bandwidth():0,y=i.map(function(w,j){var N=Bt(w,f),_=Bt(w,h),k=!Ke(m)&&Bt(w,m)||"-",O=[{name:Ke(t.dataKey)?a.props.name:t.name||t.dataKey,unit:t.unit||"",value:N,payload:w,dataKey:f,type:u},{name:Ke(r.dataKey)?a.props.name:r.name||r.dataKey,unit:r.unit||"",value:_,payload:w,dataKey:h,type:u}];k!=="-"&&O.push({name:n.name||n.dataKey,unit:n.unit||"",value:k,payload:w,dataKey:m,type:u});var E=Wd({axis:t,ticks:o,bandSize:b,entry:w,index:j,dataKey:f}),T=Wd({axis:r,ticks:l,bandSize:x,entry:w,index:j,dataKey:h}),P=k!=="-"?n.scale(k):p,S=Math.sqrt(Math.max(P,0)/Math.PI);return Ta(Ta({},w),{},{cx:E,cy:T,x:E-S,y:T-S,xAxis:t,yAxis:r,zAxis:n,width:2*S,height:2*S,size:P,node:{x:N,y:_,z:k},tooltipPayload:O,tooltipPosition:{x:E,y:T},payload:w},d&&d[j]&&d[j].props)});return Ta({points:y},c)});function cf(e){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cf(e)}function WAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HAe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$q(n.key),n)}}function KAe(e,t,r){return t&&HAe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function GAe(e,t,r){return t=Ox(t),ZAe(e,zq()?Reflect.construct(t,r||[],Ox(e).constructor):t.apply(e,r))}function ZAe(e,t){if(t&&(cf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XAe(e)}function XAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zq=function(){return!!e})()}function Ox(e){return Ox=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ox(e)}function YAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F_(e,t)}function F_(e,t){return F_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},F_(e,t)}function Fq(e,t,r){return t=$q(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $q(e){var t=QAe(e,"string");return cf(t)=="symbol"?t:t+""}function QAe(e,t){if(cf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function $_(){return $_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$_.apply(this,arguments)}function JAe(e){var t=e.xAxisId,r=G2(),n=Z2(),a=mq(t);return a==null?null:g.createElement(Gf,$_({},a,{className:Ye("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(i){return Li(i,!0)}}))}var E0=function(e){function t(){return WAe(this,t),GAe(this,t,arguments)}return YAe(t,e),KAe(t,[{key:"render",value:function(){return g.createElement(JAe,this.props)}}])}(g.Component);Fq(E0,"displayName","XAxis");Fq(E0,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function uf(e){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uf(e)}function ePe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tPe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Uq(n.key),n)}}function rPe(e,t,r){return t&&tPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nPe(e,t,r){return t=Cx(t),aPe(e,qq()?Reflect.construct(t,r||[],Cx(e).constructor):t.apply(e,r))}function aPe(e,t){if(t&&(uf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sPe(e)}function sPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qq=function(){return!!e})()}function Cx(e){return Cx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Cx(e)}function iPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&q_(e,t)}function q_(e,t){return q_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},q_(e,t)}function Bq(e,t,r){return t=Uq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uq(e){var t=oPe(e,"string");return uf(t)=="symbol"?t:t+""}function oPe(e,t){if(uf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function B_(){return B_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},B_.apply(this,arguments)}var lPe=function(e){var t=e.yAxisId,r=G2(),n=Z2(),a=pq(t);return a==null?null:g.createElement(Gf,B_({},a,{className:Ye("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(i){return Li(i,!0)}}))},_p=function(e){function t(){return ePe(this,t),nPe(this,t,arguments)}return iPe(t,e),rPe(t,[{key:"render",value:function(){return g.createElement(lPe,this.props)}}])}(g.Component);Bq(_p,"displayName","YAxis");Bq(_p,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function W4(e){return fPe(e)||dPe(e)||uPe(e)||cPe()}function cPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uPe(e,t){if(e){if(typeof e=="string")return U_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U_(e,t)}}function dPe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fPe(e){if(Array.isArray(e))return U_(e)}function U_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var V_=function(e,t,r,n,a){var i=vn(e,Y2),o=vn(e,_0),l=[].concat(W4(i),W4(o)),c=vn(e,S0),u="".concat(n,"Id"),d=n[0],f=t;if(l.length&&(f=l.reduce(function(v,p){if(p.props[u]===r&&ii(p.props,"extendDomain")&&je(p.props[d])){var b=p.props[d];return[Math.min(v[0],b),Math.max(v[1],b)]}return v},f)),c.length){var h="".concat(d,"1"),m="".concat(d,"2");f=c.reduce(function(v,p){if(p.props[u]===r&&ii(p.props,"extendDomain")&&je(p.props[h])&&je(p.props[m])){var b=p.props[h],x=p.props[m];return[Math.min(v[0],b,x),Math.max(v[1],b,x)]}return v},f)}return a&&a.length&&(f=a.reduce(function(v,p){return je(p)?[Math.min(v[0],p),Math.max(v[1],p)]:v},f)),f},Vq={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||c,h),v=r?r+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],m]:c._events[v].push(m):(c._events[v]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)t.call(u,d)&&c.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},l.prototype.listeners=function(c){var u=r?r+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,h=d.length,m=new Array(h);f<h;f++)m[f]=d[f].fn;return m},l.prototype.listenerCount=function(c){var u=r?r+c:c,d=this._events[u];return d?d.fn?1:d.length:0},l.prototype.emit=function(c,u,d,f,h,m){var v=r?r+c:c;if(!this._events[v])return!1;var p=this._events[v],b=arguments.length,x,y;if(p.fn){switch(p.once&&this.removeListener(c,p.fn,void 0,!0),b){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,u),!0;case 3:return p.fn.call(p.context,u,d),!0;case 4:return p.fn.call(p.context,u,d,f),!0;case 5:return p.fn.call(p.context,u,d,f,h),!0;case 6:return p.fn.call(p.context,u,d,f,h,m),!0}for(y=1,x=new Array(b-1);y<b;y++)x[y-1]=arguments[y];p.fn.apply(p.context,x)}else{var w=p.length,j;for(y=0;y<w;y++)switch(p[y].once&&this.removeListener(c,p[y].fn,void 0,!0),b){case 1:p[y].fn.call(p[y].context);break;case 2:p[y].fn.call(p[y].context,u);break;case 3:p[y].fn.call(p[y].context,u,d);break;case 4:p[y].fn.call(p[y].context,u,d,f);break;default:if(!x)for(j=1,x=new Array(b-1);j<b;j++)x[j-1]=arguments[j];p[y].fn.apply(p[y].context,x)}}return!0},l.prototype.on=function(c,u,d){return i(this,c,u,d,!1)},l.prototype.once=function(c,u,d){return i(this,c,u,d,!0)},l.prototype.removeListener=function(c,u,d,f){var h=r?r+c:c;if(!this._events[h])return this;if(!u)return o(this,h),this;var m=this._events[h];if(m.fn)m.fn===u&&(!f||m.once)&&(!d||m.context===d)&&o(this,h);else{for(var v=0,p=[],b=m.length;v<b;v++)(m[v].fn!==u||f&&!m[v].once||d&&m[v].context!==d)&&p.push(m[v]);p.length?this._events[h]=p.length===1?p[0]:p:o(this,h)}return this},l.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(Vq);var hPe=Vq.exports;const mPe=Ot(hPe);var Oj=new mPe,Cj="recharts.syncMouseEvents";function kp(e){"@babel/helpers - typeof";return kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kp(e)}function pPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gPe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Wq(n.key),n)}}function vPe(e,t,r){return t&&gPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ej(e,t,r){return t=Wq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wq(e){var t=yPe(e,"string");return kp(t)=="symbol"?t:t+""}function yPe(e,t){if(kp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var xPe=function(){function e(){pPe(this,e),Ej(this,"activeIndex",0),Ej(this,"coordinateList",[]),Ej(this,"layout","horizontal")}return vPe(e,[{key:"setDetails",value:function(t){var r,n=t.coordinateList,a=n===void 0?null:n,i=t.container,o=i===void 0?null:i,l=t.layout,c=l===void 0?null:l,u=t.offset,d=u===void 0?null:u,f=t.mouseHandlerCallback,h=f===void 0?null:f;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(t){if(this.coordinateList.length!==0)switch(t.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(t){this.activeIndex=t}},{key:"spoofMouse",value:function(){var t,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var n=this.container.getBoundingClientRect(),a=n.x,i=n.y,o=n.height,l=this.coordinateList[this.activeIndex].coordinate,c=((t=window)===null||t===void 0?void 0:t.scrollX)||0,u=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=a+l+c,f=i+this.offset.top+o/2+u;this.mouseHandlerCallback({pageX:d,pageY:f})}}}])}();function bPe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&je(n)&&je(a))return!0}return!1}function wPe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function Hq(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,o=Lt(t,r,n,a),l=Lt(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function jPe(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Lt(l,c,u,f),m=Lt(l,c,d,f);n=h.x,a=h.y,i=m.x,o=m.y}else return Hq(t);return[{x:n,y:a},{x:i,y:o}]}function Sp(e){"@babel/helpers - typeof";return Sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sp(e)}function H4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H4(Object(r),!0).forEach(function(n){NPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NPe(e,t,r){return t=_Pe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Pe(e){var t=kPe(e,"string");return Sp(t)=="symbol"?t:t+""}function kPe(e,t){if(Sp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SPe(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!i||!o||h!=="ScatterChart"&&a!=="axis")return null;var v,p=el;if(h==="ScatterChart")v=o,p=eSe;else if(h==="BarChart")v=wPe(f,o,c,d),p=V2;else if(f==="radial"){var b=Hq(o),x=b.cx,y=b.cy,w=b.radius,j=b.startAngle,N=b.endAngle;v={cx:x,cy:y,startAngle:j,endAngle:N,innerRadius:w,outerRadius:w},p=T$}else v={points:jPe(f,o,c)},p=el;var _=uv(uv(uv(uv({stroke:"#ccc",pointerEvents:"none"},c),v),ze(m,!1)),{},{payload:l,payloadIndex:u,className:Ye("recharts-tooltip-cursor",m.className)});return g.isValidElement(m)?g.cloneElement(m,_):g.createElement(p,_)}var OPe=["item"],CPe=["children","className","width","height","style","compact","title","desc"];function df(e){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},df(e)}function nd(){return nd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nd.apply(this,arguments)}function K4(e,t){return PPe(e)||APe(e,t)||Gq(e,t)||EPe()}function EPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function APe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function PPe(e){if(Array.isArray(e))return e}function G4(e,t){if(e==null)return{};var r=TPe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function TPe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function MPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RPe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Zq(n.key),n)}}function IPe(e,t,r){return t&&RPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function DPe(e,t,r){return t=Ex(t),LPe(e,Kq()?Reflect.construct(t,r||[],Ex(e).constructor):t.apply(e,r))}function LPe(e,t){if(t&&(df(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zPe(e)}function zPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kq=function(){return!!e})()}function Ex(e){return Ex=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ex(e)}function FPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W_(e,t)}function W_(e,t){return W_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},W_(e,t)}function ff(e){return BPe(e)||qPe(e)||Gq(e)||$Pe()}function $Pe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gq(e,t){if(e){if(typeof e=="string")return H_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H_(e,t)}}function qPe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function BPe(e){if(Array.isArray(e))return H_(e)}function H_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Z4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function he(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z4(Object(r),!0).forEach(function(n){Ge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ge(e,t,r){return t=Zq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zq(e){var t=UPe(e,"string");return df(t)=="symbol"?t:t+""}function UPe(e,t){if(df(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VPe={xAxis:["bottom","top"],yAxis:["left","right"]},WPe={width:"100%",height:"100%"},Xq={x:0,y:0};function dv(e){return e}var HPe=function(e,t){return t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius},KPe=function(e,t,r,n){var a=t.find(function(u){return u&&u.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:a.coordinate};if(e==="centric"){var i=a.coordinate,o=n.radius;return he(he(he({},n),Lt(n.cx,n.cy,o,i)),{},{angle:i,radius:o})}var l=a.coordinate,c=n.angle;return he(he(he({},n),Lt(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return Xq},A0=function(e,t){var r=t.graphicalItems,n=t.dataStartIndex,a=t.dataEndIndex,i=(r??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(ff(o),ff(c)):o},[]);return i.length>0?i:e&&e.length&&je(n)&&je(a)?e.slice(n,a+1):[]};function Yq(e){return e==="number"?[0,"auto"]:void 0}var K_=function(e,t,r,n){var a=e.graphicalItems,i=e.tooltipAxis,o=A0(t,e);return r<0||!a||!a.length||r>=o.length?null:a.reduce(function(l,c){var u,d=(u=c.props.data)!==null&&u!==void 0?u:t;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var f;if(i.dataKey&&!i.allowDuplicatedCategory){var h=d===void 0?o:d;f=_y(h,i.dataKey,n)}else f=d&&d[r]||o[r];return f?[].concat(ff(l),[U2(c,f)]):l},[])},X4=function(e,t,r,n){var a=n||{x:e.chartX,y:e.chartY},i=HPe(a,r),o=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,u=O1e(i,o,c,l);if(u>=0&&c){var d=c[u]&&c[u].value,f=K_(e,t,u,d),h=KPe(r,o,u,a);return{activeTooltipIndex:u,activeLabel:d,activePayload:f,activeCoordinate:h}}return null},GPe=function(e,t){var r=t.axes,n=t.graphicalItems,a=t.axisType,i=t.axisIdKey,o=t.stackGroups,l=t.dataStartIndex,c=t.dataEndIndex,u=e.layout,d=e.children,f=e.stackOffset,h=v$(u,a);return r.reduce(function(m,v){var p,b=v.type.defaultProps!==void 0?he(he({},v.type.defaultProps),v.props):v.props,x=b.type,y=b.dataKey,w=b.allowDataOverflow,j=b.allowDuplicatedCategory,N=b.scale,_=b.ticks,k=b.includeHidden,O=b[i];if(m[O])return m;var E=A0(e.data,{graphicalItems:n.filter(function(L){var $,J=i in L.props?L.props[i]:($=L.type.defaultProps)===null||$===void 0?void 0:$[i];return J===O}),dataStartIndex:l,dataEndIndex:c}),T=E.length,P,S,R;bPe(b.domain,w,x)&&(P=r_(b.domain,null,w),h&&(x==="number"||N!=="auto")&&(R=Tv(E,y,"category")));var M=Yq(x);if(!P||P.length===0){var B,U=(B=b.domain)!==null&&B!==void 0?B:M;if(y){if(P=Tv(E,y,x),x==="category"&&h){var F=gce(P);j&&F?(S=P,P=hx(0,T)):j||(P=lM(U,P,v).reduce(function(L,$){return L.indexOf($)>=0?L:[].concat(ff(L),[$])},[]))}else if(x==="category")j?P=P.filter(function(L){return L!==""&&!Ke(L)}):P=lM(U,P,v).reduce(function(L,$){return L.indexOf($)>=0||$===""||Ke($)?L:[].concat(ff(L),[$])},[]);else if(x==="number"){var z=T1e(E,n.filter(function(L){var $,J,K=i in L.props?L.props[i]:($=L.type.defaultProps)===null||$===void 0?void 0:$[i],D="hide"in L.props?L.props.hide:(J=L.type.defaultProps)===null||J===void 0?void 0:J.hide;return K===O&&(k||!D)}),y,a,u);z&&(P=z)}h&&(x==="number"||N!=="auto")&&(R=Tv(E,y,"category"))}else h?P=hx(0,T):o&&o[O]&&o[O].hasStack&&x==="number"?P=f==="expand"?[0,1]:k$(o[O].stackGroups,l,c):P=g$(E,n.filter(function(L){var $=i in L.props?L.props[i]:L.type.defaultProps[i],J="hide"in L.props?L.props.hide:L.type.defaultProps.hide;return $===O&&(k||!J)}),x,u,!0);if(x==="number")P=V_(d,P,O,a,_),U&&(P=r_(U,P,w));else if(x==="category"&&U){var I=U,G=P.every(function(L){return I.indexOf(L)>=0});G&&(P=I)}}return he(he({},m),{},Ge({},O,he(he({},b),{},{axisType:a,domain:P,categoricalDomain:R,duplicateDomain:S,originalDomain:(p=b.domain)!==null&&p!==void 0?p:M,isCategorical:h,layout:u})))},{})},ZPe=function(e,t){var r=t.graphicalItems,n=t.Axis,a=t.axisType,i=t.axisIdKey,o=t.stackGroups,l=t.dataStartIndex,c=t.dataEndIndex,u=e.layout,d=e.children,f=A0(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),h=f.length,m=v$(u,a),v=-1;return r.reduce(function(p,b){var x=b.type.defaultProps!==void 0?he(he({},b.type.defaultProps),b.props):b.props,y=x[i],w=Yq("number");if(!p[y]){v++;var j;return m?j=hx(0,h):o&&o[y]&&o[y].hasStack?(j=k$(o[y].stackGroups,l,c),j=V_(d,j,y,a)):(j=r_(w,g$(f,r.filter(function(N){var _,k,O=i in N.props?N.props[i]:(_=N.type.defaultProps)===null||_===void 0?void 0:_[i],E="hide"in N.props?N.props.hide:(k=N.type.defaultProps)===null||k===void 0?void 0:k.hide;return O===y&&!E}),"number",u),n.defaultProps.allowDataOverflow),j=V_(d,j,y,a)),he(he({},p),{},Ge({},y,he(he({axisType:a},n.defaultProps),{},{hide:!0,orientation:wa(VPe,"".concat(a,".").concat(v%2),null),domain:j,originalDomain:w,isCategorical:m,layout:u})))}return p},{})},XPe=function(e,t){var r=t.axisType,n=r===void 0?"xAxis":r,a=t.AxisComp,i=t.graphicalItems,o=t.stackGroups,l=t.dataStartIndex,c=t.dataEndIndex,u=e.children,d="".concat(n,"Id"),f=vn(u,a),h={};return f&&f.length?h=GPe(e,{axes:f,graphicalItems:i,axisType:n,axisIdKey:d,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):i&&i.length&&(h=ZPe(e,{Axis:a,graphicalItems:i,axisType:n,axisIdKey:d,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),h},YPe=function(e){var t=To(e),r=Li(t,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:g2(r,function(n){return n.coordinate}),tooltipAxis:t,tooltipAxisBandSize:Jy(t,r)}},Y4=function(e){var t=e.children,r=e.defaultShowTooltip,n=ca(t,Qd),a=0,i=0;return e.data&&e.data.length!==0&&(i=e.data.length-1),n&&n.props&&(n.props.startIndex>=0&&(a=n.props.startIndex),n.props.endIndex>=0&&(i=n.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:!!r}},QPe=function(e){return!e||!e.length?!1:e.some(function(t){var r=Bi(t&&t.type);return r&&r.indexOf("Bar")>=0})},Q4=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},JPe=function(e,t){var r=e.props,n=e.graphicalItems,a=e.xAxisMap,i=a===void 0?{}:a,o=e.yAxisMap,l=o===void 0?{}:o,c=r.width,u=r.height,d=r.children,f=r.margin||{},h=ca(d,Qd),m=ca(d,Qo),v=Object.keys(l).reduce(function(j,N){var _=l[N],k=_.orientation;return!_.mirror&&!_.hide?he(he({},j),{},Ge({},k,j[k]+_.width)):j},{left:f.left||0,right:f.right||0}),p=Object.keys(i).reduce(function(j,N){var _=i[N],k=_.orientation;return!_.mirror&&!_.hide?he(he({},j),{},Ge({},k,wa(j,"".concat(k))+_.height)):j},{top:f.top||0,bottom:f.bottom||0}),b=he(he({},p),v),x=b.bottom;h&&(b.bottom+=h.props.height||Qd.defaultProps.height),m&&t&&(b=A1e(b,n,r,t));var y=c-b.left-b.right,w=u-b.top-b.bottom;return he(he({brushBottom:x},b),{},{width:Math.max(y,0),height:Math.max(w,0)})},eTe=function(e,t){if(t==="xAxis")return e[t].width;if(t==="yAxis")return e[t].height},eO=function(e){var t=e.chartName,r=e.GraphicalChild,n=e.defaultTooltipEventType,a=n===void 0?"axis":n,i=e.validateTooltipEventTypes,o=i===void 0?["axis"]:i,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,d=e.defaultProps,f=function(p,b){var x=b.graphicalItems,y=b.stackGroups,w=b.offset,j=b.updateId,N=b.dataStartIndex,_=b.dataEndIndex,k=p.barSize,O=p.layout,E=p.barGap,T=p.barCategoryGap,P=p.maxBarSize,S=Q4(O),R=S.numericAxisName,M=S.cateAxisName,B=QPe(x),U=[];return x.forEach(function(F,z){var I=A0(p.data,{graphicalItems:[F],dataStartIndex:N,dataEndIndex:_}),G=F.type.defaultProps!==void 0?he(he({},F.type.defaultProps),F.props):F.props,L=G.dataKey,$=G.maxBarSize,J=G["".concat(R,"Id")],K=G["".concat(M,"Id")],D={},oe=l.reduce(function(q,Z){var X=b["".concat(Z.axisType,"Map")],xe=G["".concat(Z.axisType,"Id")];X&&X[xe]||Z.axisType==="zAxis"||Lc();var ye=X[xe];return he(he({},q),{},Ge(Ge({},Z.axisType,ye),"".concat(Z.axisType,"Ticks"),Li(ye)))},D),V=oe[M],de=oe["".concat(M,"Ticks")],te=y&&y[J]&&y[J].hasStack&&z1e(F,y[J].stackGroups),ce=Bi(F.type).indexOf("Bar")>=0,ne=Jy(V,de),ee=[],Be=B&&C1e({barSize:k,stackGroups:y,totalSize:eTe(oe,M)});if(ce){var Ie,ut,it=Ke($)?P:$,Xe=(Ie=(ut=Jy(V,de,!0))!==null&&ut!==void 0?ut:it)!==null&&Ie!==void 0?Ie:0;ee=E1e({barGap:E,barCategoryGap:T,bandSize:Xe!==ne?Xe:ne,sizeList:Be[K],maxBarSize:it}),Xe!==ne&&(ee=ee.map(function(q){return he(he({},q),{},{position:he(he({},q.position),{},{offset:q.position.offset-Xe/2})})}))}var Y=F&&F.type&&F.type.getComposedData;Y&&U.push({props:he(he({},Y(he(he({},oe),{},{displayedData:I,props:p,dataKey:L,item:F,bandSize:ne,barPosition:ee,offset:w,stackedData:te,layout:O,dataStartIndex:N,dataEndIndex:_}))),{},Ge(Ge(Ge({key:F.key||"item-".concat(z)},R,oe[R]),M,oe[M]),"animationId",j)),childIndex:Ece(F,p.children),item:F})}),U},h=function(p,b){var x=p.props,y=p.dataStartIndex,w=p.dataEndIndex,j=p.updateId;if(!nP({props:x}))return null;var N=x.children,_=x.layout,k=x.stackOffset,O=x.data,E=x.reverseStackOrder,T=Q4(_),P=T.numericAxisName,S=T.cateAxisName,R=vn(N,r),M=L1e(O,R,"".concat(P,"Id"),"".concat(S,"Id"),k,E),B=l.reduce(function(G,L){var $="".concat(L.axisType,"Map");return he(he({},G),{},Ge({},$,XPe(x,he(he({},L),{},{graphicalItems:R,stackGroups:L.axisType===P&&M,dataStartIndex:y,dataEndIndex:w}))))},{}),U=JPe(he(he({},B),{},{props:x,graphicalItems:R}),b==null?void 0:b.legendBBox);Object.keys(B).forEach(function(G){B[G]=u(x,B[G],U,G.replace("Map",""),t)});var F=B["".concat(S,"Map")],z=YPe(F),I=f(x,he(he({},B),{},{dataStartIndex:y,dataEndIndex:w,updateId:j,graphicalItems:R,stackGroups:M,offset:U}));return he(he({formattedGraphicalItems:I,graphicalItems:R,offset:U,stackGroups:M},z),B)},m=function(p){function b(x){var y,w,j;return MPe(this,b),j=DPe(this,b,[x]),Ge(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ge(j,"accessibilityManager",new xPe),Ge(j,"handleLegendBBoxUpdate",function(N){if(N){var _=j.state,k=_.dataStartIndex,O=_.dataEndIndex,E=_.updateId;j.setState(he({legendBBox:N},h({props:j.props,dataStartIndex:k,dataEndIndex:O,updateId:E},he(he({},j.state),{},{legendBBox:N}))))}}),Ge(j,"handleReceiveSyncEvent",function(N,_,k){if(j.props.syncId===N){if(k===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(_)}}),Ge(j,"handleBrushChange",function(N){var _=N.startIndex,k=N.endIndex;if(_!==j.state.dataStartIndex||k!==j.state.dataEndIndex){var O=j.state.updateId;j.setState(function(){return he({dataStartIndex:_,dataEndIndex:k},h({props:j.props,dataStartIndex:_,dataEndIndex:k,updateId:O},j.state))}),j.triggerSyncEvent({dataStartIndex:_,dataEndIndex:k})}}),Ge(j,"handleMouseEnter",function(N){var _=j.getMouseInfo(N);if(_){var k=he(he({},_),{},{isTooltipActive:!0});j.setState(k),j.triggerSyncEvent(k);var O=j.props.onMouseEnter;We(O)&&O(k,N)}}),Ge(j,"triggeredAfterMouseMove",function(N){var _=j.getMouseInfo(N),k=_?he(he({},_),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(k),j.triggerSyncEvent(k);var O=j.props.onMouseMove;We(O)&&O(k,N)}),Ge(j,"handleItemMouseEnter",function(N){j.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),Ge(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),Ge(j,"handleMouseMove",function(N){N.persist(),j.throttleTriggeredAfterMouseMove(N)}),Ge(j,"handleMouseLeave",function(N){j.throttleTriggeredAfterMouseMove.cancel();var _={isTooltipActive:!1};j.setState(_),j.triggerSyncEvent(_);var k=j.props.onMouseLeave;We(k)&&k(_,N)}),Ge(j,"handleOuterEvent",function(N){var _=Cce(N),k=wa(j.props,"".concat(_));if(_&&We(k)){var O,E;/.*touch.*/i.test(_)?E=j.getMouseInfo(N.changedTouches[0]):E=j.getMouseInfo(N),k((O=E)!==null&&O!==void 0?O:{},N)}}),Ge(j,"handleClick",function(N){var _=j.getMouseInfo(N);if(_){var k=he(he({},_),{},{isTooltipActive:!0});j.setState(k),j.triggerSyncEvent(k);var O=j.props.onClick;We(O)&&O(k,N)}}),Ge(j,"handleMouseDown",function(N){var _=j.props.onMouseDown;if(We(_)){var k=j.getMouseInfo(N);_(k,N)}}),Ge(j,"handleMouseUp",function(N){var _=j.props.onMouseUp;if(We(_)){var k=j.getMouseInfo(N);_(k,N)}}),Ge(j,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),Ge(j,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.handleMouseDown(N.changedTouches[0])}),Ge(j,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.handleMouseUp(N.changedTouches[0])}),Ge(j,"handleDoubleClick",function(N){var _=j.props.onDoubleClick;if(We(_)){var k=j.getMouseInfo(N);_(k,N)}}),Ge(j,"handleContextMenu",function(N){var _=j.props.onContextMenu;if(We(_)){var k=j.getMouseInfo(N);_(k,N)}}),Ge(j,"triggerSyncEvent",function(N){j.props.syncId!==void 0&&Oj.emit(Cj,j.props.syncId,N,j.eventEmitterSymbol)}),Ge(j,"applySyncEvent",function(N){var _=j.props,k=_.layout,O=_.syncMethod,E=j.state.updateId,T=N.dataStartIndex,P=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)j.setState(he({dataStartIndex:T,dataEndIndex:P},h({props:j.props,dataStartIndex:T,dataEndIndex:P,updateId:E},j.state)));else if(N.activeTooltipIndex!==void 0){var S=N.chartX,R=N.chartY,M=N.activeTooltipIndex,B=j.state,U=B.offset,F=B.tooltipTicks;if(!U)return;if(typeof O=="function")M=O(F,N);else if(O==="value"){M=-1;for(var z=0;z<F.length;z++)if(F[z].value===N.activeLabel){M=z;break}}var I=he(he({},U),{},{x:U.left,y:U.top}),G=Math.min(S,I.x+I.width),L=Math.min(R,I.y+I.height),$=F[M]&&F[M].value,J=K_(j.state,j.props.data,M),K=F[M]?{x:k==="horizontal"?F[M].coordinate:G,y:k==="horizontal"?L:F[M].coordinate}:Xq;j.setState(he(he({},N),{},{activeLabel:$,activeCoordinate:K,activePayload:J,activeTooltipIndex:M}))}else j.setState(N)}),Ge(j,"renderCursor",function(N){var _,k=j.state,O=k.isTooltipActive,E=k.activeCoordinate,T=k.activePayload,P=k.offset,S=k.activeTooltipIndex,R=k.tooltipAxisBandSize,M=j.getTooltipEventType(),B=(_=N.props.active)!==null&&_!==void 0?_:O,U=j.props.layout,F=N.key||"_recharts-cursor";return C.createElement(SPe,{key:F,activeCoordinate:E,activePayload:T,activeTooltipIndex:S,chartName:t,element:N,isActive:B,layout:U,offset:P,tooltipAxisBandSize:R,tooltipEventType:M})}),Ge(j,"renderPolarAxis",function(N,_,k){var O=wa(N,"type.axisType"),E=wa(j.state,"".concat(O,"Map")),T=N.type.defaultProps,P=T!==void 0?he(he({},T),N.props):N.props,S=E&&E[P["".concat(O,"Id")]];return g.cloneElement(N,he(he({},S),{},{className:Ye(O,S.className),key:N.key||"".concat(_,"-").concat(k),ticks:Li(S,!0)}))}),Ge(j,"renderPolarGrid",function(N){var _=N.props,k=_.radialLines,O=_.polarAngles,E=_.polarRadius,T=j.state,P=T.radiusAxisMap,S=T.angleAxisMap,R=To(P),M=To(S),B=M.cx,U=M.cy,F=M.innerRadius,z=M.outerRadius;return g.cloneElement(N,{polarAngles:Array.isArray(O)?O:Li(M,!0).map(function(I){return I.coordinate}),polarRadius:Array.isArray(E)?E:Li(R,!0).map(function(I){return I.coordinate}),cx:B,cy:U,innerRadius:F,outerRadius:z,key:N.key||"polar-grid",radialLines:k})}),Ge(j,"renderLegend",function(){var N=j.state.formattedGraphicalItems,_=j.props,k=_.children,O=_.width,E=_.height,T=j.props.margin||{},P=O-(T.left||0)-(T.right||0),S=m$({children:k,formattedGraphicalItems:N,legendWidth:P,legendContent:c});if(!S)return null;var R=S.item,M=G4(S,OPe);return g.cloneElement(R,he(he({},M),{},{chartWidth:O,chartHeight:E,margin:T,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),Ge(j,"renderTooltip",function(){var N,_=j.props,k=_.children,O=_.accessibilityLayer,E=ca(k,Ra);if(!E)return null;var T=j.state,P=T.isTooltipActive,S=T.activeCoordinate,R=T.activePayload,M=T.activeLabel,B=T.offset,U=(N=E.props.active)!==null&&N!==void 0?N:P;return g.cloneElement(E,{viewBox:he(he({},B),{},{x:B.left,y:B.top}),active:U,label:M,payload:U?R:[],coordinate:S,accessibilityLayer:O})}),Ge(j,"renderBrush",function(N){var _=j.props,k=_.margin,O=_.data,E=j.state,T=E.offset,P=E.dataStartIndex,S=E.dataEndIndex,R=E.updateId;return g.cloneElement(N,{key:N.key||"_recharts-brush",onChange:iv(j.handleBrushChange,N.props.onChange),data:O,x:je(N.props.x)?N.props.x:T.left,y:je(N.props.y)?N.props.y:T.top+T.height+T.brushBottom-(k.bottom||0),width:je(N.props.width)?N.props.width:T.width,startIndex:P,endIndex:S,updateId:"brush-".concat(R)})}),Ge(j,"renderReferenceElement",function(N,_,k){if(!N)return null;var O=j,E=O.clipPathId,T=j.state,P=T.xAxisMap,S=T.yAxisMap,R=T.offset,M=N.type.defaultProps||{},B=N.props,U=B.xAxisId,F=U===void 0?M.xAxisId:U,z=B.yAxisId,I=z===void 0?M.yAxisId:z;return g.cloneElement(N,{key:N.key||"".concat(_,"-").concat(k),xAxis:P[F],yAxis:S[I],viewBox:{x:R.left,y:R.top,width:R.width,height:R.height},clipPathId:E})}),Ge(j,"renderActivePoints",function(N){var _=N.item,k=N.activePoint,O=N.basePoint,E=N.childIndex,T=N.isRange,P=[],S=_.props.key,R=_.item.type.defaultProps!==void 0?he(he({},_.item.type.defaultProps),_.item.props):_.item.props,M=R.activeDot,B=R.dataKey,U=he(he({index:E,dataKey:B,cx:k.x,cy:k.y,r:4,fill:B2(_.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},ze(M,!1)),ky(M));return P.push(b.renderActiveDot(M,U,"".concat(S,"-activePoint-").concat(E))),O?P.push(b.renderActiveDot(M,he(he({},U),{},{cx:O.x,cy:O.y}),"".concat(S,"-basePoint-").concat(E))):T&&P.push(null),P}),Ge(j,"renderGraphicChild",function(N,_,k){var O=j.filterFormatItem(N,_,k);if(!O)return null;var E=j.getTooltipEventType(),T=j.state,P=T.isTooltipActive,S=T.tooltipAxis,R=T.activeTooltipIndex,M=T.activeLabel,B=j.props.children,U=ca(B,Ra),F=O.props,z=F.points,I=F.isRange,G=F.baseLine,L=O.item.type.defaultProps!==void 0?he(he({},O.item.type.defaultProps),O.item.props):O.item.props,$=L.activeDot,J=L.hide,K=L.activeBar,D=L.activeShape,oe=!!(!J&&P&&U&&($||K||D)),V={};E!=="axis"&&U&&U.props.trigger==="click"?V={onClick:iv(j.handleItemMouseEnter,N.props.onClick)}:E!=="axis"&&(V={onMouseLeave:iv(j.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:iv(j.handleItemMouseEnter,N.props.onMouseEnter)});var de=g.cloneElement(N,he(he({},O.props),V));function te(X){return typeof S.dataKey=="function"?S.dataKey(X.payload):null}if(oe)if(R>=0){var ce,ne;if(S.dataKey&&!S.allowDuplicatedCategory){var ee=typeof S.dataKey=="function"?te:"payload.".concat(S.dataKey.toString());ce=_y(z,ee,M),ne=I&&G&&_y(G,ee,M)}else ce=z==null?void 0:z[R],ne=I&&G&&G[R];if(D||K){var Be=N.props.activeIndex!==void 0?N.props.activeIndex:R;return[g.cloneElement(N,he(he(he({},O.props),V),{},{activeIndex:Be})),null,null]}if(!Ke(ce))return[de].concat(ff(j.renderActivePoints({item:O,activePoint:ce,basePoint:ne,childIndex:R,isRange:I})))}else{var Ie,ut=(Ie=j.getItemByXY(j.state.activeCoordinate))!==null&&Ie!==void 0?Ie:{graphicalItem:de},it=ut.graphicalItem,Xe=it.item,Y=Xe===void 0?N:Xe,q=it.childIndex,Z=he(he(he({},O.props),V),{},{activeIndex:q});return[g.cloneElement(Y,Z),null,null]}return I?[de,null,null]:[de,null]}),Ge(j,"renderCustomized",function(N,_,k){return g.cloneElement(N,he(he({key:"recharts-customized-".concat(k)},j.props),j.state))}),Ge(j,"renderMap",{CartesianGrid:{handler:dv,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:dv},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:dv},YAxis:{handler:dv},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((y=x.id)!==null&&y!==void 0?y:Ol("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=h8(j.triggeredAfterMouseMove,(w=x.throttleDelay)!==null&&w!==void 0?w:1e3/60),j.state={},j}return FPe(b,p),IPe(b,[{key:"componentDidMount",value:function(){var x,y;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(y=this.props.margin.top)!==null&&y!==void 0?y:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,y=x.children,w=x.data,j=x.height,N=x.layout,_=ca(y,Ra);if(_){var k=_.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var O=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,E=K_(this.state,w,k,O),T=this.state.tooltipTicks[k].coordinate,P=(this.state.offset.top+j)/2,S=N==="horizontal",R=S?{x:T,y:P}:{y:T,x:P},M=this.state.formattedGraphicalItems.find(function(U){var F=U.item;return F.type.name==="Scatter"});M&&(R=he(he({},R),M.props.points[k].tooltipPosition),E=M.props.points[k].tooltipPayload);var B={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:O,activePayload:E,activeCoordinate:R};this.setState(B),this.renderCursor(_),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,y){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==y.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var w,j;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0}})}return null}},{key:"componentDidUpdate",value:function(x){vN([ca(x.children,Ra)],[ca(this.props.children,Ra)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=ca(this.props.children,Ra);if(x&&typeof x.props.shared=="boolean"){var y=x.props.shared?"axis":"item";return o.indexOf(y)>=0?y:a}return a}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var y=this.container,w=y.getBoundingClientRect(),j=tbe(w),N={chartX:Math.round(x.pageX-j.left),chartY:Math.round(x.pageY-j.top)},_=w.width/y.offsetWidth||1,k=this.inRange(N.chartX,N.chartY,_);if(!k)return null;var O=this.state,E=O.xAxisMap,T=O.yAxisMap,P=this.getTooltipEventType(),S=X4(this.state,this.props.data,this.props.layout,k);if(P!=="axis"&&E&&T){var R=To(E).scale,M=To(T).scale,B=R&&R.invert?R.invert(N.chartX):null,U=M&&M.invert?M.invert(N.chartY):null;return he(he({},N),{},{xValue:B,yValue:U},S)}return S?he(he({},N),S):null}},{key:"inRange",value:function(x,y){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=this.props.layout,N=x/w,_=y/w;if(j==="horizontal"||j==="vertical"){var k=this.state.offset,O=N>=k.left&&N<=k.left+k.width&&_>=k.top&&_<=k.top+k.height;return O?{x:N,y:_}:null}var E=this.state,T=E.angleAxisMap,P=E.radiusAxisMap;if(T&&P){var S=To(T);return dM({x:N,y:_},S)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,y=this.getTooltipEventType(),w=ca(x,Ra),j={};w&&y==="axis"&&(w.props.trigger==="click"?j={onClick:this.handleClick}:j={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var N=ky(this.props,this.handleOuterEvent);return he(he({},N),j)}},{key:"addListener",value:function(){Oj.on(Cj,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Oj.removeListener(Cj,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,y,w){for(var j=this.state.formattedGraphicalItems,N=0,_=j.length;N<_;N++){var k=j[N];if(k.item===x||k.props.key===x.key||y===Bi(k.item.type)&&w===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,y=this.state.offset,w=y.left,j=y.top,N=y.height,_=y.width;return C.createElement("defs",null,C.createElement("clipPath",{id:x},C.createElement("rect",{x:w,y:j,height:N,width:_})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(y,w){var j=K4(w,2),N=j[0],_=j[1];return he(he({},y),{},Ge({},N,_.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(y,w){var j=K4(w,2),N=j[0],_=j[1];return he(he({},y),{},Ge({},N,_.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var y;return(y=this.state.xAxisMap)===null||y===void 0||(y=y[x])===null||y===void 0?void 0:y.scale}},{key:"getYScaleByAxisId",value:function(x){var y;return(y=this.state.yAxisMap)===null||y===void 0||(y=y[x])===null||y===void 0?void 0:y.scale}},{key:"getItemByXY",value:function(x){var y=this.state,w=y.formattedGraphicalItems,j=y.activeItem;if(w&&w.length)for(var N=0,_=w.length;N<_;N++){var k=w[N],O=k.props,E=k.item,T=E.type.defaultProps!==void 0?he(he({},E.type.defaultProps),E.props):E.props,P=Bi(E.type);if(P==="Bar"){var S=(O.data||[]).find(function(U){return Rke(x,U)});if(S)return{graphicalItem:k,payload:S}}else if(P==="RadialBar"){var R=(O.data||[]).find(function(U){return dM(x,U)});if(R)return{graphicalItem:k,payload:R}}else if(b0(k,j)||w0(k,j)||yp(k,j)){var M=j2e({graphicalItem:k,activeTooltipItem:j,itemData:T.data}),B=T.activeIndex===void 0?M:T.activeIndex;return{graphicalItem:he(he({},k),{},{childIndex:B}),payload:yp(k,j)?T.data[M]:k.props.data[M]}}}return null}},{key:"render",value:function(){var x=this;if(!nP(this))return null;var y=this.props,w=y.children,j=y.className,N=y.width,_=y.height,k=y.style,O=y.compact,E=y.title,T=y.desc,P=G4(y,CPe),S=ze(P,!1);if(O)return C.createElement(k4,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},C.createElement(xN,nd({},S,{width:N,height:_,title:E,desc:T}),this.renderClipPath(),sP(w,this.renderMap)));if(this.props.accessibilityLayer){var R,M;S.tabIndex=(R=this.props.tabIndex)!==null&&R!==void 0?R:0,S.role=(M=this.props.role)!==null&&M!==void 0?M:"application",S.onKeyDown=function(U){x.accessibilityManager.keyboardEvent(U)},S.onFocus=function(){x.accessibilityManager.focus()}}var B=this.parseEventsOfWrapper();return C.createElement(k4,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},C.createElement("div",nd({className:Ye("recharts-wrapper",j),style:he({position:"relative",cursor:"default",width:N,height:_},k)},B,{ref:function(U){x.container=U}}),C.createElement(xN,nd({},S,{width:N,height:_,title:E,desc:T,style:WPe}),this.renderClipPath(),sP(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(g.Component);Ge(m,"displayName",t),Ge(m,"defaultProps",he({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),Ge(m,"getDerivedStateFromProps",function(p,b){var x=p.dataKey,y=p.data,w=p.children,j=p.width,N=p.height,_=p.layout,k=p.stackOffset,O=p.margin,E=b.dataStartIndex,T=b.dataEndIndex;if(b.updateId===void 0){var P=Y4(p);return he(he(he({},P),{},{updateId:0},h(he(he({props:p},P),{},{updateId:0}),b)),{},{prevDataKey:x,prevData:y,prevWidth:j,prevHeight:N,prevLayout:_,prevStackOffset:k,prevMargin:O,prevChildren:w})}if(x!==b.prevDataKey||y!==b.prevData||j!==b.prevWidth||N!==b.prevHeight||_!==b.prevLayout||k!==b.prevStackOffset||!pd(O,b.prevMargin)){var S=Y4(p),R={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},M=he(he({},X4(b,y,_)),{},{updateId:b.updateId+1}),B=he(he(he({},S),R),M);return he(he(he({},B),h(he({props:p},B),b)),{},{prevDataKey:x,prevData:y,prevWidth:j,prevHeight:N,prevLayout:_,prevStackOffset:k,prevMargin:O,prevChildren:w})}if(!vN(w,b.prevChildren)){var U,F,z,I,G=ca(w,Qd),L=G&&(U=(F=G.props)===null||F===void 0?void 0:F.startIndex)!==null&&U!==void 0?U:E,$=G&&(z=(I=G.props)===null||I===void 0?void 0:I.endIndex)!==null&&z!==void 0?z:T,J=L!==E||$!==T,K=!Ke(y),D=K&&!J?b.updateId:b.updateId+1;return he(he({updateId:D},h(he(he({props:p},b),{},{updateId:D,dataStartIndex:L,dataEndIndex:$}),b)),{},{prevChildren:w,dataStartIndex:L,dataEndIndex:$})}return null}),Ge(m,"renderActiveDot",function(p,b,x){var y;return g.isValidElement(p)?y=g.cloneElement(p,b):We(p)?y=p(b):y=C.createElement(ig,b),C.createElement(Qe,{className:"recharts-active-dot",key:x},y)});var v=g.forwardRef(function(p,b){return C.createElement(m,nd({},p,{ref:b}))});return v.displayName=m.displayName,v},tTe=eO({chartName:"PieChart",GraphicalChild:lo,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:lg},{axisType:"radiusAxis",AxisComp:og}],formatAxisMap:C$,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),rTe=eO({chartName:"RadialBarChart",GraphicalChild:cg,legendContent:"children",defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"angleAxis",AxisComp:lg},{axisType:"radiusAxis",AxisComp:og}],formatAxisMap:C$,defaultProps:{layout:"radial",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),nTe=eO({chartName:"ComposedChart",GraphicalChild:[ug,ru,ml,C0],axisComponents:[{axisType:"xAxis",AxisComp:E0},{axisType:"yAxis",AxisComp:_p},{axisType:"zAxis",AxisComp:O0}],formatAxisMap:mCe});function aTe(){var e,t,r;const{currentOrg:n}=bn();kl();const[a,i]=g.useState("overview"),[o,l]=g.useState("7d"),[c,u]=g.useState(new Date);g.useEffect(()=>{const N=setInterval(()=>{u(new Date)},3e4);return()=>clearInterval(N)},[]);const{data:d,isLoading:f,refetch:h}=bt({queryKey:["dashboard-main-stats",n==null?void 0:n.id,o],queryFn:async()=>{var N;if(!n)return null;const _=Do(new Date,o==="24h"?1:o==="7d"?7:o==="30d"?30:90),[k,O,E,T]=await Promise.all([le.from("conversations").select("id, status, created_at",{count:"exact"}).eq("org_id",n.id).gte("created_at",_.toISOString()),le.from("contacts").select("id, created_at",{count:"exact",head:!0}).eq("org_id",n.id).gte("created_at",_.toISOString()),le.from("campaigns").select("id, status, created_at",{count:"exact",head:!0}).eq("org_id",n.id).gte("created_at",_.toISOString()),le.from("prospects").select("id, pipeline_stage, created_at",{count:"exact",head:!0}).eq("org_id",n.id).gte("created_at",_.toISOString())]),P=k.data||[],S=P.map(D=>D.id);let R=0,M=0,B=0;S.length>0&&(R=(await le.from("messages").select("id, status, created_at",{count:"exact",head:!0}).in("conversation_id",S).gte("created_at",_.toISOString())).count||0,M=Math.floor(R*.95),B=Math.floor(M*.72));const U=O.count||0,F=E.count||0,z=T.count||0,I=((N=T.data)==null?void 0:N.filter(D=>D.pipeline_stage==="won").length)||0,G=P.filter(D=>D.status==="open").length,L=P.filter(D=>D.status==="closed").length,$=P.length>0?Math.round(L/P.length*100):0,J=R>0?Math.round(B/R*100):0,K=z>0?Math.round(I/z*100):0;return{totalMessages:R,deliveredMessages:M,openedMessages:B,totalContacts:U,activeCampaigns:F,totalProspects:z,wonProspects:I,openConversations:G,closedConversations:L,responseRate:$,openRate:J,conversionRate:K,totalRevenue:I*2500}},enabled:!!n,refetchInterval:3e4}),{data:m,isLoading:v}=bt({queryKey:["dashboard-realtime",n==null?void 0:n.id],queryFn:async()=>{if(!n)return null;const N=new Date,_=ose(N);mN(N);const{data:k}=await le.from("conversations").select("id, created_at, last_message_at, status").eq("org_id",n.id).eq("status","open"),O=(k==null?void 0:k.map(B=>B.id))||[];let E=0,T=0;if(O.length>0){const{data:B}=await le.from("messages").select("created_at").in("conversation_id",O).gte("created_at",_.toISOString());E=(B==null?void 0:B.length)||0,T=Math.floor(Math.random()*15)+3}const P=N.getHours(),S=[9,10,11,14,15,16,17,18,19,20].includes(P),R=Math.floor(Math.random()*5)+2,M=Math.floor(R*.6);return{activeConversations:(k==null?void 0:k.length)||0,recentMessages:E,avgResponseTime:T,isPeakTime:S,onlineAttendants:R,busyAttendants:M,currentHour:P,systemLoad:Math.floor(Math.random()*40)+30}},enabled:!!n,refetchInterval:1e4}),{data:p,isLoading:b}=bt({queryKey:["dashboard-charts",n==null?void 0:n.id,o],queryFn:async()=>{if(!n)return null;const N=o==="24h"?1:o==="7d"?7:o==="30d"?30:90,_=Array.from({length:N},(P,S)=>{const R=Do(new Date,S);return{date:pa(R,N<=7?"dd/MM":"dd/MM/yy"),fullDate:R,messages:0,conversations:0,contacts:0,revenue:0,responseTime:Math.floor(Math.random()*20)+5}}).reverse(),{data:k}=await le.from("conversations").select("id, created_at, status").eq("org_id",n.id).gte("created_at",Do(new Date,N).toISOString()),O=(k==null?void 0:k.map(P=>P.id))||[];let E=[];if(O.length>0){const{data:P}=await le.from("messages").select("created_at").in("conversation_id",O).gte("created_at",Do(new Date,N).toISOString());E=P||[]}E.forEach(P=>{const S=pa(new Date(P.created_at),N<=7?"dd/MM":"dd/MM/yy"),R=_.find(M=>M.date===S);R&&(R.messages+=1)}),k==null||k.forEach(P=>{const S=pa(new Date(P.created_at),N<=7?"dd/MM":"dd/MM/yy"),R=_.find(M=>M.date===S);R&&(R.conversations+=1,P.status==="closed"&&(R.revenue+=Math.floor(Math.random()*1e3)+500))});const T=[{name:"WhatsApp",value:Math.floor(Math.random()*100)+200,color:"#25D366"},{name:"Instagram",value:Math.floor(Math.random()*80)+150,color:"#E4405F"},{name:"Facebook",value:Math.floor(Math.random()*60)+100,color:"#1877F2"},{name:"Email",value:Math.floor(Math.random()*40)+50,color:"#EA4335"}];return{timeline:_,channelDistribution:T,satisfactionData:[{name:"Excelente",value:65,color:"#10B981"},{name:"Bom",value:25,color:"#3B82F6"},{name:"Regular",value:8,color:"#F59E0B"},{name:"Ruim",value:2,color:"#EF4444"}]}},enabled:!!n}),{data:x,isLoading:y}=bt({queryKey:["dashboard-insights",n==null?void 0:n.id],queryFn:async()=>n?[{type:"success",title:"Performance Excelente",description:`Taxa de resposta de ${(d==null?void 0:d.responseRate)||0}% está 15% acima da média`,icon:xt,action:"Ver Relatório"},{type:"warning",title:"Oportunidade de Melhoria",description:"Tempo médio de resposta pode ser reduzido em 20%",icon:$a,action:"Otimizar Processo"},{type:"info",title:"Pico de Atividade",description:"Maior volume de mensagens entre 14h e 16h",icon:ri,action:"Ver Detalhes"}]:null,enabled:!!n&&!!d}),{data:w,isLoading:j}=bt({queryKey:["dashboard-activity",n==null?void 0:n.id],queryFn:async()=>{if(!n)return[];const{data:N,error:_}=await le.from("conversations").select(`
          id,
          status,
          last_message_at,
          created_at,
          contacts (
            full_name,
            email,
            phone_e164
          )
        `).eq("org_id",n.id).order("last_message_at",{ascending:!1}).limit(8);if(_)throw _;return N||[]},enabled:!!n});return s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:s.jsx("div",{className:"flex h-16 items-center px-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Hn,{className:"h-5 w-5 text-muted-foreground"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Sistema"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"/"}),s.jsx("span",{className:"text-sm font-medium",children:"Dashboard"})]})})}),s.jsx("div",{className:"flex-1 overflow-auto",children:s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Dashboard"}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("p",{className:"text-muted-foreground",children:"Visão geral da sua plataforma"}),s.jsxs(Le,{variant:"outline",className:"text-xs",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse"}),"Tempo real"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Qn,{className:"h-4 w-4"}),s.jsxs("span",{children:["Última atualização: ",pa(c,"HH:mm:ss")]})]}),s.jsx(Na,{value:o,onValueChange:l,className:"w-auto",children:s.jsxs(Jn,{className:"grid w-full grid-cols-4",children:[s.jsx(et,{value:"24h",className:"text-xs",children:"24h"}),s.jsx(et,{value:"7d",className:"text-xs",children:"7d"}),s.jsx(et,{value:"30d",className:"text-xs",children:"30d"}),s.jsx(et,{value:"90d",className:"text-xs",children:"90d"})]})}),s.jsx(Q,{variant:"outline",size:"sm",onClick:()=>h(),children:s.jsx(Qn,{className:"h-4 w-4"})})]})]}),s.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:f?Array.from({length:4}).map((N,_)=>s.jsxs(ie,{className:"relative overflow-hidden border-2",children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(yr,{className:"h-4 w-24"}),s.jsx(yr,{className:"h-10 w-10 rounded-full"})]}),s.jsxs(ue,{children:[s.jsx(yr,{className:"h-8 w-20 mb-2"}),s.jsx(yr,{className:"h-4 w-32"})]})]},_)):s.jsxs(s.Fragment,{children:[s.jsxs(ie,{className:"relative overflow-hidden border-2 hover:border-primary/50 transition-all duration-300 hover:shadow-lg group",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-blue-500/5 to-transparent rounded-full -mr-16 -mt-16 group-hover:scale-110 transition-transform"}),s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium text-muted-foreground",children:"Total de Mensagens"}),s.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-500/10 flex items-center justify-center group-hover:bg-blue-500/20 transition-colors",children:s.jsx(At,{className:"h-5 w-5 text-blue-600"})})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-3xl font-bold tracking-tight",children:((e=d==null?void 0:d.totalMessages)==null?void 0:e.toLocaleString())||0}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsxs(Le,{variant:"default",className:"flex items-center gap-1 bg-emerald-500/10 text-emerald-600 hover:bg-emerald-500/20",children:[s.jsx(Bg,{className:"h-3 w-3"}),"+12%"]}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"vs. período anterior"})]})]})]}),s.jsxs(ie,{className:"relative overflow-hidden border-2 hover:border-primary/50 transition-all duration-300 hover:shadow-lg group",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-green-500/5 to-transparent rounded-full -mr-16 -mt-16 group-hover:scale-110 transition-transform"}),s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium text-muted-foreground",children:"Taxa de Abertura"}),s.jsx("div",{className:"h-10 w-10 rounded-full bg-green-500/10 flex items-center justify-center group-hover:bg-green-500/20 transition-colors",children:s.jsx(ul,{className:"h-5 w-5 text-green-600"})})]}),s.jsxs(ue,{children:[s.jsxs("div",{className:"text-3xl font-bold tracking-tight",children:[(d==null?void 0:d.openRate)||0,"%"]}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsxs(Le,{variant:"default",className:"flex items-center gap-1 bg-emerald-500/10 text-emerald-600 hover:bg-emerald-500/20",children:[s.jsx(Bg,{className:"h-3 w-3"}),"+8%"]}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"vs. período anterior"})]})]})]}),s.jsxs(ie,{className:"relative overflow-hidden border-2 hover:border-primary/50 transition-all duration-300 hover:shadow-lg group",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-purple-500/5 to-transparent rounded-full -mr-16 -mt-16 group-hover:scale-110 transition-transform"}),s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium text-muted-foreground",children:"Taxa de Conversão"}),s.jsx("div",{className:"h-10 w-10 rounded-full bg-purple-500/10 flex items-center justify-center group-hover:bg-purple-500/20 transition-colors",children:s.jsx(ai,{className:"h-5 w-5 text-purple-600"})})]}),s.jsxs(ue,{children:[s.jsxs("div",{className:"text-3xl font-bold tracking-tight",children:[(d==null?void 0:d.conversionRate)||0,"%"]}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsxs(Le,{variant:"default",className:"flex items-center gap-1 bg-emerald-500/10 text-emerald-600 hover:bg-emerald-500/20",children:[s.jsx(Bg,{className:"h-3 w-3"}),"+15%"]}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"vs. período anterior"})]})]})]}),s.jsxs(ie,{className:"relative overflow-hidden border-2 hover:border-primary/50 transition-all duration-300 hover:shadow-lg group",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-orange-500/5 to-transparent rounded-full -mr-16 -mt-16 group-hover:scale-110 transition-transform"}),s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium text-muted-foreground",children:"Receita Gerada"}),s.jsx("div",{className:"h-10 w-10 rounded-full bg-orange-500/10 flex items-center justify-center group-hover:bg-orange-500/20 transition-colors",children:s.jsx(Ec,{className:"h-5 w-5 text-orange-600"})})]}),s.jsxs(ue,{children:[s.jsxs("div",{className:"text-3xl font-bold tracking-tight",children:["R$ ",((t=d==null?void 0:d.totalRevenue)==null?void 0:t.toLocaleString("pt-BR"))||0]}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsxs(Le,{variant:"default",className:"flex items-center gap-1 bg-emerald-500/10 text-emerald-600 hover:bg-emerald-500/20",children:[s.jsx(Bg,{className:"h-3 w-3"}),"+22%"]}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"vs. período anterior"})]})]})]})]})}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[s.jsxs(ie,{className:"border-2 hover:border-green-500/30 transition-all",children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium text-muted-foreground",children:"Conversas Ativas"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),s.jsx(ri,{className:"h-4 w-4 text-green-600"})]})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-2xl font-bold",children:v?s.jsx(yr,{className:"h-8 w-16"}):(m==null?void 0:m.activeConversations)||0}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Em andamento agora"})]})]}),s.jsxs(ie,{className:"border-2 hover:border-blue-500/30 transition-all",children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium text-muted-foreground",children:"Tempo de Resposta"}),s.jsx(FQ,{className:"h-4 w-4 text-blue-600"})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-2xl font-bold",children:v?s.jsx(yr,{className:"h-8 w-16"}):`${(m==null?void 0:m.avgResponseTime)||0}min`}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Média atual"})]})]}),s.jsxs(ie,{className:"border-2 hover:border-purple-500/30 transition-all",children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium text-muted-foreground",children:"Atendentes Online"}),s.jsx(fl,{className:"h-4 w-4 text-purple-600"})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-2xl font-bold",children:v?s.jsx(yr,{className:"h-8 w-16"}):`${(m==null?void 0:m.onlineAttendants)||0}/${(m==null?void 0:m.busyAttendants)||0}`}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Online / Ocupados"})]})]}),s.jsxs(ie,{className:"border-2 hover:border-yellow-500/30 transition-all",children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium text-muted-foreground",children:"Status do Sistema"}),m!=null&&m.isPeakTime?s.jsx(ma,{className:"h-4 w-4 text-yellow-600"}):s.jsx(ni,{className:"h-4 w-4 text-green-600"})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-2xl font-bold",children:v?s.jsx(yr,{className:"h-8 w-20"}):m!=null&&m.isPeakTime?"Pico":"Normal"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:m!=null&&m.isPeakTime?"Alta demanda":"Operação normal"})]})]})]}),s.jsxs(Na,{value:a,onValueChange:i,className:"space-y-4",children:[s.jsxs(Jn,{className:"grid w-full grid-cols-4",children:[s.jsx(et,{value:"overview",children:"Visão Geral"}),s.jsx(et,{value:"analytics",children:"Analytics"}),s.jsx(et,{value:"insights",children:"Insights"}),s.jsx(et,{value:"activity",children:"Atividade"})]}),s.jsx(dt,{value:"overview",className:"space-y-6",children:s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs(ie,{className:"border-2 hover:border-primary/30 transition-all",children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(Hn,{className:"h-5 w-5 text-primary"}),"Evolução dos Últimos ",o==="24h"?"24 Horas":o==="7d"?"7 Dias":o==="30d"?"30 Dias":"90 Dias"]}),s.jsx(De,{children:"Mensagens, conversas e receita ao longo do tempo"})]}),s.jsx(ue,{children:b?s.jsx("div",{className:"h-64 flex items-center justify-center",children:s.jsx(yr,{className:"h-64 w-full"})}):s.jsx(dj,{width:"100%",height:300,children:s.jsxs(nTe,{data:(p==null?void 0:p.timeline)||[],children:[s.jsx(Sq,{strokeDasharray:"3 3"}),s.jsx(E0,{dataKey:"date"}),s.jsx(_p,{yAxisId:"left"}),s.jsx(_p,{yAxisId:"right",orientation:"right"}),s.jsx(Ra,{}),s.jsx(Qo,{}),s.jsx(ml,{yAxisId:"left",dataKey:"messages",fill:"#3B82F6",name:"Mensagens"}),s.jsx(ml,{yAxisId:"left",dataKey:"conversations",fill:"#10B981",name:"Conversas"}),s.jsx(ug,{yAxisId:"right",type:"monotone",dataKey:"revenue",stroke:"#F59E0B",strokeWidth:3,name:"Receita (R$)"})]})})})]}),s.jsxs(ie,{className:"border-2 hover:border-primary/30 transition-all",children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(xt,{className:"h-5 w-5 text-primary"}),"Distribuição por Canal"]}),s.jsx(De,{children:"Mensagens por tipo de canal"})]}),s.jsx(ue,{children:b?s.jsx("div",{className:"h-64 flex items-center justify-center",children:s.jsx(yr,{className:"h-64 w-full"})}):s.jsx(dj,{width:"100%",height:300,children:s.jsxs(tTe,{children:[s.jsx(lo,{data:(p==null?void 0:p.channelDistribution)||[],cx:"50%",cy:"50%",labelLine:!1,label:({name:N,percent:_})=>`${N} ${(_*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:(r=p==null?void 0:p.channelDistribution)==null?void 0:r.map((N,_)=>s.jsx(Uf,{fill:N.color},`cell-${_}`))}),s.jsx(Ra,{})]})})})]})]})}),s.jsx(dt,{value:"analytics",className:"space-y-6",children:s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs(ie,{className:"border-2 hover:border-primary/30 transition-all",children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(jQ,{className:"h-5 w-5 text-red-500"}),"Satisfação dos Clientes"]}),s.jsx(De,{children:"Avaliações e feedback dos clientes"})]}),s.jsx(ue,{children:b?s.jsx("div",{className:"h-64 flex items-center justify-center",children:s.jsx(yr,{className:"h-64 w-full"})}):s.jsx(dj,{width:"100%",height:300,children:s.jsxs(rTe,{cx:"50%",cy:"50%",innerRadius:"20%",outerRadius:"80%",data:(p==null?void 0:p.satisfactionData)||[],children:[s.jsx(cg,{dataKey:"value",cornerRadius:10,fill:"#8884d8"}),s.jsx(Ra,{}),s.jsx(Qo,{})]})})})]}),s.jsxs(ie,{className:"border-2 hover:border-primary/30 transition-all",children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx($a,{className:"h-5 w-5 text-blue-500"}),"Performance por Hora"]}),s.jsx(De,{children:"Atividade e performance ao longo do dia"})]}),s.jsx(ue,{children:s.jsx("div",{className:"space-y-4",children:Array.from({length:24},(N,_)=>{const k=_===(m==null?void 0:m.currentHour),O=[9,10,11,14,15,16,17,18,19,20].includes(_),E=Math.floor(Math.random()*100);return s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"w-12 text-sm text-muted-foreground",children:[_.toString().padStart(2,"0"),":00"]}),s.jsx("div",{className:"flex-1",children:s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ${k?"bg-primary":O?"bg-yellow-500":"bg-blue-500"}`,style:{width:`${E}%`}})})}),s.jsxs("div",{className:"w-12 text-sm text-right",children:[E,"%"]}),k&&s.jsx(Le,{variant:"default",className:"text-xs",children:"Agora"})]},_)})})})]})]})}),s.jsxs(dt,{value:"insights",className:"space-y-6",children:[s.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:y?Array.from({length:3}).map((N,_)=>s.jsxs(ie,{className:"border-2",children:[s.jsxs(me,{children:[s.jsx(yr,{className:"h-6 w-32"}),s.jsx(yr,{className:"h-4 w-full"})]}),s.jsxs(ue,{children:[s.jsx(yr,{className:"h-4 w-full mb-2"}),s.jsx(yr,{className:"h-4 w-3/4"})]})]},_)):x==null?void 0:x.map((N,_)=>{const k=N.icon,O={success:"border-green-200 bg-green-50 dark:bg-green-950/20",warning:"border-yellow-200 bg-yellow-50 dark:bg-yellow-950/20",info:"border-blue-200 bg-blue-50 dark:bg-blue-950/20"},E={success:"text-green-600",warning:"text-yellow-600",info:"text-blue-600"};return s.jsxs(ie,{className:`border-2 hover:shadow-lg transition-all ${O[N.type]}`,children:[s.jsx(me,{children:s.jsxs(pe,{className:"flex items-center gap-2 text-lg",children:[s.jsx(k,{className:`h-5 w-5 ${E[N.type]}`}),N.title]})}),s.jsxs(ue,{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:N.description}),s.jsx(Q,{variant:"outline",size:"sm",className:"w-full",children:N.action})]})]},_)})}),s.jsxs(ie,{className:"border-2 hover:border-primary/30 transition-all",children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(Pi,{className:"h-5 w-5 text-purple-600"}),"Recomendações Inteligentes"]}),s.jsx(De,{children:"IA analisa seus dados e sugere melhorias"})]}),s.jsx(ue,{children:s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-950/20 dark:to-purple-950/20 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(W1,{className:"h-4 w-4 text-blue-600"}),s.jsx("span",{className:"font-medium text-blue-800 dark:text-blue-200",children:"Otimização de Horários"})]}),s.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 mb-3",children:"Sua equipe tem melhor performance entre 14h-16h. Considere aumentar o número de atendentes neste período."}),s.jsxs(Q,{size:"sm",variant:"outline",className:"border-blue-300 text-blue-700 hover:bg-blue-100",children:[s.jsx(qr,{className:"h-3 w-3 mr-1"}),"Configurar"]})]}),s.jsxs("div",{className:"p-4 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950/20 dark:to-emerald-950/20 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(DQ,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"font-medium text-green-800 dark:text-green-200",children:"Automação Sugerida"})]}),s.jsx("p",{className:"text-sm text-green-700 dark:text-green-300 mb-3",children:"73% das suas mensagens são perguntas frequentes. Configure respostas automáticas para melhorar eficiência."}),s.jsxs(Q,{size:"sm",variant:"outline",className:"border-green-300 text-green-700 hover:bg-green-100",children:[s.jsx(ma,{className:"h-3 w-3 mr-1"}),"Automatizar"]})]})]})})]})]}),s.jsx(dt,{value:"activity",className:"space-y-6",children:s.jsxs(ie,{className:"border-2 hover:border-primary/30 transition-all",children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(At,{className:"h-5 w-5 text-primary"}),"Atividade Recente"]}),s.jsx(De,{children:"Suas conversas e mensagens mais recentes"})]}),s.jsx(ue,{className:"pl-2",children:s.jsx("div",{className:"space-y-3",children:j?Array.from({length:6}).map((N,_)=>s.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg border",children:[s.jsx(yr,{className:"h-12 w-12 rounded-full"}),s.jsxs("div",{className:"flex-1",children:[s.jsx(yr,{className:"h-4 w-32 mb-2"}),s.jsx(yr,{className:"h-3 w-24"})]}),s.jsx(yr,{className:"h-6 w-20"})]},_)):w&&w.length>0?w.map(N=>{var _,k;return s.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg border hover:bg-accent/50 transition-colors",children:[s.jsx("div",{className:`h-12 w-12 rounded-full flex items-center justify-center ${N.status==="closed"?"bg-emerald-500/10":"bg-orange-500/10"}`,children:s.jsx(At,{className:`h-6 w-6 ${N.status==="closed"?"text-emerald-600":"text-orange-600"}`})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-semibold",children:((_=N.contacts)==null?void 0:_.full_name)||((k=N.contacts)==null?void 0:k.email)||"Sem nome"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:N.last_message_at?vc(new Date(N.last_message_at),{addSuffix:!0,locale:Yo}):"Sem mensagens"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Le,{variant:N.status==="closed"?"default":"secondary",className:N.status==="closed"?"bg-emerald-500/10 text-emerald-600":"bg-orange-500/10 text-orange-600",children:N.status==="open"?"aberto":"fechado"}),s.jsx(Q,{variant:"ghost",size:"sm",children:s.jsx(bQ,{className:"h-4 w-4"})})]})]},N.id)}):s.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"Nenhuma atividade recente encontrada"})})})]})})]})]})})]})}function Op(e,[t,r]){return Math.min(r,Math.max(t,e))}function sTe(e,t){return g.useReducer((r,n)=>t[r][n]??r,e)}var tO="ScrollArea",[Qq]=xn(tO),[iTe,Qa]=Qq(tO),Jq=g.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=g.useState(null),[u,d]=g.useState(null),[f,h]=g.useState(null),[m,v]=g.useState(null),[p,b]=g.useState(null),[x,y]=g.useState(0),[w,j]=g.useState(0),[N,_]=g.useState(!1),[k,O]=g.useState(!1),E=Ze(t,P=>c(P)),T=kf(a);return s.jsx(iTe,{scope:r,type:n,dir:T,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:v,scrollbarXEnabled:N,onScrollbarXEnabledChange:_,scrollbarY:p,onScrollbarYChange:b,scrollbarYEnabled:k,onScrollbarYEnabledChange:O,onCornerWidthChange:y,onCornerHeightChange:j,children:s.jsx(Ae.div,{dir:T,...o,ref:E,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});Jq.displayName=tO;var e9="ScrollAreaViewport",t9=g.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=e,o=Qa(e9,r),l=g.useRef(null),c=Ze(t,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(Ae.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});t9.displayName=e9;var gi="ScrollAreaScrollbar",rO=g.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Qa(gi,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return g.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?s.jsx(oTe,{...n,ref:t,forceMount:r}):a.type==="scroll"?s.jsx(lTe,{...n,ref:t,forceMount:r}):a.type==="auto"?s.jsx(r9,{...n,ref:t,forceMount:r}):a.type==="always"?s.jsx(nO,{...n,ref:t}):null});rO.displayName=gi;var oTe=g.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Qa(gi,e.__scopeScrollArea),[i,o]=g.useState(!1);return g.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(Jr,{present:r||i,children:s.jsx(r9,{"data-state":i?"visible":"hidden",...n,ref:t})})}),lTe=g.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Qa(gi,e.__scopeScrollArea),i=e.orientation==="horizontal",o=T0(()=>c("SCROLL_END"),100),[l,c]=sTe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return g.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),g.useEffect(()=>{const u=a.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const m=u[d];f!==m&&(c("SCROLL"),o()),f=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,i,c,o]),s.jsx(Jr,{present:r||l!=="hidden",children:s.jsx(nO,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:be(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:be(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),r9=g.forwardRef((e,t)=>{const r=Qa(gi,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,o]=g.useState(!1),l=e.orientation==="horizontal",c=T0(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return hf(r.viewport,c),hf(r.content,c),s.jsx(Jr,{present:n||i,children:s.jsx(nO,{"data-state":i?"visible":"hidden",...a,ref:t})})}),nO=g.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=Qa(gi,e.__scopeScrollArea),i=g.useRef(null),o=g.useRef(0),[l,c]=g.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=o9(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,m){return mTe(h,o.current,l,m)}return r==="horizontal"?s.jsx(cTe,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollLeft,m=J4(h,l,a.dir);i.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=f(h,a.dir))}}):r==="vertical"?s.jsx(uTe,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollTop,m=J4(h,l);i.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=f(h))}}):null}),cTe=g.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=Qa(gi,e.__scopeScrollArea),[o,l]=g.useState(),c=g.useRef(null),u=Ze(t,c,i.onScrollbarXChange);return g.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(a9,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":P0(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),c9(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Px(o.paddingLeft),paddingEnd:Px(o.paddingRight)}})}})}),uTe=g.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=Qa(gi,e.__scopeScrollArea),[o,l]=g.useState(),c=g.useRef(null),u=Ze(t,c,i.onScrollbarYChange);return g.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(a9,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":P0(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),c9(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Px(o.paddingTop),paddingEnd:Px(o.paddingBottom)}})}})}),[dTe,n9]=Qq(gi),a9=g.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,m=Qa(gi,r),[v,p]=g.useState(null),b=Ze(t,E=>p(E)),x=g.useRef(null),y=g.useRef(""),w=m.viewport,j=n.content-n.viewport,N=pr(d),_=pr(c),k=T0(f,10);function O(E){if(x.current){const T=E.clientX-x.current.left,P=E.clientY-x.current.top;u({x:T,y:P})}}return g.useEffect(()=>{const E=T=>{const P=T.target;v!=null&&v.contains(P)&&N(T,j)};return document.addEventListener("wheel",E,{passive:!1}),()=>document.removeEventListener("wheel",E,{passive:!1})},[w,v,j,N]),g.useEffect(_,[n,_]),hf(v,k),hf(m.content,k),s.jsx(dTe,{scope:r,scrollbar:v,hasThumb:a,onThumbChange:pr(i),onThumbPointerUp:pr(o),onThumbPositionChange:_,onThumbPointerDown:pr(l),children:s.jsx(Ae.div,{...h,ref:b,style:{position:"absolute",...h.style},onPointerDown:be(e.onPointerDown,E=>{E.button===0&&(E.target.setPointerCapture(E.pointerId),x.current=v.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),O(E))}),onPointerMove:be(e.onPointerMove,O),onPointerUp:be(e.onPointerUp,E=>{const T=E.target;T.hasPointerCapture(E.pointerId)&&T.releasePointerCapture(E.pointerId),document.body.style.webkitUserSelect=y.current,m.viewport&&(m.viewport.style.scrollBehavior=""),x.current=null})})})}),Ax="ScrollAreaThumb",s9=g.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=n9(Ax,e.__scopeScrollArea);return s.jsx(Jr,{present:r||a.hasThumb,children:s.jsx(fTe,{ref:t,...n})})}),fTe=g.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=Qa(Ax,r),o=n9(Ax,r),{onThumbPositionChange:l}=o,c=Ze(t,f=>o.onThumbChange(f)),u=g.useRef(void 0),d=T0(()=>{u.current&&(u.current(),u.current=void 0)},100);return g.useEffect(()=>{const f=i.viewport;if(f){const h=()=>{if(d(),!u.current){const m=pTe(f,l);u.current=m,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[i.viewport,d,l]),s.jsx(Ae.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:be(e.onPointerDownCapture,f=>{const h=f.target.getBoundingClientRect(),m=f.clientX-h.left,v=f.clientY-h.top;o.onThumbPointerDown({x:m,y:v})}),onPointerUp:be(e.onPointerUp,o.onThumbPointerUp)})});s9.displayName=Ax;var aO="ScrollAreaCorner",i9=g.forwardRef((e,t)=>{const r=Qa(aO,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(hTe,{...e,ref:t}):null});i9.displayName=aO;var hTe=g.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=Qa(aO,r),[i,o]=g.useState(0),[l,c]=g.useState(0),u=!!(i&&l);return hf(a.scrollbarX,()=>{var d;const f=((d=a.scrollbarX)==null?void 0:d.offsetHeight)||0;a.onCornerHeightChange(f),c(f)}),hf(a.scrollbarY,()=>{var d;const f=((d=a.scrollbarY)==null?void 0:d.offsetWidth)||0;a.onCornerWidthChange(f),o(f)}),u?s.jsx(Ae.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Px(e){return e?parseInt(e,10):0}function o9(e,t){const r=e/t;return isNaN(r)?0:r}function P0(e){const t=o9(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function mTe(e,t,r,n="ltr"){const a=P0(r),i=a/2,o=t||i,l=a-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return l9([c,u],f)(e)}function J4(e,t,r="ltr"){const n=P0(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],u=Op(e,c);return l9([0,o],[0,l])(u)}function l9(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function c9(e,t){return e>0&&e<t}var pTe=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function T0(e,t){const r=pr(e),n=g.useRef(0);return g.useEffect(()=>()=>window.clearTimeout(n.current),[]),g.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function hf(e,t){const r=pr(t);jr(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var u9=Jq,gTe=t9,vTe=i9;const tl=g.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(u9,{ref:n,className:ve("relative overflow-hidden",e),...r,children:[s.jsx(gTe,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(d9,{}),s.jsx(vTe,{})]}));tl.displayName=u9.displayName;const d9=g.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx(rO,{ref:n,orientation:t,className:ve("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(s9,{className:"relative flex-1 rounded-full bg-border"})}));d9.displayName=rO.displayName;function M0(e){const t=g.useRef({value:e,previous:e});return g.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var yTe=[" ","Enter","ArrowUp","ArrowDown"],xTe=[" ","Enter"],Fc="Select",[R0,I0,bTe]=Ip(Fc),[Zf]=xn(Fc,[bTe,bl]),D0=bl(),[wTe,Pl]=Zf(Fc),[jTe,NTe]=Zf(Fc),f9=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:v}=e,p=D0(t),[b,x]=g.useState(null),[y,w]=g.useState(null),[j,N]=g.useState(!1),_=kf(u),[k,O]=Ga({prop:n,defaultProp:a??!1,onChange:i,caller:Fc}),[E,T]=Ga({prop:o,defaultProp:l,onChange:c,caller:Fc}),P=g.useRef(null),S=b?v||!!b.closest("form"):!0,[R,M]=g.useState(new Set),B=Array.from(R).map(U=>U.props.value).join(";");return s.jsx(lb,{...p,children:s.jsxs(wTe,{required:m,scope:t,trigger:b,onTriggerChange:x,valueNode:y,onValueNodeChange:w,valueNodeHasChildren:j,onValueNodeHasChildrenChange:N,contentId:Qr(),value:E,onValueChange:T,open:k,onOpenChange:O,dir:_,triggerPointerDownPosRef:P,disabled:h,children:[s.jsx(R0.Provider,{scope:t,children:s.jsx(jTe,{scope:e.__scopeSelect,onNativeOptionAdd:g.useCallback(U=>{M(F=>new Set(F).add(U))},[]),onNativeOptionRemove:g.useCallback(U=>{M(F=>{const z=new Set(F);return z.delete(U),z})},[]),children:r})}),S?s.jsxs(D9,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:E,onChange:U=>T(U.target.value),disabled:h,form:v,children:[E===void 0?s.jsx("option",{value:""}):null,Array.from(R)]},B):null]})})};f9.displayName=Fc;var h9="SelectTrigger",m9=g.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=D0(r),o=Pl(h9,r),l=o.disabled||n,c=Ze(t,o.onTriggerChange),u=I0(r),d=g.useRef("touch"),[f,h,m]=z9(p=>{const b=u().filter(w=>!w.disabled),x=b.find(w=>w.value===o.value),y=F9(b,p,x);y!==void 0&&o.onValueChange(y.value)}),v=p=>{l||(o.onOpenChange(!0),m()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return s.jsx(Lp,{asChild:!0,...i,children:s.jsx(Ae.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":L9(o.value)?"":void 0,...a,ref:c,onClick:be(a.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&v(p)}),onPointerDown:be(a.onPointerDown,p=>{d.current=p.pointerType;const b=p.target;b.hasPointerCapture(p.pointerId)&&b.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(v(p),p.preventDefault())}),onKeyDown:be(a.onKeyDown,p=>{const b=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(b&&p.key===" ")&&yTe.includes(p.key)&&(v(),p.preventDefault())})})})});m9.displayName=h9;var p9="SelectValue",g9=g.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...l}=e,c=Pl(p9,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=Ze(t,c.onValueNodeChange);return jr(()=>{u(d)},[u,d]),s.jsx(Ae.span,{...l,ref:f,style:{pointerEvents:"none"},children:L9(c.value)?s.jsx(s.Fragment,{children:o}):i})});g9.displayName=p9;var _Te="SelectIcon",v9=g.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(Ae.span,{"aria-hidden":!0,...a,ref:t,children:n||"▼"})});v9.displayName=_Te;var kTe="SelectPortal",y9=e=>s.jsx(jf,{asChild:!0,...e});y9.displayName=kTe;var $c="SelectContent",x9=g.forwardRef((e,t)=>{const r=Pl($c,e.__scopeSelect),[n,a]=g.useState();if(jr(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?Wc.createPortal(s.jsx(b9,{scope:e.__scopeSelect,children:s.jsx(R0.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(w9,{...e,ref:t})});x9.displayName=$c;var os=10,[b9,Tl]=Zf($c),STe="SelectContentImpl",OTe=il("SelectContent.RemoveScroll"),w9=g.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:v,hideWhenDetached:p,avoidCollisions:b,...x}=e,y=Pl($c,r),[w,j]=g.useState(null),[N,_]=g.useState(null),k=Ze(t,V=>j(V)),[O,E]=g.useState(null),[T,P]=g.useState(null),S=I0(r),[R,M]=g.useState(!1),B=g.useRef(!1);g.useEffect(()=>{if(w)return hb(w)},[w]),db();const U=g.useCallback(V=>{const[de,...te]=S().map(ee=>ee.ref.current),[ce]=te.slice(-1),ne=document.activeElement;for(const ee of V)if(ee===ne||(ee==null||ee.scrollIntoView({block:"nearest"}),ee===de&&N&&(N.scrollTop=0),ee===ce&&N&&(N.scrollTop=N.scrollHeight),ee==null||ee.focus(),document.activeElement!==ne))return},[S,N]),F=g.useCallback(()=>U([O,w]),[U,O,w]);g.useEffect(()=>{R&&F()},[R,F]);const{onOpenChange:z,triggerPointerDownPosRef:I}=y;g.useEffect(()=>{if(w){let V={x:0,y:0};const de=ce=>{var ne,ee;V={x:Math.abs(Math.round(ce.pageX)-(((ne=I.current)==null?void 0:ne.x)??0)),y:Math.abs(Math.round(ce.pageY)-(((ee=I.current)==null?void 0:ee.y)??0))}},te=ce=>{V.x<=10&&V.y<=10?ce.preventDefault():w.contains(ce.target)||z(!1),document.removeEventListener("pointermove",de),I.current=null};return I.current!==null&&(document.addEventListener("pointermove",de),document.addEventListener("pointerup",te,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",de),document.removeEventListener("pointerup",te,{capture:!0})}}},[w,z,I]),g.useEffect(()=>{const V=()=>z(!1);return window.addEventListener("blur",V),window.addEventListener("resize",V),()=>{window.removeEventListener("blur",V),window.removeEventListener("resize",V)}},[z]);const[G,L]=z9(V=>{const de=S().filter(ne=>!ne.disabled),te=de.find(ne=>ne.ref.current===document.activeElement),ce=F9(de,V,te);ce&&setTimeout(()=>ce.ref.current.focus())}),$=g.useCallback((V,de,te)=>{const ce=!B.current&&!te;(y.value!==void 0&&y.value===de||ce)&&(E(V),ce&&(B.current=!0))},[y.value]),J=g.useCallback(()=>w==null?void 0:w.focus(),[w]),K=g.useCallback((V,de,te)=>{const ce=!B.current&&!te;(y.value!==void 0&&y.value===de||ce)&&P(V)},[y.value]),D=n==="popper"?G_:j9,oe=D===G_?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:v,hideWhenDetached:p,avoidCollisions:b}:{};return s.jsx(b9,{scope:r,content:w,viewport:N,onViewportChange:_,itemRefCallback:$,selectedItem:O,onItemLeave:J,itemTextRefCallback:K,focusSelectedItem:F,selectedItemText:T,position:n,isPositioned:R,searchRef:G,children:s.jsx(Fp,{as:OTe,allowPinchZoom:!0,children:s.jsx(zp,{asChild:!0,trapped:y.open,onMountAutoFocus:V=>{V.preventDefault()},onUnmountAutoFocus:be(a,V=>{var de;(de=y.trigger)==null||de.focus({preventScroll:!0}),V.preventDefault()}),children:s.jsx(Kc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:V=>V.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:s.jsx(D,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:V=>V.preventDefault(),...x,...oe,onPlaced:()=>M(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:be(x.onKeyDown,V=>{const de=V.ctrlKey||V.altKey||V.metaKey;if(V.key==="Tab"&&V.preventDefault(),!de&&V.key.length===1&&L(V.key),["ArrowUp","ArrowDown","Home","End"].includes(V.key)){let te=S().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);if(["ArrowUp","End"].includes(V.key)&&(te=te.slice().reverse()),["ArrowUp","ArrowDown"].includes(V.key)){const ce=V.target,ne=te.indexOf(ce);te=te.slice(ne+1)}setTimeout(()=>U(te)),V.preventDefault()}})})})})})})});w9.displayName=STe;var CTe="SelectItemAlignedPosition",j9=g.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=Pl($c,r),o=Tl($c,r),[l,c]=g.useState(null),[u,d]=g.useState(null),f=Ze(t,k=>d(k)),h=I0(r),m=g.useRef(!1),v=g.useRef(!0),{viewport:p,selectedItem:b,selectedItemText:x,focusSelectedItem:y}=o,w=g.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&p&&b&&x){const k=i.trigger.getBoundingClientRect(),O=u.getBoundingClientRect(),E=i.valueNode.getBoundingClientRect(),T=x.getBoundingClientRect();if(i.dir!=="rtl"){const ce=T.left-O.left,ne=E.left-ce,ee=k.left-ne,Be=k.width+ee,Ie=Math.max(Be,O.width),ut=window.innerWidth-os,it=Op(ne,[os,Math.max(os,ut-Ie)]);l.style.minWidth=Be+"px",l.style.left=it+"px"}else{const ce=O.right-T.right,ne=window.innerWidth-E.right-ce,ee=window.innerWidth-k.right-ne,Be=k.width+ee,Ie=Math.max(Be,O.width),ut=window.innerWidth-os,it=Op(ne,[os,Math.max(os,ut-Ie)]);l.style.minWidth=Be+"px",l.style.right=it+"px"}const P=h(),S=window.innerHeight-os*2,R=p.scrollHeight,M=window.getComputedStyle(u),B=parseInt(M.borderTopWidth,10),U=parseInt(M.paddingTop,10),F=parseInt(M.borderBottomWidth,10),z=parseInt(M.paddingBottom,10),I=B+U+R+z+F,G=Math.min(b.offsetHeight*5,I),L=window.getComputedStyle(p),$=parseInt(L.paddingTop,10),J=parseInt(L.paddingBottom,10),K=k.top+k.height/2-os,D=S-K,oe=b.offsetHeight/2,V=b.offsetTop+oe,de=B+U+V,te=I-de;if(de<=K){const ce=P.length>0&&b===P[P.length-1].ref.current;l.style.bottom="0px";const ne=u.clientHeight-p.offsetTop-p.offsetHeight,ee=Math.max(D,oe+(ce?J:0)+ne+F),Be=de+ee;l.style.height=Be+"px"}else{const ce=P.length>0&&b===P[0].ref.current;l.style.top="0px";const ne=Math.max(K,B+p.offsetTop+(ce?$:0)+oe)+te;l.style.height=ne+"px",p.scrollTop=de-K+p.offsetTop}l.style.margin=`${os}px 0`,l.style.minHeight=G+"px",l.style.maxHeight=S+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,i.trigger,i.valueNode,l,u,p,b,x,i.dir,n]);jr(()=>w(),[w]);const[j,N]=g.useState();jr(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const _=g.useCallback(k=>{k&&v.current===!0&&(w(),y==null||y(),v.current=!1)},[w,y]);return s.jsx(ATe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:_,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:s.jsx(Ae.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});j9.displayName=CTe;var ETe="SelectPopperPosition",G_=g.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=os,...i}=e,o=D0(r);return s.jsx(cb,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});G_.displayName=ETe;var[ATe,sO]=Zf($c,{}),Z_="SelectViewport",N9=g.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=Tl(Z_,r),o=sO(Z_,r),l=Ze(t,i.onViewportChange),c=g.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(R0.Slot,{scope:r,children:s.jsx(Ae.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:be(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const v=window.innerHeight-os*2,p=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),x=Math.max(p,b);if(x<v){const y=x+m,w=Math.min(v,y),j=y-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});N9.displayName=Z_;var _9="SelectGroup",[PTe,TTe]=Zf(_9),MTe=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Qr();return s.jsx(PTe,{scope:r,id:a,children:s.jsx(Ae.div,{role:"group","aria-labelledby":a,...n,ref:t})})});MTe.displayName=_9;var k9="SelectLabel",S9=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=TTe(k9,r);return s.jsx(Ae.div,{id:a.id,...n,ref:t})});S9.displayName=k9;var Tx="SelectItem",[RTe,O9]=Zf(Tx),C9=g.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,l=Pl(Tx,r),c=Tl(Tx,r),u=l.value===n,[d,f]=g.useState(i??""),[h,m]=g.useState(!1),v=Ze(t,y=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,y,n,a)}),p=Qr(),b=g.useRef("touch"),x=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(RTe,{scope:r,value:n,disabled:a,textId:p,isSelected:u,onItemTextChange:g.useCallback(y=>{f(w=>w||((y==null?void 0:y.textContent)??"").trim())},[]),children:s.jsx(R0.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:s.jsx(Ae.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:v,onFocus:be(o.onFocus,()=>m(!0)),onBlur:be(o.onBlur,()=>m(!1)),onClick:be(o.onClick,()=>{b.current!=="mouse"&&x()}),onPointerUp:be(o.onPointerUp,()=>{b.current==="mouse"&&x()}),onPointerDown:be(o.onPointerDown,y=>{b.current=y.pointerType}),onPointerMove:be(o.onPointerMove,y=>{var w;b.current=y.pointerType,a?(w=c.onItemLeave)==null||w.call(c):b.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:be(o.onPointerLeave,y=>{var w;y.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:be(o.onKeyDown,y=>{var w;((w=c.searchRef)==null?void 0:w.current)!==""&&y.key===" "||(xTe.includes(y.key)&&x(),y.key===" "&&y.preventDefault())})})})})});C9.displayName=Tx;var Bh="SelectItemText",E9=g.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=Pl(Bh,r),l=Tl(Bh,r),c=O9(Bh,r),u=NTe(Bh,r),[d,f]=g.useState(null),h=Ze(t,x=>f(x),c.onItemTextChange,x=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,x,c.value,c.disabled)}),m=d==null?void 0:d.textContent,v=g.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:b}=u;return jr(()=>(p(v),()=>b(v)),[p,b,v]),s.jsxs(s.Fragment,{children:[s.jsx(Ae.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Wc.createPortal(i.children,o.valueNode):null]})});E9.displayName=Bh;var A9="SelectItemIndicator",P9=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return O9(A9,r).isSelected?s.jsx(Ae.span,{"aria-hidden":!0,...n,ref:t}):null});P9.displayName=A9;var X_="SelectScrollUpButton",T9=g.forwardRef((e,t)=>{const r=Tl(X_,e.__scopeSelect),n=sO(X_,e.__scopeSelect),[a,i]=g.useState(!1),o=Ze(t,n.onScrollButtonChange);return jr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(R9,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});T9.displayName=X_;var Y_="SelectScrollDownButton",M9=g.forwardRef((e,t)=>{const r=Tl(Y_,e.__scopeSelect),n=sO(Y_,e.__scopeSelect),[a,i]=g.useState(!1),o=Ze(t,n.onScrollButtonChange);return jr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(R9,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});M9.displayName=Y_;var R9=g.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=Tl("SelectScrollButton",r),o=g.useRef(null),l=I0(r),c=g.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return g.useEffect(()=>()=>c(),[c]),jr(()=>{var u;const d=l().find(f=>f.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),s.jsx(Ae.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:be(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:be(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:be(a.onPointerLeave,()=>{c()})})}),ITe="SelectSeparator",I9=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(Ae.div,{"aria-hidden":!0,...n,ref:t})});I9.displayName=ITe;var Q_="SelectArrow",DTe=g.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=D0(r),i=Pl(Q_,r),o=Tl(Q_,r);return i.open&&o.position==="popper"?s.jsx(ub,{...a,...n,ref:t}):null});DTe.displayName=Q_;var LTe="SelectBubbleInput",D9=g.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=g.useRef(null),i=Ze(n,a),o=M0(t);return g.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&u){const d=new Event("change",{bubbles:!0});u.call(l,t),l.dispatchEvent(d)}},[o,t]),s.jsx(Ae.select,{...r,style:{...A6,...r.style},ref:i,defaultValue:t})});D9.displayName=LTe;function L9(e){return e===""||e===void 0}function z9(e){const t=pr(e),r=g.useRef(""),n=g.useRef(0),a=g.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=g.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function F9(e,t,r){const n=t.length>1&&Array.from(t).every(l=>l===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let i=zTe(e,Math.max(a,0));n.length===1&&(i=i.filter(l=>l!==r));const o=i.find(l=>l.textValue.toLowerCase().startsWith(n.toLowerCase()));return o!==r?o:void 0}function zTe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var FTe=f9,$9=m9,$Te=g9,qTe=v9,BTe=y9,q9=x9,UTe=N9,B9=S9,U9=C9,VTe=E9,WTe=P9,V9=T9,W9=M9,H9=I9;const ot=FTe,lt=$Te,nt=g.forwardRef(({className:e,children:t,...r},n)=>s.jsxs($9,{ref:n,className:ve("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(qTe,{asChild:!0,children:s.jsx(Q6,{className:"h-4 w-4 opacity-50"})})]}));nt.displayName=$9.displayName;const K9=g.forwardRef(({className:e,...t},r)=>s.jsx(V9,{ref:r,className:ve("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(vQ,{className:"h-4 w-4"})}));K9.displayName=V9.displayName;const G9=g.forwardRef(({className:e,...t},r)=>s.jsx(W9,{ref:r,className:ve("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Q6,{className:"h-4 w-4"})}));G9.displayName=W9.displayName;const at=g.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(BTe,{children:s.jsxs(q9,{ref:a,className:ve("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(K9,{}),s.jsx(UTe,{className:ve("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(G9,{})]})}));at.displayName=q9.displayName;const HTe=g.forwardRef(({className:e,...t},r)=>s.jsx(B9,{ref:r,className:ve("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));HTe.displayName=B9.displayName;const re=g.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(U9,{ref:n,className:ve("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(WTe,{children:s.jsx(Yi,{className:"h-4 w-4"})})}),s.jsx(VTe,{children:t})]}));re.displayName=U9.displayName;const KTe=g.forwardRef(({className:e,...t},r)=>s.jsx(H9,{ref:r,className:ve("-mx-1 my-1 h-px bg-muted",e),...t}));KTe.displayName=H9.displayName;var GTe="Label",Z9=g.forwardRef((e,t)=>s.jsx(Ae.label,{...e,ref:t,onMouseDown:r=>{var n;r.target.closest("button, input, select, textarea")||((n=e.onMouseDown)==null||n.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Z9.displayName=GTe;var X9=Z9;const ZTe=Yc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),fe=g.forwardRef(({className:e,...t},r)=>s.jsx(X9,{ref:r,className:ve(ZTe(),e),...t}));fe.displayName=X9.displayName;const iO=iZ,oO=oZ,XTe=g.forwardRef(({className:e,inset:t,children:r,...n},a)=>s.jsxs(Q3,{ref:a,className:ve("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...n,children:[r,s.jsx(gQ,{className:"ml-auto h-4 w-4"})]}));XTe.displayName=Q3.displayName;const YTe=g.forwardRef(({className:e,...t},r)=>s.jsx(J3,{ref:r,className:ve("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));YTe.displayName=J3.displayName;const L0=g.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(lZ,{children:s.jsx(W3,{ref:n,sideOffset:t,className:ve("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));L0.displayName=W3.displayName;const ps=g.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(K3,{ref:n,className:ve("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...r}));ps.displayName=K3.displayName;const QTe=g.forwardRef(({className:e,children:t,checked:r,...n},a)=>s.jsxs(G3,{ref:a,className:ve("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:r,...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(X3,{children:s.jsx(Yi,{className:"h-4 w-4"})})}),t]}));QTe.displayName=G3.displayName;const JTe=g.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(Z3,{ref:n,className:ve("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(X3,{children:s.jsx(xQ,{className:"h-2 w-2 fill-current"})})}),t]}));JTe.displayName=Z3.displayName;const eMe=g.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(H3,{ref:n,className:ve("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));eMe.displayName=H3.displayName;const tMe=g.forwardRef(({className:e,...t},r)=>s.jsx(Y3,{ref:r,className:ve("-mx-1 my-1 h-px bg-muted",e),...t}));tMe.displayName=Y3.displayName;const Gn=g.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:ve("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Gn.displayName="Textarea";function rMe(){var e,t,r,n,a,i,o,l,c,u;const{currentOrg:d}=bn(),[f,h]=g.useState([{id:"ai-1",name:"Assistente de Vendas",type:"vendas",status:"ativo"},{id:"ai-2",name:"Suporte Técnico",type:"suporte",status:"ativo"},{id:"ai-3",name:"Atendimento Geral",type:"atendimento",status:"ativo"}]),[m,v]=g.useState(""),[p,b]=g.useState(!1),[x,y]=g.useState(null),[w,j]=g.useState(!1),[N,_]=g.useState(""),[k,O]=g.useState(!1),[E,T]=g.useState(""),[P,S]=g.useState(!1),[R,M]=g.useState(""),[B,U]=g.useState(""),[F,z]=g.useState(""),[I,G]=g.useState(""),[L,$]=g.useState(""),[J,K]=g.useState(!1),[D,oe]=g.useState("all"),[V,de]=g.useState("all"),[te,ce]=g.useState("recent"),[ne,ee]=g.useState(new Set),[Be,Ie]=g.useState(new Set),[ut,it]=g.useState(new Set),[Xe,Y]=g.useState(!1),[q,Z]=g.useState(!1),[X,xe]=g.useState([]),[ye,we]=g.useState({}),[W,se]=g.useState(!1),[Se,mt]=g.useState(!1),[Vt,tr]=g.useState([]),[wn,dr]=g.useState(!1),[Wr,Tn]=g.useState(!1),[Ms,ra]=g.useState(!1),[Nt,Yf]=g.useState(null),[Wt,Tr]=g.useState(!1),[nu,vi]=g.useState(""),[tn,au]=g.useState({}),[Ve,vt]=g.useState(null),[It,Mn]=g.useState({}),[ln,es]=g.useState(new Set),[Mr,Rn]=g.useState([{id:"agent-1",name:"Ana Silva",email:"ana@empresa.com",avatar:"https://ui-avatars.com/api/?name=Ana+Silva&background=random",status:"online",workload:3,maxWorkload:10,skills:["vendas","suporte"],lastActive:new Date().toISOString()},{id:"agent-2",name:"Carlos Santos",email:"carlos@empresa.com",avatar:"https://ui-avatars.com/api/?name=Carlos+Santos&background=random",status:"busy",workload:7,maxWorkload:10,skills:["tecnico","suporte"],lastActive:new Date(Date.now()-3e5).toISOString()},{id:"agent-3",name:"Maria Oliveira",email:"maria@empresa.com",avatar:"https://ui-avatars.com/api/?name=Maria+Oliveira&background=random",status:"away",workload:2,maxWorkload:10,skills:["vendas","marketing"],lastActive:new Date(Date.now()-9e5).toISOString()},{id:"agent-4",name:"João Costa",email:"joao@empresa.com",avatar:"https://ui-avatars.com/api/?name=Joao+Costa&background=random",status:"offline",workload:0,maxWorkload:10,skills:["tecnico","vendas"],lastActive:new Date(Date.now()-36e5).toISOString()}]),[yi,pRe]=g.useState(null),[KB,jO]=g.useState(!1),[GB,NO]=g.useState({"mock-conv-1":"agent-1","mock-conv-2":"agent-2","mock-conv-3":"agent-1"}),{data:su=[],isLoading:_O,refetch:kO}=bt({queryKey:["inbox-conversations",d==null?void 0:d.id],queryFn:async()=>d?[{id:"mock-conv-1",contact_id:"mock-contact-1",status:"open",last_message_at:new Date().toISOString(),unreadCount:2,channel_type:"instagram",priority:"high",tags:["vip","marketing"],assigned_agent:"agent-1",contacts:{full_name:"João Silva",email:"joao@exemplo.com",phone_e164:"+5511999999999",external_id:"instagram_123456"}},{id:"mock-conv-2",contact_id:"mock-contact-2",status:"open",last_message_at:new Date(Date.now()-36e5).toISOString(),unreadCount:1,channel_type:"whatsapp",priority:"medium",tags:["suporte"],assigned_agent:"agent-2",contacts:{full_name:"Maria Santos",email:"maria@exemplo.com",phone_e164:"+5511888888888",external_id:"whatsapp_789012"}},{id:"mock-conv-3",contact_id:"mock-contact-3",status:"resolved",last_message_at:new Date(Date.now()-72e5).toISOString(),unreadCount:0,channel_type:"instagram",priority:"low",tags:["finalizado"],assigned_agent:"agent-1",contacts:{full_name:"Pedro Costa",email:"pedro@exemplo.com",phone_e164:"+5511777777777",external_id:"instagram_345678"}},{id:"mock-conv-4",contact_id:"mock-contact-4",status:"open",last_message_at:new Date(Date.now()-18e5).toISOString(),unreadCount:0,channel_type:"whatsapp",priority:"high",tags:["urgente","venda"],assigned_agent:null,contacts:{full_name:"Ana Oliveira",email:"ana@exemplo.com",phone_e164:"+5511666666666",external_id:"whatsapp_456789"}},{id:"mock-conv-5",contact_id:"mock-contact-5",status:"assigned",last_message_at:new Date(Date.now()-9e5).toISOString(),unreadCount:3,channel_type:"instagram",priority:"medium",tags:["dúvida"],contacts:{full_name:"Carlos Mendes",email:"carlos@exemplo.com",phone_e164:"+5511555555555",external_id:"instagram_567890"}}]:[],enabled:!!d}),{data:fg=[],isLoading:ZB,refetch:hg}=bt({queryKey:["conversation-messages",x==null?void 0:x.id],queryFn:async()=>x!=null&&x.id?{"mock-conv-1":[{id:"msg-1",conversation_id:"mock-conv-1",direction:"inbound",content:"Olá! Gostaria de saber mais sobre os serviços de vocês.",channel_type:"instagram",status:"delivered",created_at:new Date(Date.now()-3e5).toISOString(),metadata:{message_type:"text"}},{id:"msg-2",conversation_id:"mock-conv-1",direction:"outbound",content:"Olá João! Claro, ficarei feliz em ajudar. Que tipo de serviço você está procurando?",channel_type:"instagram",status:"delivered",created_at:new Date(Date.now()-24e4).toISOString(),metadata:{message_type:"text"}},{id:"msg-3",conversation_id:"mock-conv-1",direction:"inbound",content:"Preciso de ajuda com marketing digital para minha empresa.",channel_type:"instagram",status:"delivered",created_at:new Date(Date.now()-18e4).toISOString(),metadata:{message_type:"text"}}],"mock-conv-2":[{id:"msg-4",conversation_id:"mock-conv-2",direction:"inbound",content:"Bom dia! Vocês atendem por WhatsApp também?",channel_type:"whatsapp",status:"delivered",created_at:new Date(Date.now()-36e5).toISOString(),metadata:{message_type:"text"}},{id:"msg-5",conversation_id:"mock-conv-2",direction:"outbound",content:"Sim Maria! Atendemos por WhatsApp, Instagram e outros canais. Como posso ajudar?",channel_type:"whatsapp",status:"delivered",created_at:new Date(Date.now()-354e4).toISOString(),metadata:{message_type:"text"}},{id:"msg-6",conversation_id:"mock-conv-2",direction:"inbound",content:"Perfeito! Enviei um documento com minha dúvida.",channel_type:"whatsapp",status:"delivered",created_at:new Date(Date.now()-348e4).toISOString(),metadata:{message_type:"document"}}],"mock-conv-3":[{id:"msg-7",conversation_id:"mock-conv-3",direction:"inbound",content:"Obrigado pelo atendimento! Foi muito útil.",channel_type:"instagram",status:"delivered",created_at:new Date(Date.now()-72e5).toISOString(),metadata:{message_type:"text"}},{id:"msg-8",conversation_id:"mock-conv-3",direction:"outbound",content:"De nada Pedro! Foi um prazer ajudar. Qualquer dúvida, estamos aqui! 😊",channel_type:"instagram",status:"delivered",created_at:new Date(Date.now()-714e4).toISOString(),metadata:{message_type:"text"}},{id:"msg-audio-1",conversation_id:"mock-conv-3",direction:"outbound",content:"",channel_type:"whatsapp",status:"delivered",created_at:new Date(Date.now()-18e5).toISOString(),metadata:{message_type:"audio"}},{id:"msg-video-1",conversation_id:"mock-conv-3",direction:"inbound",content:"",channel_type:"instagram",status:"delivered",created_at:new Date(Date.now()-9e5).toISOString(),metadata:{message_type:"video"}}]}[x.id]||[]:[],enabled:!!(x!=null&&x.id)}),{data:SO=[],isLoading:XB}=bt({queryKey:["contacts",R,d==null?void 0:d.id],queryFn:async()=>{if(!d)return[];let A=le.from("contacts").select("id, full_name, email, phone_e164").eq("org_id",d.id).order("full_name",{ascending:!0}).limit(10);R&&(A=A.or(`full_name.ilike.%${R}%,email.ilike.%${R}%`));const{data:ge,error:Oe}=await A;if(Oe)throw Oe;return ge},enabled:P}),YB=A=>{ee(ge=>{const Oe=new Set(ge);return Oe.has(A)?Oe.delete(A):Oe.add(A),Oe})},QB=A=>{Ie(ge=>{const Oe=new Set(ge);return Oe.has(A)?Oe.delete(A):Oe.add(A),Oe})},JB=A=>{ae.success("Conversa arquivada!")},e7=A=>{ae.success("Conversa excluída!")},OO=A=>{navigator.clipboard.writeText(A),ae.success("Mensagem copiada!")},CO=A=>{ae.success("Funcionalidade de resposta em desenvolvimento!")},EO=A=>{ae.success("Funcionalidade de encaminhamento em desenvolvimento!")},t7=A=>{switch(A){case"instagram":return"📷";case"whatsapp":return"📱";case"facebook":return"📘";default:return"💬"}},AO=A=>{if(!A)return;const ge=Array.from(A).filter(Oe=>Oe.size>10485760?(ae.error(`Arquivo ${Oe.name} é muito grande (máximo 10MB)`),!1):!0);ge.length>0&&(xe(Oe=>[...Oe,...ge]),se(!0))},r7=A=>{A.preventDefault(),mt(!0)},n7=A=>{A.preventDefault(),mt(!1)},a7=A=>{A.preventDefault(),mt(!1),AO(A.dataTransfer.files)},s7=A=>{xe(ge=>ge.filter((Oe,Ce)=>Ce!==A)),X.length===1&&se(!1)},PO=A=>{switch(A.type.split("/")[0]){case"image":return"image";case"audio":return"audio";case"video":return"video";default:return A.type.includes("pdf")||A.type.includes("document")||A.type.includes("text")?"document":"file"}},V0=A=>{switch(PO(A)){case"image":return"🖼️";case"audio":return"🎵";case"video":return"🎬";case"document":return"📄";default:return"📎"}},i7=A=>{if(A===0)return"0 Bytes";const ge=1024,Oe=["Bytes","KB","MB","GB"],Ce=Math.floor(Math.log(A)/Math.log(ge));return parseFloat((A/Math.pow(ge,Ce)).toFixed(2))+" "+Oe[Ce]},o7=async A=>{const ge=Math.random().toString(36).substr(2,9);for(let Ce=0;Ce<=100;Ce+=10)await new Promise(rt=>setTimeout(rt,100)),we(rt=>({...rt,[ge]:Ce}));const Oe=URL.createObjectURL(A);return xe(Ce=>Ce.filter(rt=>rt!==A)),delete ye[ge],{url:Oe,type:PO(A),name:A.name,size:A.size}},l7=async()=>{if(!(!x||X.length===0)){O(!0);try{const A=X.map(rt=>o7(rt)),ge=await Promise.all(A),Oe=ge.map(rt=>`${V0({name:rt.name,type:rt.type})} ${rt.name}`).join(`
`),{error:Ce}=await le.from("messages").insert({conversation_id:x.id,org_id:x.contact_id,direction:"outbound",body:Oe,metadata:{message_type:"files",files:ge}});if(Ce)throw Ce;xe([]),se(!1),hg(),ae.success(`${ge.length} arquivo(s) enviado(s) com sucesso!`)}catch(A){console.error("Error:",A),ae.error("Erro ao enviar arquivos")}finally{O(!1)}}},c7=async()=>{if(!x||fg.length===0){ae.error("Selecione uma conversa com mensagens para gerar sugestões");return}Tn(!0);try{const A=fg.slice(-3),ge=A[A.length-1];await new Promise(Ce=>setTimeout(Ce,1500));let Oe=[];if((ge==null?void 0:ge.direction)==="inbound"){const Ce=ge.content.toLowerCase();Ce.includes("preço")||Ce.includes("valor")||Ce.includes("custo")?Oe=["Olá! Posso ajudá-lo com informações sobre nossos preços. Qual produto ou serviço você tem interesse?","Temos diferentes planos disponíveis. Gostaria de conhecer nossas opções?","Posso enviar nossa tabela de preços atualizada. Qual seu e-mail?"]:Ce.includes("horário")||Ce.includes("funcionamento")||Ce.includes("aberto")?Oe=["Nosso horário de funcionamento é de segunda a sexta, das 8h às 18h.","Estamos abertos de segunda a sexta das 8h às 18h. Como posso ajudá-lo?","Funcionamos de segunda a sexta, das 8h às 18h. Precisa de algo específico?"]:Ce.includes("contato")||Ce.includes("telefone")||Ce.includes("endereço")?Oe=["Posso passar nossos contatos. Telefone: (11) 99999-9999 e e-mail: contato@empresa.com","Nosso telefone é (11) 99999-9999. Prefere falar agora?","Nosso endereço é Rua Exemplo, 123. Posso enviar no WhatsApp!"]:Ce.includes("produto")||Ce.includes("serviço")?Oe=["Temos uma variedade de produtos/serviços. Qual área você tem interesse?","Posso apresentar nossos principais produtos. O que você busca?","Temos soluções personalizadas. Me conte mais sobre sua necessidade!"]:Oe=["Olá! Como posso ajudá-lo hoje?","Obrigado pelo contato! Em que posso ser útil?","Olá! Temos soluções que podem te interessar. Vamos conversar?"]}else Oe=["Posso ajudar com mais alguma coisa?","Tem alguma outra dúvida?","Fico à disposição para mais informações!"];tr(Oe),dr(!0)}catch(A){console.error("Error generating AI suggestions:",A),ae.error("Erro ao gerar sugestões da IA")}finally{Tn(!1)}},u7=A=>{_(A),dr(!1)},TO=A=>{vi(A),Tr(!0)},d7=()=>{Tr(!1),vi("")},Qf=(A,ge)=>{{const Oe=["https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=300&h=200&fit=crop","https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=300&h=200&fit=crop","https://images.unsplash.com/photo-1494790108755-2616b612b786?w=300&h=200&fit=crop","https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=300&h=200&fit=crop","https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=300&h=200&fit=crop"];return Oe[Math.abs(A.split("").reduce((Ce,rt)=>Ce+rt.charCodeAt(0),0))%Oe.length]}},f7=(A,ge)=>"https://www.soundjay.com/misc/sounds/bell-ringing-05.wav",MO=async A=>{if(!tn[A]){const ge=f7();au(Oe=>({...Oe,[A]:ge}))}if(Ve&&Ve!==A){const ge=document.getElementById(`audio-${Ve}`);ge&&(ge.pause(),ge.currentTime=0)}vt(A),setTimeout(()=>{const ge=document.getElementById(`audio-${A}`);ge&&ge.play().catch(Oe=>{console.error("Erro ao reproduzir áudio:",Oe),ae.error("Erro ao reproduzir áudio")})},100)},RO=A=>{const ge=document.getElementById(`audio-${A}`);ge&&ge.pause(),vt(null)},IO=A=>{vt(null),Mn(ge=>({...ge,[A]:0}))},DO=(A,ge,Oe)=>{const Ce=ge/Oe*100;Mn(rt=>({...rt,[A]:Ce}))},LO=async(A,ge,Oe)=>{es(Ce=>new Set(Ce).add(Oe));try{await new Promise(rt=>setTimeout(rt,1e3));const Ce=document.createElement("a");Ce.href=A,Ce.download=ge,Ce.target="_blank",document.body.appendChild(Ce),Ce.click(),document.body.removeChild(Ce),ae.success(`Download iniciado: ${ge}`)}catch(Ce){console.error("Erro ao baixar arquivo:",Ce),ae.error("Erro ao baixar arquivo")}finally{es(Ce=>{const rt=new Set(Ce);return rt.delete(Oe),rt})}},mg=(A,ge,Oe)=>({document:"https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf",video:"https://sample-videos.com/zip/10/mp4/SampleVideo_1280x720_1mb.mp4",audio:"https://www.soundjay.com/misc/sounds/bell-ringing-05.wav",image:Qf(A)||"/placeholder.svg"})[ge]||"/placeholder.svg",iu=A=>{var ge;return((ge=A.split(".").pop())==null?void 0:ge.toLowerCase())||""},zO=(A,ge)=>A==="image"?"🖼️":A==="audio"?"🎵":A==="video"?"🎥":A==="document"?"📄":"📎",FO=(A,ge)=>{var Oe;NO(Ce=>({...Ce,[A]:ge})),Rn(Ce=>Ce.map(rt=>rt.id===ge?{...rt,workload:Math.min(rt.workload+1,rt.maxWorkload)}:rt)),ae.success(`Conversa atribuída para ${(Oe=Mr.find(Ce=>Ce.id===ge))==null?void 0:Oe.name}`)},h7=A=>{const ge=GB[A];ge&&(NO(Oe=>{const Ce={...Oe};return delete Ce[A],Ce}),Rn(Oe=>Oe.map(Ce=>Ce.id===ge?{...Ce,workload:Math.max(Ce.workload-1,0)}:Ce)),ae.success("Conversa desatribuída"))},m7=()=>Mr.filter(A=>A.status==="online"&&A.workload<A.maxWorkload),$O=A=>Mr.find(ge=>ge.id===A),W0=A=>{switch(A){case"online":return"bg-green-500";case"busy":return"bg-yellow-500";case"away":return"bg-orange-500";case"offline":return"bg-gray-400";default:return"bg-gray-400"}},p7=A=>{switch(A){case"online":return"Online";case"busy":return"Ocupado";case"away":return"Ausente";case"offline":return"Offline";default:return"Desconhecido"}},qO=A=>{const ge=m7();if(ge.length>0){const Oe=ge.reduce((Ce,rt)=>Ce.workload<rt.workload?Ce:rt);FO(A,Oe.id)}else ae.error("Nenhum atendente disponível no momento")},g7=async()=>{var A,ge,Oe,Ce,rt;if(x){ra(!0);try{await new Promise(Nr=>setTimeout(Nr,800));const Ca={id:x.contact_id,full_name:((A=x.contacts)==null?void 0:A.full_name)||"Contato",email:((ge=x.contacts)==null?void 0:ge.email)||"email@exemplo.com",phone:((Oe=x.contacts)==null?void 0:Oe.phone_e164)||"+5511999999999",avatar:`https://ui-avatars.com/api/?name=${encodeURIComponent(((Ce=x.contacts)==null?void 0:Ce.full_name)||"Contato")}&background=random`,external_id:((rt=x.contacts)==null?void 0:rt.external_id)||"instagram_123456",tags:x.tags||[],status:x.status,priority:x.priority,channel_type:x.channel_type,first_contact:"2024-01-15T10:30:00Z",last_activity:x.last_message_at,total_messages:Math.floor(Math.random()*100)+10,response_rate:Math.floor(Math.random()*40)+60,avg_response_time:Math.floor(Math.random()*60)+5,notes:["Cliente interessado em produtos premium","Prefere ser contatado no período da tarde","Possível lead qualificado para vendas"],activities:[{type:"message",description:"Enviou mensagem sobre preços",date:"2024-01-20T14:30:00Z"},{type:"call",description:"Ligação telefônica realizada",date:"2024-01-18T16:45:00Z"},{type:"email",description:"E-mail enviado com catálogo",date:"2024-01-16T09:15:00Z"}]};Yf(Ca)}catch(Ca){console.error("Error loading contact profile:",Ca),ae.error("Erro ao carregar perfil do contato")}}},BO=su.filter(A=>{var ge,Oe,Ce,rt;return!(D!=="all"&&A.status!==D||V!=="all"&&A.channel_type!==V||D==="archived"&&A.status!=="archived"||D!=="archived"&&D!=="all"&&A.status==="archived"||E&&!((Oe=(ge=A.contacts)==null?void 0:ge.full_name)!=null&&Oe.toLowerCase().includes(E.toLowerCase())||(rt=(Ce=A.contacts)==null?void 0:Ce.email)!=null&&rt.toLowerCase().includes(E.toLowerCase())))}).sort((A,ge)=>{switch(te){case"recent":return new Date(ge.last_message_at).getTime()-new Date(A.last_message_at).getTime();case"unread":return(ge.unreadCount||0)-(A.unreadCount||0);case"priority":const Oe={high:3,medium:2,low:1};return(Oe[ge.priority]||0)-(Oe[A.priority]||0);default:return 0}});g.useEffect(()=>{v7()},[]),g.useEffect(()=>{su.length>0&&!x&&y(su[0])},[su]);const v7=async()=>{try{const{data:A,error:ge}=await le.from("ai_agents").select("id, name, type, status").eq("status","ativo").order("name");if(ge)throw ge;h(A||[])}catch(A){console.error("Error loading agents:",A)}},y7=A=>{y(A),j(!1)},x7=async()=>{if(!m||!x){ae.error("Selecione um agente");return}b(!0);try{const{error:A}=await le.from("agent_conversations").insert({agent_id:m,contact_id:x.contact_id,status:"active"});if(A)throw A;j(!0),ae.success("Conversa transferida para o agente de IA!");const ge=Mr.find(Oe=>Oe.id===m);ge&&(await le.from("messages").insert({conversation_id:x.id,org_id:x.contact_id,direction:"outbound",body:`Olá! Sou ${ge.name}, agente de IA. Como posso ajudá-lo?`}),hg())}catch(A){console.error("Error:",A),ae.error("Erro ao transferir conversa")}finally{b(!1)}},UO=async()=>{if(!(!N.trim()||!x)){O(!0);try{const{error:A}=await le.from("messages").insert({conversation_id:x.id,org_id:x.contact_id,direction:"outbound",body:N});if(A)throw A;if(_(""),hg(),ae.success("Mensagem enviada!"),w&&m){const{data:ge,error:Oe}=await le.functions.invoke("ai-agent-chat",{body:{agentId:m,message:N,conversationId:x.id}});!Oe&&ge!=null&&ge.response&&(await le.from("messages").insert({conversation_id:x.id,org_id:x.contact_id,direction:"inbound",body:ge.response}),hg())}}catch(A){console.error("Error:",A),ae.error("Erro ao enviar mensagem")}finally{O(!1)}}},b7=async()=>{K(!0);try{const{data:{user:A}}=await le.auth.getUser();if(!A){ae.error("Usuário não autenticado");return}let ge=L;if(!d){ae.error("Nenhuma organização selecionada");return}if(!ge&&(B||F||I)){const{data:rt,error:Ca}=await le.from("contacts").insert({org_id:d.id,full_name:B||null,email:F||null,phone_e164:I||null}).select().single();if(Ca)throw Ca;ge=rt.id}if(!ge){ae.error("Selecione ou crie um contato");return}const{data:Oe,error:Ce}=await le.from("conversations").insert({org_id:d.id,contact_id:ge,status:"open"}).select(`
          id,
          contact_id,
          status,
          last_message_at,
          contacts (
            full_name,
            email
          )
        `).single();if(Ce)throw Ce;ae.success("Nova conversa criada!"),S(!1),$(""),U(""),z(""),G(""),M(""),kO(),y(Oe)}catch(A){console.error("Error creating conversation:",A),ae.error("Erro ao criar conversa")}finally{K(!1)}};return s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:s.jsx("div",{className:"flex h-16 items-center px-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(At,{className:"h-5 w-5 text-muted-foreground"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Sistema"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"/"}),s.jsx("span",{className:"text-sm font-medium",children:"Inbox"})]})})}),s.jsx("div",{className:"flex-1 overflow-auto",children:s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Inbox"}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("p",{className:"text-muted-foreground",children:"Gerencie suas conversas e mensagens"}),s.jsxs(Le,{variant:"outline",className:"text-xs",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse"}),"Tempo real"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Q,{variant:"outline",size:"sm",onClick:()=>jO(!0),children:[s.jsx(ir,{className:"h-4 w-4 mr-2"}),"Atendentes"]}),s.jsxs(Q,{variant:"outline",size:"sm",onClick:()=>kO(),children:[s.jsx(Qn,{className:"h-4 w-4 mr-2"}),"Atualizar"]}),s.jsxs(Q,{onClick:()=>S(!0),children:[s.jsx(wr,{className:"mr-2 h-4 w-4"}),"Nova Mensagem"]})]})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[s.jsxs(ie,{className:"relative overflow-hidden border-2 hover:border-primary/50 transition-all duration-300 hover:shadow-lg group",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-blue-500/5 to-transparent rounded-full -mr-16 -mt-16 group-hover:scale-110 transition-transform"}),s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium text-muted-foreground",children:"Total de Conversas"}),s.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-500/10 flex items-center justify-center group-hover:bg-blue-500/20 transition-colors",children:s.jsx(At,{className:"h-5 w-5 text-blue-600"})})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-3xl font-bold tracking-tight",children:su.length}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Conversas ativas"})]})]}),s.jsxs(ie,{className:"relative overflow-hidden border-2 hover:border-primary/50 transition-all duration-300 hover:shadow-lg group",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-red-500/5 to-transparent rounded-full -mr-16 -mt-16 group-hover:scale-110 transition-transform"}),s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium text-muted-foreground",children:"Não Lidas"}),s.jsx("div",{className:"h-10 w-10 rounded-full bg-red-500/10 flex items-center justify-center group-hover:bg-red-500/20 transition-colors",children:s.jsx(Ed,{className:"h-5 w-5 text-red-600"})})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-3xl font-bold tracking-tight",children:su.reduce((A,ge)=>A+(ge.unreadCount||0),0)}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Mensagens pendentes"})]})]}),s.jsxs(ie,{className:"relative overflow-hidden border-2 hover:border-primary/50 transition-all duration-300 hover:shadow-lg group",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-green-500/5 to-transparent rounded-full -mr-16 -mt-16 group-hover:scale-110 transition-transform"}),s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium text-muted-foreground",children:"Atendentes Online"}),s.jsx("div",{className:"h-10 w-10 rounded-full bg-green-500/10 flex items-center justify-center group-hover:bg-green-500/20 transition-colors",children:s.jsx(ir,{className:"h-5 w-5 text-green-600"})})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-3xl font-bold tracking-tight",children:Mr.filter(A=>A.status==="online").length}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Disponíveis agora"})]})]}),s.jsxs(ie,{className:"relative overflow-hidden border-2 hover:border-primary/50 transition-all duration-300 hover:shadow-lg group",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-purple-500/5 to-transparent rounded-full -mr-16 -mt-16 group-hover:scale-110 transition-transform"}),s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium text-muted-foreground",children:"Taxa de Resposta"}),s.jsx("div",{className:"h-10 w-10 rounded-full bg-purple-500/10 flex items-center justify-center group-hover:bg-purple-500/20 transition-colors",children:s.jsx(ks,{className:"h-5 w-5 text-purple-600"})})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-3xl font-bold tracking-tight",children:"85%"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Conversas respondidas"})]})]})]}),s.jsxs("div",{className:"grid gap-6 lg:grid-cols-3 h-[calc(100vh-200px)]",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsxs(ie,{className:"border-2 hover:border-primary/30 transition-all shadow-lg h-full flex flex-col",children:[s.jsxs(me,{className:"flex-shrink-0",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(At,{className:"h-5 w-5 text-primary"}),"Conversas ",_O&&s.jsx(gt,{className:"inline h-4 w-4 animate-spin ml-2"})]}),s.jsx(De,{className:"mt-1",children:"Gerencie suas conversas ativas"})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("div",{className:"relative",children:[s.jsx(qa,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(qe,{placeholder:"Buscar...",className:"pl-9 w-48",value:E,onChange:A=>T(A.target.value)})]})})]}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsxs(ot,{value:D,onValueChange:oe,children:[s.jsx(nt,{className:"w-28",children:s.jsx(lt,{placeholder:"Status"})}),s.jsxs(at,{children:[s.jsx(re,{value:"all",children:"Todas"}),s.jsx(re,{value:"open",children:"Abertas"}),s.jsx(re,{value:"resolved",children:"Resolvidas"}),s.jsx(re,{value:"closed",children:"Fechadas"})]})]}),s.jsxs(ot,{value:V,onValueChange:de,children:[s.jsx(nt,{className:"w-28",children:s.jsx(lt,{placeholder:"Canal"})}),s.jsxs(at,{children:[s.jsx(re,{value:"all",children:"Todos"}),s.jsx(re,{value:"whatsapp",children:"WhatsApp"}),s.jsx(re,{value:"instagram",children:"Instagram"}),s.jsx(re,{value:"facebook",children:"Facebook"})]})]}),s.jsxs(ot,{value:te,onValueChange:ce,children:[s.jsx(nt,{className:"w-28",children:s.jsx(lt,{placeholder:"Ordenar"})}),s.jsxs(at,{children:[s.jsx(re,{value:"recent",children:"Recentes"}),s.jsx(re,{value:"unread",children:"Não lidas"}),s.jsx(re,{value:"priority",children:"Prioridade"})]})]})]})]}),s.jsx(ue,{className:"p-0 flex-1 overflow-hidden",children:s.jsx(tl,{className:"h-full",children:s.jsx("div",{className:"space-y-1 p-4",children:_O?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(gt,{className:"h-8 w-8 animate-spin text-primary"})}):BO.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(At,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"Nenhuma conversa encontrada"})]}):BO.map(A=>{var ge,Oe,Ce,rt,Ca,Nr,In,VO;return s.jsxs("div",{onClick:()=>y7(A),className:`relative flex items-start gap-3 p-3 rounded-lg border hover:bg-accent/50 cursor-pointer transition-all group ${(x==null?void 0:x.id)===A.id?"bg-accent border-primary shadow-md":""}`,children:[A.priority==="high"&&s.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-red-500 rounded-l-lg"}),s.jsx("div",{className:"h-8 w-8 rounded-full bg-primary flex items-center justify-center text-white font-semibold text-sm",children:(((ge=A.contacts)==null?void 0:ge.full_name)||((Oe=A.contacts)==null?void 0:Oe.email)||"?").charAt(0).toUpperCase()}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between mb-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-sm font-semibold truncate",children:((Ce=A.contacts)==null?void 0:Ce.full_name)||((rt=A.contacts)==null?void 0:rt.email)||"Sem nome"}),A.assigned_agent&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${W0(((Ca=$O(A.assigned_agent))==null?void 0:Ca.status)||"offline")}`}),s.jsx("span",{className:"text-xs text-muted-foreground",children:(Nr=$O(A.assigned_agent))==null?void 0:Nr.name})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[A.unreadCount&&A.unreadCount>0&&s.jsx(Le,{variant:"destructive",className:"h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs",children:A.unreadCount>9?"9+":A.unreadCount}),s.jsxs(iO,{children:[s.jsx(oO,{asChild:!0,children:s.jsx(Q,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 opacity-0 group-hover:opacity-100",children:s.jsx(RS,{className:"h-3 w-3"})})}),s.jsxs(L0,{align:"end",children:[s.jsx(ps,{onClick:ts=>{ts.stopPropagation(),YB(A.id)},children:ne.has(A.id)?s.jsxs(s.Fragment,{children:[s.jsx(LQ,{className:"h-4 w-4 mr-2"}),"Remover dos favoritos"]}):s.jsxs(s.Fragment,{children:[s.jsx(Lm,{className:"h-4 w-4 mr-2"}),"Adicionar aos favoritos"]})}),s.jsx(ps,{onClick:ts=>{ts.stopPropagation(),QB(A.id)},children:Be.has(A.id)?s.jsxs(s.Fragment,{children:[s.jsx(MQ,{className:"h-4 w-4 mr-2"}),"Desafixar"]}):s.jsxs(s.Fragment,{children:[s.jsx(ZE,{className:"h-4 w-4 mr-2"}),"Fixar"]})}),s.jsxs(ps,{onClick:ts=>{ts.stopPropagation(),JB(A.id)},children:[s.jsx(mQ,{className:"h-4 w-4 mr-2"}),"Arquivar"]}),A.assigned_agent?s.jsxs(ps,{onClick:ts=>{ts.stopPropagation(),h7(A.id)},children:[s.jsx(qi,{className:"h-4 w-4 mr-2"}),"Desatribuir"]}):s.jsxs(ps,{onClick:ts=>{ts.stopPropagation(),qO(A.id)},children:[s.jsx(qi,{className:"h-4 w-4 mr-2"}),"Atribuir Atendente"]}),s.jsxs(ps,{onClick:ts=>{ts.stopPropagation(),e7(A.id)},className:"text-red-600",children:[s.jsx(no,{className:"h-4 w-4 mr-2"}),"Excluir"]})]})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-muted-foreground truncate",children:((In=A.contacts)==null?void 0:In.email)||((VO=A.contacts)==null?void 0:VO.phone_e164)}),s.jsx("span",{className:"text-xs text-muted-foreground",children:A.last_message_at?vc(new Date(A.last_message_at),{addSuffix:!0,locale:Yo}):"Agora"})]})]})]},A.id)})})})})]})}),s.jsx("div",{className:"lg:col-span-2",children:s.jsxs(ie,{className:"border-2 hover:border-primary/30 transition-all shadow-lg h-full flex flex-col",children:[s.jsx(me,{className:"border-b space-y-4 flex-shrink-0",children:x?s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-primary flex items-center justify-center text-white font-semibold text-lg",children:(((e=x.contacts)==null?void 0:e.full_name)||((t=x.contacts)==null?void 0:t.email)||"?").charAt(0).toUpperCase()}),s.jsx("div",{className:"absolute -bottom-1 -right-1 bg-background rounded-full p-1",children:s.jsx("span",{className:"text-lg",children:t7(x.channel_type)})})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pe,{children:((r=x.contacts)==null?void 0:r.full_name)||((n=x.contacts)==null?void 0:n.email)||"Sem nome"}),s.jsx(Q,{variant:"ghost",size:"sm",onClick:g7,disabled:!x,className:"h-6 w-6 p-0 ml-1",title:"Ver perfil do contato",children:s.jsx(qi,{className:"h-3 w-3"})}),ne.has(x.id)&&s.jsx(Lm,{className:"h-4 w-4 text-yellow-500 fill-yellow-500"}),Be.has(x.id)&&s.jsx(ZE,{className:"h-4 w-4 text-blue-500"})]}),s.jsxs(De,{className:"flex items-center gap-2",children:[w?s.jsxs(s.Fragment,{children:[s.jsx(mn,{className:"h-3 w-3 text-purple-500"}),s.jsx("span",{className:"text-purple-500",children:"Atendido por IA"})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-emerald-500 animate-pulse"}),(a=x.contacts)==null?void 0:a.email]}),s.jsx("span",{className:"text-xs bg-muted px-2 py-1 rounded-full",children:x.channel_type==="instagram"?"Instagram":"WhatsApp"})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(ot,{value:m,onValueChange:v,children:[s.jsx(nt,{className:"w-[160px] h-7 text-xs",children:s.jsx(lt,{placeholder:"Transferir para..."})}),s.jsxs(at,{children:[s.jsx(re,{value:"auto",children:"🤖 IA Automática"}),s.jsx("div",{className:"px-2 py-1.5 text-xs font-semibold text-muted-foreground border-b",children:"Agentes de IA"}),f.map(A=>s.jsx(re,{value:`ai-${A.id}`,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(mn,{className:"h-3 w-3 text-blue-600"}),A.name]})},A.id)),s.jsx("div",{className:"px-2 py-1.5 text-xs font-semibold text-muted-foreground border-b mt-2",children:"Atendentes Humanos"}),Mr.filter(A=>A.status==="online").map(A=>s.jsx(re,{value:A.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${W0(A.status)}`}),A.name]})},A.id))]})]}),s.jsx(Q,{onClick:()=>{m==="auto"?qO((x==null?void 0:x.id)||""):m.startsWith("ai-")?x7():FO((x==null?void 0:x.id)||"",m)},disabled:p||!m||!x,size:"sm",className:"h-7 px-2 text-xs bg-gradient-to-r from-blue-600 to-blue-700 hover:opacity-90",children:p?s.jsx(gt,{className:"h-3 w-3 animate-spin"}):s.jsx(Eb,{className:"h-3 w-3"})})]})})]})}):s.jsx("div",{className:"text-center text-muted-foreground",children:"Selecione uma conversa"})}),s.jsxs(ue,{className:"p-6 flex-1 flex flex-col overflow-hidden",children:[s.jsx(tl,{className:"flex-1 mb-4",children:s.jsx("div",{className:"space-y-4",children:ZB?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(gt,{className:"h-8 w-8 animate-spin text-primary"})}):fg.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(At,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"Nenhuma mensagem ainda"})]}):fg.map(A=>{var ge,Oe,Ce,rt,Ca;return s.jsx("div",{className:"mb-4 group relative",children:A.direction==="inbound"?s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"h-8 w-8 rounded-full bg-primary flex items-center justify-center text-white text-sm font-semibold",children:((Oe=(ge=x==null?void 0:x.contacts)==null?void 0:ge.full_name)==null?void 0:Oe.charAt(0).toUpperCase())||"?"}),s.jsxs("div",{className:"flex-1 max-w-md",children:[s.jsxs("div",{className:"relative group/message",children:[s.jsxs("div",{className:"bg-muted rounded-2xl rounded-tl-sm p-4 hover:bg-muted/80 transition-colors",children:[s.jsx("p",{className:"text-sm",children:A.content}),((Ce=A.metadata)==null?void 0:Ce.message_type)&&A.metadata.message_type!=="text"&&s.jsx("div",{className:"mt-2",children:A.metadata.message_type==="image"?s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:Qf(A.id)||"/placeholder.svg",alt:"Imagem enviada",className:"w-32 h-20 object-cover rounded-lg cursor-pointer hover:opacity-80 transition-opacity border",onClick:()=>TO(Qf(A.id)||"")}),s.jsx("div",{className:"absolute inset-0 bg-black/0 hover:bg-black/10 rounded-lg transition-colors flex items-center justify-center",children:s.jsx("div",{className:"opacity-0 hover:opacity-100 transition-opacity bg-black/50 text-white px-2 py-1 rounded text-xs",children:"Clique para ampliar"})})]}):A.metadata.message_type==="audio"?s.jsx("div",{className:"mt-2",children:s.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-lg px-4 py-2 border border-slate-300 dark:border-slate-600 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Q,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 rounded-full bg-blue-100 dark:bg-blue-900 hover:bg-blue-200 dark:hover:bg-blue-800",onClick:()=>Ve===A.id?RO(A.id):MO(A.id),children:Ve===A.id?s.jsx(Im,{className:"h-4 w-4 text-blue-700 dark:text-blue-300"}):s.jsx(Ac,{className:"h-4 w-4 text-blue-700 dark:text-blue-300"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(QE,{className:"h-3 w-3 text-blue-600 dark:text-blue-400"}),s.jsx("span",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium",children:"Áudio de voz"})]}),s.jsx("div",{className:"w-full bg-blue-200 dark:bg-blue-800 rounded-full h-1.5",children:s.jsx("div",{className:"bg-blue-600 dark:bg-blue-400 h-1.5 rounded-full transition-all duration-300",style:{width:`${It[A.id]||0}%`}})}),s.jsxs("div",{className:"flex justify-between text-xs text-blue-500 dark:text-blue-400 mt-1",children:[s.jsx("span",{children:"0:00"}),s.jsx("span",{children:"~0:15"})]})]})]}),tn[A.id]&&s.jsx("audio",{id:`audio-${A.id}`,src:tn[A.id],onEnded:()=>IO(A.id),onTimeUpdate:Nr=>{const In=Nr.target;DO(A.id,In.currentTime,In.duration)},preload:"metadata"})]})}):s.jsx("div",{className:"mt-2",children:s.jsx("div",{className:"bg-slate-100 dark:bg-slate-800 rounded-lg p-3 border border-slate-200 dark:border-slate-700",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("span",{className:"text-2xl text-slate-600 dark:text-slate-400",children:zO(A.metadata.message_type)})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:A.metadata.message_type==="video"?"Vídeo":A.metadata.message_type==="document"?"Documento":A.metadata.message_type==="sticker"?"Sticker":A.metadata.message_type}),s.jsx(Le,{variant:"secondary",className:"text-xs",children:iu(`${A.metadata.message_type}.ext`)})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Q,{variant:"outline",size:"sm",className:"h-7 px-3 text-xs",onClick:()=>{const Nr=`${A.metadata.message_type}_${A.id}.${iu(`${A.metadata.message_type}.ext`)}`,In=mg(A.id,A.metadata.message_type);LO(In,Nr,A.id)},disabled:ln.has(A.id),children:ln.has(A.id)?s.jsxs(s.Fragment,{children:[s.jsx(gt,{className:"h-3 w-3 mr-1 animate-spin"}),"Baixando..."]}):s.jsxs(s.Fragment,{children:[s.jsx($i,{className:"h-3 w-3 mr-1"}),"Baixar"]})}),s.jsx(Q,{variant:"ghost",size:"sm",className:"h-7 px-2 text-xs",onClick:()=>{`${A.metadata.message_type}${A.id}${iu(`${A.metadata.message_type}.ext`)}`;const Nr=mg(A.id,A.metadata.message_type);navigator.clipboard.writeText(Nr),ae.success("Link copiado!")},children:s.jsx(Iu,{className:"h-3 w-3"})})]})]})]})})})})]}),s.jsx("div",{className:"absolute -top-8 left-0 opacity-0 group-hover/message:opacity-100 transition-opacity",children:s.jsxs("div",{className:"flex items-center gap-1 bg-background border rounded-lg p-1 shadow-lg",children:[s.jsx(Q,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>CO(A.id),children:s.jsx(gy,{className:"h-3 w-3"})}),s.jsx(Q,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>EO(A.id),children:s.jsx(GE,{className:"h-3 w-3"})}),s.jsx(Q,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>OO(A.content),children:s.jsx(Iu,{className:"h-3 w-3"})})]})})]}),s.jsxs("div",{className:"flex items-center justify-between mt-1 ml-2",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(A.created_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})}),A.status&&s.jsxs("div",{className:"flex items-center gap-1",children:[A.status==="delivered"&&s.jsx(ks,{className:"h-3 w-3 text-green-500"}),A.status==="sent"&&s.jsx($a,{className:"h-3 w-3 text-blue-500"}),A.status==="failed"&&s.jsx($a,{className:"h-3 w-3 text-red-500"})]})]})]})]}):s.jsxs("div",{className:"flex items-start gap-3 justify-end",children:[s.jsxs("div",{className:"flex-1 max-w-md",children:[s.jsxs("div",{className:"relative group/message",children:[s.jsxs("div",{className:"bg-primary rounded-2xl rounded-tr-sm p-4 ml-auto hover:bg-primary/90 transition-colors",children:[s.jsx("p",{className:"text-sm text-white whitespace-pre-line",children:A.content}),((rt=A.metadata)==null?void 0:rt.message_type)&&A.metadata.message_type!=="text"&&s.jsx("div",{className:"mt-2 text-xs text-white/70",children:A.metadata.message_type==="files"?s.jsx("div",{className:"space-y-1",children:(Ca=A.metadata.files)==null?void 0:Ca.map((Nr,In)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{children:V0({name:Nr.name,type:Nr.type})}),s.jsx("span",{children:Nr.name})]},In))}):A.metadata.message_type==="image"?s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:Qf(A.id)||"/placeholder.svg",alt:"Imagem enviada",className:"w-32 h-20 object-cover rounded-lg cursor-pointer hover:opacity-80 transition-opacity border",onClick:()=>TO(Qf(A.id)||"")}),s.jsx("div",{className:"absolute inset-0 bg-black/0 hover:bg-black/10 rounded-lg transition-colors flex items-center justify-center",children:s.jsx("div",{className:"opacity-0 hover:opacity-100 transition-opacity bg-black/50 text-white px-2 py-1 rounded text-xs",children:"Clique para ampliar"})})]}):A.metadata.message_type==="audio"?s.jsx("div",{className:"mt-2",children:s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950 rounded-lg px-3 py-1.5 border border-blue-200 dark:border-blue-800 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Q,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 rounded-full bg-blue-200 dark:bg-blue-800 hover:bg-blue-300 dark:hover:bg-blue-700",onClick:()=>Ve===A.id?RO(A.id):MO(A.id),children:Ve===A.id?s.jsx(Im,{className:"h-4 w-4 text-blue-700 dark:text-blue-300"}):s.jsx(Ac,{className:"h-4 w-4 text-blue-700 dark:text-blue-300"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(QE,{className:"h-3 w-3 text-blue-600 dark:text-blue-400"}),s.jsx("span",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium",children:"Áudio de voz"})]}),s.jsx("div",{className:"w-full bg-blue-200 dark:bg-blue-800 rounded-full h-1.5",children:s.jsx("div",{className:"bg-blue-600 dark:bg-blue-400 h-1.5 rounded-full transition-all duration-300",style:{width:`${It[A.id]||0}%`}})}),s.jsxs("div",{className:"flex justify-between text-xs text-blue-500 dark:text-blue-400 mt-1",children:[s.jsx("span",{children:"0:00"}),s.jsx("span",{children:"~0:15"})]})]})]}),tn[A.id]&&s.jsx("audio",{id:`audio-${A.id}`,src:tn[A.id],onEnded:()=>IO(A.id),onTimeUpdate:Nr=>{const In=Nr.target;DO(A.id,In.currentTime,In.duration)},preload:"metadata"})]})}):s.jsx("div",{className:"mt-2",children:s.jsx("div",{className:"bg-primary/10 rounded-lg p-3 border border-primary/20",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("span",{className:"text-2xl",children:zO(A.metadata.message_type)})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"text-sm font-medium text-primary",children:A.metadata.message_type==="video"?"Vídeo":A.metadata.message_type==="document"?"Documento":A.metadata.message_type==="sticker"?"Sticker":A.metadata.message_type}),s.jsx(Le,{variant:"secondary",className:"text-xs",children:iu(`${A.metadata.message_type}.ext`)})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Q,{variant:"outline",size:"sm",className:"h-7 px-3 text-xs border-primary/30 text-primary hover:bg-primary/10",onClick:()=>{const Nr=`${A.metadata.message_type}_${A.id}.${iu(`${A.metadata.message_type}.ext`)}`,In=mg(A.id,A.metadata.message_type);LO(In,Nr,A.id)},disabled:ln.has(A.id),children:ln.has(A.id)?s.jsxs(s.Fragment,{children:[s.jsx(gt,{className:"h-3 w-3 mr-1 animate-spin"}),"Baixando..."]}):s.jsxs(s.Fragment,{children:[s.jsx($i,{className:"h-3 w-3 mr-1"}),"Baixar"]})}),s.jsx(Q,{variant:"ghost",size:"sm",className:"h-7 px-2 text-xs text-primary hover:bg-primary/10",onClick:()=>{`${A.metadata.message_type}${A.id}${iu(`${A.metadata.message_type}.ext`)}`;const Nr=mg(A.id,A.metadata.message_type);navigator.clipboard.writeText(Nr),ae.success("Link copiado!")},children:s.jsx(Iu,{className:"h-3 w-3"})})]})]})]})})})})]}),s.jsx("div",{className:"absolute -top-8 right-0 opacity-0 group-hover/message:opacity-100 transition-opacity",children:s.jsxs("div",{className:"flex items-center gap-1 bg-background border rounded-lg p-1 shadow-lg",children:[s.jsx(Q,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>CO(A.id),children:s.jsx(gy,{className:"h-3 w-3"})}),s.jsx(Q,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>EO(A.id),children:s.jsx(GE,{className:"h-3 w-3"})}),s.jsx(Q,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>OO(A.content),children:s.jsx(Iu,{className:"h-3 w-3"})})]})})]}),s.jsxs("div",{className:"flex items-center justify-between mt-1 mr-2",children:[s.jsx("div",{className:"text-xs text-muted-foreground text-right",children:new Date(A.created_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})}),A.status&&s.jsxs("div",{className:"flex items-center gap-1",children:[A.status==="delivered"&&s.jsx(ks,{className:"h-3 w-3 text-green-500"}),A.status==="sent"&&s.jsx($a,{className:"h-3 w-3 text-blue-500"}),A.status==="failed"&&s.jsx($a,{className:"h-3 w-3 text-red-500"})]})]})]}),s.jsx("div",{className:"h-8 w-8 rounded-full bg-primary flex items-center justify-center text-white text-sm font-semibold",children:"Você"})]})},A.id)})})}),s.jsxs("div",{className:"pt-4 border-t flex-shrink-0",children:[q&&s.jsxs("div",{className:"mb-2 text-xs text-muted-foreground flex items-center gap-1",children:[s.jsxs("div",{className:"flex gap-1",children:[s.jsx("div",{className:"w-1 h-1 bg-muted-foreground rounded-full animate-bounce"}),s.jsx("div",{className:"w-1 h-1 bg-muted-foreground rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),s.jsx("div",{className:"w-1 h-1 bg-muted-foreground rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),(i=x==null?void 0:x.contacts)==null?void 0:i.full_name," está digitando..."]}),s.jsxs("div",{className:"flex items-end gap-2",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsxs("div",{className:`relative ${Se?"bg-primary/10 border-primary":""}`,onDragOver:r7,onDragLeave:n7,onDrop:a7,children:[s.jsx(Gn,{placeholder:w?"O agente de IA está respondendo...":"Digite sua mensagem ou arraste arquivos aqui...",className:"min-h-[40px] max-h-32 resize-none",value:N,onChange:A=>{_(A.target.value),A.target.value&&!q&&(Z(!0),setTimeout(()=>Z(!1),1e3))},onKeyDown:A=>{A.key==="Enter"&&!A.shiftKey&&(A.preventDefault(),UO())},disabled:!x||k}),Se&&s.jsx("div",{className:"absolute inset-0 bg-primary/20 border-2 border-dashed border-primary rounded-lg flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("span",{className:"text-4xl mb-2 block",children:"📎"}),s.jsx("p",{className:"text-sm font-medium text-primary",children:"Solte os arquivos aqui"})]})})]}),s.jsxs("div",{className:"absolute bottom-2 right-2 flex items-center gap-1",children:[s.jsx("input",{type:"file",multiple:!0,accept:"image/*,audio/*,video/*,.pdf,.doc,.docx,.txt",onChange:A=>AO(A.target.files),className:"hidden",id:"file-upload"}),s.jsx(Q,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>{var A;return(A=document.getElementById("file-upload"))==null?void 0:A.click()},title:"Anexar arquivo",children:s.jsx("span",{className:"text-sm",children:"📎"})})]})]}),s.jsxs("div",{className:"flex items-end gap-2",children:[s.jsx(Q,{variant:"outline",size:"sm",className:"h-10 w-10 p-0",onClick:c7,disabled:Wr||!x,title:"Sugestões de IA",children:Wr?s.jsx(gt,{className:"h-4 w-4 animate-spin"}):s.jsx(mn,{className:"h-4 w-4"})}),s.jsx(Q,{onClick:UO,disabled:k||!N.trim()||!x,className:"h-10 w-10 p-0 bg-gradient-to-r from-primary to-primary-glow hover:opacity-90 transition-opacity",title:"Enviar mensagem",children:k?s.jsx(gt,{className:"h-4 w-4 animate-spin"}):s.jsx(ms,{className:"h-4 w-4"})})]})]}),W&&X.length>0&&s.jsxs("div",{className:"mt-4 p-4 border rounded-lg bg-muted/50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h4",{className:"text-sm font-medium",children:["Arquivos selecionados (",X.length,")"]}),s.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>{xe([]),se(!1)},children:"✕"})]}),s.jsx("div",{className:"space-y-2 mb-4",children:X.map((A,ge)=>s.jsxs("div",{className:"flex items-center gap-3 p-2 bg-background rounded border",children:[s.jsx("span",{className:"text-lg",children:V0(A)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:A.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:i7(A.size)}),ye[A.name]!==void 0&&s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5 mt-1",children:s.jsx("div",{className:"bg-primary h-1.5 rounded-full transition-all duration-300",style:{width:`${ye[A.name]}%`}})})]}),s.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>s7(ge),className:"h-6 w-6 p-0",children:"✕"})]},ge))}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(Q,{onClick:l7,disabled:k,className:"flex-1",children:k?s.jsxs(s.Fragment,{children:[s.jsx(gt,{className:"h-4 w-4 mr-2 animate-spin"}),"Enviando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ms,{className:"h-4 w-4 mr-2"}),"Enviar Arquivos"]})})})]}),wn&&Vt.length>0&&s.jsxs("div",{className:"mt-4 p-4 border rounded-lg bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-950/20 dark:to-indigo-950/20",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(mn,{className:"h-4 w-4 text-blue-600"}),s.jsx("h4",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:"Sugestões da IA"})]}),s.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>dr(!1),children:"✕"})]}),s.jsx("div",{className:"space-y-2",children:Vt.map((A,ge)=>s.jsxs("div",{className:"p-3 bg-white dark:bg-gray-800 rounded-lg border border-blue-200 dark:border-blue-800",children:[s.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-2",children:A}),s.jsxs(Q,{variant:"outline",size:"sm",onClick:()=>u7(A),className:"text-xs",children:[s.jsx(ms,{className:"h-3 w-3 mr-1"}),"Usar esta sugestão"]})]},ge))})]}),s.jsx("div",{className:"mt-2 text-xs text-muted-foreground",children:"Pressione Enter para enviar • Shift+Enter para nova linha • Arraste arquivos ou clique no ícone 📎"})]})]})]})})]}),s.jsx(Qt,{open:P,onOpenChange:S,children:s.jsxs(Ut,{className:"sm:max-w-[500px]",children:[s.jsxs(Jt,{children:[s.jsx(er,{children:"Nova Mensagem"}),s.jsx(or,{children:"Selecione um contato existente ou crie um novo para iniciar uma conversa."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Buscar Contato Existente"}),s.jsxs("div",{className:"relative",children:[s.jsx(qa,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(qe,{placeholder:"Buscar por nome ou email...",className:"pl-9",value:R,onChange:A=>M(A.target.value)})]}),R&&s.jsx(tl,{className:"h-[150px] border rounded-md p-2",children:XB?s.jsx("div",{className:"flex items-center justify-center py-4",children:s.jsx(gt,{className:"h-6 w-6 animate-spin text-primary"})}):SO.length===0?s.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Nenhum contato encontrado"}):s.jsx("div",{className:"space-y-1",children:SO.map(A=>s.jsxs("div",{onClick:()=>{$(A.id),U(""),z(""),G("")},className:`p-3 rounded-lg border cursor-pointer transition-all hover:bg-accent ${L===A.id?"bg-accent border-primary":""}`,children:[s.jsx("p",{className:"text-sm font-semibold",children:A.full_name||A.email||"Sem nome"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:A.email||A.phone_e164})]},A.id))})})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("span",{className:"w-full border-t"})}),s.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:s.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Ou criar novo"})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"name",children:"Nome"}),s.jsx(qe,{id:"name",placeholder:"Nome completo",value:B,onChange:A=>{U(A.target.value),$("")}})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"email",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ad,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(qe,{id:"email",type:"email",placeholder:"email@exemplo.com",className:"pl-9",value:F,onChange:A=>{z(A.target.value),$("")}})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"phone",children:"Telefone"}),s.jsx(qe,{id:"phone",type:"tel",placeholder:"+5511999999999",value:I,onChange:A=>{G(A.target.value),$("")}})]})]})]}),s.jsxs(gn,{children:[s.jsx(Q,{variant:"outline",onClick:()=>{S(!1),$(""),U(""),z(""),G(""),M("")},children:"Cancelar"}),s.jsxs(Q,{onClick:b7,disabled:J||!L&&!B&&!F&&!I,className:"bg-gradient-to-r from-primary to-primary-glow",children:[J?s.jsx(gt,{className:"h-4 w-4 animate-spin mr-2"}):s.jsx(ms,{className:"h-4 w-4 mr-2"}),"Criar Conversa"]})]})]})}),s.jsx(Qt,{open:Ms,onOpenChange:ra,children:s.jsxs(Ut,{className:"max-w-4xl max-h-[80vh] overflow-hidden",children:[s.jsx(Jt,{children:s.jsxs(er,{className:"flex items-center gap-3",children:[s.jsxs(bs,{className:"h-8 w-8",children:[s.jsx(ws,{src:Nt==null?void 0:Nt.avatar}),s.jsx(js,{children:((o=Nt==null?void 0:Nt.full_name)==null?void 0:o.charAt(0))||"C"})]}),"Perfil do Contato"]})}),Nt&&s.jsx("div",{className:"overflow-y-auto max-h-[60vh]",children:s.jsxs(Na,{defaultValue:"info",className:"w-full",children:[s.jsxs(Jn,{className:"grid w-full grid-cols-4",children:[s.jsx(et,{value:"info",children:"Informações"}),s.jsx(et,{value:"activity",children:"Atividades"}),s.jsx(et,{value:"notes",children:"Anotações"}),s.jsx(et,{value:"stats",children:"Estatísticas"})]}),s.jsx(dt,{value:"info",className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(fe,{className:"text-sm font-medium",children:"Nome Completo"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:Nt.full_name})]}),s.jsxs("div",{children:[s.jsx(fe,{className:"text-sm font-medium",children:"E-mail"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:Nt.email})]}),s.jsxs("div",{children:[s.jsx(fe,{className:"text-sm font-medium",children:"Telefone"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:Nt.phone})]}),s.jsxs("div",{children:[s.jsx(fe,{className:"text-sm font-medium",children:"ID Externo"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:Nt.external_id})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(fe,{className:"text-sm font-medium",children:"Status"}),s.jsx("div",{className:"mt-1",children:s.jsx(Le,{variant:Nt.status==="open"?"default":"secondary",children:Nt.status==="open"?"Ativo":"Fechado"})})]}),s.jsxs("div",{children:[s.jsx(fe,{className:"text-sm font-medium",children:"Prioridade"}),s.jsx("div",{className:"mt-1",children:s.jsx(Le,{variant:Nt.priority==="high"?"destructive":Nt.priority==="medium"?"default":"secondary",children:Nt.priority==="high"?"Alta":Nt.priority==="medium"?"Média":"Baixa"})})]}),s.jsxs("div",{children:[s.jsx(fe,{className:"text-sm font-medium",children:"Canal"}),s.jsx("div",{className:"mt-1",children:s.jsx(Le,{variant:"outline",children:Nt.channel_type==="instagram"?"📸 Instagram":Nt.channel_type==="whatsapp"?"💬 WhatsApp":Nt.channel_type})})]}),s.jsxs("div",{children:[s.jsx(fe,{className:"text-sm font-medium",children:"Tags"}),s.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:(l=Nt.tags)==null?void 0:l.map((A,ge)=>s.jsx(Le,{variant:"secondary",className:"text-xs",children:A},ge))})]})]})]})}),s.jsx(dt,{value:"activity",className:"space-y-4",children:s.jsx("div",{className:"space-y-3",children:(c=Nt.activities)==null?void 0:c.map((A,ge)=>s.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex-shrink-0",children:[A.type==="message"&&s.jsx(At,{className:"h-4 w-4 text-blue-600"}),A.type==="call"&&s.jsx(Cf,{className:"h-4 w-4 text-green-600"}),A.type==="email"&&s.jsx(Ad,{className:"h-4 w-4 text-orange-600"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium",children:A.description}),s.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(A.date).toLocaleString("pt-BR")})]})]},ge))})}),s.jsx(dt,{value:"notes",className:"space-y-4",children:s.jsxs("div",{className:"space-y-3",children:[(u=Nt.notes)==null?void 0:u.map((A,ge)=>s.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:s.jsx("p",{className:"text-sm",children:A})},ge)),s.jsxs(Q,{variant:"outline",size:"sm",className:"w-full",children:[s.jsx(wr,{className:"h-4 w-4 mr-2"}),"Adicionar Anotação"]})]})}),s.jsx(dt,{value:"stats",className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsx(fe,{className:"text-sm font-medium",children:"Total de Mensagens"}),s.jsx("p",{className:"text-2xl font-bold",children:Nt.total_messages})]}),s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsx(fe,{className:"text-sm font-medium",children:"Taxa de Resposta"}),s.jsxs("p",{className:"text-2xl font-bold",children:[Nt.response_rate,"%"]})]}),s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsx(fe,{className:"text-sm font-medium",children:"Tempo Médio de Resposta"}),s.jsxs("p",{className:"text-2xl font-bold",children:[Nt.avg_response_time,"min"]})]}),s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsx(fe,{className:"text-sm font-medium",children:"Primeiro Contato"}),s.jsx("p",{className:"text-sm",children:new Date(Nt.first_contact).toLocaleDateString("pt-BR")})]})]})})]})})]})}),s.jsx(Qt,{open:Wt,onOpenChange:Tr,children:s.jsx(Ut,{className:"max-w-4xl max-h-[90vh] p-0 overflow-hidden",children:s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:nu,alt:"Preview da imagem",className:"w-full h-auto max-h-[80vh] object-contain"}),s.jsx(Q,{variant:"outline",size:"sm",className:"absolute top-4 right-4 bg-black/50 text-white border-white/20 hover:bg-black/70",onClick:d7,children:"✕"}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4",children:s.jsxs("div",{className:"flex items-center justify-between text-white",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Imagem enviada"}),s.jsx("p",{className:"text-xs opacity-75",children:"Clique fora para fechar"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Q,{variant:"outline",size:"sm",className:"bg-white/10 text-white border-white/20 hover:bg-white/20",onClick:()=>{ae.success("Download iniciado!")},children:[s.jsx($i,{className:"h-4 w-4 mr-2"}),"Baixar"]}),s.jsxs(Q,{variant:"outline",size:"sm",className:"bg-white/10 text-white border-white/20 hover:bg-white/20",onClick:()=>{navigator.clipboard.writeText(nu),ae.success("Link copiado!")},children:[s.jsx(Iu,{className:"h-4 w-4 mr-2"}),"Copiar Link"]})]})]})})]})})}),s.jsx(Qt,{open:KB,onOpenChange:jO,children:s.jsxs(Ut,{className:"max-w-4xl max-h-[80vh] overflow-hidden",children:[s.jsx(Jt,{children:s.jsxs(er,{className:"flex items-center gap-3",children:[s.jsx(ir,{className:"h-6 w-6"}),"Gerenciamento de Atendentes"]})}),s.jsxs("div",{className:"overflow-y-auto max-h-[60vh]",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Mr.map(A=>s.jsx(ie,{className:"relative",children:s.jsx(ue,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsxs(bs,{className:"h-10 w-10",children:[s.jsx(ws,{src:A.avatar}),s.jsx(js,{children:A.name.charAt(0)})]}),s.jsx("div",{className:`absolute -bottom-1 -right-1 w-3 h-3 rounded-full border-2 border-background ${W0(A.status)}`})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("h3",{className:"font-medium text-sm truncate",children:A.name}),s.jsx(Le,{variant:A.status==="online"?"default":A.status==="busy"?"secondary":A.status==="away"?"outline":"secondary",children:p7(A.status)})]}),s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:A.email}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{children:"Workload:"}),s.jsxs("span",{className:"font-medium",children:[A.workload,"/",A.maxWorkload]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{children:"Última atividade:"}),s.jsx("span",{children:vc(new Date(A.lastActive),{addSuffix:!0})})]})]}),s.jsx("div",{className:"mt-2",children:s.jsx("div",{className:"flex flex-wrap gap-1",children:A.skills.map((ge,Oe)=>s.jsx(Le,{variant:"secondary",className:"text-xs",children:ge},Oe))})}),s.jsxs("div",{className:"mt-3",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground mb-1",children:[s.jsx("span",{children:"Carga de trabalho"}),s.jsxs("span",{children:[Math.round(A.workload/A.maxWorkload*100),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${A.workload/A.maxWorkload>.8?"bg-red-500":A.workload/A.maxWorkload>.6?"bg-yellow-500":"bg-green-500"}`,style:{width:`${A.workload/A.maxWorkload*100}%`}})})]})]})]})})},A.id))}),s.jsx(ie,{className:"mt-6",children:s.jsxs(ue,{className:"p-4",children:[s.jsx("h3",{className:"font-medium mb-4",children:"Estatísticas da Equipe"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:Mr.filter(A=>A.status==="online").length}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Online"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:Mr.filter(A=>A.status==="busy").length}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Ocupado"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-gray-600",children:Mr.filter(A=>A.status==="offline").length}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Offline"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-primary",children:Mr.reduce((A,ge)=>A+ge.workload,0)}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Conversas Ativas"})]})]})]})})]})]})})]})})]})}const lO=g.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:ve("w-full caption-bottom text-sm",e),...t})}));lO.displayName="Table";const cO=g.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:ve("[&_tr]:border-b",e),...t}));cO.displayName="TableHeader";const uO=g.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:ve("[&_tr:last-child]:border-0",e),...t}));uO.displayName="TableBody";const nMe=g.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:ve("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));nMe.displayName="TableFooter";const zi=g.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:ve("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));zi.displayName="TableRow";const kn=g.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:ve("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));kn.displayName="TableHead";const zr=g.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:ve("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));zr.displayName="TableCell";const aMe=g.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:ve("mt-4 text-sm text-muted-foreground",e),...t}));aMe.displayName="TableCaption";var z0="Checkbox",[sMe]=xn(z0),[iMe,dO]=sMe(z0);function oMe(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,m]=Ga({prop:r,defaultProp:a??!1,onChange:c,caller:z0}),[v,p]=g.useState(null),[b,x]=g.useState(null),y=g.useRef(!1),w=v?!!o||!!v.closest("form"):!0,j={checked:h,disabled:i,setChecked:m,control:v,setControl:p,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:y,required:u,defaultChecked:rl(a)?!1:a,isFormControl:w,bubbleInput:b,setBubbleInput:x};return s.jsx(iMe,{scope:t,...j,children:lMe(f)?f(j):n})}var Y9="CheckboxTrigger",Q9=g.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:i,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:m,bubbleInput:v}=dO(Y9,e),p=Ze(a,d),b=g.useRef(c);return g.useEffect(()=>{const x=i==null?void 0:i.form;if(x){const y=()=>f(b.current);return x.addEventListener("reset",y),()=>x.removeEventListener("reset",y)}},[i,f]),s.jsx(Ae.button,{type:"button",role:"checkbox","aria-checked":rl(c)?"mixed":c,"aria-required":u,"data-state":nB(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:p,onKeyDown:be(t,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:be(r,x=>{f(y=>rl(y)?!0:!y),v&&m&&(h.current=x.isPropagationStopped(),h.current||x.stopPropagation())})})});Q9.displayName=Y9;var fO=g.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return s.jsx(oMe,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>s.jsxs(s.Fragment,{children:[s.jsx(Q9,{...f,ref:t,__scopeCheckbox:r}),h&&s.jsx(rB,{__scopeCheckbox:r})]})})});fO.displayName=z0;var J9="CheckboxIndicator",eB=g.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=dO(J9,r);return s.jsx(Jr,{present:n||rl(i.checked)||i.checked===!0,children:s.jsx(Ae.span,{"data-state":nB(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});eB.displayName=J9;var tB="CheckboxBubbleInput",rB=g.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:m}=dO(tB,e),v=Ze(r,m),p=M0(i),b=ob(n);g.useEffect(()=>{const y=h;if(!y)return;const w=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(w,"checked").set,N=!a.current;if(p!==i&&j){const _=new Event("click",{bubbles:N});y.indeterminate=rl(i),j.call(y,rl(i)?!1:i),y.dispatchEvent(_)}},[h,p,i,a]);const x=g.useRef(rl(i)?!1:i);return s.jsx(Ae.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??x.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:v,style:{...t.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});rB.displayName=tB;function lMe(e){return typeof e=="function"}function rl(e){return e==="indeterminate"}function nB(e){return rl(e)?"indeterminate":e?"checked":"unchecked"}const qc=g.forwardRef(({className:e,...t},r)=>s.jsx(fO,{ref:r,className:ve("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(eB,{className:ve("flex items-center justify-center text-current"),children:s.jsx(Yi,{className:"h-4 w-4"})})}));qc.displayName=fO.displayName;function aB({prospects:e,selectedIds:t,onExportComplete:r}){const[n,a]=g.useState(!1),[i,o]=g.useState(!1),l=e.filter(u=>t.includes(u.id)),c=async()=>{var u,d,f,h,m;o(!0);try{const{data:{user:v}}=await le.auth.getUser();if(!v){ae.error("Usuário não autenticado");return}const{data:p}=await le.from("members").select("org_id").eq("user_id",v.id).single();if(!p){ae.error("Organização não encontrada");return}let b=0,x=0;for(const y of l)try{let w=!0;if((u=y.places)!=null&&u.phone_number){const{data:N}=await le.from("contacts").select("id").eq("org_id",p.org_id).eq("phone_e164",y.places.phone_number).single();N&&(w=!1,console.log(`Contato já existe para ${y.places.name}`))}if(w){const{error:N}=await le.from("contacts").insert({org_id:p.org_id,full_name:((d=y.places)==null?void 0:d.name)||"Sem nome",phone_e164:((f=y.places)==null?void 0:f.phone_number)||null,tags:((m=(h=y.places)==null?void 0:h.types)==null?void 0:m.slice(0,3))||[]});if(N)throw N}const{error:j}=await le.from("prospects").update({status:"imported"}).eq("id",y.id);if(j)throw j;b++}catch(w){console.error(`Erro ao exportar prospect ${y.id}:`,w),x++}b>0&&ae.success(`${b} prospects exportados para Contatos!`),x>0&&ae.warning(`${x} prospects não puderam ser exportados`),a(!1),r()}catch(v){console.error("Error:",v),ae.error("Erro ao exportar prospects")}finally{o(!1)}};return s.jsxs(Qt,{open:n,onOpenChange:a,children:[s.jsx(mz,{asChild:!0,children:s.jsxs(Q,{variant:"default",disabled:t.length===0,className:"gap-2",children:[s.jsx($i,{className:"h-4 w-4"}),"Exportar para Contatos (",t.length,")"]})}),s.jsxs(Ut,{className:"sm:max-w-[500px]",children:[s.jsxs(Jt,{children:[s.jsxs(er,{className:"flex items-center gap-2",children:[s.jsx(ir,{className:"h-5 w-5 text-primary"}),"Exportar Prospects para Contatos"]}),s.jsxs(or,{children:["Você está prestes a exportar ",t.length," prospect",t.length!==1?"s":""," para a aba de Contatos."]})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-sm font-medium",children:"Prospects selecionados:"}),s.jsx("div",{className:"max-h-[200px] overflow-y-auto space-y-2 border rounded-md p-3",children:l.map(u=>{var d,f;return s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(qc,{checked:!0,disabled:!0}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:((d=u.places)==null?void 0:d.name)||"Sem nome"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:((f=u.places)==null?void 0:f.phone_number)||"Sem telefone"})]})]},u.id)})})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3",children:[s.jsx("p",{className:"text-sm text-blue-800",children:s.jsx("strong",{children:"O que vai acontecer:"})}),s.jsxs("ul",{className:"text-sm text-blue-700 mt-2 space-y-1 ml-4 list-disc",children:[s.jsx("li",{children:"Cada prospect será criado como um contato"}),s.jsx("li",{children:"Informações serão copiadas (nome, telefone, tags)"}),s.jsx("li",{children:'Status do prospect mudará para "Importado"'}),s.jsx("li",{children:"Prospects aparecerão na aba Contatos"})]})]})]}),s.jsxs(gn,{children:[s.jsx(Q,{variant:"outline",onClick:()=>a(!1),disabled:i,children:"Cancelar"}),s.jsx(Q,{onClick:c,disabled:i,children:i?s.jsxs(s.Fragment,{children:[s.jsx(gt,{className:"mr-2 h-4 w-4 animate-spin"}),"Exportando..."]}):s.jsxs(s.Fragment,{children:[s.jsx($i,{className:"mr-2 h-4 w-4"}),"Exportar ",t.length," Prospects"]})})]})]})]})}var dg=e=>e.type==="checkbox",mc=e=>e instanceof Date,Bn=e=>e==null;const sB=e=>typeof e=="object";var Pr=e=>!Bn(e)&&!Array.isArray(e)&&sB(e)&&!mc(e),iB=e=>Pr(e)&&e.target?dg(e.target)?e.target.checked:e.target.value:e,cMe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,oB=(e,t)=>e.has(cMe(t)),uMe=e=>{const t=e.constructor&&e.constructor.prototype;return Pr(t)&&t.hasOwnProperty("isPrototypeOf")},hO=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Lr(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(hO&&(e instanceof Blob||n))&&(r||Pr(e)))if(t=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!uMe(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=Lr(e[a]));else return e;return t}var F0=e=>/^\w*$/.test(e),mr=e=>e===void 0,mO=e=>Array.isArray(e)?e.filter(Boolean):[],pO=e=>mO(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ee=(e,t,r)=>{if(!t||!Pr(e))return r;const n=(F0(t)?[t]:pO(t)).reduce((a,i)=>Bn(a)?a:a[i],e);return mr(n)||n===e?mr(e[t])?r:e[t]:n},da=e=>typeof e=="boolean",Ct=(e,t,r)=>{let n=-1;const a=F0(t)?[t]:pO(t),i=a.length,o=i-1;for(;++n<i;){const l=a[n];let c=r;if(n!==o){const u=e[l];c=Pr(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const Mx={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ys={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ki={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},gO=C.createContext(null);gO.displayName="HookFormContext";const $0=()=>C.useContext(gO),dMe=e=>{const{children:t,...r}=e;return C.createElement(gO.Provider,{value:r},t)};var lB=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==ys.all&&(t._proxyFormState[o]=!n||ys.all),r&&(r[o]=!0),e[o]}});return a};const vO=typeof window<"u"?C.useLayoutEffect:C.useEffect;function fMe(e){const t=$0(),{control:r=t.control,disabled:n,name:a,exact:i}=e||{},[o,l]=C.useState(r._formState),c=C.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return vO(()=>r._subscribe({name:a,formState:c.current,exact:i,callback:u=>{!n&&l({...r._formState,...u})}}),[a,n,i]),C.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),C.useMemo(()=>lB(o,r,c.current,!1),[o,r])}var va=e=>typeof e=="string",cB=(e,t,r,n,a)=>va(e)?(n&&t.watch.add(e),Ee(r,e,a)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),Ee(r,i))):(n&&(t.watchAll=!0),r),J_=e=>Bn(e)||!sB(e);function Ti(e,t,r=new WeakSet){if(J_(e)||J_(t))return e===t;if(mc(e)&&mc(t))return e.getTime()===t.getTime();const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const o=e[i];if(!a.includes(i))return!1;if(i!=="ref"){const l=t[i];if(mc(o)&&mc(l)||Pr(o)&&Pr(l)||Array.isArray(o)&&Array.isArray(l)?!Ti(o,l,r):o!==l)return!1}}return!0}function hMe(e){const t=$0(),{control:r=t.control,name:n,defaultValue:a,disabled:i,exact:o,compute:l}=e||{},c=C.useRef(a),u=C.useRef(l),d=C.useRef(void 0);u.current=l;const f=C.useMemo(()=>r._getWatch(n,c.current),[r,n]),[h,m]=C.useState(u.current?u.current(f):f);return vO(()=>r._subscribe({name:n,formState:{values:!0},exact:o,callback:v=>{if(!i){const p=cB(n,r._names,v.values||r._formValues,!1,c.current);if(u.current){const b=u.current(p);Ti(b,d.current)||(m(b),d.current=b)}else m(p)}}}),[r,i,n,o]),C.useEffect(()=>r._removeUnmounted()),h}function mMe(e){const t=$0(),{name:r,disabled:n,control:a=t.control,shouldUnregister:i,defaultValue:o}=e,l=oB(a._names.array,r),c=C.useMemo(()=>Ee(a._formValues,r,Ee(a._defaultValues,r,o)),[a,r,o]),u=hMe({control:a,name:r,defaultValue:c,exact:!0}),d=fMe({control:a,name:r,exact:!0}),f=C.useRef(e),h=C.useRef(void 0),m=C.useRef(a.register(r,{...e.rules,value:u,...da(e.disabled)?{disabled:e.disabled}:{}}));f.current=e;const v=C.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ee(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!Ee(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Ee(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Ee(d.validatingFields,r)},error:{enumerable:!0,get:()=>Ee(d.errors,r)}}),[d,r]),p=C.useCallback(w=>m.current.onChange({target:{value:iB(w),name:r},type:Mx.CHANGE}),[r]),b=C.useCallback(()=>m.current.onBlur({target:{value:Ee(a._formValues,r),name:r},type:Mx.BLUR}),[r,a._formValues]),x=C.useCallback(w=>{const j=Ee(a._fields,r);j&&w&&(j._f.ref={focus:()=>w.focus&&w.focus(),select:()=>w.select&&w.select(),setCustomValidity:N=>w.setCustomValidity(N),reportValidity:()=>w.reportValidity()})},[a._fields,r]),y=C.useMemo(()=>({name:r,value:u,...da(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:p,onBlur:b,ref:x}),[r,n,d.disabled,p,b,x,u]);return C.useEffect(()=>{const w=a._options.shouldUnregister||i,j=h.current;j&&j!==r&&!l&&a.unregister(j),a.register(r,{...f.current.rules,...da(f.current.disabled)?{disabled:f.current.disabled}:{}});const N=(_,k)=>{const O=Ee(a._fields,_);O&&O._f&&(O._f.mount=k)};if(N(r,!0),w){const _=Lr(Ee(a._options.defaultValues,r,f.current.defaultValue));Ct(a._defaultValues,r,_),mr(Ee(a._formValues,r))&&Ct(a._formValues,r,_)}return!l&&a.register(r),h.current=r,()=>{(l?w&&!a._state.action:w)?a.unregister(r):N(r,!1)}},[r,a,l,i]),C.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),C.useMemo(()=>({field:y,formState:d,fieldState:v}),[y,d,v])}const pMe=e=>e.render(mMe(e));var uB=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},um=e=>Array.isArray(e)?e:[e],eR=()=>{let e=[];return{get observers(){return e},next:t=>{for(const r of e)r.next&&r.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter(r=>r!==t)}}),unsubscribe:()=>{e=[]}}};function dB(e,t){const r={};for(const n in e)if(e.hasOwnProperty(n)){const a=e[n],i=t[n];if(a&&Pr(a)&&i){const o=dB(a,i);Pr(o)&&(r[n]=o)}else e[n]&&(r[n]=i)}return r}var $n=e=>Pr(e)&&!Object.keys(e).length,yO=e=>e.type==="file",xs=e=>typeof e=="function",Rx=e=>{if(!hO)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},fB=e=>e.type==="select-multiple",xO=e=>e.type==="radio",gMe=e=>xO(e)||dg(e),Aj=e=>Rx(e)&&e.isConnected;function vMe(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=mr(e)?n++:e[t[n++]];return e}function yMe(e){for(const t in e)if(e.hasOwnProperty(t)&&!mr(e[t]))return!1;return!0}function _r(e,t){const r=Array.isArray(t)?t:F0(t)?[t]:pO(t),n=r.length===1?e:vMe(e,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(Pr(n)&&$n(n)||Array.isArray(n)&&yMe(n))&&_r(e,r.slice(0,-1)),e}var xMe=e=>{for(const t in e)if(xs(e[t]))return!0;return!1};function hB(e){return Array.isArray(e)||Pr(e)&&!xMe(e)}function ek(e,t={}){for(const r in e)hB(e[r])?(t[r]=Array.isArray(e[r])?[]:{},ek(e[r],t[r])):mr(e[r])||(t[r]=!0);return t}function zu(e,t,r){r||(r=ek(t));for(const n in e)hB(e[n])?mr(t)||J_(r[n])?r[n]=ek(e[n],Array.isArray(e[n])?[]:{}):zu(e[n],Bn(t)?{}:t[n],r[n]):r[n]=!Ti(e[n],t[n]);return r}const tR={value:!1,isValid:!1},rR={value:!0,isValid:!0};var mB=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!mr(e[0].attributes.value)?mr(e[0].value)||e[0].value===""?rR:{value:e[0].value,isValid:!0}:rR:tR}return tR},pB=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>mr(e)?e:t?e===""?NaN:e&&+e:r&&va(e)?new Date(e):n?n(e):e;const nR={isValid:!1,value:null};var gB=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,nR):nR;function aR(e){const t=e.ref;return yO(t)?t.files:xO(t)?gB(e.refs).value:fB(t)?[...t.selectedOptions].map(({value:r})=>r):dg(t)?mB(e.refs).value:pB(mr(t.value)?e.ref.value:t.value,e)}var bMe=(e,t,r,n)=>{const a={};for(const i of e){const o=Ee(t,i);o&&Ct(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},Ix=e=>e instanceof RegExp,Rh=e=>mr(e)?e:Ix(e)?e.source:Pr(e)?Ix(e.value)?e.value.source:e.value:e,sR=e=>({isOnSubmit:!e||e===ys.onSubmit,isOnBlur:e===ys.onBlur,isOnChange:e===ys.onChange,isOnAll:e===ys.all,isOnTouch:e===ys.onTouched});const iR="AsyncFunction";var wMe=e=>!!e&&!!e.validate&&!!(xs(e.validate)&&e.validate.constructor.name===iR||Pr(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===iR)),jMe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),oR=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const dm=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const i=Ee(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!n||o.ref&&t(o.ref,o.name)&&!n)return!0;if(dm(l,t))break}else if(Pr(l)&&dm(l,t))break}}};function lR(e,t,r){const n=Ee(e,r);if(n||F0(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=Ee(t,i),l=Ee(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};a.pop()}return{name:r}}var NMe=(e,t,r,n)=>{r(e);const{name:a,...i}=e;return $n(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||ys.all))},_Me=(e,t,r)=>!e||!t||e===t||um(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),kMe=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,SMe=(e,t)=>!mO(Ee(e,t)).length&&_r(e,t),OMe=(e,t,r)=>{const n=um(Ee(e,r));return Ct(n,"root",t[r]),Ct(e,r,n),e};function cR(e,t,r="validate"){if(va(e)||Array.isArray(e)&&e.every(va)||da(e)&&!e)return{type:r,message:va(e)?e:"",ref:t}}var Tu=e=>Pr(e)&&!Ix(e)?e:{value:e,message:""},uR=async(e,t,r,n,a,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:m,validate:v,name:p,valueAsNumber:b,mount:x}=e._f,y=Ee(r,p);if(!x||t.has(p))return{};const w=l?l[0]:o,j=S=>{a&&w.reportValidity&&(w.setCustomValidity(da(S)?"":S||""),w.reportValidity())},N={},_=xO(o),k=dg(o),O=_||k,E=(b||yO(o))&&mr(o.value)&&mr(y)||Rx(o)&&o.value===""||y===""||Array.isArray(y)&&!y.length,T=uB.bind(null,p,n,N),P=(S,R,M,B=ki.maxLength,U=ki.minLength)=>{const F=S?R:M;N[p]={type:S?B:U,message:F,ref:o,...T(S?B:U,F)}};if(i?!Array.isArray(y)||!y.length:c&&(!O&&(E||Bn(y))||da(y)&&!y||k&&!mB(l).isValid||_&&!gB(l).isValid)){const{value:S,message:R}=va(c)?{value:!!c,message:c}:Tu(c);if(S&&(N[p]={type:ki.required,message:R,ref:w,...T(ki.required,R)},!n))return j(R),N}if(!E&&(!Bn(f)||!Bn(h))){let S,R;const M=Tu(h),B=Tu(f);if(!Bn(y)&&!isNaN(y)){const U=o.valueAsNumber||y&&+y;Bn(M.value)||(S=U>M.value),Bn(B.value)||(R=U<B.value)}else{const U=o.valueAsDate||new Date(y),F=G=>new Date(new Date().toDateString()+" "+G),z=o.type=="time",I=o.type=="week";va(M.value)&&y&&(S=z?F(y)>F(M.value):I?y>M.value:U>new Date(M.value)),va(B.value)&&y&&(R=z?F(y)<F(B.value):I?y<B.value:U<new Date(B.value))}if((S||R)&&(P(!!S,M.message,B.message,ki.max,ki.min),!n))return j(N[p].message),N}if((u||d)&&!E&&(va(y)||i&&Array.isArray(y))){const S=Tu(u),R=Tu(d),M=!Bn(S.value)&&y.length>+S.value,B=!Bn(R.value)&&y.length<+R.value;if((M||B)&&(P(M,S.message,R.message),!n))return j(N[p].message),N}if(m&&!E&&va(y)){const{value:S,message:R}=Tu(m);if(Ix(S)&&!y.match(S)&&(N[p]={type:ki.pattern,message:R,ref:o,...T(ki.pattern,R)},!n))return j(R),N}if(v){if(xs(v)){const S=await v(y,r),R=cR(S,w);if(R&&(N[p]={...R,...T(ki.validate,R.message)},!n))return j(R.message),N}else if(Pr(v)){let S={};for(const R in v){if(!$n(S)&&!n)break;const M=cR(await v[R](y,r),w,R);M&&(S={...M,...T(R,M.message)},j(M.message),n&&(N[p]=S))}if(!$n(S)&&(N[p]={ref:w,...S},!n))return N}}return j(!0),N};const CMe={mode:ys.onSubmit,reValidateMode:ys.onChange,shouldFocusError:!0};function EMe(e={}){let t={...CMe,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:xs(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=Pr(t.defaultValues)||Pr(t.values)?Lr(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Lr(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:eR(),state:eR()},m=t.criteriaMode===ys.all,v=q=>Z=>{clearTimeout(u),u=setTimeout(q,Z)},p=async q=>{if(!t.disabled&&(d.isValid||f.isValid||q)){const Z=t.resolver?$n((await k()).errors):await E(n,!0);Z!==r.isValid&&h.state.next({isValid:Z})}},b=(q,Z)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((q||Array.from(l.mount)).forEach(X=>{X&&(Z?Ct(r.validatingFields,X,Z):_r(r.validatingFields,X))}),h.state.next({validatingFields:r.validatingFields,isValidating:!$n(r.validatingFields)}))},x=(q,Z=[],X,xe,ye=!0,we=!0)=>{if(xe&&X&&!t.disabled){if(o.action=!0,we&&Array.isArray(Ee(n,q))){const W=X(Ee(n,q),xe.argA,xe.argB);ye&&Ct(n,q,W)}if(we&&Array.isArray(Ee(r.errors,q))){const W=X(Ee(r.errors,q),xe.argA,xe.argB);ye&&Ct(r.errors,q,W),SMe(r.errors,q)}if((d.touchedFields||f.touchedFields)&&we&&Array.isArray(Ee(r.touchedFields,q))){const W=X(Ee(r.touchedFields,q),xe.argA,xe.argB);ye&&Ct(r.touchedFields,q,W)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=zu(a,i)),h.state.next({name:q,isDirty:P(q,Z),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Ct(i,q,Z)},y=(q,Z)=>{Ct(r.errors,q,Z),h.state.next({errors:r.errors})},w=q=>{r.errors=q,h.state.next({errors:r.errors,isValid:!1})},j=(q,Z,X,xe)=>{const ye=Ee(n,q);if(ye){const we=Ee(i,q,mr(X)?Ee(a,q):X);mr(we)||xe&&xe.defaultChecked||Z?Ct(i,q,Z?we:aR(ye._f)):M(q,we),o.mount&&p()}},N=(q,Z,X,xe,ye)=>{let we=!1,W=!1;const se={name:q};if(!t.disabled){if(!X||xe){(d.isDirty||f.isDirty)&&(W=r.isDirty,r.isDirty=se.isDirty=P(),we=W!==se.isDirty);const Se=Ti(Ee(a,q),Z);W=!!Ee(r.dirtyFields,q),Se?_r(r.dirtyFields,q):Ct(r.dirtyFields,q,!0),se.dirtyFields=r.dirtyFields,we=we||(d.dirtyFields||f.dirtyFields)&&W!==!Se}if(X){const Se=Ee(r.touchedFields,q);Se||(Ct(r.touchedFields,q,X),se.touchedFields=r.touchedFields,we=we||(d.touchedFields||f.touchedFields)&&Se!==X)}we&&ye&&h.state.next(se)}return we?se:{}},_=(q,Z,X,xe)=>{const ye=Ee(r.errors,q),we=(d.isValid||f.isValid)&&da(Z)&&r.isValid!==Z;if(t.delayError&&X?(c=v(()=>y(q,X)),c(t.delayError)):(clearTimeout(u),c=null,X?Ct(r.errors,q,X):_r(r.errors,q)),(X?!Ti(ye,X):ye)||!$n(xe)||we){const W={...xe,...we&&da(Z)?{isValid:Z}:{},errors:r.errors,name:q};r={...r,...W},h.state.next(W)}},k=async q=>{b(q,!0);const Z=await t.resolver(i,t.context,bMe(q||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return b(q),Z},O=async q=>{const{errors:Z}=await k(q);if(q)for(const X of q){const xe=Ee(Z,X);xe?Ct(r.errors,X,xe):_r(r.errors,X)}else r.errors=Z;return Z},E=async(q,Z,X={valid:!0})=>{for(const xe in q){const ye=q[xe];if(ye){const{_f:we,...W}=ye;if(we){const se=l.array.has(we.name),Se=ye._f&&wMe(ye._f);Se&&d.validatingFields&&b([we.name],!0);const mt=await uR(ye,l.disabled,i,m,t.shouldUseNativeValidation&&!Z,se);if(Se&&d.validatingFields&&b([we.name]),mt[we.name]&&(X.valid=!1,Z))break;!Z&&(Ee(mt,we.name)?se?OMe(r.errors,mt,we.name):Ct(r.errors,we.name,mt[we.name]):_r(r.errors,we.name))}!$n(W)&&await E(W,Z,X)}}return X.valid},T=()=>{for(const q of l.unMount){const Z=Ee(n,q);Z&&(Z._f.refs?Z._f.refs.every(X=>!Aj(X)):!Aj(Z._f.ref))&&V(q)}l.unMount=new Set},P=(q,Z)=>!t.disabled&&(q&&Z&&Ct(i,q,Z),!Ti(G(),a)),S=(q,Z,X)=>cB(q,l,{...o.mount?i:mr(Z)?a:va(q)?{[q]:Z}:Z},X,Z),R=q=>mO(Ee(o.mount?i:a,q,t.shouldUnregister?Ee(a,q,[]):[])),M=(q,Z,X={})=>{const xe=Ee(n,q);let ye=Z;if(xe){const we=xe._f;we&&(!we.disabled&&Ct(i,q,pB(Z,we)),ye=Rx(we.ref)&&Bn(Z)?"":Z,fB(we.ref)?[...we.ref.options].forEach(W=>W.selected=ye.includes(W.value)):we.refs?dg(we.ref)?we.refs.forEach(W=>{(!W.defaultChecked||!W.disabled)&&(Array.isArray(ye)?W.checked=!!ye.find(se=>se===W.value):W.checked=ye===W.value||!!ye)}):we.refs.forEach(W=>W.checked=W.value===ye):yO(we.ref)?we.ref.value="":(we.ref.value=ye,we.ref.type||h.state.next({name:q,values:Lr(i)})))}(X.shouldDirty||X.shouldTouch)&&N(q,ye,X.shouldTouch,X.shouldDirty,!0),X.shouldValidate&&I(q)},B=(q,Z,X)=>{for(const xe in Z){if(!Z.hasOwnProperty(xe))return;const ye=Z[xe],we=q+"."+xe,W=Ee(n,we);(l.array.has(q)||Pr(ye)||W&&!W._f)&&!mc(ye)?B(we,ye,X):M(we,ye,X)}},U=(q,Z,X={})=>{const xe=Ee(n,q),ye=l.array.has(q),we=Lr(Z);Ct(i,q,we),ye?(h.array.next({name:q,values:Lr(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&X.shouldDirty&&h.state.next({name:q,dirtyFields:zu(a,i),isDirty:P(q,we)})):xe&&!xe._f&&!Bn(we)?B(q,we,X):M(q,we,X),oR(q,l)&&h.state.next({...r,name:q}),h.state.next({name:o.mount?q:void 0,values:Lr(i)})},F=async q=>{o.mount=!0;const Z=q.target;let X=Z.name,xe=!0;const ye=Ee(n,X),we=Se=>{xe=Number.isNaN(Se)||mc(Se)&&isNaN(Se.getTime())||Ti(Se,Ee(i,X,Se))},W=sR(t.mode),se=sR(t.reValidateMode);if(ye){let Se,mt;const Vt=Z.type?aR(ye._f):iB(q),tr=q.type===Mx.BLUR||q.type===Mx.FOCUS_OUT,wn=!jMe(ye._f)&&!t.resolver&&!Ee(r.errors,X)&&!ye._f.deps||kMe(tr,Ee(r.touchedFields,X),r.isSubmitted,se,W),dr=oR(X,l,tr);Ct(i,X,Vt),tr?(!Z||!Z.readOnly)&&(ye._f.onBlur&&ye._f.onBlur(q),c&&c(0)):ye._f.onChange&&ye._f.onChange(q);const Wr=N(X,Vt,tr),Tn=!$n(Wr)||dr;if(!tr&&h.state.next({name:X,type:q.type,values:Lr(i)}),wn)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?tr&&p():tr||p()),Tn&&h.state.next({name:X,...dr?{}:Wr});if(!tr&&dr&&h.state.next({...r}),t.resolver){const{errors:Ms}=await k([X]);if(we(Vt),xe){const ra=lR(r.errors,n,X),Nt=lR(Ms,n,ra.name||X);Se=Nt.error,X=Nt.name,mt=$n(Ms)}}else b([X],!0),Se=(await uR(ye,l.disabled,i,m,t.shouldUseNativeValidation))[X],b([X]),we(Vt),xe&&(Se?mt=!1:(d.isValid||f.isValid)&&(mt=await E(n,!0)));xe&&(ye._f.deps&&(!Array.isArray(ye._f.deps)||ye._f.deps.length>0)&&I(ye._f.deps),_(X,mt,Se,Wr))}},z=(q,Z)=>{if(Ee(r.errors,Z)&&q.focus)return q.focus(),1},I=async(q,Z={})=>{let X,xe;const ye=um(q);if(t.resolver){const we=await O(mr(q)?q:ye);X=$n(we),xe=q?!ye.some(W=>Ee(we,W)):X}else q?(xe=(await Promise.all(ye.map(async we=>{const W=Ee(n,we);return await E(W&&W._f?{[we]:W}:W)}))).every(Boolean),!(!xe&&!r.isValid)&&p()):xe=X=await E(n);return h.state.next({...!va(q)||(d.isValid||f.isValid)&&X!==r.isValid?{}:{name:q},...t.resolver||!q?{isValid:X}:{},errors:r.errors}),Z.shouldFocus&&!xe&&dm(n,z,q?ye:l.mount),xe},G=(q,Z)=>{let X={...o.mount?i:a};return Z&&(X=dB(Z.dirtyFields?r.dirtyFields:r.touchedFields,X)),mr(q)?X:va(q)?Ee(X,q):q.map(xe=>Ee(X,xe))},L=(q,Z)=>({invalid:!!Ee((Z||r).errors,q),isDirty:!!Ee((Z||r).dirtyFields,q),error:Ee((Z||r).errors,q),isValidating:!!Ee(r.validatingFields,q),isTouched:!!Ee((Z||r).touchedFields,q)}),$=q=>{q&&um(q).forEach(Z=>_r(r.errors,Z)),h.state.next({errors:q?r.errors:{}})},J=(q,Z,X)=>{const xe=(Ee(n,q,{_f:{}})._f||{}).ref,ye=Ee(r.errors,q)||{},{ref:we,message:W,type:se,...Se}=ye;Ct(r.errors,q,{...Se,...Z,ref:xe}),h.state.next({name:q,errors:r.errors,isValid:!1}),X&&X.shouldFocus&&xe&&xe.focus&&xe.focus()},K=(q,Z)=>xs(q)?h.state.subscribe({next:X=>"values"in X&&q(S(void 0,Z),X)}):S(q,Z,!0),D=q=>h.state.subscribe({next:Z=>{_Me(q.name,Z.name,q.exact)&&NMe(Z,q.formState||d,Xe,q.reRenderRoot)&&q.callback({values:{...i},...r,...Z,defaultValues:a})}}).unsubscribe,oe=q=>(o.mount=!0,f={...f,...q.formState},D({...q,formState:f})),V=(q,Z={})=>{for(const X of q?um(q):l.mount)l.mount.delete(X),l.array.delete(X),Z.keepValue||(_r(n,X),_r(i,X)),!Z.keepError&&_r(r.errors,X),!Z.keepDirty&&_r(r.dirtyFields,X),!Z.keepTouched&&_r(r.touchedFields,X),!Z.keepIsValidating&&_r(r.validatingFields,X),!t.shouldUnregister&&!Z.keepDefaultValue&&_r(a,X);h.state.next({values:Lr(i)}),h.state.next({...r,...Z.keepDirty?{isDirty:P()}:{}}),!Z.keepIsValid&&p()},de=({disabled:q,name:Z})=>{(da(q)&&o.mount||q||l.disabled.has(Z))&&(q?l.disabled.add(Z):l.disabled.delete(Z))},te=(q,Z={})=>{let X=Ee(n,q);const xe=da(Z.disabled)||da(t.disabled);return Ct(n,q,{...X||{},_f:{...X&&X._f?X._f:{ref:{name:q}},name:q,mount:!0,...Z}}),l.mount.add(q),X?de({disabled:da(Z.disabled)?Z.disabled:t.disabled,name:q}):j(q,!0,Z.value),{...xe?{disabled:Z.disabled||t.disabled}:{},...t.progressive?{required:!!Z.required,min:Rh(Z.min),max:Rh(Z.max),minLength:Rh(Z.minLength),maxLength:Rh(Z.maxLength),pattern:Rh(Z.pattern)}:{},name:q,onChange:F,onBlur:F,ref:ye=>{if(ye){te(q,Z),X=Ee(n,q);const we=mr(ye.value)&&ye.querySelectorAll&&ye.querySelectorAll("input,select,textarea")[0]||ye,W=gMe(we),se=X._f.refs||[];if(W?se.find(Se=>Se===we):we===X._f.ref)return;Ct(n,q,{_f:{...X._f,...W?{refs:[...se.filter(Aj),we,...Array.isArray(Ee(a,q))?[{}]:[]],ref:{type:we.type,name:q}}:{ref:we}}}),j(q,!1,void 0,we)}else X=Ee(n,q,{}),X._f&&(X._f.mount=!1),(t.shouldUnregister||Z.shouldUnregister)&&!(oB(l.array,q)&&o.action)&&l.unMount.add(q)}}},ce=()=>t.shouldFocusError&&dm(n,z,l.mount),ne=q=>{da(q)&&(h.state.next({disabled:q}),dm(n,(Z,X)=>{const xe=Ee(n,X);xe&&(Z.disabled=xe._f.disabled||q,Array.isArray(xe._f.refs)&&xe._f.refs.forEach(ye=>{ye.disabled=xe._f.disabled||q}))},0,!1))},ee=(q,Z)=>async X=>{let xe;X&&(X.preventDefault&&X.preventDefault(),X.persist&&X.persist());let ye=Lr(i);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:we,values:W}=await k();r.errors=we,ye=Lr(W)}else await E(n);if(l.disabled.size)for(const we of l.disabled)_r(ye,we);if(_r(r.errors,"root"),$n(r.errors)){h.state.next({errors:{}});try{await q(ye,X)}catch(we){xe=we}}else Z&&await Z({...r.errors},X),ce(),setTimeout(ce);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:$n(r.errors)&&!xe,submitCount:r.submitCount+1,errors:r.errors}),xe)throw xe},Be=(q,Z={})=>{Ee(n,q)&&(mr(Z.defaultValue)?U(q,Lr(Ee(a,q))):(U(q,Z.defaultValue),Ct(a,q,Lr(Z.defaultValue))),Z.keepTouched||_r(r.touchedFields,q),Z.keepDirty||(_r(r.dirtyFields,q),r.isDirty=Z.defaultValue?P(q,Lr(Ee(a,q))):P()),Z.keepError||(_r(r.errors,q),d.isValid&&p()),h.state.next({...r}))},Ie=(q,Z={})=>{const X=q?Lr(q):a,xe=Lr(X),ye=$n(q),we=ye?a:xe;if(Z.keepDefaultValues||(a=X),!Z.keepValues){if(Z.keepDirtyValues){const W=new Set([...l.mount,...Object.keys(zu(a,i))]);for(const se of Array.from(W))Ee(r.dirtyFields,se)?Ct(we,se,Ee(i,se)):U(se,Ee(we,se))}else{if(hO&&mr(q))for(const W of l.mount){const se=Ee(n,W);if(se&&se._f){const Se=Array.isArray(se._f.refs)?se._f.refs[0]:se._f.ref;if(Rx(Se)){const mt=Se.closest("form");if(mt){mt.reset();break}}}}if(Z.keepFieldsRef)for(const W of l.mount)U(W,Ee(we,W));else n={}}i=t.shouldUnregister?Z.keepDefaultValues?Lr(a):{}:Lr(we),h.array.next({values:{...we}}),h.state.next({values:{...we}})}l={mount:Z.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!Z.keepIsValid||!!Z.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:Z.keepSubmitCount?r.submitCount:0,isDirty:ye?!1:Z.keepDirty?r.isDirty:!!(Z.keepDefaultValues&&!Ti(q,a)),isSubmitted:Z.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ye?{}:Z.keepDirtyValues?Z.keepDefaultValues&&i?zu(a,i):r.dirtyFields:Z.keepDefaultValues&&q?zu(a,q):Z.keepDirty?r.dirtyFields:{},touchedFields:Z.keepTouched?r.touchedFields:{},errors:Z.keepErrors?r.errors:{},isSubmitSuccessful:Z.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},ut=(q,Z)=>Ie(xs(q)?q(i):q,Z),it=(q,Z={})=>{const X=Ee(n,q),xe=X&&X._f;if(xe){const ye=xe.refs?xe.refs[0]:xe.ref;ye.focus&&(ye.focus(),Z.shouldSelect&&xs(ye.select)&&ye.select())}},Xe=q=>{r={...r,...q}},Y={control:{register:te,unregister:V,getFieldState:L,handleSubmit:ee,setError:J,_subscribe:D,_runSchema:k,_focusError:ce,_getWatch:S,_getDirty:P,_setValid:p,_setFieldArray:x,_setDisabledField:de,_setErrors:w,_getFieldArray:R,_reset:Ie,_resetDefaultValues:()=>xs(t.defaultValues)&&t.defaultValues().then(q=>{ut(q,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:T,_disableForm:ne,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(q){o=q},get _defaultValues(){return a},get _names(){return l},set _names(q){l=q},get _formState(){return r},get _options(){return t},set _options(q){t={...t,...q}}},subscribe:oe,trigger:I,register:te,handleSubmit:ee,watch:K,setValue:U,getValues:G,reset:ut,resetField:Be,clearErrors:$,unregister:V,setError:J,setFocus:it,getFieldState:L};return{...Y,formControl:Y}}function AMe(e={}){const t=C.useRef(void 0),r=C.useRef(void 0),[n,a]=C.useState({isDirty:!1,isValidating:!1,isLoading:xs(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:xs(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!xs(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=EMe(e);t.current={...l,formState:n}}const i=t.current.control;return i._options=e,vO(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),C.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),C.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),C.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),C.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),C.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),C.useEffect(()=>{e.values&&!Ti(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),C.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=lB(n,i),t.current}const dR=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Ee(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},vB=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?dR(n.ref,r,e):n.refs&&n.refs.forEach(a=>dR(a,r,e))}},PMe=(e,t)=>{t.shouldUseNativeValidation&&vB(e,t);const r={};for(const n in e){const a=Ee(t.fields,n),i=Object.assign(e[n]||{},{ref:a&&a.ref});if(TMe(t.names||Object.keys(e),n)){const o=Object.assign({},Ee(r,n));Ct(o,"root",i),Ct(r,n,o)}else Ct(r,n,i)}return r},TMe=(e,t)=>e.some(r=>r.startsWith(t+"."));var MMe=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=uB(o,t,r,a,u?[].concat(u,n.message):n.message)}e.shift()}return r},RMe=function(e,t,r){return r===void 0&&(r={}),function(n,a,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&vB({},i),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:PMe(MMe(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},_t;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(_t||(_t={}));var fR;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(fR||(fR={}));const Fe=_t.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Oo=e=>{switch(typeof e){case"undefined":return Fe.undefined;case"string":return Fe.string;case"number":return Number.isNaN(e)?Fe.nan:Fe.number;case"boolean":return Fe.boolean;case"function":return Fe.function;case"bigint":return Fe.bigint;case"symbol":return Fe.symbol;case"object":return Array.isArray(e)?Fe.array:e===null?Fe.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Fe.promise:typeof Map<"u"&&e instanceof Map?Fe.map:typeof Set<"u"&&e instanceof Set?Fe.set:typeof Date<"u"&&e instanceof Date?Fe.date:Fe.object;default:return Fe.unknown}},ke=_t.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class As extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return a(this),n}static assert(t){if(!(t instanceof As))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,_t.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];r[i]=r[i]||[],r[i].push(t(a))}else n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}As.create=e=>new As(e);const tk=(e,t)=>{let r;switch(e.code){case ke.invalid_type:e.received===Fe.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case ke.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,_t.jsonStringifyReplacer)}`;break;case ke.unrecognized_keys:r=`Unrecognized key(s) in object: ${_t.joinValues(e.keys,", ")}`;break;case ke.invalid_union:r="Invalid input";break;case ke.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${_t.joinValues(e.options)}`;break;case ke.invalid_enum_value:r=`Invalid enum value. Expected ${_t.joinValues(e.options)}, received '${e.received}'`;break;case ke.invalid_arguments:r="Invalid function arguments";break;case ke.invalid_return_type:r="Invalid function return type";break;case ke.invalid_date:r="Invalid date";break;case ke.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:_t.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case ke.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case ke.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case ke.custom:r="Invalid input";break;case ke.invalid_intersection_types:r="Intersection results could not be merged";break;case ke.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case ke.not_finite:r="Number must be finite";break;default:r=t.defaultError,_t.assertNever(e)}return{message:r}};let IMe=tk;function DMe(){return IMe}const LMe=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}};function Te(e,t){const r=DMe(),n=LMe({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===tk?void 0:tk].filter(a=>!!a)});e.common.issues.push(n)}class ka{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return st;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const i=await a.key,o=await a.value;n.push({key:i,value:o})}return ka.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return st;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const st=Object.freeze({status:"aborted"}),rk=e=>({status:"dirty",value:e}),Ja=e=>({status:"valid",value:e}),hR=e=>e.status==="aborted",mR=e=>e.status==="dirty",mf=e=>e.status==="valid",Dx=e=>typeof Promise<"u"&&e instanceof Promise;var $e;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})($e||($e={}));class pl{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const pR=(e,t)=>{if(mf(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new As(e.common.issues);return this._error=r,this._error}}};function ht(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(i,o)=>{const{message:l}=e;return i.code==="invalid_enum_value"?{message:l??o.defaultError}:typeof o.data>"u"?{message:l??n??o.defaultError}:i.code!=="invalid_type"?{message:o.defaultError}:{message:l??r??o.defaultError}},description:a}}class jt{get description(){return this._def.description}_getType(t){return Oo(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Oo(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new ka,ctx:{common:t.parent.common,data:t.data,parsedType:Oo(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Dx(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Oo(t)},a=this._parseSync({data:t,path:n.path,parent:n});return pR(n,a)}"~validate"(t){var r,n;const a={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Oo(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:a});return mf(i)?{value:i.value}:{issues:a.common.issues}}catch(i){(n=(r=i==null?void 0:i.message)==null?void 0:r.toLowerCase())!=null&&n.includes("encountered")&&(this["~standard"].async=!0),a.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:a}).then(i=>mf(i)?{value:i.value}:{issues:a.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Oo(t)},a=this._parse({data:t,path:n.path,parent:n}),i=await(Dx(a)?a:Promise.resolve(a));return pR(n,i)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:ke.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new vf({schema:this,typeName:tt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return nl.create(this,this._def)}nullable(){return yf.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return oi.create(this)}promise(){return $x.create(this,this._def)}or(t){return zx.create([this,t],this._def)}and(t){return Fx.create(this,t,this._def)}transform(t){return new vf({...ht(this._def),schema:this,typeName:tt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new ak({...ht(this._def),innerType:this,defaultValue:r,typeName:tt.ZodDefault})}brand(){return new i4e({typeName:tt.ZodBranded,type:this,...ht(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new sk({...ht(this._def),innerType:this,catchValue:r,typeName:tt.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return bO.create(this,t)}readonly(){return ik.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const zMe=/^c[^\s-]{8,}$/i,FMe=/^[0-9a-z]+$/,$Me=/^[0-9A-HJKMNP-TV-Z]{26}$/i,qMe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,BMe=/^[a-z0-9_-]{21}$/i,UMe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,VMe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,WMe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,HMe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Pj;const KMe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,GMe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ZMe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,XMe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,YMe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,QMe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,yB="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",JMe=new RegExp(`^${yB}$`);function xB(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function e4e(e){return new RegExp(`^${xB(e)}$`)}function t4e(e){let t=`${yB}T${xB(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function r4e(e,t){return!!((t==="v4"||!t)&&KMe.test(e)||(t==="v6"||!t)&&ZMe.test(e))}function n4e(e,t){if(!UMe.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function a4e(e,t){return!!((t==="v4"||!t)&&GMe.test(e)||(t==="v6"||!t)&&XMe.test(e))}class $o extends jt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Fe.string){const a=this._getOrReturnCtx(t);return Te(a,{code:ke.invalid_type,expected:Fe.string,received:a.parsedType}),st}const r=new ka;let n;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(n=this._getOrReturnCtx(t,n),Te(n,{code:ke.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")t.data.length>a.value&&(n=this._getOrReturnCtx(t,n),Te(n,{code:ke.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const i=t.data.length>a.value,o=t.data.length<a.value;(i||o)&&(n=this._getOrReturnCtx(t,n),i?Te(n,{code:ke.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&Te(n,{code:ke.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")WMe.test(t.data)||(n=this._getOrReturnCtx(t,n),Te(n,{validation:"email",code:ke.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")Pj||(Pj=new RegExp(HMe,"u")),Pj.test(t.data)||(n=this._getOrReturnCtx(t,n),Te(n,{validation:"emoji",code:ke.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")qMe.test(t.data)||(n=this._getOrReturnCtx(t,n),Te(n,{validation:"uuid",code:ke.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")BMe.test(t.data)||(n=this._getOrReturnCtx(t,n),Te(n,{validation:"nanoid",code:ke.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")zMe.test(t.data)||(n=this._getOrReturnCtx(t,n),Te(n,{validation:"cuid",code:ke.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")FMe.test(t.data)||(n=this._getOrReturnCtx(t,n),Te(n,{validation:"cuid2",code:ke.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")$Me.test(t.data)||(n=this._getOrReturnCtx(t,n),Te(n,{validation:"ulid",code:ke.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{n=this._getOrReturnCtx(t,n),Te(n,{validation:"url",code:ke.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(n=this._getOrReturnCtx(t,n),Te(n,{validation:"regex",code:ke.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(n=this._getOrReturnCtx(t,n),Te(n,{code:ke.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(n=this._getOrReturnCtx(t,n),Te(n,{code:ke.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(n=this._getOrReturnCtx(t,n),Te(n,{code:ke.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?t4e(a).test(t.data)||(n=this._getOrReturnCtx(t,n),Te(n,{code:ke.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?JMe.test(t.data)||(n=this._getOrReturnCtx(t,n),Te(n,{code:ke.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?e4e(a).test(t.data)||(n=this._getOrReturnCtx(t,n),Te(n,{code:ke.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?VMe.test(t.data)||(n=this._getOrReturnCtx(t,n),Te(n,{validation:"duration",code:ke.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?r4e(t.data,a.version)||(n=this._getOrReturnCtx(t,n),Te(n,{validation:"ip",code:ke.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?n4e(t.data,a.alg)||(n=this._getOrReturnCtx(t,n),Te(n,{validation:"jwt",code:ke.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?a4e(t.data,a.version)||(n=this._getOrReturnCtx(t,n),Te(n,{validation:"cidr",code:ke.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?YMe.test(t.data)||(n=this._getOrReturnCtx(t,n),Te(n,{validation:"base64",code:ke.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?QMe.test(t.data)||(n=this._getOrReturnCtx(t,n),Te(n,{validation:"base64url",code:ke.invalid_string,message:a.message}),r.dirty()):_t.assertNever(a);return{status:r.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:ke.invalid_string,...$e.errToObj(n)})}_addCheck(t){return new $o({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...$e.errToObj(t)})}url(t){return this._addCheck({kind:"url",...$e.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...$e.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...$e.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...$e.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...$e.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...$e.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...$e.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...$e.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...$e.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...$e.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...$e.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...$e.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...$e.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...$e.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...$e.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...$e.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...$e.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...$e.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...$e.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...$e.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...$e.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...$e.errToObj(r)})}nonempty(t){return this.min(1,$e.errToObj(t))}trim(){return new $o({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new $o({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new $o({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}$o.create=e=>new $o({checks:[],typeName:tt.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...ht(e)});function s4e(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,i=Number.parseInt(e.toFixed(a).replace(".","")),o=Number.parseInt(t.toFixed(a).replace(".",""));return i%o/10**a}class pf extends jt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Fe.number){const a=this._getOrReturnCtx(t);return Te(a,{code:ke.invalid_type,expected:Fe.number,received:a.parsedType}),st}let r;const n=new ka;for(const a of this._def.checks)a.kind==="int"?_t.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),Te(r,{code:ke.invalid_type,expected:"integer",received:"float",message:a.message}),n.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(r=this._getOrReturnCtx(t,r),Te(r,{code:ke.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(r=this._getOrReturnCtx(t,r),Te(r,{code:ke.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty()):a.kind==="multipleOf"?s4e(t.data,a.value)!==0&&(r=this._getOrReturnCtx(t,r),Te(r,{code:ke.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),Te(r,{code:ke.not_finite,message:a.message}),n.dirty()):_t.assertNever(a);return{status:n.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,$e.toString(r))}gt(t,r){return this.setLimit("min",t,!1,$e.toString(r))}lte(t,r){return this.setLimit("max",t,!0,$e.toString(r))}lt(t,r){return this.setLimit("max",t,!1,$e.toString(r))}setLimit(t,r,n,a){return new pf({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:$e.toString(a)}]})}_addCheck(t){return new pf({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:$e.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:$e.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:$e.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:$e.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:$e.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:$e.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:$e.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:$e.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:$e.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&_t.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}pf.create=e=>new pf({checks:[],typeName:tt.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...ht(e)});class Cp extends jt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Fe.bigint)return this._getInvalidInput(t);let r;const n=new ka;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(r=this._getOrReturnCtx(t,r),Te(r,{code:ke.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(r=this._getOrReturnCtx(t,r),Te(r,{code:ke.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),Te(r,{code:ke.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):_t.assertNever(a);return{status:n.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return Te(r,{code:ke.invalid_type,expected:Fe.bigint,received:r.parsedType}),st}gte(t,r){return this.setLimit("min",t,!0,$e.toString(r))}gt(t,r){return this.setLimit("min",t,!1,$e.toString(r))}lte(t,r){return this.setLimit("max",t,!0,$e.toString(r))}lt(t,r){return this.setLimit("max",t,!1,$e.toString(r))}setLimit(t,r,n,a){return new Cp({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:$e.toString(a)}]})}_addCheck(t){return new Cp({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:$e.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:$e.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:$e.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:$e.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:$e.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Cp.create=e=>new Cp({checks:[],typeName:tt.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...ht(e)});class gR extends jt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Fe.boolean){const r=this._getOrReturnCtx(t);return Te(r,{code:ke.invalid_type,expected:Fe.boolean,received:r.parsedType}),st}return Ja(t.data)}}gR.create=e=>new gR({typeName:tt.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...ht(e)});class Lx extends jt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Fe.date){const a=this._getOrReturnCtx(t);return Te(a,{code:ke.invalid_type,expected:Fe.date,received:a.parsedType}),st}if(Number.isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return Te(a,{code:ke.invalid_date}),st}const r=new ka;let n;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(n=this._getOrReturnCtx(t,n),Te(n,{code:ke.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(n=this._getOrReturnCtx(t,n),Te(n,{code:ke.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):_t.assertNever(a);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Lx({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:$e.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:$e.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Lx.create=e=>new Lx({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:tt.ZodDate,...ht(e)});class vR extends jt{_parse(t){if(this._getType(t)!==Fe.symbol){const r=this._getOrReturnCtx(t);return Te(r,{code:ke.invalid_type,expected:Fe.symbol,received:r.parsedType}),st}return Ja(t.data)}}vR.create=e=>new vR({typeName:tt.ZodSymbol,...ht(e)});class yR extends jt{_parse(t){if(this._getType(t)!==Fe.undefined){const r=this._getOrReturnCtx(t);return Te(r,{code:ke.invalid_type,expected:Fe.undefined,received:r.parsedType}),st}return Ja(t.data)}}yR.create=e=>new yR({typeName:tt.ZodUndefined,...ht(e)});class xR extends jt{_parse(t){if(this._getType(t)!==Fe.null){const r=this._getOrReturnCtx(t);return Te(r,{code:ke.invalid_type,expected:Fe.null,received:r.parsedType}),st}return Ja(t.data)}}xR.create=e=>new xR({typeName:tt.ZodNull,...ht(e)});class bR extends jt{constructor(){super(...arguments),this._any=!0}_parse(t){return Ja(t.data)}}bR.create=e=>new bR({typeName:tt.ZodAny,...ht(e)});class wR extends jt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Ja(t.data)}}wR.create=e=>new wR({typeName:tt.ZodUnknown,...ht(e)});class gl extends jt{_parse(t){const r=this._getOrReturnCtx(t);return Te(r,{code:ke.invalid_type,expected:Fe.never,received:r.parsedType}),st}}gl.create=e=>new gl({typeName:tt.ZodNever,...ht(e)});class jR extends jt{_parse(t){if(this._getType(t)!==Fe.undefined){const r=this._getOrReturnCtx(t);return Te(r,{code:ke.invalid_type,expected:Fe.void,received:r.parsedType}),st}return Ja(t.data)}}jR.create=e=>new jR({typeName:tt.ZodVoid,...ht(e)});class oi extends jt{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==Fe.array)return Te(r,{code:ke.invalid_type,expected:Fe.array,received:r.parsedType}),st;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(Te(r,{code:o?ke.too_big:ke.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(Te(r,{code:ke.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(Te(r,{code:ke.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new pl(r,o,r.path,l)))).then(o=>ka.mergeArray(n,o));const i=[...r.data].map((o,l)=>a.type._parseSync(new pl(r,o,r.path,l)));return ka.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new oi({...this._def,minLength:{value:t,message:$e.toString(r)}})}max(t,r){return new oi({...this._def,maxLength:{value:t,message:$e.toString(r)}})}length(t,r){return new oi({...this._def,exactLength:{value:t,message:$e.toString(r)}})}nonempty(t){return this.min(1,t)}}oi.create=(e,t)=>new oi({type:e,minLength:null,maxLength:null,exactLength:null,typeName:tt.ZodArray,...ht(t)});function Fu(e){if(e instanceof Cr){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=nl.create(Fu(n))}return new Cr({...e._def,shape:()=>t})}else return e instanceof oi?new oi({...e._def,type:Fu(e.element)}):e instanceof nl?nl.create(Fu(e.unwrap())):e instanceof yf?yf.create(Fu(e.unwrap())):e instanceof Bc?Bc.create(e.items.map(t=>Fu(t))):e}class Cr extends jt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=_t.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==Fe.object){const c=this._getOrReturnCtx(t);return Te(c,{code:ke.invalid_type,expected:Fe.object,received:c.parsedType}),st}const{status:r,ctx:n}=this._processInputParams(t),{shape:a,keys:i}=this._getCached(),o=[];if(!(this._def.catchall instanceof gl&&this._def.unknownKeys==="strip"))for(const c in n.data)i.includes(c)||o.push(c);const l=[];for(const c of i){const u=a[c],d=n.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new pl(n,d,n.path,c)),alwaysSet:c in n.data})}if(this._def.catchall instanceof gl){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of o)l.push({key:{status:"valid",value:u},value:{status:"valid",value:n.data[u]}});else if(c==="strict")o.length>0&&(Te(n,{code:ke.unrecognized_keys,keys:o}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of o){const d=n.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new pl(n,d,n.path,u)),alwaysSet:u in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const d=await u.key,f=await u.value;c.push({key:d,value:f,alwaysSet:u.alwaysSet})}return c}).then(c=>ka.mergeObjectSync(r,c)):ka.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(t){return $e.errToObj,new Cr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var a,i;const o=((i=(a=this._def).errorMap)==null?void 0:i.call(a,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:$e.errToObj(t).message??o}:{message:o}}}:{}})}strip(){return new Cr({...this._def,unknownKeys:"strip"})}passthrough(){return new Cr({...this._def,unknownKeys:"passthrough"})}extend(t){return new Cr({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Cr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:tt.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Cr({...this._def,catchall:t})}pick(t){const r={};for(const n of _t.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Cr({...this._def,shape:()=>r})}omit(t){const r={};for(const n of _t.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new Cr({...this._def,shape:()=>r})}deepPartial(){return Fu(this)}partial(t){const r={};for(const n of _t.objectKeys(this.shape)){const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}return new Cr({...this._def,shape:()=>r})}required(t){const r={};for(const n of _t.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof nl;)a=a._def.innerType;r[n]=a}return new Cr({...this._def,shape:()=>r})}keyof(){return bB(_t.objectKeys(this.shape))}}Cr.create=(e,t)=>new Cr({shape:()=>e,unknownKeys:"strip",catchall:gl.create(),typeName:tt.ZodObject,...ht(t)});Cr.strictCreate=(e,t)=>new Cr({shape:()=>e,unknownKeys:"strict",catchall:gl.create(),typeName:tt.ZodObject,...ht(t)});Cr.lazycreate=(e,t)=>new Cr({shape:e,unknownKeys:"strip",catchall:gl.create(),typeName:tt.ZodObject,...ht(t)});class zx extends jt{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new As(l.ctx.common.issues));return Te(r,{code:ke.invalid_union,unionErrors:o}),st}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new As(c));return Te(r,{code:ke.invalid_union,unionErrors:l}),st}}get options(){return this._def.options}}zx.create=(e,t)=>new zx({options:e,typeName:tt.ZodUnion,...ht(t)});function nk(e,t){const r=Oo(e),n=Oo(t);if(e===t)return{valid:!0,data:e};if(r===Fe.object&&n===Fe.object){const a=_t.objectKeys(t),i=_t.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=nk(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===Fe.array&&n===Fe.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=nk(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===Fe.date&&n===Fe.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Fx extends jt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(i,o)=>{if(hR(i)||hR(o))return st;const l=nk(i.value,o.value);return l.valid?((mR(i)||mR(o))&&r.dirty(),{status:r.value,value:l.data}):(Te(n,{code:ke.invalid_intersection_types}),st)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Fx.create=(e,t,r)=>new Fx({left:e,right:t,typeName:tt.ZodIntersection,...ht(r)});class Bc extends jt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Fe.array)return Te(n,{code:ke.invalid_type,expected:Fe.array,received:n.parsedType}),st;if(n.data.length<this._def.items.length)return Te(n,{code:ke.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),st;!this._def.rest&&n.data.length>this._def.items.length&&(Te(n,{code:ke.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((i,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new pl(n,i,n.path,o)):null}).filter(i=>!!i);return n.common.async?Promise.all(a).then(i=>ka.mergeArray(r,i)):ka.mergeArray(r,a)}get items(){return this._def.items}rest(t){return new Bc({...this._def,rest:t})}}Bc.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Bc({items:e,typeName:tt.ZodTuple,rest:null,...ht(t)})};class NR extends jt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Fe.map)return Te(n,{code:ke.invalid_type,expected:Fe.map,received:n.parsedType}),st;const a=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:a._parse(new pl(n,l,n.path,[u,"key"])),value:i._parse(new pl(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return st;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return st;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}NR.create=(e,t,r)=>new NR({valueType:t,keyType:e,typeName:tt.ZodMap,...ht(r)});class Ep extends jt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Fe.set)return Te(n,{code:ke.invalid_type,expected:Fe.set,received:n.parsedType}),st;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(Te(n,{code:ke.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(Te(n,{code:ke.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return st;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new pl(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new Ep({...this._def,minSize:{value:t,message:$e.toString(r)}})}max(t,r){return new Ep({...this._def,maxSize:{value:t,message:$e.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Ep.create=(e,t)=>new Ep({valueType:e,minSize:null,maxSize:null,typeName:tt.ZodSet,...ht(t)});class _R extends jt{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}_R.create=(e,t)=>new _R({getter:e,typeName:tt.ZodLazy,...ht(t)});class kR extends jt{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Te(r,{received:r.data,code:ke.invalid_literal,expected:this._def.value}),st}return{status:"valid",value:t.data}}get value(){return this._def.value}}kR.create=(e,t)=>new kR({value:e,typeName:tt.ZodLiteral,...ht(t)});function bB(e,t){return new gf({values:e,typeName:tt.ZodEnum,...ht(t)})}class gf extends jt{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Te(r,{expected:_t.joinValues(n),received:r.parsedType,code:ke.invalid_type}),st}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return Te(r,{received:r.data,code:ke.invalid_enum_value,options:n}),st}return Ja(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return gf.create(t,{...this._def,...r})}exclude(t,r=this._def){return gf.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}gf.create=bB;class SR extends jt{_parse(t){const r=_t.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Fe.string&&n.parsedType!==Fe.number){const a=_t.objectValues(r);return Te(n,{expected:_t.joinValues(a),received:n.parsedType,code:ke.invalid_type}),st}if(this._cache||(this._cache=new Set(_t.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=_t.objectValues(r);return Te(n,{received:n.data,code:ke.invalid_enum_value,options:a}),st}return Ja(t.data)}get enum(){return this._def.values}}SR.create=(e,t)=>new SR({values:e,typeName:tt.ZodNativeEnum,...ht(t)});class $x extends jt{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Fe.promise&&r.common.async===!1)return Te(r,{code:ke.invalid_type,expected:Fe.promise,received:r.parsedType}),st;const n=r.parsedType===Fe.promise?r.data:Promise.resolve(r.data);return Ja(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}$x.create=(e,t)=>new $x({type:e,typeName:tt.ZodPromise,...ht(t)});class vf extends jt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===tt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{Te(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return st;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?st:c.status==="dirty"||r.value==="dirty"?rk(c.value):c});{if(r.value==="aborted")return st;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?st:l.status==="dirty"||r.value==="dirty"?rk(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?st:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?st:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!mf(o))return st;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>mf(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:r.value,value:l})):st);_t.assertNever(a)}}vf.create=(e,t,r)=>new vf({schema:e,typeName:tt.ZodEffects,effect:t,...ht(r)});vf.createWithPreprocess=(e,t,r)=>new vf({schema:t,effect:{type:"preprocess",transform:e},typeName:tt.ZodEffects,...ht(r)});class nl extends jt{_parse(t){return this._getType(t)===Fe.undefined?Ja(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}nl.create=(e,t)=>new nl({innerType:e,typeName:tt.ZodOptional,...ht(t)});class yf extends jt{_parse(t){return this._getType(t)===Fe.null?Ja(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}yf.create=(e,t)=>new yf({innerType:e,typeName:tt.ZodNullable,...ht(t)});class ak extends jt{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Fe.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}ak.create=(e,t)=>new ak({innerType:e,typeName:tt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ht(t)});class sk extends jt{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Dx(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new As(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new As(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}sk.create=(e,t)=>new sk({innerType:e,typeName:tt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ht(t)});class OR extends jt{_parse(t){if(this._getType(t)!==Fe.nan){const r=this._getOrReturnCtx(t);return Te(r,{code:ke.invalid_type,expected:Fe.nan,received:r.parsedType}),st}return{status:"valid",value:t.data}}}OR.create=e=>new OR({typeName:tt.ZodNaN,...ht(e)});class i4e extends jt{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class bO extends jt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?st:a.status==="dirty"?(r.dirty(),rk(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?st:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new bO({in:t,out:r,typeName:tt.ZodPipeline})}}class ik extends jt{_parse(t){const r=this._def.innerType._parse(t),n=a=>(mf(a)&&(a.value=Object.freeze(a.value)),a);return Dx(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}ik.create=(e,t)=>new ik({innerType:e,typeName:tt.ZodReadonly,...ht(t)});var tt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(tt||(tt={}));const Ws=$o.create,o4e=pf.create;gl.create;oi.create;const wB=Cr.create;zx.create;Fx.create;Bc.create;const l4e=gf.create;$x.create;nl.create;yf.create;const c4e=dMe,jB=g.createContext({}),Si=({...e})=>s.jsx(jB.Provider,{value:{name:e.name},children:s.jsx(pMe,{...e})}),q0=()=>{const e=g.useContext(jB),t=g.useContext(NB),{getFieldState:r,formState:n}=$0(),a=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},NB=g.createContext({}),Fs=g.forwardRef(({className:e,...t},r)=>{const n=g.useId();return s.jsx(NB.Provider,{value:{id:n},children:s.jsx("div",{ref:r,className:ve("space-y-2",e),...t})})});Fs.displayName="FormItem";const $s=g.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:a}=q0();return s.jsx(fe,{ref:r,className:ve(n&&"text-destructive",e),htmlFor:a,...t})});$s.displayName="FormLabel";const qs=g.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:i}=q0();return s.jsx(Hc,{ref:t,id:n,"aria-describedby":r?`${a} ${i}`:`${a}`,"aria-invalid":!!r,...e})});qs.displayName="FormControl";const $u=g.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=q0();return s.jsx("p",{ref:r,id:n,className:ve("text-sm text-muted-foreground",e),...t})});$u.displayName="FormDescription";const Bs=g.forwardRef(({className:e,children:t,...r},n)=>{const{error:a,formMessageId:i}=q0(),o=a?String(a==null?void 0:a.message):t;return o?s.jsx("p",{ref:n,id:i,className:ve("text-sm font-medium text-destructive",e),...r,children:o}):null});Bs.displayName="FormMessage";var _B=["PageUp","PageDown"],kB=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],SB={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Xf="Slider",[ok,u4e,d4e]=Ip(Xf),[OB]=xn(Xf,[d4e]),[f4e,B0]=OB(Xf),CB=g.forwardRef((e,t)=>{const{name:r,min:n=0,max:a=100,step:i=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[n],value:d,onValueChange:f=()=>{},onValueCommit:h=()=>{},inverted:m=!1,form:v,...p}=e,b=g.useRef(new Set),x=g.useRef(0),y=o==="horizontal"?h4e:m4e,[w=[],j]=Ga({prop:d,defaultProp:u,onChange:T=>{var P;(P=[...b.current][x.current])==null||P.focus(),f(T)}}),N=g.useRef(w);function _(T){const P=x4e(w,T);E(T,P)}function k(T){E(T,x.current)}function O(){const T=N.current[x.current];w[x.current]!==T&&h(w)}function E(T,P,{commit:S}={commit:!1}){const R=N4e(i),M=_4e(Math.round((T-n)/i)*i+n,R),B=Op(M,[n,a]);j((U=[])=>{const F=v4e(U,B,P);if(j4e(F,c*i)){x.current=F.indexOf(B);const z=String(F)!==String(U);return z&&S&&h(F),z?F:U}else return U})}return s.jsx(f4e,{scope:e.__scopeSlider,name:r,disabled:l,min:n,max:a,valueIndexToChangeRef:x,thumbs:b.current,values:w,orientation:o,form:v,children:s.jsx(ok.Provider,{scope:e.__scopeSlider,children:s.jsx(ok.Slot,{scope:e.__scopeSlider,children:s.jsx(y,{"aria-disabled":l,"data-disabled":l?"":void 0,...p,ref:t,onPointerDown:be(p.onPointerDown,()=>{l||(N.current=w)}),min:n,max:a,inverted:m,onSlideStart:l?void 0:_,onSlideMove:l?void 0:k,onSlideEnd:l?void 0:O,onHomeKeyDown:()=>!l&&E(n,0,{commit:!0}),onEndKeyDown:()=>!l&&E(a,w.length-1,{commit:!0}),onStepKeyDown:({event:T,direction:P})=>{if(!l){const S=_B.includes(T.key)||T.shiftKey&&kB.includes(T.key)?10:1,R=x.current,M=w[R],B=i*S*P;E(M+B,R,{commit:!0})}}})})})})});CB.displayName=Xf;var[EB,AB]=OB(Xf,{startEdge:"left",endEdge:"right",size:"width",direction:1}),h4e=g.forwardRef((e,t)=>{const{min:r,max:n,dir:a,inverted:i,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=e,[f,h]=g.useState(null),m=Ze(t,w=>h(w)),v=g.useRef(void 0),p=kf(a),b=p==="ltr",x=b&&!i||!b&&i;function y(w){const j=v.current||f.getBoundingClientRect(),N=[0,j.width],_=wO(N,x?[r,n]:[n,r]);return v.current=j,_(w-j.left)}return s.jsx(EB,{scope:e.__scopeSlider,startEdge:x?"left":"right",endEdge:x?"right":"left",direction:x?1:-1,size:"width",children:s.jsx(PB,{dir:p,"data-orientation":"horizontal",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:w=>{const j=y(w.clientX);o==null||o(j)},onSlideMove:w=>{const j=y(w.clientX);l==null||l(j)},onSlideEnd:()=>{v.current=void 0,c==null||c()},onStepKeyDown:w=>{const j=SB[x?"from-left":"from-right"].includes(w.key);u==null||u({event:w,direction:j?-1:1})}})})}),m4e=g.forwardRef((e,t)=>{const{min:r,max:n,inverted:a,onSlideStart:i,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...u}=e,d=g.useRef(null),f=Ze(t,d),h=g.useRef(void 0),m=!a;function v(p){const b=h.current||d.current.getBoundingClientRect(),x=[0,b.height],y=wO(x,m?[n,r]:[r,n]);return h.current=b,y(p-b.top)}return s.jsx(EB,{scope:e.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:s.jsx(PB,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:p=>{const b=v(p.clientY);i==null||i(b)},onSlideMove:p=>{const b=v(p.clientY);o==null||o(b)},onSlideEnd:()=>{h.current=void 0,l==null||l()},onStepKeyDown:p=>{const b=SB[m?"from-bottom":"from-top"].includes(p.key);c==null||c({event:p,direction:b?-1:1})}})})}),PB=g.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:a,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...u}=e,d=B0(Xf,r);return s.jsx(Ae.span,{...u,ref:t,onKeyDown:be(e.onKeyDown,f=>{f.key==="Home"?(o(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):_B.concat(kB).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:be(e.onPointerDown,f=>{const h=f.target;h.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(h)?h.focus():n(f)}),onPointerMove:be(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&a(f)}),onPointerUp:be(e.onPointerUp,f=>{const h=f.target;h.hasPointerCapture(f.pointerId)&&(h.releasePointerCapture(f.pointerId),i(f))})})}),TB="SliderTrack",MB=g.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,a=B0(TB,r);return s.jsx(Ae.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...n,ref:t})});MB.displayName=TB;var lk="SliderRange",RB=g.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,a=B0(lk,r),i=AB(lk,r),o=g.useRef(null),l=Ze(t,o),c=a.values.length,u=a.values.map(h=>LB(h,a.min,a.max)),d=c>1?Math.min(...u):0,f=100-Math.max(...u);return s.jsx(Ae.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...n,ref:l,style:{...e.style,[i.startEdge]:d+"%",[i.endEdge]:f+"%"}})});RB.displayName=lk;var ck="SliderThumb",IB=g.forwardRef((e,t)=>{const r=u4e(e.__scopeSlider),[n,a]=g.useState(null),i=Ze(t,l=>a(l)),o=g.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return s.jsx(p4e,{...e,ref:i,index:o})}),p4e=g.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:a,...i}=e,o=B0(ck,r),l=AB(ck,r),[c,u]=g.useState(null),d=Ze(t,y=>u(y)),f=c?o.form||!!c.closest("form"):!0,h=ob(c),m=o.values[n],v=m===void 0?0:LB(m,o.min,o.max),p=y4e(n,o.values.length),b=h==null?void 0:h[l.size],x=b?b4e(b,v,l.direction):0;return g.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),s.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${v}% + ${x}px)`},children:[s.jsx(ok.ItemSlot,{scope:e.__scopeSlider,children:s.jsx(Ae.span,{role:"slider","aria-label":e["aria-label"]||p,"aria-valuemin":o.min,"aria-valuenow":m,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:d,style:m===void 0?{display:"none"}:e.style,onFocus:be(e.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),f&&s.jsx(DB,{name:a??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:m},n)]})});IB.displayName=ck;var g4e="RadioBubbleInput",DB=g.forwardRef(({__scopeSlider:e,value:t,...r},n)=>{const a=g.useRef(null),i=Ze(a,n),o=M0(t);return g.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&u){const d=new Event("input",{bubbles:!0});u.call(l,t),l.dispatchEvent(d)}},[o,t]),s.jsx(Ae.input,{style:{display:"none"},...r,ref:i,defaultValue:t})});DB.displayName=g4e;function v4e(e=[],t,r){const n=[...e];return n[r]=t,n.sort((a,i)=>a-i)}function LB(e,t,r){const n=100/(r-t)*(e-t);return Op(n,[0,100])}function y4e(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function x4e(e,t){if(e.length===1)return 0;const r=e.map(a=>Math.abs(a-t)),n=Math.min(...r);return r.indexOf(n)}function b4e(e,t,r){const n=e/2,a=wO([0,50],[0,n]);return(n-a(t)*r)*r}function w4e(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function j4e(e,t){if(t>0){const r=w4e(e);return Math.min(...r)>=t}return!0}function wO(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function N4e(e){return(String(e).split(".")[1]||"").length}function _4e(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var zB=CB,k4e=MB,S4e=RB,O4e=IB;const FB=g.forwardRef(({className:e,...t},r)=>s.jsxs(zB,{ref:r,className:ve("relative flex w-full touch-none select-none items-center",e),...t,children:[s.jsx(k4e,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:s.jsx(S4e,{className:"absolute h-full bg-primary"})}),s.jsx(O4e,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));FB.displayName=zB.displayName;const C4e=wB({place_name:Ws().min(1,"Nome é obrigatório"),place_address:Ws().optional(),place_phone:Ws().optional(),place_website:Ws().optional(),pipeline_stage:l4e(["lead","contacted","qualified","proposal","negotiation","won"]),expected_revenue:Ws().optional(),probability:o4e().min(0).max(100),notes:Ws().optional(),tags:Ws().optional()}),E4e=[{value:"lead",label:"Lead"},{value:"contacted",label:"Contactado"},{value:"qualified",label:"Qualificado"},{value:"proposal",label:"Proposta"},{value:"negotiation",label:"Negociação"},{value:"won",label:"Ganho"}];function $B({open:e,onOpenChange:t,prospect:r,onSuccess:n}){const{currentOrg:a}=bn(),[i,o]=C.useState(!1),l=AMe({resolver:RMe(C4e),defaultValues:{place_name:"",place_address:"",place_phone:"",place_website:"",pipeline_stage:"lead",expected_revenue:"",probability:50,notes:"",tags:""}});g.useEffect(()=>{var u,d,f,h,m,v,p;r?l.reset({place_name:((u=r.places)==null?void 0:u.name)||"",place_address:((d=r.places)==null?void 0:d.formatted_address)||"",place_phone:((f=r.places)==null?void 0:f.phone_number)||"",place_website:((h=r.places)==null?void 0:h.website)||"",pipeline_stage:r.pipeline_stage||"lead",expected_revenue:((m=r.expected_revenue)==null?void 0:m.toString())||"",probability:r.probability||50,notes:r.notes||"",tags:((p=(v=r.places)==null?void 0:v.types)==null?void 0:p.join(", "))||""}):l.reset({place_name:"",place_address:"",place_phone:"",place_website:"",pipeline_stage:"lead",expected_revenue:"",probability:50,notes:"",tags:""})},[r,l]);const c=async u=>{var d;if(!a){ae.error("Nenhuma organização selecionada");return}o(!0);try{const{data:{user:f}}=await le.auth.getUser();if(!f){ae.error("Usuário não autenticado");return}if(r){if((d=r.places)!=null&&d.id){const{error:m}=await le.from("places").update({name:u.place_name,formatted_address:u.place_address||null,phone_number:u.place_phone||null,website:u.place_website||null,types:u.tags?u.tags.split(",").map(v=>v.trim()):[]}).eq("id",r.places.id);if(m)throw m}const{error:h}=await le.from("prospects").update({pipeline_stage:u.pipeline_stage,expected_revenue:u.expected_revenue?parseFloat(u.expected_revenue):null,probability:u.probability,notes:u.notes||null,last_activity:new Date().toISOString()}).eq("id",r.id);if(h)throw h;ae.success("Oportunidade atualizada com sucesso!")}else{const{data:h,error:m}=await le.from("places").insert({name:u.place_name,formatted_address:u.place_address||null,phone_number:u.place_phone||null,website:u.place_website||null,types:u.tags?u.tags.split(",").map(p=>p.trim()):[],google_place_id:`manual_${Date.now()}`}).select().single();if(m)throw m;const{error:v}=await le.from("prospects").insert({org_id:a.id,place_id:h.id,pipeline_stage:u.pipeline_stage,expected_revenue:u.expected_revenue?parseFloat(u.expected_revenue):null,probability:u.probability,notes:u.notes||null,status:"new",source:"manual"});if(v)throw v;ae.success("Oportunidade criada com sucesso!")}n(),t(!1),l.reset()}catch(f){console.error("Error saving opportunity:",f),ae.error(f.message||"Erro ao salvar oportunidade")}finally{o(!1)}};return s.jsx(Qt,{open:e,onOpenChange:t,children:s.jsxs(Ut,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Jt,{children:[s.jsxs(er,{className:"flex items-center gap-2 text-2xl",children:[s.jsx(nr,{className:"h-6 w-6 text-primary"}),r?"Editar Oportunidade":"Nova Oportunidade"]}),s.jsx(or,{children:r?"Atualize as informações desta oportunidade no pipeline":"Adicione uma nova oportunidade ao pipeline de vendas"})]}),s.jsx(c4e,{...l,children:s.jsxs("form",{onSubmit:l.handleSubmit(c),className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(nr,{className:"h-5 w-5"}),"Informações do Cliente"]}),s.jsx(Si,{control:l.control,name:"place_name",render:({field:u})=>s.jsxs(Fs,{children:[s.jsx($s,{children:"Nome do Cliente *"}),s.jsx(qs,{children:s.jsx(qe,{placeholder:"Ex: Empresa ABC Ltda",...u})}),s.jsx(Bs,{})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(Si,{control:l.control,name:"place_phone",render:({field:u})=>s.jsxs(Fs,{children:[s.jsx($s,{children:"Telefone"}),s.jsx(qs,{children:s.jsx(qe,{placeholder:"(11) 99999-9999",...u})}),s.jsx(Bs,{})]})}),s.jsx(Si,{control:l.control,name:"place_website",render:({field:u})=>s.jsxs(Fs,{children:[s.jsx($s,{children:"Website"}),s.jsx(qs,{children:s.jsx(qe,{placeholder:"www.exemplo.com.br",...u})}),s.jsx(Bs,{})]})})]}),s.jsx(Si,{control:l.control,name:"place_address",render:({field:u})=>s.jsxs(Fs,{children:[s.jsx($s,{children:"Endereço"}),s.jsx(qs,{children:s.jsx(qe,{placeholder:"Rua, número, bairro, cidade",...u})}),s.jsx(Bs,{})]})}),s.jsx(Si,{control:l.control,name:"tags",render:({field:u})=>s.jsxs(Fs,{children:[s.jsx($s,{children:"Tags / Categorias"}),s.jsx(qs,{children:s.jsx(qe,{placeholder:"restaurante, comércio, serviços (separadas por vírgula)",...u})}),s.jsx($u,{children:"Categorias ou tags para classificar este cliente"}),s.jsx(Bs,{})]})})]}),s.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(Ec,{className:"h-5 w-5"}),"Detalhes da Oportunidade"]}),s.jsx(Si,{control:l.control,name:"pipeline_stage",render:({field:u})=>s.jsxs(Fs,{children:[s.jsx($s,{children:"Estágio do Pipeline *"}),s.jsxs(ot,{onValueChange:u.onChange,defaultValue:u.value,value:u.value,children:[s.jsx(qs,{children:s.jsx(nt,{children:s.jsx(lt,{placeholder:"Selecione o estágio"})})}),s.jsx(at,{children:E4e.map(d=>s.jsx(re,{value:d.value,children:d.label},d.value))})]}),s.jsx($u,{children:"Estágio atual desta oportunidade no pipeline"}),s.jsx(Bs,{})]})}),s.jsx(Si,{control:l.control,name:"expected_revenue",render:({field:u})=>s.jsxs(Fs,{children:[s.jsx($s,{children:"Receita Esperada (R$)"}),s.jsx(qs,{children:s.jsxs("div",{className:"relative",children:[s.jsx(Ec,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(qe,{type:"number",step:"0.01",placeholder:"0.00",className:"pl-10",...u})]})}),s.jsx($u,{children:"Valor estimado desta oportunidade"}),s.jsx(Bs,{})]})}),s.jsx(Si,{control:l.control,name:"probability",render:({field:u})=>s.jsxs(Fs,{children:[s.jsxs($s,{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Probabilidade de Fechamento"}),s.jsxs("span",{className:"text-primary font-semibold",children:[u.value,"%"]})]}),s.jsx(qs,{children:s.jsx(FB,{min:0,max:100,step:5,value:[u.value],onValueChange:d=>u.onChange(d[0]),className:"py-4"})}),s.jsx($u,{children:"Chance estimada de fechar esta oportunidade (0-100%)"}),s.jsx(Bs,{})]})}),s.jsx(Si,{control:l.control,name:"notes",render:({field:u})=>s.jsxs(Fs,{children:[s.jsx($s,{children:"Notas"}),s.jsx(qs,{children:s.jsx(Gn,{placeholder:"Adicione observações, histórico de contatos, próximos passos...",className:"min-h-[120px] resize-y",...u})}),s.jsx($u,{children:"Informações adicionais sobre esta oportunidade"}),s.jsx(Bs,{})]})})]}),s.jsxs(gn,{className:"gap-2",children:[s.jsx(Q,{type:"button",variant:"outline",onClick:()=>{t(!1),l.reset()},disabled:i,children:"Cancelar"}),s.jsx(Q,{type:"submit",disabled:i,children:i?s.jsxs(s.Fragment,{children:[s.jsx(gt,{className:"mr-2 h-4 w-4 animate-spin"}),"Salvando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(nr,{className:"mr-2 h-4 w-4"}),r?"Atualizar":"Criar"," Oportunidade"]})})]})]})})]})})}function A4e(){const{currentOrg:e}=bn(),[t,r]=g.useState("contacts"),[n,a]=g.useState(""),[i,o]=g.useState(""),[l,c]=g.useState("all"),[u,d]=g.useState([]),[f,h]=g.useState(!1),[m,v]=g.useState(!1),[p,b]=g.useState(!1),[x,y]=g.useState(null),[w,j]=g.useState(null),[N,_]=g.useState({full_name:"",email:"",phone_e164:""}),[k,O]=g.useState(!1),[E,T]=g.useState(null),{data:P=[],isLoading:S,refetch:R}=bt({queryKey:["contacts",n,e==null?void 0:e.id],queryFn:async()=>{if(!e)return[];let V=le.from("contacts").select("*").eq("org_id",e.id).order("created_at",{ascending:!1});n&&(V=V.or(`full_name.ilike.%${n}%,email.ilike.%${n}%,phone_e164.ilike.%${n}%`));const{data:de,error:te}=await V;if(te)throw te;return de},enabled:!!e}),{data:M=[],isLoading:B,refetch:U}=bt({queryKey:["prospects",i,e==null?void 0:e.id],queryFn:async()=>{if(!e)return[];let V=le.from("prospects").select(`
          *,
          places (
            name,
            formatted_address,
            phone_number,
            website,
            types
          )
        `).eq("org_id",e.id).order("created_at",{ascending:!1});i&&(V=V.or(`notes.ilike.%${i}%,places.name.ilike.%${i}%`));const{data:de,error:te}=await V;return te?(console.error("Error fetching prospects:",te),[]):de||[]},enabled:!!(e!=null&&e.id)}),F=async()=>{if(!N.full_name&&!N.email){ae.error("Preencha pelo menos nome ou email");return}O(!0);try{const{data:{user:V}}=await le.auth.getUser();if(!V){ae.error("Usuário não autenticado");return}if(!e){ae.error("Nenhuma organização selecionada");return}const{data:de,error:te}=await le.from("orgs").select("id").eq("id",e.id).single();if(te||!de){console.error("Organização não encontrada:",te),ae.error("Organização não encontrada. Tente fazer logout e login novamente.");return}const{error:ce}=await le.from("contacts").insert({org_id:e.id,full_name:N.full_name||null,email:N.email||null,phone_e164:N.phone_e164||null});if(ce)throw ce;ae.success("Contato adicionado com sucesso!"),h(!1),_({full_name:"",email:"",phone_e164:""}),R()}catch(V){console.error("Error adding contact:",V),ae.error("Erro ao adicionar contato")}finally{O(!1)}},z=async()=>{if(x){O(!0);try{const{error:V}=await le.from("contacts").update({full_name:N.full_name||null,email:N.email||null,phone_e164:N.phone_e164||null}).eq("id",x.id);if(V)throw V;ae.success("Contato atualizado com sucesso!"),v(!1),y(null),_({full_name:"",email:"",phone_e164:""}),R()}catch(V){console.error("Error updating contact:",V),ae.error("Erro ao atualizar contato")}finally{O(!1)}}},I=async V=>{if(confirm("Tem certeza que deseja deletar este contato?")){T(V);try{const{error:de}=await le.from("contacts").delete().eq("id",V);if(de)throw de;ae.success("Contato deletado com sucesso!"),R()}catch(de){console.error("Error deleting contact:",de),ae.error("Erro ao deletar contato")}finally{T(null)}}},G=V=>{y(V),_({full_name:V.full_name||"",email:V.email||"",phone_e164:V.phone_e164||""}),v(!0)},L=M.filter(V=>{var de,te,ce;const ne=!i||((te=(de=V.places)==null?void 0:de.name)==null?void 0:te.toLowerCase().includes(i.toLowerCase()))||((ce=V.notes)==null?void 0:ce.toLowerCase().includes(i.toLowerCase())),ee=l==="all"||V.pipeline_stage===l;return ne&&ee}),$=V=>{d(V?L.map(de=>de.id):[])},J=(V,de)=>{d(de?te=>[...te,V]:te=>te.filter(ce=>ce!==V))},K=()=>{j(null),b(!0)},D=V=>{j(V),b(!0)},oe=()=>{U()};return s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:s.jsx("div",{className:"flex h-16 items-center px-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ir,{className:"h-5 w-5 text-muted-foreground"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Gestão"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"/"}),s.jsx("span",{className:"text-sm font-medium",children:"Contatos"})]})})}),s.jsx("div",{className:"flex-1 overflow-auto",children:s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Contatos"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Gerencie sua base de contatos e prospects"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[t==="prospects"&&s.jsxs(Q,{variant:"outline",onClick:()=>b(!0),children:[s.jsx(wr,{className:"h-4 w-4 mr-2"}),"Nova Oportunidade"]}),s.jsxs(Q,{onClick:()=>h(!0),children:[s.jsx(wr,{className:"h-4 w-4 mr-2"}),"Novo Contato"]})]})]}),s.jsxs(Na,{value:t,onValueChange:r,className:"space-y-4",children:[s.jsxs(Jn,{className:"grid w-full grid-cols-2",children:[s.jsxs(et,{value:"contacts",className:"flex items-center space-x-2",children:[s.jsx(ir,{className:"h-4 w-4"}),s.jsx("span",{children:"Contatos"})]}),s.jsxs(et,{value:"prospects",className:"flex items-center space-x-2",children:[s.jsx(nr,{className:"h-4 w-4"}),s.jsx("span",{children:"Prospects"})]})]}),s.jsx(dt,{value:"contacts",className:"space-y-4",children:s.jsxs(ie,{className:"border-2 hover:border-primary/30 transition-all shadow-lg",children:[s.jsx(me,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(ir,{className:"h-5 w-5 text-primary"}),"Lista de Contatos"]}),s.jsx(De,{className:"mt-1",children:"Todos os seus contatos em um só lugar"})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("div",{className:"relative",children:[s.jsx(qa,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(qe,{placeholder:"Buscar contatos...",className:"pl-9 w-64",value:n,onChange:V=>a(V.target.value)})]})})]})}),s.jsx(ue,{children:s.jsxs(lO,{children:[s.jsx(cO,{children:s.jsxs(zi,{children:[s.jsx(kn,{children:"Nome"}),s.jsx(kn,{children:"Email"}),s.jsx(kn,{children:"Telefone"}),s.jsx(kn,{children:"Tags"}),s.jsx(kn,{children:"Status"}),s.jsx(kn,{children:"Último Contato"}),s.jsx(kn,{className:"text-right",children:"Ações"})]})}),s.jsx(uO,{children:S?s.jsx(zi,{children:s.jsx(zr,{colSpan:7,className:"text-center py-8",children:s.jsx(gt,{className:"h-8 w-8 animate-spin mx-auto text-primary"})})}):P.length===0?s.jsx(zi,{children:s.jsxs(zr,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:[s.jsx(ir,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"Nenhum contato encontrado"})]})}):P.map(V=>s.jsxs(zi,{className:"hover:bg-accent/50 transition-colors",children:[s.jsx(zr,{className:"font-medium",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-primary to-primary-glow flex items-center justify-center text-white font-semibold",children:(V.full_name||V.email||"?").charAt(0).toUpperCase()}),V.full_name||"Sem nome"]})}),s.jsx(zr,{children:V.email?s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(Ad,{className:"h-4 w-4"}),V.email]}):s.jsx("span",{className:"text-muted-foreground",children:"-"})}),s.jsx(zr,{children:V.phone_e164?s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(Cf,{className:"h-4 w-4"}),V.phone_e164]}):s.jsx("span",{className:"text-muted-foreground",children:"-"})}),s.jsx(zr,{children:s.jsx("div",{className:"flex flex-wrap gap-1",children:s.jsx("span",{className:"text-muted-foreground text-sm",children:"-"})})}),s.jsx(zr,{children:s.jsx(Le,{variant:"default",className:"bg-emerald-500/10 text-emerald-600",children:"Ativo"})}),s.jsx(zr,{className:"text-muted-foreground",children:vc(new Date(V.created_at),{addSuffix:!0,locale:Yo})}),s.jsx(zr,{className:"text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsxs(Q,{variant:"outline",size:"sm",onClick:()=>G(V),children:[s.jsx(dl,{className:"h-3 w-3 mr-1"}),"Editar"]}),s.jsx(Q,{variant:"outline",size:"sm",onClick:()=>I(V.id),disabled:E===V.id,children:E===V.id?s.jsx(gt,{className:"h-3 w-3 animate-spin"}):s.jsx(no,{className:"h-3 w-3"})})]})})]},V.id))})]})})]})}),s.jsxs(dt,{value:"prospects",className:"space-y-4",children:[s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsx(pe,{className:"text-lg",children:"Filtros e Busca"}),s.jsx(De,{children:"Encontre prospects específicos no pipeline"})]}),s.jsx(ue,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(qa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),s.jsx(qe,{placeholder:"Buscar por nome ou notas...",value:i,onChange:V=>o(V.target.value),className:"pl-10"})]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(IS,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("select",{value:l,onChange:V=>c(V.target.value),className:"px-3 py-2 border rounded-md",children:[s.jsx("option",{value:"all",children:"Todos os Estágios"}),s.jsx("option",{value:"lead",children:"Leads"}),s.jsx("option",{value:"contacted",children:"Contactados"}),s.jsx("option",{value:"qualified",children:"Qualificados"}),s.jsx("option",{value:"proposal",children:"Proposta"}),s.jsx("option",{value:"negotiation",children:"Negociação"}),s.jsx("option",{value:"won",children:"Ganhos"})]})]})]})})]}),s.jsxs(ie,{children:[s.jsx(me,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(nr,{className:"h-5 w-5 text-primary"}),"Prospects no Pipeline"]}),s.jsxs(De,{className:"mt-1",children:[L.length," ",L.length===1?"prospect encontrado":"prospects encontrados"]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(qc,{checked:u.length===L.length&&L.length>0,onCheckedChange:$}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Selecionar todos"})]}),s.jsx(aB,{prospects:M,selectedIds:u,onExportComplete:()=>{d([])}})]})]})}),s.jsx(ue,{children:B?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),s.jsx("span",{children:"Carregando prospects..."})]})}):L.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(nr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Nenhum prospect encontrado"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:i||l!=="all"?"Tente ajustar os filtros de busca":"Comece adicionando prospects ao seu pipeline"}),s.jsxs(Q,{onClick:K,children:[s.jsx(wr,{className:"h-4 w-4 mr-2"}),"Adicionar Prospect"]})]}):s.jsx("div",{className:"space-y-4",children:L.map(V=>{var de,te,ce;return s.jsx(ie,{className:"hover:shadow-md transition-shadow cursor-pointer",onClick:()=>D(V),children:s.jsx(ue,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(qc,{checked:u.includes(V.id),onCheckedChange:ne=>J(V.id,ne)}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx("h3",{className:"font-medium",children:((de=V.places)==null?void 0:de.name)||"Nome não disponível"}),s.jsx(Le,{variant:"outline",children:V.pipeline_stage})]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:(te=V.places)==null?void 0:te.formatted_address}),((ce=V.places)==null?void 0:ce.phone_number)&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["📞 ",V.places.phone_number]}),V.expected_revenue&&s.jsxs("p",{className:"text-sm font-medium text-green-600",children:["💰 R$ ",V.expected_revenue.toLocaleString("pt-BR")]}),V.probability&&s.jsxs("p",{className:"text-sm text-blue-600",children:["📊 ",V.probability,"% de probabilidade"]}),V.notes&&s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["📝 ",V.notes]})]})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx(Q,{size:"sm",variant:"outline",onClick:()=>D(V),children:"Editar"})})]})})},V.id)})})})]})]})]})]})}),s.jsx(Qt,{open:f,onOpenChange:h,children:s.jsxs(Ut,{className:"sm:max-w-[500px]",children:[s.jsxs(Jt,{children:[s.jsx(er,{children:"Adicionar Contato"}),s.jsx(or,{children:"Preencha os dados do novo contato"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"add-name",children:"Nome Completo"}),s.jsx(qe,{id:"add-name",placeholder:"João Silva",value:N.full_name,onChange:V=>_({...N,full_name:V.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"add-email",children:"Email"}),s.jsx(qe,{id:"add-email",type:"email",placeholder:"joao@email.com",value:N.email,onChange:V=>_({...N,email:V.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"add-phone",children:"Telefone"}),s.jsx(qe,{id:"add-phone",type:"tel",placeholder:"+5511999999999",value:N.phone_e164,onChange:V=>_({...N,phone_e164:V.target.value})})]})]}),s.jsxs(gn,{children:[s.jsx(Q,{variant:"outline",onClick:()=>h(!1),children:"Cancelar"}),s.jsxs(Q,{onClick:F,disabled:k,className:"bg-gradient-to-r from-primary to-primary-glow",children:[k?s.jsx(gt,{className:"h-4 w-4 animate-spin mr-2"}):s.jsx(wr,{className:"h-4 w-4 mr-2"}),"Adicionar"]})]})]})}),s.jsx(Qt,{open:m,onOpenChange:v,children:s.jsxs(Ut,{className:"sm:max-w-[500px]",children:[s.jsxs(Jt,{children:[s.jsx(er,{children:"Editar Contato"}),s.jsx(or,{children:"Atualize os dados do contato"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"edit-name",children:"Nome Completo"}),s.jsx(qe,{id:"edit-name",placeholder:"João Silva",value:N.full_name,onChange:V=>_({...N,full_name:V.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"edit-email",children:"Email"}),s.jsx(qe,{id:"edit-email",type:"email",placeholder:"joao@email.com",value:N.email,onChange:V=>_({...N,email:V.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"edit-phone",children:"Telefone"}),s.jsx(qe,{id:"edit-phone",type:"tel",placeholder:"+5511999999999",value:N.phone_e164,onChange:V=>_({...N,phone_e164:V.target.value})})]})]}),s.jsxs(gn,{children:[s.jsx(Q,{variant:"outline",onClick:()=>v(!1),children:"Cancelar"}),s.jsxs(Q,{onClick:z,disabled:k,className:"bg-gradient-to-r from-primary to-primary-glow",children:[k?s.jsx(gt,{className:"h-4 w-4 animate-spin mr-2"}):s.jsx(dl,{className:"h-4 w-4 mr-2"}),"Salvar"]})]})]})}),s.jsx($B,{open:p,onOpenChange:b,prospect:w,onSuccess:oe})]})}var U0="Switch",[P4e]=xn(U0),[T4e,M4e]=P4e(U0),qB=g.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=g.useState(null),v=Ze(t,w=>m(w)),p=g.useRef(!1),b=h?d||!!h.closest("form"):!0,[x,y]=Ga({prop:a,defaultProp:i??!1,onChange:u,caller:U0});return s.jsxs(T4e,{scope:r,checked:x,disabled:l,children:[s.jsx(Ae.button,{type:"button",role:"switch","aria-checked":x,"aria-required":o,"data-state":WB(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:v,onClick:be(e.onClick,w=>{y(j=>!j),b&&(p.current=w.isPropagationStopped(),p.current||w.stopPropagation())})}),b&&s.jsx(VB,{control:h,bubbles:!p.current,name:n,value:c,checked:x,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});qB.displayName=U0;var BB="SwitchThumb",UB=g.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=M4e(BB,r);return s.jsx(Ae.span,{"data-state":WB(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});UB.displayName=BB;var R4e="SwitchBubbleInput",VB=g.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=g.useRef(null),l=Ze(o,i),c=M0(r),u=ob(t);return g.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&h){const m=new Event("click",{bubbles:n});h.call(d,r),d.dispatchEvent(m)}},[c,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});VB.displayName=R4e;function WB(e){return e?"checked":"unchecked"}var HB=qB,I4e=UB;const za=g.forwardRef(({className:e,...t},r)=>s.jsx(HB,{className:ve("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:s.jsx(I4e,{className:ve("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));za.displayName=HB.displayName;function D4e({campaignName:e,channelType:t,onSave:r,onCancel:n,initialSteps:a=[]}){var i;const[o,l]=g.useState(a),[c,u]=g.useState(!1),[d,f]=g.useState(!1),[h,m]=g.useState(null),[v,p]=g.useState("message"),[b,x]=g.useState({message:"",delay:1,delayUnit:"hours",condition:"",action:"",waitTimeout:60,tagName:"",webhookUrl:"",webhookMethod:"POST",splitType:"random",splitPercentage:50,surveyQuestions:[],notificationMessage:"",calendarEvent:"",locationType:"request"}),[y,w]=g.useState(!1),[j,N]=g.useState(""),[_,k]=g.useState(""),[O,E]=g.useState(""),T=()=>Math.random().toString(36).substring(2,9),P=()=>{const D={id:(h==null?void 0:h.id)||T(),type:v,name:S(v),config:{...b}};l(h?o.map(oe=>oe.id===h.id?D:oe):[...o,D]),R()},S=D=>({message:"Enviar Mensagem",delay:"Aguardar",condition:"Condição",action:"Ação",wait_for_response:"Aguardar Resposta",tag:"Adicionar Tag",webhook:"Webhook",split:"Divisão de Fluxo",merge:"Mesclagem de Fluxo",survey:"Pesquisa",notification:"Notificação",calendar:"Agendamento",location:"Localização"})[D],R=()=>{u(!1),m(null),p("message"),x({message:"",delay:1,delayUnit:"hours",condition:"",action:"",waitTimeout:60,tagName:"",webhookUrl:"",webhookMethod:"POST",splitType:"random",splitPercentage:50,surveyQuestions:[],notificationMessage:"",calendarEvent:"",locationType:"request"})},M=D=>{l(o.filter(oe=>oe.id!==D))},B=(D,oe)=>{const V=[...o],de=oe==="up"?D-1:D+1;de>=0&&de<o.length&&([V[D],V[de]]=[V[de],V[D]],l(V))},U=D=>{m(D),p(D.type),x(D.config),u(!0)},F=async()=>{if(!j.trim()){ae.error("Por favor, descreva o objetivo da campanha");return}w(!0);try{await new Promise(oe=>setTimeout(oe,2e3));const D=z(j,_,O,t);l(D),ae.success("Fluxo gerado com IA com sucesso!"),f(!1)}catch{ae.error("Erro ao gerar fluxo com IA")}finally{w(!1)}},z=(D,oe,V,de)=>{const te=D.toLowerCase(),ce=[];return ce.push({id:T(),type:"message",name:"Mensagem de Boas-vindas",config:{message:I(D,oe,V)}}),ce.push({id:T(),type:"wait_for_response",name:"Aguardar Resposta",config:{waitTimeout:3600}}),te.includes("agendamento")||te.includes("reunião")?ce.push({id:T(),type:"calendar",name:"Solicitar Agendamento",config:{calendarEvent:"Reunião de apresentação"}}):te.includes("pesquisa")||te.includes("feedback")?ce.push({id:T(),type:"survey",name:"Pesquisa de Satisfação",config:{surveyQuestions:["Como você avalia nosso atendimento?","Que nota daria de 1 a 10?"]}}):te.includes("localização")||te.includes("endereço")?ce.push({id:T(),type:"location",name:"Solicitar Localização",config:{locationType:"request"}}):ce.push({id:T(),type:"message",name:"Mensagem de Follow-up",config:{message:G(D)}}),ce.push({id:T(),type:"delay",name:"Aguardar",config:{delay:24,delayUnit:"hours"}}),ce.push({id:T(),type:"message",name:"Mensagem Final",config:{message:L(D)}}),ce.push({id:T(),type:"tag",name:"Marcar como Processado",config:{tagName:`campanha_${D.toLowerCase().replace(/\s+/g,"_")}`}}),ce},I=(D,oe,V)=>{const de={formal:"Olá! Espero que esteja bem.",amigável:"Oi! Tudo bem? 😊",profissional:"Bom dia! Espero que esteja tudo bem.",casual:"E aí! Como está?"};return`${de[V]||de.amigável}

${D}

Como posso ajudá-lo hoje?`},G=(D,oe)=>`Olá! Vi que você demonstrou interesse em ${D.toLowerCase()}.

Gostaria de saber mais detalhes ou tem alguma dúvida específica?

Estou aqui para ajudar! 😊`,L=(D,oe)=>`Olá! 

Espero que tenha conseguido todas as informações sobre ${D.toLowerCase()}.

Se precisar de mais alguma coisa, é só me chamar!

Obrigado pelo contato! 🙏`,$=D=>{const oe={message:At,delay:$a,condition:vu,action:Ac,wait_for_response:gy,tag:XE,webhook:ma,split:vu,merge:vu,survey:Hn,notification:Ed,calendar:py,location:Pd}[D];return s.jsx(oe,{className:"h-5 w-5"})},J=D=>({message:"from-blue-500 to-blue-600",delay:"from-orange-500 to-orange-600",condition:"from-purple-500 to-purple-600",action:"from-green-500 to-green-600",wait_for_response:"from-yellow-500 to-yellow-600",tag:"from-pink-500 to-pink-600",webhook:"from-indigo-500 to-indigo-600",split:"from-red-500 to-red-600",merge:"from-teal-500 to-teal-600",survey:"from-cyan-500 to-cyan-600",notification:"from-amber-500 to-amber-600",calendar:"from-violet-500 to-violet-600",location:"from-emerald-500 to-emerald-600"})[D],K=D=>{var oe;switch(D.type){case"message":return s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:D.config.message||"Sem mensagem"});case"delay":return s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Aguardar ",D.config.delay," ",D.config.delayUnit]});case"condition":return s.jsx("p",{className:"text-sm text-muted-foreground",children:D.config.condition||"Sem condição"});case"action":return s.jsx("p",{className:"text-sm text-muted-foreground",children:D.config.action||"Sem ação"});case"wait_for_response":return s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Aguardar resposta por ",D.config.waitTimeout?Math.floor(D.config.waitTimeout/60):60," minutos"]});case"tag":return s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Tag: ",D.config.tagName||"Sem tag"]});case"webhook":return s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Webhook: ",D.config.webhookUrl||"Sem URL"]});case"split":return s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Dividir fluxo - ",D.config.splitType==="percentage"?`${D.config.splitPercentage}%`:D.config.splitType]});case"merge":return s.jsx("p",{className:"text-sm text-muted-foreground",children:"Mesclar fluxos"});case"survey":return s.jsxs("p",{className:"text-sm text-muted-foreground",children:[((oe=D.config.surveyQuestions)==null?void 0:oe.length)||0," pergunta(s)"]});case"notification":return s.jsx("p",{className:"text-sm text-muted-foreground",children:D.config.notificationMessage||"Sem mensagem"});case"calendar":return s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Evento: ",D.config.calendarEvent||"Sem evento"]});case"location":return s.jsx("p",{className:"text-sm text-muted-foreground",children:D.config.locationType==="request"?"Solicitar localização":"Compartilhar localização"});default:return null}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:e}),s.jsxs("p",{className:"text-muted-foreground capitalize",children:["Canal: ",t]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Q,{variant:"outline",onClick:()=>f(!0),className:"bg-gradient-to-r from-purple-500/10 to-blue-500/10 border-purple-200 text-purple-700 hover:from-purple-500/20 hover:to-blue-500/20",children:[s.jsx(ma,{className:"h-4 w-4 mr-2"}),"Assistente IA"]}),s.jsx(Q,{variant:"outline",onClick:n,children:"Cancelar"}),s.jsxs(Q,{onClick:()=>r(o),className:"bg-gradient-to-r from-primary to-primary-glow",children:[s.jsx(Dm,{className:"h-4 w-4 mr-2"}),"Salvar Fluxo"]})]})]}),s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(ai,{className:"h-5 w-5 text-primary"}),"Configuração de Público"]}),s.jsx(De,{children:"Defina o público-alvo e critérios de segmentação para esta campanha"})]}),s.jsxs(ue,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"audience-type",children:"Tipo de Público"}),s.jsxs(ot,{value:_,onValueChange:k,children:[s.jsx(nt,{id:"audience-type",children:s.jsx(lt,{placeholder:"Selecione o público"})}),s.jsxs(at,{children:[s.jsx(re,{value:"todos-contatos",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ir,{className:"h-4 w-4"}),"Todos os Contatos"]})}),s.jsx(re,{value:"clientes-ativos",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(gs,{className:"h-4 w-4"}),"Clientes Ativos"]})}),s.jsx(re,{value:"prospects",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ai,{className:"h-4 w-4"}),"Prospects"]})}),s.jsx(re,{value:"clientes-vip",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Lm,{className:"h-4 w-4"}),"Clientes VIP"]})}),s.jsx(re,{value:"contatos-inativos",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(cl,{className:"h-4 w-4"}),"Contatos Inativos"]})})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"audience-size",children:"Tamanho Estimado"}),s.jsxs("div",{className:"text-sm text-muted-foreground p-3 bg-muted rounded-lg",children:[_==="todos-contatos"&&"~1,250 contatos",_==="clientes-ativos"&&"~850 contatos",_==="prospects"&&"~400 contatos",_==="clientes-vip"&&"~150 contatos",_==="contatos-inativos"&&"~200 contatos",!_&&"Selecione um público para ver o tamanho"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Critérios de Segmentação"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(gs,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{className:"text-sm",children:"Última interação recente"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(gs,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{className:"text-sm",children:"Engajamento alto"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(gs,{className:"h-4 w-4 text-green-500"}),s.jsxs("span",{className:"text-sm",children:["Canal preferido: ",t]})]})]})]})]}),_&&s.jsxs("div",{className:"mt-4 p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg border border-blue-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(ma,{className:"h-4 w-4 text-blue-600"}),s.jsxs("span",{className:"font-medium text-blue-800",children:["Sugestões de IA para ",_.replace("-"," ")]})]}),s.jsxs("div",{className:"text-sm text-blue-700",children:[_==="todos-contatos"&&"Use tom universal e mensagens que se aplicam a todos os perfis",_==="clientes-ativos"&&"Foque em valor agregado e oportunidades de upsell",_==="prospects"&&"Use tom educativo e construa relacionamento antes de vender",_==="clientes-vip"&&"Ofereça conteúdo exclusivo e tratamento personalizado",_==="contatos-inativos"&&"Use tom reativo e ofereça incentivos para reengajamento"]})]})]})]}),s.jsxs(ie,{children:[s.jsx(me,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(pe,{children:"Fluxo da Campanha"}),s.jsx(De,{children:"Configure as etapas da sua automação"})]}),s.jsxs(Q,{onClick:()=>u(!0),children:[s.jsx(wr,{className:"h-4 w-4 mr-2"}),"Adicionar Etapa"]})]})}),s.jsx(ue,{className:"space-y-4",children:o.length===0?s.jsxs("div",{className:"text-center py-12 border-2 border-dashed rounded-lg",children:[s.jsx(cl,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Nenhuma etapa adicionada"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Comece adicionando a primeira etapa do seu fluxo"}),s.jsxs(Q,{onClick:()=>u(!0),children:[s.jsx(wr,{className:"h-4 w-4 mr-2"}),"Adicionar Primeira Etapa"]})]}):s.jsxs("div",{className:"space-y-3",children:[o.map((D,oe)=>s.jsxs("div",{className:"relative",children:[oe<o.length-1&&s.jsx("div",{className:"absolute left-6 top-full h-3 w-0.5 bg-border -translate-y-1/2 z-0"}),s.jsx(ie,{className:"border-2 hover:border-primary/50 transition-all relative z-10",children:s.jsx(ue,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`h-12 w-12 rounded-lg bg-gradient-to-br ${J(D.type)} flex items-center justify-center text-white flex-shrink-0`,children:$(D.type)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:"font-semibold",children:D.name}),s.jsxs(Le,{variant:"outline",className:"text-xs",children:["Etapa ",oe+1]})]}),K(D)]}),s.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[s.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>B(oe,"up"),disabled:oe===0,children:s.jsx(PQ,{className:"h-4 w-4"})}),s.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>B(oe,"down"),disabled:oe===o.length-1,children:s.jsx(AQ,{className:"h-4 w-4"})}),s.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>U(D),children:"Editar"}),s.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>M(D.id),children:s.jsx(no,{className:"h-4 w-4 text-destructive"})})]})]})})})]},D.id)),s.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[s.jsx("div",{className:"h-12 w-12 rounded-lg bg-gradient-to-br from-emerald-500 to-emerald-600 flex items-center justify-center text-white",children:s.jsx(gs,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",children:"Fim do Fluxo"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Campanha finalizada"})]})]})]})})]}),s.jsx(Qt,{open:c,onOpenChange:u,children:s.jsxs(Ut,{className:"max-w-2xl",children:[s.jsxs(Jt,{children:[s.jsx(er,{children:h?"Editar Etapa":"Adicionar Etapa"}),s.jsx(or,{children:"Configure a etapa do fluxo de automação"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Tipo de Etapa"}),s.jsxs(ot,{value:v,onValueChange:D=>p(D),children:[s.jsx(nt,{children:s.jsx(lt,{})}),s.jsxs(at,{children:[s.jsx(re,{value:"message",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(At,{className:"h-4 w-4"}),"Enviar Mensagem"]})}),s.jsx(re,{value:"delay",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($a,{className:"h-4 w-4"}),"Aguardar (Timer)"]})}),s.jsx(re,{value:"condition",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vu,{className:"h-4 w-4"}),"Condição"]})}),s.jsx(re,{value:"action",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ac,{className:"h-4 w-4"}),"Ação"]})}),s.jsx(re,{value:"wait_for_response",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(gy,{className:"h-4 w-4"}),"Aguardar Resposta"]})}),s.jsx(re,{value:"tag",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(XE,{className:"h-4 w-4"}),"Adicionar Tag"]})}),s.jsx(re,{value:"webhook",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ma,{className:"h-4 w-4"}),"Webhook"]})}),s.jsx(re,{value:"split",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vu,{className:"h-4 w-4"}),"Divisão de Fluxo"]})}),s.jsx(re,{value:"merge",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vu,{className:"h-4 w-4"}),"Mesclagem de Fluxo"]})}),s.jsx(re,{value:"survey",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Hn,{className:"h-4 w-4"}),"Pesquisa"]})}),s.jsx(re,{value:"notification",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ed,{className:"h-4 w-4"}),"Notificação"]})}),s.jsx(re,{value:"calendar",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(py,{className:"h-4 w-4"}),"Agendamento"]})}),s.jsx(re,{value:"location",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Pd,{className:"h-4 w-4"}),"Localização"]})})]})]})]}),v==="message"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Mensagem"}),s.jsx(Gn,{placeholder:"Digite a mensagem que será enviada...",value:b.message,onChange:D=>x({...b,message:D.target.value}),rows:5}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Você pode usar variáveis como ","{nome}",", ","{email}",", etc."]})]}),v==="delay"&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Tempo de Espera"}),s.jsx(qe,{type:"number",min:"1",value:b.delay,onChange:D=>x({...b,delay:parseInt(D.target.value)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Unidade"}),s.jsxs(ot,{value:b.delayUnit,onValueChange:D=>x({...b,delayUnit:D}),children:[s.jsx(nt,{children:s.jsx(lt,{})}),s.jsxs(at,{children:[s.jsx(re,{value:"minutes",children:"Minutos"}),s.jsx(re,{value:"hours",children:"Horas"}),s.jsx(re,{value:"days",children:"Dias"})]})]})]})]}),v==="condition"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Condição"}),s.jsxs(ot,{value:b.condition,onValueChange:D=>x({...b,condition:D}),children:[s.jsx(nt,{children:s.jsx(lt,{placeholder:"Selecione uma condição"})}),s.jsxs(at,{children:[s.jsx(re,{value:"opened",children:"Abriu a mensagem anterior"}),s.jsx(re,{value:"clicked",children:"Clicou no link"}),s.jsx(re,{value:"replied",children:"Respondeu a mensagem"}),s.jsx(re,{value:"not_opened",children:"Não abriu a mensagem"})]})]})]}),v==="action"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Ação"}),s.jsxs(ot,{value:b.action,onValueChange:D=>x({...b,action:D}),children:[s.jsx(nt,{children:s.jsx(lt,{placeholder:"Selecione uma ação"})}),s.jsxs(at,{children:[s.jsx(re,{value:"add_tag",children:"Adicionar Tag"}),s.jsx(re,{value:"remove_tag",children:"Remover Tag"}),s.jsx(re,{value:"move_list",children:"Mover para Lista"}),s.jsx(re,{value:"notify_team",children:"Notificar Equipe"})]})]})]}),v==="wait_for_response"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Tempo de Espera (minutos)"}),s.jsx(qe,{type:"number",min:"1",max:"1440",value:b.waitTimeout?Math.floor(b.waitTimeout/60):60,onChange:D=>x({...b,waitTimeout:parseInt(D.target.value)*60})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Tempo máximo para aguardar uma resposta do contato"})]}),v==="tag"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Nome da Tag"}),s.jsx(qe,{placeholder:"Ex: interessado, vip, atendido",value:b.tagName,onChange:D=>x({...b,tagName:D.target.value})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Tag que será adicionada ao contato"})]}),v==="webhook"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"URL do Webhook"}),s.jsx(qe,{placeholder:"https://api.exemplo.com/webhook",value:b.webhookUrl,onChange:D=>x({...b,webhookUrl:D.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Método HTTP"}),s.jsxs(ot,{value:b.webhookMethod,onValueChange:D=>x({...b,webhookMethod:D}),children:[s.jsx(nt,{children:s.jsx(lt,{})}),s.jsxs(at,{children:[s.jsx(re,{value:"GET",children:"GET"}),s.jsx(re,{value:"POST",children:"POST"}),s.jsx(re,{value:"PUT",children:"PUT"})]})]})]})]}),v==="survey"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Perguntas da Pesquisa"}),s.jsx(Gn,{placeholder:"Digite as perguntas, uma por linha...",value:((i=b.surveyQuestions)==null?void 0:i.join(`
`))||"",onChange:D=>x({...b,surveyQuestions:D.target.value.split(`
`).filter(oe=>oe.trim())}),rows:4}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Uma pergunta por linha"})]}),v==="notification"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Mensagem de Notificação"}),s.jsx(Gn,{placeholder:"Mensagem que será enviada como notificação...",value:b.notificationMessage,onChange:D=>x({...b,notificationMessage:D.target.value}),rows:3})]}),v==="calendar"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Evento do Calendário"}),s.jsx(qe,{placeholder:"Ex: Reunião de apresentação, Call comercial",value:b.calendarEvent,onChange:D=>x({...b,calendarEvent:D.target.value})})]}),v==="location"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Tipo de Localização"}),s.jsxs(ot,{value:b.locationType,onValueChange:D=>x({...b,locationType:D}),children:[s.jsx(nt,{children:s.jsx(lt,{})}),s.jsxs(at,{children:[s.jsx(re,{value:"request",children:"Solicitar Localização"}),s.jsx(re,{value:"share",children:"Compartilhar Localização"})]})]})]})]}),s.jsxs(gn,{children:[s.jsx(Q,{variant:"outline",onClick:R,children:"Cancelar"}),s.jsx(Q,{onClick:P,children:h?"Atualizar":"Adicionar"})]})]})}),s.jsx(Qt,{open:d,onOpenChange:f,children:s.jsxs(Ut,{className:"max-w-2xl",children:[s.jsxs(Jt,{children:[s.jsxs(er,{className:"flex items-center space-x-2",children:[s.jsx(ma,{className:"h-5 w-5 text-purple-600"}),s.jsx("span",{children:"Assistente IA para Fluxo"})]}),s.jsx(or,{children:"Descreva o objetivo da campanha e deixe a IA criar o fluxo automaticamente"})]}),s.jsxs("div",{className:"space-y-6 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"objective",children:"Objetivo da Campanha *"}),s.jsx(Gn,{id:"objective",placeholder:"Ex: Agendar reunião com clientes interessados em nosso produto...",value:j,onChange:D=>N(D.target.value),rows:3}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Seja específico sobre o que você quer alcançar com esta campanha"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"audience",children:"Público-Alvo"}),s.jsxs(ot,{value:_,onValueChange:k,children:[s.jsx(nt,{id:"audience",children:s.jsx(lt,{placeholder:"Selecione o público"})}),s.jsxs(at,{children:[s.jsx(re,{value:"novos-contatos",children:"Novos Contatos"}),s.jsx(re,{value:"clientes-existentes",children:"Clientes Existentes"}),s.jsx(re,{value:"prospects",children:"Prospects"}),s.jsx(re,{value:"clientes-vip",children:"Clientes VIP"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"tone",children:"Tom da Comunicação"}),s.jsxs(ot,{value:O,onValueChange:E,children:[s.jsx(nt,{id:"tone",children:s.jsx(lt,{placeholder:"Selecione o tom"})}),s.jsxs(at,{children:[s.jsx(re,{value:"formal",children:"Formal"}),s.jsx(re,{value:"profissional",children:"Profissional"}),s.jsx(re,{value:"amigável",children:"Amigável"}),s.jsx(re,{value:"casual",children:"Casual"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Exemplos de Objetivos"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:["Agendar reunião de apresentação","Coletar feedback de clientes","Enviar informações sobre promoções","Solicitar localização para entrega","Realizar pesquisa de satisfação","Convidar para eventos"].map(D=>s.jsx(Q,{variant:"outline",size:"sm",onClick:()=>N(D),className:"text-left justify-start h-auto p-2",children:s.jsx("span",{className:"text-sm",children:D})},D))})]})]}),s.jsxs(gn,{className:"flex justify-between",children:[s.jsx(Q,{variant:"outline",onClick:()=>f(!1),children:"Cancelar"}),s.jsx(Q,{onClick:F,disabled:y||!j.trim(),className:"bg-gradient-to-r from-purple-600 to-blue-600",children:y?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Gerando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ma,{className:"h-4 w-4 mr-2"}),"Gerar Fluxo com IA"]})})]})]})})]})}function L4e(){var e,t,r,n,a,i,o,l,c,u,d,f,h,m;const[v,p]=g.useState(!1),[b,x]=g.useState(!1),[y,w]=g.useState(null),[j,N]=g.useState("campaigns"),[_,k]=g.useState({name:"",description:"",channel_type:"whatsapp",category:"marketing",priority:"medium",schedule_type:"immediate",scheduled_date:"",scheduled_time:"",recurring_type:"none",recurring_days:[],recurring_time:"",max_messages_per_day:100,respect_working_hours:!0,working_hours_start:"09:00",working_hours_end:"18:00",working_days:[1,2,3,4,5],timezone:"America/Sao_Paulo",auto_optimize:!1,a_b_testing:!1,success_metrics:[]}),[O,E]=g.useState(!1),[T,P]=g.useState(null),[S,R]=g.useState(null),[M,B]=g.useState(!1),[U,F]=g.useState(!1),[z,I]=g.useState({period:"30d",channel:"all",campaignType:"all"});g.useEffect(()=>{v&&R(null)},[v]);const G=[{id:"welcome-series",name:"Série de Boas-vindas",description:"Sequência automática para novos clientes",channel_type:"whatsapp",steps:[{type:"message",name:"Mensagem de Boas-vindas",config:{message:"Olá! Bem-vindo à nossa empresa. Estamos felizes em tê-lo conosco!"}},{type:"delay",name:"Aguardar 1 dia",config:{delay:1,delayUnit:"days"}},{type:"message",name:"Apresentar Produtos",config:{message:"Que tal conhecer nossos produtos? Temos ofertas especiais para você!"}}]},{id:"follow-up-sales",name:"Follow-up de Vendas",description:"Sequência para prospects interessados",channel_type:"whatsapp",steps:[{type:"message",name:"Verificar Interesse",config:{message:"Olá! Vi que você demonstrou interesse em nossos produtos. Posso ajudá-lo?"}},{type:"delay",name:"Aguardar 2 dias",config:{delay:2,delayUnit:"days"}},{type:"message",name:"Oferta Especial",config:{message:"Temos uma oferta especial que pode interessá-lo. Gostaria de saber mais?"}},{type:"delay",name:"Aguardar 3 dias",config:{delay:3,delayUnit:"days"}},{type:"message",name:"Última Chance",config:{message:"Esta é nossa última oportunidade de oferecer este desconto especial!"}}]},{id:"event-promotion",name:"Promoção de Evento",description:"Campanha para divulgar eventos",channel_type:"whatsapp",steps:[{type:"message",name:"Convite do Evento",config:{message:"Você está convidado para nosso evento especial! Data: [DATA]"}},{type:"delay",name:"Lembrete 1 semana",config:{delay:7,delayUnit:"days"}},{type:"message",name:"Lembrete do Evento",config:{message:"Lembrete: Nosso evento é amanhã! Não perca!"}},{type:"delay",name:"Lembrete 1 dia",config:{delay:1,delayUnit:"days"}},{type:"message",name:"Último Lembrete",config:{message:"Hoje é o grande dia! Nos vemos no evento!"}}]},{id:"customer-satisfaction",name:"Pesquisa de Satisfação",description:"Coletar feedback dos clientes",channel_type:"whatsapp",steps:[{type:"message",name:"Solicitar Feedback",config:{message:"Olá! Como foi sua experiência conosco? Gostaríamos de saber sua opinião!"}},{type:"delay",name:"Aguardar 3 dias",config:{delay:3,delayUnit:"days"}},{type:"message",name:"Lembrete Feedback",config:{message:"Não esqueça de nos dar seu feedback! É muito importante para nós!"}}]}],{data:L,isLoading:$}=bt({queryKey:["campaigns-analytics"],queryFn:async()=>{const{data:{user:W}}=await le.auth.getUser();if(!W)throw new Error("Usuário não autenticado");const{data:se}=await le.from("members").select("org_id").eq("user_id",W.id).single();if(!se)throw new Error("Organização não encontrada");const{data:Se}=await le.from("conversations").select("id").eq("org_id",se.org_id),mt=(Se==null?void 0:Se.map(Wt=>Wt.id))||[];let Vt=0,tr=0,wn=0,dr=0,Wr=0;if(mt.length>0){const{data:Wt}=await le.from("messages").select("status, created_at, channel_type").in("conversation_id",mt).gte("created_at",new Date(Date.now()-2592e6).toISOString());Vt=(Wt==null?void 0:Wt.length)||0,tr=(Wt==null?void 0:Wt.filter(Tr=>Tr.status==="delivered"||Tr.status==="read").length)||0,wn=(Wt==null?void 0:Wt.filter(Tr=>Tr.status==="read").length)||0,dr=(Wt==null?void 0:Wt.filter(Tr=>Tr.status==="clicked").length)||0,Wr=(Wt==null?void 0:Wt.filter(Tr=>Tr.status==="replied").length)||0}const{data:Tn}=await le.from("campaigns").select("*").eq("org_id",se.org_id).order("created_at",{ascending:!1}),Ms=[];for(let Wt=6;Wt>=0;Wt--){const Tr=new Date;Tr.setDate(Tr.getDate()-Wt);const nu=Tr.toISOString().split("T")[0],vi=Math.floor(Vt/30)+Math.floor(Math.random()*20),tn=Math.floor(vi*.95),au=Math.floor(tn*.6),Ve=Math.floor(au*.15),vt=Math.floor(Ve*.8);Ms.push({date:nu,sent:vi,delivered:tn,opened:au,clicked:Ve,replied:vt})}const ra=Vt>0?wn/Vt*100:0,Nt=wn>0?dr/wn*100:0,Yf=Vt>0?Wr/Vt*100:0;return{totalSent:Vt,totalDelivered:tr,totalOpened:wn,totalClicked:dr,totalReplied:Wr,openRate:Math.round(ra*10)/10,clickRate:Math.round(Nt*10)/10,replyRate:Math.round(Yf*10)/10,campaigns:(Tn==null?void 0:Tn.map(Wt=>({id:Wt.id,name:Wt.name,sent:Math.floor(Math.random()*1e3)+500,delivered:Math.floor(Math.random()*900)+450,opened:Math.floor(Math.random()*600)+300,clicked:Math.floor(Math.random()*100)+50,replied:Math.floor(Math.random()*80)+20,openRate:Math.round((Math.random()*20+50)*10)/10,clickRate:Math.round((Math.random()*10+10)*10)/10,replyRate:Math.round((Math.random()*15+5)*10)/10,status:Wt.status})))||[],dailyStats:Ms}}}),{data:J=[],isLoading:K,refetch:D}=bt({queryKey:["campaigns"],queryFn:async()=>{const{data:W,error:se}=await le.from("campaigns").select("*").order("created_at",{ascending:!1});if(se)throw se;return W}}),{data:oe}=bt({queryKey:["campaigns-stats"],queryFn:async()=>{const{count:W}=await le.from("campaigns").select("*",{count:"exact",head:!0}),{count:se}=await le.from("campaign_messages").select("*",{count:"exact",head:!0}),{data:Se}=await le.from("campaign_messages").select("status"),mt=(Se==null?void 0:Se.filter(Wr=>Wr.status==="delivered").length)||0,Vt=(Se==null?void 0:Se.length)||1,tr=Math.round(mt/Vt*100),{count:wn}=await le.from("campaigns").select("*",{count:"exact",head:!0}).eq("status","active"),{count:dr}=await le.from("campaigns").select("*",{count:"exact",head:!0}).eq("status","paused");return{totalCampaigns:W||0,totalMessages:se||0,openRate:tr,activeCampaigns:wn||0,pausedCampaigns:dr||0}}}),V=async()=>{if(!_.name){ae.error("Nome da campanha é obrigatório");return}p(!1),x(!0)},de=async W=>{E(!0);try{const{data:{user:se}}=await le.auth.getUser();if(!se){ae.error("Usuário não autenticado");return}const{data:Se}=await le.from("members").select("org_id").eq("user_id",se.id).single();if(!Se){ae.error("Organização não encontrada");return}if(y){const{error:mt}=await le.from("campaigns").update({name:_.name,channel_type:_.channel_type,audience_query:{steps:W}}).eq("id",y.id);if(mt)throw mt;ae.success("Campanha atualizada!")}else{const{error:mt}=await le.from("campaigns").insert({org_id:Se.org_id,name:_.name,channel_type:_.channel_type,status:"draft",audience_query:{steps:W}});if(mt)throw mt;ae.success("Campanha criada com sucesso!")}x(!1),k({name:"",description:"",channel_type:"whatsapp",category:"marketing",priority:"medium",schedule_type:"immediate",scheduled_date:"",scheduled_time:"",recurring_type:"none",recurring_days:[],recurring_time:"",max_messages_per_day:100,respect_working_hours:!0,working_hours_start:"09:00",working_hours_end:"18:00",working_days:[1,2,3,4,5],timezone:"America/Sao_Paulo",auto_optimize:!1,a_b_testing:!1,success_metrics:[]}),w(null),D()}catch(se){console.error("Error:",se),ae.error("Erro ao salvar campanha")}finally{E(!1)}},te=W=>{k({name:W.name,description:W.description||"",channel_type:W.channel_type,category:W.category||"marketing",priority:W.priority||"medium",schedule_type:"immediate",scheduled_date:"",scheduled_time:"",recurring_type:"none",recurring_days:[],recurring_time:"",max_messages_per_day:100,respect_working_hours:!0,working_hours_start:"09:00",working_hours_end:"18:00",working_days:[1,2,3,4,5],timezone:"America/Sao_Paulo",auto_optimize:!1,a_b_testing:!1,success_metrics:[]}),w({...W,audience_query:{steps:W.steps}}),x(!0)},ce=async()=>{B(!0);try{await new Promise(mt=>setTimeout(mt,1500));const W=_.category,se=_.channel_type,Se={campaignType:W,channelType:se,contentSuggestions:{recommendedName:ne(W,se),recommendedDescription:ee(W),tone:Be(W),topics:Ie(W),callToAction:ut(W,se)},optimizationTips:["Mantenha mensagens concisas e objetivas","Use tom conversacional, não comercial","Evite spam - respeite o limite de mensagens por dia","Personalize com o nome do contato quando possível","Inclua chamadas para ação simples e diretas"],analyticsInsights:{avgOpenRate:it(W,"openRate"),avgResponseRate:it(W,"responseRate"),bestPerformingType:Xe(),improvementTip:Y(W)}};R(Se),ae.success("Sugestões de campanha geradas com sucesso!")}catch{ae.error("Erro ao gerar sugestões de IA")}finally{B(!1)}},ne=(W,se)=>({marketing:`Campanha de Marketing - ${se}`,sales:`Prospecção Comercial - ${se}`,support:`Suporte ao Cliente - ${se}`,nurturing:`Nutrição de Leads - ${se}`,announcement:`Comunicado Importante - ${se}`})[W]||`Nova Campanha - ${se}`,ee=W=>({marketing:"Campanha focada em divulgação e engajamento de marca",sales:"Campanha de prospecção e conversão de leads em clientes",support:"Campanha de suporte e atendimento ao cliente",nurturing:"Campanha de nutrição e relacionamento com leads",announcement:"Campanha para comunicados importantes e novidades"})[W]||"Campanha personalizada",Be=W=>({marketing:"Amigável e envolvente",sales:"Profissional e persuasivo",support:"Empático e solucionador",nurturing:"Cuidadoso e educativo",announcement:"Claro e direto"})[W]||"Profissional",Ie=W=>({marketing:["Benefícios do produto","Depoimentos","Cases de sucesso"],sales:["Ofertas exclusivas","Demonstrações","Propostas comerciais"],support:["Soluções para problemas","Tutoriais","FAQ"],nurturing:["Educação sobre produto","Dicas úteis","Conteúdo relevante"],announcement:["Novidades","Mudanças importantes","Avisos"]})[W]||["Conteúdo relevante"],ut=(W,se)=>({marketing:se==="whatsapp"?"Responda SIM para saber mais":"Clique para saber mais",sales:"Agende uma demonstração",support:"Como posso ajudar?",nurturing:"Tem alguma dúvida?",announcement:"Confirme o recebimento"})[W]||"Entre em contato",it=(W,se)=>{var Se;return((Se={marketing:{openRate:"78%",responseRate:"12%"},sales:{openRate:"82%",responseRate:"18%"},support:{openRate:"85%",responseRate:"25%"},nurturing:{openRate:"75%",responseRate:"15%"},announcement:{openRate:"88%",responseRate:"22%"}}[W])==null?void 0:Se[se])||"N/A"},Xe=()=>"Suporte ao Cliente",Y=W=>({marketing:"Foque em storytelling e benefícios emocionais",sales:"Use prova social e urgência limitada",support:"Seja proativo e antecipe necessidades",nurturing:"Eduque primeiro, venda depois",announcement:"Seja claro e direto na comunicação"})[W]||"Personalize sua abordagem",q=(W,se)=>{switch(W){case"name":k({..._,name:se});break;case"description":k({..._,description:se});break;case"category":k({..._,category:se});break}ae.success("Sugestão aplicada com sucesso!")},Z=async()=>{B(!0);try{await new Promise(W=>setTimeout(W,1500)),k(W=>({...W,respect_working_hours:!0,auto_optimize:!0,max_messages_per_day:Math.min(W.max_messages_per_day,150),scheduled_time:"14:30"})),ae.success("Campanha otimizada com IA!")}catch{ae.error("Erro ao otimizar campanha")}finally{B(!1)}},X=async W=>{if(confirm("Tem certeza que deseja deletar esta campanha?")){P(W);try{const{error:se}=await le.from("campaigns").delete().eq("id",W);if(se)throw se;ae.success("Campanha deletada!"),D()}catch(se){console.error("Error:",se),ae.error("Erro ao deletar campanha")}finally{P(null)}}},xe=async W=>{try{const se=W.status==="active"?"paused":"active",{error:Se}=await le.from("campaigns").update({status:se}).eq("id",W.id);if(Se)throw Se;ae.success(`Campanha ${se==="active"?"ativada":"pausada"}!`),D()}catch(se){console.error("Error:",se),ae.error("Erro ao atualizar status")}},ye=W=>{w(W),k({name:W.name,description:W.description||"",channel_type:W.channel_type,category:W.category||"marketing",priority:W.priority||"medium",schedule_type:W.schedule_type||"immediate",scheduled_date:W.scheduled_date||"",scheduled_time:W.scheduled_time||"",recurring_type:W.recurring_type||"none",recurring_days:W.recurring_days||[],recurring_time:W.recurring_time||"",max_messages_per_day:W.max_messages_per_day||100,respect_working_hours:W.respect_working_hours||!0,working_hours_start:W.working_hours_start||"09:00",working_hours_end:W.working_hours_end||"18:00",working_days:W.working_days||[1,2,3,4,5],timezone:W.timezone||"America/Sao_Paulo",auto_optimize:W.auto_optimize||!1,a_b_testing:W.a_b_testing||!1,success_metrics:W.success_metrics||[]}),x(!0)},we=W=>{const se={active:{label:"Ativa",className:"bg-emerald-500/10 text-emerald-600 hover:bg-emerald-500/20"},scheduled:{label:"Agendada",className:"bg-blue-500/10 text-blue-600 hover:bg-blue-500/20"},paused:{label:"Pausada",className:"bg-orange-500/10 text-orange-600 hover:bg-orange-500/20"},draft:{label:"Rascunho",className:"bg-gray-500/10 text-gray-600 hover:bg-gray-500/20"}},Se=se[W]||se.draft;return s.jsx(Le,{className:Se.className,children:Se.label})};return oe!=null&&oe.totalCampaigns.toString(),oe!=null&&oe.totalMessages.toString(),`${(oe==null?void 0:oe.openRate)||0}`,b?s.jsx("div",{className:"p-8 bg-gradient-to-br from-background via-background to-primary/5 min-h-screen",children:s.jsx(D4e,{campaignName:_.name,channelType:_.channel_type,onSave:de,onCancel:()=>{x(!1),w(null),k({name:"",description:"",channel_type:"whatsapp",category:"marketing",priority:"medium",schedule_type:"immediate",scheduled_date:"",scheduled_time:"",recurring_type:"none",recurring_days:[],recurring_time:"",max_messages_per_day:100,respect_working_hours:!0,working_hours_start:"09:00",working_hours_end:"18:00",working_days:[1,2,3,4,5],timezone:"America/Sao_Paulo",auto_optimize:!1,a_b_testing:!1,success_metrics:[]})},initialSteps:((e=y==null?void 0:y.audience_query)==null?void 0:e.steps)||[]})}):s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:s.jsx("div",{className:"flex h-16 items-center px-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ms,{className:"h-5 w-5 text-muted-foreground"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Marketing"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"/"}),s.jsx("span",{className:"text-sm font-medium",children:"Campanhas"})]})})}),s.jsx("div",{className:"flex-1 overflow-auto",children:s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Campanhas"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Crie e gerencie suas campanhas de marketing"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs(Q,{variant:"outline",onClick:()=>F(!0),className:"bg-gradient-to-r from-purple-500/10 to-blue-500/10 border-purple-200 text-purple-700 hover:from-purple-500/20 hover:to-blue-500/20",children:[s.jsx(mn,{className:"h-4 w-4 mr-2"}),"Assistente IA Orgânica"]}),s.jsxs(Q,{onClick:()=>p(!0),children:[s.jsx(wr,{className:"h-4 w-4 mr-2"}),"Nova Campanha"]})]})]}),s.jsxs(Na,{value:j,onValueChange:N,className:"space-y-4",children:[s.jsxs(Jn,{className:"grid w-full grid-cols-3",children:[s.jsxs(et,{value:"campaigns",className:"flex items-center space-x-2",children:[s.jsx(ms,{className:"h-4 w-4"}),s.jsx("span",{children:"Campanhas"})]}),s.jsxs(et,{value:"analytics",className:"flex items-center space-x-2",children:[s.jsx(Hn,{className:"h-4 w-4"}),s.jsx("span",{children:"Analytics"})]}),s.jsxs(et,{value:"templates",className:"flex items-center space-x-2",children:[s.jsx(At,{className:"h-4 w-4"}),s.jsx("span",{children:"Templates"})]})]}),s.jsxs(dt,{value:"campaigns",className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs(ie,{children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Total Campanhas"}),s.jsx(ms,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-2xl font-bold",children:(oe==null?void 0:oe.totalCampaigns)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:(oe==null?void 0:oe.totalCampaigns)===1?"campanha criada":"campanhas criadas"})]})]}),s.jsxs(ie,{children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Ativas"}),s.jsx(Ac,{className:"h-4 w-4 text-green-500"})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:(oe==null?void 0:oe.activeCampaigns)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:(oe==null?void 0:oe.activeCampaigns)===1?"campanha ativa":"campanhas ativas"})]})]}),s.jsxs(ie,{children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Pausadas"}),s.jsx(Im,{className:"h-4 w-4 text-yellow-500"})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:(oe==null?void 0:oe.pausedCampaigns)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:(oe==null?void 0:oe.pausedCampaigns)===1?"campanha pausada":"campanhas pausadas"})]})]}),s.jsxs(ie,{children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Taxa de Abertura"}),s.jsx(xt,{className:"h-4 w-4 text-blue-500"})]}),s.jsxs(ue,{children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[((oe==null?void 0:oe.openRate)||0).toFixed(1),"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"média de abertura"})]})]})]}),s.jsxs(ie,{className:"border-2 hover:border-primary/30 transition-all shadow-lg",children:[s.jsx(me,{children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(ms,{className:"h-5 w-5 text-primary"}),"Todas as Campanhas"]}),s.jsx(De,{className:"mt-1",children:"Gerencie suas campanhas de marketing"})]})})}),s.jsx(ue,{children:K?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(gt,{className:"h-8 w-8 animate-spin mx-auto text-primary"}),s.jsx("p",{className:"text-muted-foreground mt-4",children:"Carregando campanhas..."})]}):J.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(ms,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Nenhuma campanha encontrada"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Comece criando sua primeira campanha de marketing."}),s.jsxs(Q,{onClick:()=>p(!0),children:[s.jsx(wr,{className:"h-4 w-4 mr-2"}),"Criar Primeira Campanha"]})]}):s.jsx("div",{className:"grid gap-4",children:J.map(W=>s.jsx(ie,{className:"border hover:border-primary/30 transition-all",children:s.jsx(ue,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold",children:W.name}),we(W.status)]}),s.jsxs("p",{className:"text-sm text-muted-foreground capitalize",children:["Canal: ",W.channel_type]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Q,{variant:"outline",size:"sm",onClick:()=>xe(W),children:W.status==="active"?s.jsxs(s.Fragment,{children:[s.jsx(Im,{className:"h-3 w-3 mr-1"}),"Pausar"]}):s.jsxs(s.Fragment,{children:[s.jsx(Ac,{className:"h-3 w-3 mr-1"}),"Ativar"]})}),s.jsxs(Q,{variant:"outline",size:"sm",onClick:()=>ye(W),children:[s.jsx(H1,{className:"h-3 w-3 mr-1"}),"Editar Fluxo"]}),s.jsx(Q,{variant:"outline",size:"sm",onClick:()=>X(W.id),disabled:T===W.id,children:T===W.id?s.jsx(gt,{className:"h-3 w-3 animate-spin"}):s.jsx(no,{className:"h-3 w-3"})})]})]})})},W.id))})})]})]}),s.jsx(dt,{value:"analytics",className:"space-y-4",children:$?s.jsxs("div",{className:"flex items-center justify-center py-12",children:[s.jsx(gt,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("span",{className:"ml-2 text-muted-foreground",children:"Carregando analytics..."})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(qr,{className:"h-5 w-5"}),"Filtros de Analytics"]}),s.jsx(De,{children:"Configure os filtros para visualizar dados específicos"})]}),s.jsx(ue,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Período"}),s.jsxs(ot,{value:z.period,onValueChange:W=>I({...z,period:W}),children:[s.jsx(nt,{children:s.jsx(lt,{})}),s.jsxs(at,{children:[s.jsx(re,{value:"7d",children:"Últimos 7 dias"}),s.jsx(re,{value:"30d",children:"Últimos 30 dias"}),s.jsx(re,{value:"90d",children:"Últimos 90 dias"}),s.jsx(re,{value:"1y",children:"Último ano"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Canal"}),s.jsxs(ot,{value:z.channel,onValueChange:W=>I({...z,channel:W}),children:[s.jsx(nt,{children:s.jsx(lt,{})}),s.jsxs(at,{children:[s.jsx(re,{value:"all",children:"Todos os canais"}),s.jsx(re,{value:"whatsapp",children:"WhatsApp"}),s.jsx(re,{value:"instagram",children:"Instagram"}),s.jsx(re,{value:"messenger",children:"Messenger"}),s.jsx(re,{value:"telegram",children:"Telegram"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Tipo de Campanha"}),s.jsxs(ot,{value:z.campaignType,onValueChange:W=>I({...z,campaignType:W}),children:[s.jsx(nt,{children:s.jsx(lt,{})}),s.jsxs(at,{children:[s.jsx(re,{value:"all",children:"Todos os tipos"}),s.jsx(re,{value:"marketing",children:"Marketing"}),s.jsx(re,{value:"sales",children:"Vendas"}),s.jsx(re,{value:"support",children:"Suporte"}),s.jsx(re,{value:"nurturing",children:"Nutrição"}),s.jsx(re,{value:"announcement",children:"Anúncio"})]})]})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[s.jsxs(ie,{className:"hover:shadow-md transition-shadow",children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Enviadas"}),s.jsx(ms,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-2xl font-bold",children:((t=L==null?void 0:L.totalSent)==null?void 0:t.toLocaleString())||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"mensagens totais"}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx(xt,{className:"h-3 w-3 text-green-500 mr-1"}),s.jsx("span",{className:"text-xs text-green-600",children:"+12% vs período anterior"})]})]})]}),s.jsxs(ie,{className:"hover:shadow-md transition-shadow",children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Entregues"}),s.jsx(gs,{className:"h-4 w-4 text-green-500"})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:((r=L==null?void 0:L.totalDelivered)==null?void 0:r.toLocaleString())||0}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[L!=null&&L.totalSent?(L.totalDelivered/L.totalSent*100).toFixed(1):0,"% taxa de entrega"]}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx(xt,{className:"h-3 w-3 text-green-500 mr-1"}),s.jsx("span",{className:"text-xs text-green-600",children:"+2% vs período anterior"})]})]})]}),s.jsxs(ie,{className:"hover:shadow-md transition-shadow",children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Abertas"}),s.jsx(ul,{className:"h-4 w-4 text-blue-500"})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:((n=L==null?void 0:L.totalOpened)==null?void 0:n.toLocaleString())||0}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[(L==null?void 0:L.openRate)||0,"% taxa de abertura"]}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx(xt,{className:"h-3 w-3 text-green-500 mr-1"}),s.jsx("span",{className:"text-xs text-green-600",children:"+5% vs período anterior"})]})]})]}),s.jsxs(ie,{className:"hover:shadow-md transition-shadow",children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Cliques"}),s.jsx(EQ,{className:"h-4 w-4 text-purple-500"})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:((a=L==null?void 0:L.totalClicked)==null?void 0:a.toLocaleString())||0}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[(L==null?void 0:L.clickRate)||0,"% taxa de clique"]}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx(xt,{className:"h-3 w-3 text-green-500 mr-1"}),s.jsx("span",{className:"text-xs text-green-600",children:"+8% vs período anterior"})]})]})]}),s.jsxs(ie,{className:"hover:shadow-md transition-shadow",children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Respostas"}),s.jsx(At,{className:"h-4 w-4 text-orange-500"})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:((i=L==null?void 0:L.totalReplied)==null?void 0:i.toLocaleString())||0}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[(L==null?void 0:L.replyRate)||0,"% taxa de resposta"]}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx(xt,{className:"h-3 w-3 text-green-500 mr-1"}),s.jsx("span",{className:"text-xs text-green-600",children:"+3% vs período anterior"})]})]})]})]}),s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(xt,{className:"h-5 w-5 text-primary"}),"Tendência de Engajamento"]}),s.jsx(De,{children:"Evolução das métricas nos últimos 7 dias"})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-7 gap-3",children:(o=L==null?void 0:L.dailyStats)==null?void 0:o.map((W,se)=>{const Se=W.sent>0?W.opened/W.sent*100:0,mt=W.opened>0?W.clicked/W.opened*100:0,Vt=W.sent>0?W.replied/W.sent*100:0;return s.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-white p-4 rounded-lg border hover:shadow-md transition-all",children:[s.jsxs("div",{className:"text-center mb-3",children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900",children:new Date(W.date).toLocaleDateString("pt-BR",{weekday:"short"})}),s.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(W.date).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-gray-900",children:W.sent}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"enviadas"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex justify-between items-center text-xs",children:[s.jsx("span",{className:"text-blue-600 font-medium",children:"Abertura"}),s.jsxs("span",{className:"font-semibold",children:[Se.toFixed(1),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-500",style:{width:`${Math.min(Se,100)}%`}})})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex justify-between items-center text-xs",children:[s.jsx("span",{className:"text-purple-600 font-medium",children:"Clique"}),s.jsxs("span",{className:"font-semibold",children:[mt.toFixed(1),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-purple-500 h-2 rounded-full transition-all duration-500",style:{width:`${Math.min(mt,100)}%`}})})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex justify-between items-center text-xs",children:[s.jsx("span",{className:"text-orange-600 font-medium",children:"Resposta"}),s.jsxs("span",{className:"font-semibold",children:[Vt.toFixed(1),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-orange-500 h-2 rounded-full transition-all duration-500",style:{width:`${Math.min(Vt,100)}%`}})})]})]}),s.jsxs("div",{className:"mt-3 pt-3 border-t",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:`w-2 h-2 rounded-full ${Se>=60?"bg-green-500":Se>=40?"bg-yellow-500":"bg-red-500"}`})}),s.jsx("div",{className:"text-xs text-center mt-1 text-muted-foreground",children:Se>=60?"Excelente":Se>=40?"Bom":"Melhorar"})]})]},se)})}),s.jsx("div",{className:"mt-6 pt-6 border-t",children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:((l=L==null?void 0:L.dailyStats)==null?void 0:l.reduce((W,se)=>W+se.sent,0))||0}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Enviadas"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[(c=L==null?void 0:L.dailyStats)!=null&&c.length?(L.dailyStats.reduce((W,se)=>W+(se.sent>0?se.opened/se.sent*100:0),0)/L.dailyStats.length).toFixed(1):0,"%"]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Média Abertura"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[(u=L==null?void 0:L.dailyStats)!=null&&u.length?(L.dailyStats.reduce((W,se)=>W+(se.opened>0?se.clicked/se.opened*100:0),0)/L.dailyStats.length).toFixed(1):0,"%"]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Média Clique"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[(d=L==null?void 0:L.dailyStats)!=null&&d.length?(L.dailyStats.reduce((W,se)=>W+(se.sent>0?se.replied/se.sent*100:0),0)/L.dailyStats.length).toFixed(1):0,"%"]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Média Resposta"})]})]})})]})]}),s.jsxs(ie,{children:[s.jsx(me,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(pe,{children:"Performance por Campanha"}),s.jsx(De,{children:"Métricas detalhadas de cada campanha"})]}),s.jsxs(Le,{variant:"outline",className:"text-xs",children:[((f=L==null?void 0:L.campaigns)==null?void 0:f.length)||0," campanhas"]})]})}),s.jsx(ue,{children:((h=L==null?void 0:L.campaigns)==null?void 0:h.length)===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Hn,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Nenhuma campanha encontrada"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Crie campanhas para ver métricas detalhadas aqui."}),s.jsxs(Q,{onClick:()=>p(!0),children:[s.jsx(wr,{className:"h-4 w-4 mr-2"}),"Criar Primeira Campanha"]})]}):s.jsx("div",{className:"space-y-4",children:(m=L==null?void 0:L.campaigns)==null?void 0:m.map(W=>s.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"flex items-center space-x-3",children:s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:W.name}),s.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[s.jsx(Le,{variant:W.status==="active"?"default":"secondary",children:W.status==="active"?"Ativa":"Inativa"}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:["Criada há ",Math.floor(Math.random()*30)+1," dias"]})]})]})}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Taxa de Abertura"}),s.jsxs("div",{className:"text-lg font-bold text-blue-600",children:[W.openRate,"%"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 text-sm",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-muted-foreground",children:"Enviadas"}),s.jsx("div",{className:"font-semibold text-lg",children:W.sent.toLocaleString()}),s.jsx("div",{className:"text-xs text-green-600",children:"+5% vs anterior"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-muted-foreground",children:"Entregues"}),s.jsx("div",{className:"font-semibold text-lg text-green-600",children:W.delivered.toLocaleString()}),s.jsxs("div",{className:"text-xs text-green-600",children:[(W.delivered/W.sent*100).toFixed(1),"% entrega"]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-muted-foreground",children:"Abertas"}),s.jsx("div",{className:"font-semibold text-lg text-blue-600",children:W.opened.toLocaleString()}),s.jsxs("div",{className:"text-xs text-blue-600",children:[W.openRate,"% abertura"]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-muted-foreground",children:"Cliques"}),s.jsx("div",{className:"font-semibold text-lg text-purple-600",children:W.clicked.toLocaleString()}),s.jsxs("div",{className:"text-xs text-purple-600",children:[W.clickRate,"% clique"]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-muted-foreground",children:"Respostas"}),s.jsx("div",{className:"font-semibold text-lg text-orange-600",children:W.replied.toLocaleString()}),s.jsxs("div",{className:"text-xs text-orange-600",children:[W.replyRate,"% resposta"]})]})]}),s.jsx("div",{className:"mt-4 pt-4 border-t",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),s.jsxs("span",{children:["Abertas: ",W.opened]})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),s.jsxs("span",{children:["Cliques: ",W.clicked]})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),s.jsxs("span",{children:["Respostas: ",W.replied]})]})]}),s.jsxs(Q,{variant:"outline",size:"sm",children:[s.jsx(ul,{className:"h-3 w-3 mr-1"}),"Ver Detalhes"]})]})})]},W.id))})})]}),s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(Pi,{className:"h-5 w-5 text-purple-600"}),"Insights Inteligentes"]}),s.jsx(De,{children:"Análise automatizada dos seus dados de campanha"})]}),s.jsx(ue,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 bg-gradient-to-r from-green-50 to-blue-50 rounded-lg border border-green-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.jsx(xt,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"font-medium text-green-800",children:"Pontos Fortes"})]}),s.jsxs("ul",{className:"space-y-2 text-sm text-green-700",children:[s.jsxs("li",{className:"flex items-start space-x-2",children:[s.jsx("span",{className:"text-green-500 mt-1",children:"✓"}),s.jsxs("span",{children:["Taxa de entrega excelente: ",L!=null&&L.totalSent?(L.totalDelivered/L.totalSent*100).toFixed(1):0,"%"]})]}),s.jsxs("li",{className:"flex items-start space-x-2",children:[s.jsx("span",{className:"text-green-500 mt-1",children:"✓"}),s.jsx("span",{children:"Engajamento crescente nos últimos dias"})]}),s.jsxs("li",{className:"flex items-start space-x-2",children:[s.jsx("span",{className:"text-green-500 mt-1",children:"✓"}),s.jsx("span",{children:"WhatsApp é seu canal mais performático"})]})]})]}),s.jsxs("div",{className:"p-4 bg-gradient-to-r from-orange-50 to-red-50 rounded-lg border border-orange-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.jsx(ai,{className:"h-4 w-4 text-orange-600"}),s.jsx("span",{className:"font-medium text-orange-800",children:"Oportunidades"})]}),s.jsxs("ul",{className:"space-y-2 text-sm text-orange-700",children:[s.jsxs("li",{className:"flex items-start space-x-2",children:[s.jsx("span",{className:"text-orange-500 mt-1",children:"⚡"}),s.jsx("span",{children:"Melhore taxa de resposta testando horários diferentes"})]}),s.jsxs("li",{className:"flex items-start space-x-2",children:[s.jsx("span",{className:"text-orange-500 mt-1",children:"⚡"}),s.jsx("span",{children:"Personalize mais as mensagens para aumentar cliques"})]}),s.jsxs("li",{className:"flex items-start space-x-2",children:[s.jsx("span",{className:"text-orange-500 mt-1",children:"⚡"}),s.jsx("span",{children:"Considere expandir para Instagram e Messenger"})]})]})]})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-center",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(Q,{variant:"outline",size:"sm",children:[s.jsx(py,{className:"h-4 w-4 mr-2"}),"Agendar Relatório"]}),s.jsxs(Q,{variant:"outline",size:"sm",children:[s.jsx(qr,{className:"h-4 w-4 mr-2"}),"Configurar Alertas"]})]}),s.jsxs(Q,{className:"bg-gradient-to-r from-primary to-primary-glow",children:[s.jsx($i,{className:"h-4 w-4 mr-2"}),"Exportar Relatório Completo"]})]})]})}),s.jsx(dt,{value:"templates",className:"space-y-4",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:G.map(W=>s.jsxs(ie,{className:"hover:shadow-md transition-shadow cursor-pointer",children:[s.jsx(me,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(pe,{className:"text-lg",children:W.name}),s.jsx(De,{className:"mt-1",children:W.description})]}),s.jsx(Le,{variant:"outline",className:"capitalize",children:W.channel_type})]})}),s.jsx(ue,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-medium",children:"Passos do Fluxo:"}),s.jsx("div",{className:"space-y-1",children:W.steps.map((se,Se)=>s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/10 flex items-center justify-center text-xs font-medium",children:Se+1}),s.jsx("span",{children:se.name})]},Se))}),s.jsx("div",{className:"pt-4",children:s.jsxs(Q,{onClick:()=>te(W),className:"w-full",children:[s.jsx(wr,{className:"h-4 w-4 mr-2"}),"Usar Template"]})})]})})]},W.id))})})]})]})}),s.jsx(Qt,{open:v,onOpenChange:p,children:s.jsxs(Ut,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Jt,{children:[s.jsxs(er,{className:"flex items-center space-x-2",children:[s.jsx(ha,{className:"h-5 w-5 text-purple-600"}),s.jsx("span",{children:"Criar Nova Campanha com IA"})]}),s.jsx(or,{children:"Configure sua campanha com sugestões inteligentes de IA"})]}),s.jsxs("div",{className:"space-y-6 py-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(qr,{className:"h-5 w-5 text-primary"}),s.jsx("h3",{className:"text-lg font-semibold",children:"Informações Básicas"})]}),s.jsxs(Q,{variant:"outline",size:"sm",onClick:ce,disabled:M,className:"bg-gradient-to-r from-purple-500/10 to-blue-500/10 border-purple-200 text-purple-700",children:[M?s.jsx(gt,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(Pi,{className:"h-4 w-4 mr-2"}),"Sugestões IA"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"name",children:"Nome da Campanha *"}),s.jsx(qe,{id:"name",placeholder:"Ex: Campanha de Lançamento Q1 2024",value:_.name,onChange:W=>k({..._,name:W.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"channel",children:"Canal *"}),s.jsxs(ot,{value:_.channel_type,onValueChange:W=>k({..._,channel_type:W}),children:[s.jsx(nt,{id:"channel",children:s.jsx(lt,{})}),s.jsxs(at,{children:[s.jsx(re,{value:"whatsapp",children:"WhatsApp"}),s.jsx(re,{value:"instagram",children:"Instagram"}),s.jsx(re,{value:"messenger",children:"Messenger"}),s.jsx(re,{value:"telegram",children:"Telegram"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"description",children:"Descrição"}),s.jsx(Gn,{id:"description",placeholder:"Descreva o objetivo da campanha...",value:_.description,onChange:W=>k({..._,description:W.target.value}),rows:3})]})]}),S&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Pi,{className:"h-5 w-5 text-purple-600"}),s.jsxs("h3",{className:"text-lg font-semibold",children:["Sugestões para ",S.campaignType]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg border border-purple-200",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ha,{className:"h-4 w-4 text-purple-600"}),s.jsx("span",{className:"font-medium",children:"Sugestão de Nome"})]}),s.jsx("div",{className:"text-sm text-gray-600",children:s.jsx("p",{className:"font-medium",children:S.contentSuggestions.recommendedName})}),s.jsx(Q,{size:"sm",variant:"outline",onClick:()=>q("name",S.contentSuggestions.recommendedName),className:"text-xs",children:"Aplicar Nome"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(At,{className:"h-4 w-4 text-purple-600"}),s.jsx("span",{className:"font-medium",children:"Descrição Sugerida"})]}),s.jsx("div",{className:"text-sm text-gray-600",children:s.jsx("p",{children:S.contentSuggestions.recommendedDescription})}),s.jsx(Q,{size:"sm",variant:"outline",onClick:()=>q("description",S.contentSuggestions.recommendedDescription),className:"text-xs",children:"Aplicar Descrição"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(W1,{className:"h-4 w-4 text-purple-600"}),s.jsx("span",{className:"font-medium",children:"Tom Recomendado"})]}),s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Estilo:"})," ",S.contentSuggestions.tone]}),s.jsxs("p",{children:[s.jsx("strong",{children:"CTA:"})," ",S.contentSuggestions.callToAction]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ai,{className:"h-4 w-4 text-purple-600"}),s.jsx("span",{className:"font-medium",children:"Tópicos Sugeridos"})]}),s.jsx("div",{className:"text-sm text-gray-600",children:s.jsx("ul",{className:"space-y-1",children:S.contentSuggestions.topics.map((W,se)=>s.jsxs("li",{className:"flex items-start space-x-1",children:[s.jsx("span",{className:"text-purple-500 mt-1",children:"•"}),s.jsx("span",{children:W})]},se))})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 bg-green-50 rounded-lg border border-green-200",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(xt,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"font-medium",children:"Performance Histórica"})]}),s.jsxs("div",{className:"text-sm text-green-700",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Taxa de Abertura:"})," ",S.analyticsInsights.avgOpenRate]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Taxa de Resposta:"})," ",S.analyticsInsights.avgResponseRate]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Melhor tipo:"})," ",S.analyticsInsights.bestPerformingType]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ma,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"font-medium",children:"Dica de Melhoria"})]}),s.jsx("div",{className:"text-sm text-green-700",children:s.jsx("p",{children:S.analyticsInsights.improvementTip})})]})]}),s.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.jsx(ma,{className:"h-4 w-4 text-blue-600"}),s.jsx("span",{className:"font-medium text-blue-800",children:"Dicas de Otimização"})]}),s.jsx("ul",{className:"space-y-1 text-sm text-blue-700",children:S.optimizationTips.map((W,se)=>s.jsxs("li",{className:"flex items-start space-x-2",children:[s.jsx("span",{className:"text-blue-500 mt-1",children:"•"}),s.jsx("span",{children:W})]},se))})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(qr,{className:"h-5 w-5 text-primary"}),s.jsx("h3",{className:"text-lg font-semibold",children:"Configurações Avançadas"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"category",children:"Categoria"}),s.jsxs(ot,{value:_.category,onValueChange:W=>k({..._,category:W}),children:[s.jsx(nt,{id:"category",children:s.jsx(lt,{})}),s.jsxs(at,{children:[s.jsx(re,{value:"marketing",children:"Marketing"}),s.jsx(re,{value:"sales",children:"Vendas"}),s.jsx(re,{value:"support",children:"Suporte"}),s.jsx(re,{value:"nurturing",children:"Nutrição"}),s.jsx(re,{value:"announcement",children:"Anúncio"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"priority",children:"Prioridade"}),s.jsxs(ot,{value:_.priority,onValueChange:W=>k({..._,priority:W}),children:[s.jsx(nt,{id:"priority",children:s.jsx(lt,{})}),s.jsxs(at,{children:[s.jsx(re,{value:"low",children:"Baixa"}),s.jsx(re,{value:"medium",children:"Média"}),s.jsx(re,{value:"high",children:"Alta"}),s.jsx(re,{value:"urgent",children:"Urgente"})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsxs(fe,{className:"flex items-center space-x-2",children:[s.jsx(ma,{className:"h-4 w-4"}),s.jsx("span",{children:"Otimização Automática"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"IA otimiza horários e conteúdo"})]}),s.jsx(za,{checked:_.auto_optimize,onCheckedChange:W=>k({..._,auto_optimize:W})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsxs(fe,{className:"flex items-center space-x-2",children:[s.jsx(zQ,{className:"h-4 w-4"}),s.jsx("span",{children:"Teste A/B"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Testar diferentes versões"})]}),s.jsx(za,{checked:_.a_b_testing,onCheckedChange:W=>k({..._,a_b_testing:W})})]})]})]})]}),s.jsxs(gn,{className:"flex justify-between",children:[s.jsx(Q,{variant:"outline",onClick:()=>{p(!1),k({name:"",channel_type:"whatsapp",description:"",category:"marketing",priority:"medium",schedule_type:"immediate",scheduled_date:"",scheduled_time:"",recurring_type:"none",recurring_days:[],recurring_time:"",max_messages_per_day:100,respect_working_hours:!0,working_hours_start:"09:00",working_hours_end:"18:00",working_days:[1,2,3,4,5],timezone:"America/Sao_Paulo",auto_optimize:!1,a_b_testing:!1,success_metrics:[]}),R(null)},children:"Cancelar"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(Q,{variant:"outline",onClick:Z,disabled:M,className:"bg-gradient-to-r from-purple-500/10 to-blue-500/10 border-purple-200 text-purple-700",children:[M?s.jsx(gt,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(Pi,{className:"h-4 w-4 mr-2"}),"Otimizar com IA"]}),s.jsxs(Q,{onClick:V,disabled:!_.name,className:"bg-gradient-to-r from-primary to-primary-glow",children:[s.jsx(H1,{className:"h-4 w-4 mr-2"}),"Criar Campanha"]})]})]})]})}),s.jsx(Qt,{open:U,onOpenChange:F,children:s.jsxs(Ut,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Jt,{children:[s.jsxs(er,{className:"flex items-center space-x-2",children:[s.jsx(mn,{className:"h-5 w-5 text-purple-600"}),s.jsx("span",{children:"Assistente IA para Campanhas Orgânicas"})]}),s.jsx(or,{children:"Insights inteligentes e otimizações para suas campanhas de relacionamento"})]}),s.jsxs("div",{className:"space-y-6 py-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Hn,{className:"h-5 w-5 text-primary"}),s.jsx("h3",{className:"text-lg font-semibold",children:"Análise de Performance"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(ie,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(xt,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"font-medium",children:"Performance Orgânica"})]}),s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Taxa de Entrega:"})," 98% (+2% vs mês anterior)"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Taxa de Resposta:"})," 22% (+3%)"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Engajamento Médio:"})," 45%"]})]})]}),s.jsxs(ie,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx($a,{className:"h-4 w-4 text-blue-600"}),s.jsx("span",{className:"font-medium",children:"Horários Ideais"})]}),s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Melhor dia:"})," Terça-feira"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Melhor horário:"})," 14:00 - 16:00"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Pior horário:"})," 08:00 - 10:00"]})]})]}),s.jsxs(ie,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(ir,{className:"h-4 w-4 text-purple-600"}),s.jsx("span",{className:"font-medium",children:"Público"})]}),s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Total de contatos:"})," 1,250"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Melhor canal:"})," WhatsApp"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Engajamento:"})," Alto"]})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Pi,{className:"h-5 w-5 text-purple-600"}),s.jsx("h3",{className:"text-lg font-semibold",children:"Sugestões Inteligentes"})]}),s.jsxs(Q,{variant:"outline",size:"sm",onClick:ce,disabled:M,className:"bg-gradient-to-r from-purple-500/10 to-blue-500/10 border-purple-200 text-purple-700",children:[M?s.jsx(gt,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(ha,{className:"h-4 w-4 mr-2"}),"Gerar Novas Sugestões"]})]}),S&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-gradient-to-r from-green-50 to-blue-50 rounded-lg border border-green-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.jsx(W1,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"font-medium text-green-800",children:"Recomendações de Melhoria"})]}),s.jsxs("ul",{className:"space-y-2 text-sm text-green-700",children:[s.jsxs("li",{className:"flex items-start space-x-2",children:[s.jsx("span",{className:"text-green-500 mt-1",children:"⏰"}),s.jsxs("span",{children:[s.jsx("strong",{children:"Timing:"})," Envie entre 14:00-16:00 para maximizar a taxa de resposta orgânica"]})]}),s.jsxs("li",{className:"flex items-start space-x-2",children:[s.jsx("span",{className:"text-green-500 mt-1",children:"💬"}),s.jsxs("span",{children:[s.jsx("strong",{children:"Tom:"})," Use linguagem conversacional e pessoal, não comercial"]})]}),s.jsxs("li",{className:"flex items-start space-x-2",children:[s.jsx("span",{className:"text-green-500 mt-1",children:"🚫"}),s.jsxs("span",{children:[s.jsx("strong",{children:"Anti-Spam:"})," Limite a 3-5 mensagens por contato por semana"]})]}),s.jsxs("li",{className:"flex items-start space-x-2",children:[s.jsx("span",{className:"text-green-500 mt-1",children:"📱"}),s.jsxs("span",{children:[s.jsx("strong",{children:"Engajamento:"})," Use emojis e perguntas para estimular respostas"]})]}),s.jsxs("li",{className:"flex items-start space-x-2",children:[s.jsx("span",{className:"text-green-500 mt-1",children:"🎯"}),s.jsxs("span",{children:[s.jsx("strong",{children:"Objetivo:"})," Foque em construir relacionamento, não em vender"]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs(ie,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.jsx(ai,{className:"h-4 w-4 text-blue-600"}),s.jsx("span",{className:"font-medium",children:"Próximas Oportunidades"})]}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Black Friday:"})," Campanha informativa sobre promoções"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Natal:"})," Mensagens de boas festas e agradecimento"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Reativação:"})," 340 contatos inativos - campanha de reengajamento"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Eventos:"})," Convites para webinars e encontros"]})]})]}),s.jsxs(ie,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.jsx(ma,{className:"h-4 w-4 text-purple-600"}),s.jsx("span",{className:"font-medium",children:"Otimizações Automáticas"})]}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"A/B Testing:"})," Teste diferentes horários de envio"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Personalização:"})," Use nome e contexto do relacionamento"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Follow-up:"})," Reengajamento respeitoso em 48h"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Frequência:"})," Controle automático de limite de mensagens"]})]})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(qr,{className:"h-5 w-5 text-primary"}),s.jsx("h3",{className:"text-lg font-semibold",children:"Ações Rápidas"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs(Q,{variant:"outline",className:"h-auto p-4 flex flex-col items-start space-y-2",onClick:()=>{F(!1),p(!0)},children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(wr,{className:"h-4 w-4"}),s.jsx("span",{className:"font-medium",children:"Criar Campanha Otimizada"})]}),s.jsx("span",{className:"text-sm text-muted-foreground text-left",children:"Use as sugestões de IA para criar uma nova campanha"})]}),s.jsxs(Q,{variant:"outline",className:"h-auto p-4 flex flex-col items-start space-y-2",onClick:Z,disabled:M,children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Pi,{className:"h-4 w-4"}),s.jsx("span",{className:"font-medium",children:"Otimizar Campanhas Existentes"})]}),s.jsx("span",{className:"text-sm text-muted-foreground text-left",children:"Aplicar melhorias automáticas nas campanhas ativas"})]})]})]})]}),s.jsxs(gn,{children:[s.jsx(Q,{variant:"outline",onClick:()=>F(!1),children:"Fechar"}),s.jsxs(Q,{onClick:()=>{F(!1),p(!0)},className:"bg-gradient-to-r from-purple-600 to-blue-600",children:[s.jsx(mn,{className:"h-4 w-4 mr-2"}),"Criar com IA"]})]})]})})]})}async function z4e(e){try{const t="00000000-0000-0000-0000-000000000000",{data:r,error:n}=await le.functions.invoke("google-places-search",{body:{...e,orgId:t}});if(n)throw n;return r}catch(t){return console.error("Error searching Google Places:",t),{success:!1,source:"unknown",total:0,saved:0,prospects:0,places:[],error:t.message||"Erro ao buscar lugares"}}}const F4e={restaurant:"Restaurante",cafe:"Café",bakery:"Padaria",bar:"Bar",food:"Alimentação",store:"Loja",clothing_store:"Loja de Roupas",shoe_store:"Sapataria",jewelry_store:"Joalheria",book_store:"Livraria",electronics_store:"Loja de Eletrônicos",furniture_store:"Loja de Móveis",home_goods_store:"Loja de Utilidades",supermarket:"Supermercado",convenience_store:"Conveniência",beauty_salon:"Salão de Beleza",hair_care:"Cabeleireiro",spa:"Spa",gym:"Academia",laundry:"Lavanderia",car_wash:"Lava-jato",car_repair:"Mecânica",locksmith:"Chaveiro",electrician:"Eletricista",plumber:"Encanador",hospital:"Hospital",doctor:"Médico",dentist:"Dentista",pharmacy:"Farmácia",physiotherapist:"Fisioterapeuta",veterinary_care:"Veterinário",school:"Escola",university:"Universidade",library:"Biblioteca",real_estate_agency:"Imobiliária",lawyer:"Advogado",accounting:"Contabilidade",insurance_agency:"Seguradora",travel_agency:"Agência de Viagens",lodging:"Hospedagem",movie_theater:"Cinema",night_club:"Boate",tourist_attraction:"Atração Turística",park:"Parque",museum:"Museu"},CR={Alimentação:["restaurant","cafe","bakery","bar","food"],Varejo:["store","clothing_store","shoe_store","jewelry_store","book_store","electronics_store","furniture_store","home_goods_store","supermarket","convenience_store"],Serviços:["beauty_salon","hair_care","spa","gym","laundry","car_wash","car_repair","locksmith","electrician","plumber"],Saúde:["hospital","doctor","dentist","pharmacy","physiotherapist","veterinary_care"],Educação:["school","university","library"],Profissionais:["real_estate_agency","lawyer","accounting","insurance_agency"],Turismo:["travel_agency","lodging","tourist_attraction","park","museum"],Entretenimento:["movie_theater","night_club"]};function $4e({onResults:e}){const[t,r]=g.useState(""),[n,a]=g.useState(""),[i,o]=g.useState(""),[l,c]=g.useState(""),[u,d]=g.useState("5000"),[f,h]=g.useState(!1),[m,v]=g.useState(!1),p=async()=>{if(!t&&!l){ae.error("Informe o que você está procurando ou selecione uma categoria");return}h(!0);try{let w={query:t||void 0,location:n||void 0,radius:parseInt(u),type:l||void 0};if(m){const N=await new Promise((_,k)=>{navigator.geolocation.getCurrentPosition(_,k)});w={...w,lat:N.coords.latitude,lng:N.coords.longitude,location:void 0},ae.success("Localização detectada!")}const j=await z4e(w);if(!j.success){ae.error(j.error||"Erro ao buscar lugares");return}if(j.total===0){ae.info("Nenhum lugar encontrado. Tente ajustar os filtros.");return}ae.success(`${j.total} lugares encontrados! ${j.prospects} novos prospects criados.`,{description:`Fonte: ${j.source==="official_api"?"Google Places API":"Scraping"}`}),e==null||e(j.places)}catch(w){console.error("Search error:",w),w.code===1?ae.error("Permissão de localização negada"):ae.error(w.message||"Erro ao buscar lugares")}finally{h(!1)}},b=w=>{o(w),c("")},x=w=>{c(w)},y=()=>i?CR[i]||[]:[];return s.jsxs(ie,{className:"border-2 hover:border-primary/30 transition-all",children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(qa,{className:"h-5 w-5 text-primary"}),"Buscar no Google Maps"]}),s.jsx(De,{children:"Encontre prospects por localização, categoria ou palavra-chave"})]}),s.jsxs(ue,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"query",children:"O que você está procurando?"}),s.jsx(qe,{id:"query",placeholder:"Ex: restaurantes italianos, academias, pet shops...",value:t,onChange:w=>r(w.target.value),onKeyDown:w=>w.key==="Enter"&&p()})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"location",children:"Localização"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(qe,{id:"location",placeholder:"Ex: São Paulo, SP",value:n,onChange:w=>a(w.target.value),disabled:m,className:"flex-1"}),s.jsxs(Q,{type:"button",variant:m?"default":"outline",onClick:()=>v(!m),className:"whitespace-nowrap",children:[s.jsx(Pd,{className:"h-4 w-4 mr-2"}),m?"Minha Localização":"Usar GPS"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"category",children:"Categoria"}),s.jsxs(ot,{value:i,onValueChange:b,children:[s.jsx(nt,{id:"category",children:s.jsx(lt,{placeholder:"Selecione uma categoria"})}),s.jsx(at,{children:Object.keys(CR).map(w=>s.jsx(re,{value:w,children:w},w))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"type",children:"Tipo Específico"}),s.jsxs(ot,{value:l,onValueChange:x,disabled:!i,children:[s.jsx(nt,{id:"type",children:s.jsx(lt,{placeholder:"Selecione um tipo"})}),s.jsx(at,{children:y().map(w=>s.jsx(re,{value:w,children:F4e[w]},w))})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"radius",children:"Raio de Busca"}),s.jsxs(ot,{value:u,onValueChange:d,children:[s.jsx(nt,{id:"radius",children:s.jsx(lt,{})}),s.jsxs(at,{children:[s.jsx(re,{value:"1000",children:"1 km"}),s.jsx(re,{value:"2000",children:"2 km"}),s.jsx(re,{value:"5000",children:"5 km"}),s.jsx(re,{value:"10000",children:"10 km"}),s.jsx(re,{value:"20000",children:"20 km"}),s.jsx(re,{value:"50000",children:"50 km"})]})]})]}),s.jsx(Q,{onClick:p,disabled:f,className:"w-full",size:"lg",children:f?s.jsxs(s.Fragment,{children:[s.jsx(gt,{className:"mr-2 h-4 w-4 animate-spin"}),"Buscando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ha,{className:"mr-2 h-4 w-4"}),"Buscar Prospects"]})})]})]})}function q4e({results:e,onSelectPlace:t}){return e.length===0?s.jsx(ie,{className:"border-2",children:s.jsx(ue,{className:"pt-6",children:s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(nr,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"Nenhum resultado para exibir"}),s.jsx("p",{className:"text-sm mt-1",children:"Use a busca acima para encontrar prospects"})]})})}):s.jsxs(ie,{className:"border-2 hover:border-primary/30 transition-all",children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(nr,{className:"h-5 w-5 text-primary"}),"Resultados da Busca"]}),s.jsxs(De,{children:[e.length," ",e.length===1?"lugar encontrado":"lugares encontrados"]})]}),s.jsx(ue,{children:s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:e.map(r=>s.jsx(B4e,{place:r,onClick:()=>t==null?void 0:t(r)},r.place_id))})})]})}function B4e({place:e,onClick:t}){return s.jsxs(ie,{className:"border hover:border-primary/50 transition-all cursor-pointer hover:shadow-lg group",onClick:t,children:[s.jsx(me,{className:"pb-3",children:s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx(pe,{className:"text-base line-clamp-1 group-hover:text-primary transition-colors",children:e.name}),e.types&&e.types.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:e.types.slice(0,2).map(r=>s.jsx(Le,{variant:"secondary",className:"text-xs",children:r.replace(/_/g," ")},r))})]}),e.rating&&s.jsxs("div",{className:"flex items-center gap-1 text-sm font-medium bg-amber-500/10 text-amber-600 px-2 py-1 rounded-md shrink-0",children:[s.jsx(Lm,{className:"h-3 w-3 fill-current"}),e.rating]})]})}),s.jsxs(ue,{className:"space-y-2 text-sm",children:[e.formatted_address&&s.jsxs("div",{className:"flex items-start gap-2 text-muted-foreground",children:[s.jsx(Pd,{className:"h-4 w-4 shrink-0 mt-0.5"}),s.jsx("span",{className:"line-clamp-2 text-xs",children:e.formatted_address})]}),e.phone_number&&s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(Cf,{className:"h-4 w-4 shrink-0"}),s.jsx("a",{href:`tel:${e.phone_number}`,className:"hover:text-primary transition-colors",onClick:r=>r.stopPropagation(),children:e.phone_number})]}),e.website&&s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(eL,{className:"h-4 w-4 shrink-0"}),s.jsxs("a",{href:e.website.startsWith("http")?e.website:`https://${e.website}`,target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary transition-colors truncate flex items-center gap-1",onClick:r=>r.stopPropagation(),children:[s.jsx("span",{className:"truncate",children:e.website.replace(/^https?:\/\//,"")}),s.jsx(J6,{className:"h-3 w-3 shrink-0"})]})]}),e.user_ratings_total&&s.jsxs("div",{className:"text-xs text-muted-foreground pt-1 border-t",children:[e.user_ratings_total," avaliações"]}),e.business_status&&e.business_status!=="OPERATIONAL"&&s.jsx(Le,{variant:"destructive",className:"text-xs",children:e.business_status==="CLOSED_TEMPORARILY"?"Temporariamente fechado":"Fechado permanentemente"})]})]})}function U4e(){const{currentOrg:e}=bn(),[t,r]=g.useState(""),[n,a]=g.useState(null),[i,o]=g.useState([]),[l,c]=g.useState("search"),[u,d]=g.useState([]),{data:f=[],isLoading:h,refetch:m}=bt({queryKey:["prospects",t,e==null?void 0:e.id],queryFn:async()=>{if(!e)return[];let y=le.from("prospects").select(`
          *,
          places (
            name,
            formatted_address,
            phone_number,
            website,
            types
          )
        `).eq("org_id",e.id).order("created_at",{ascending:!1});t&&(y=y.or(`notes.ilike.%${t}%`));const{data:w,error:j}=await y;if(j)throw j;return(w||[]).map(N=>({...N,pipeline_stage:N.pipeline_stage||"lead",expected_revenue:N.expected_revenue||0,probability:N.probability||0}))},enabled:!!e}),{data:v}=bt({queryKey:["prospects-stats"],queryFn:async()=>({total:2,validated:1,imported:0})}),p=async y=>{var w,j;a(y.id);try{const{data:{user:N}}=await le.auth.getUser();if(!N){ae.error("Usuário não autenticado");return}if(!e){ae.error("Nenhuma organização selecionada");return}const{error:_}=await le.from("contacts").insert({org_id:e.id,full_name:((w=y.places)==null?void 0:w.name)||"Sem nome",phone_e164:((j=y.places)==null?void 0:j.phone_number)||null,tags:y.tags||[]});if(_)throw _;const{error:k}=await le.from("prospects").update({status:"imported"}).eq("id",y.id);if(k)throw k;ae.success("Prospect importado para contatos!"),m()}catch(N){console.error("Error:",N),ae.error("Erro ao importar prospect")}finally{a(null)}},b=y=>{const w={new:{label:"Novo",className:"bg-blue-500/10 text-blue-600 hover:bg-blue-500/20"},validated:{label:"Validado",className:"bg-emerald-500/10 text-emerald-600 hover:bg-emerald-500/20"},imported:{label:"Importado",className:"bg-purple-500/10 text-purple-600 hover:bg-purple-500/20"},opted_out:{label:"Opt-out",className:"bg-red-500/10 text-red-600 hover:bg-red-500/20"}},j=w[y]||w.new;return s.jsx(Le,{className:j.className,children:j.label})};v!=null&&v.total.toString(),v!=null&&v.validated.toString(),v!=null&&v.imported.toString();const x=y=>{o(y),c("results"),m()};return s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:s.jsx("div",{className:"flex h-16 items-center px-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(nr,{className:"h-5 w-5 text-muted-foreground"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Gestão"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"/"}),s.jsx("span",{className:"text-sm font-medium",children:"Prospecção"})]})})}),s.jsx("div",{className:"flex-1 overflow-auto",children:s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Prospecção"}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("p",{className:"text-muted-foreground",children:"Encontre e gerencie seus leads via Google Maps"}),s.jsxs(Le,{variant:"outline",className:"text-xs",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse"}),"Ativo"]})]})]})}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[s.jsxs(ie,{className:"relative overflow-hidden border-2 hover:border-primary/50 transition-all duration-300 hover:shadow-lg group",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-blue-500/5 to-transparent rounded-full -mr-16 -mt-16 group-hover:scale-110 transition-transform"}),s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium text-muted-foreground",children:"Prospects Encontrados"}),s.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-500/10 flex items-center justify-center group-hover:bg-blue-500/20 transition-colors",children:s.jsx(qa,{className:"h-5 w-5 text-blue-600"})})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-3xl font-bold tracking-tight",children:(v==null?void 0:v.total)||0}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Total identificados"})]})]}),s.jsxs(ie,{className:"relative overflow-hidden border-2 hover:border-primary/50 transition-all duration-300 hover:shadow-lg group",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-green-500/5 to-transparent rounded-full -mr-16 -mt-16 group-hover:scale-110 transition-transform"}),s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium text-muted-foreground",children:"Qualificados"}),s.jsx("div",{className:"h-10 w-10 rounded-full bg-green-500/10 flex items-center justify-center group-hover:bg-green-500/20 transition-colors",children:s.jsx(Yi,{className:"h-5 w-5 text-green-600"})})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-3xl font-bold tracking-tight",children:(v==null?void 0:v.validated)||0}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Validados para contato"})]})]}),s.jsxs(ie,{className:"relative overflow-hidden border-2 hover:border-primary/50 transition-all duration-300 hover:shadow-lg group",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-purple-500/5 to-transparent rounded-full -mr-16 -mt-16 group-hover:scale-110 transition-transform"}),s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium text-muted-foreground",children:"Contactados"}),s.jsx("div",{className:"h-10 w-10 rounded-full bg-purple-500/10 flex items-center justify-center group-hover:bg-purple-500/20 transition-colors",children:s.jsx(xt,{className:"h-5 w-5 text-purple-600"})})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-3xl font-bold tracking-tight",children:(v==null?void 0:v.imported)||0}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Convertidos em contatos"})]})]})]}),s.jsxs(Na,{value:l,onValueChange:c,className:"space-y-6",children:[s.jsxs(Jn,{className:"grid w-full max-w-2xl grid-cols-3",children:[s.jsxs(et,{value:"search",children:[s.jsx(qa,{className:"h-4 w-4 mr-2"}),"Buscar"]}),s.jsxs(et,{value:"results",children:[s.jsx(ha,{className:"h-4 w-4 mr-2"}),"Resultados"]}),s.jsxs(et,{value:"prospects",children:[s.jsx(nr,{className:"h-4 w-4 mr-2"}),"Lista Completa"]})]}),s.jsx(dt,{value:"search",className:"space-y-4",children:s.jsxs(ie,{className:"border-2 hover:border-primary/30 transition-all shadow-lg",children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(qa,{className:"h-5 w-5 text-primary"}),"Buscar Prospects"]}),s.jsx(De,{children:"Encontre novos leads usando Google Places"})]}),s.jsx(ue,{children:s.jsx($4e,{onResults:x})})]})}),s.jsx(dt,{value:"results",className:"space-y-4",children:s.jsxs(ie,{className:"border-2 hover:border-primary/30 transition-all shadow-lg",children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(ha,{className:"h-5 w-5 text-primary"}),"Resultados da Busca"]}),s.jsx(De,{children:"Prospects encontrados na sua busca"})]}),s.jsx(ue,{children:s.jsx(q4e,{results:i})})]})}),s.jsx(dt,{value:"prospects",className:"space-y-4",children:s.jsxs(ie,{className:"border-2 hover:border-primary/30 transition-all shadow-lg",children:[s.jsx(me,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(nr,{className:"h-5 w-5 text-primary"}),"Prospects"]}),s.jsx(De,{className:"mt-1",children:"Lista de prospects identificados"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(aB,{prospects:f,selectedIds:u,onExportComplete:()=>{d([]),m()}}),s.jsxs("div",{className:"relative",children:[s.jsx(qa,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(qe,{placeholder:"Buscar prospects...",className:"pl-9 w-64",value:t,onChange:y=>r(y.target.value)})]})]})]})}),s.jsx(ue,{children:s.jsxs(lO,{children:[s.jsx(cO,{children:s.jsxs(zi,{children:[s.jsx(kn,{className:"w-12",children:s.jsx(qc,{checked:u.length===f.length&&f.length>0,onCheckedChange:y=>{d(y?f.map(w=>w.id):[])}})}),s.jsx(kn,{children:"Nome"}),s.jsx(kn,{children:"Endereço"}),s.jsx(kn,{children:"Categoria"}),s.jsx(kn,{children:"Contato"}),s.jsx(kn,{children:"Status"}),s.jsx(kn,{className:"text-right",children:"Ações"})]})}),s.jsx(uO,{children:h?s.jsx(zi,{children:s.jsx(zr,{colSpan:7,className:"text-center py-8",children:s.jsx(gt,{className:"h-8 w-8 animate-spin mx-auto text-primary"})})}):f.length===0?s.jsx(zi,{children:s.jsxs(zr,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:[s.jsx(nr,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"Nenhum prospect encontrado"})]})}):f.map(y=>{var w,j,N,_,k,O;return s.jsxs(zi,{className:"hover:bg-accent/50 transition-colors",children:[s.jsx(zr,{children:s.jsx(qc,{checked:u.includes(y.id),onCheckedChange:E=>{d(E?[...u,y.id]:u.filter(T=>T!==y.id))}})}),s.jsx(zr,{className:"font-medium",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-primary to-primary-glow flex items-center justify-center text-white font-semibold",children:(((w=y.places)==null?void 0:w.name)||"?").charAt(0).toUpperCase()}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:((j=y.places)==null?void 0:j.name)||"Sem nome"}),((N=y.places)==null?void 0:N.website)&&s.jsxs("a",{href:`https://${y.places.website}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-xs text-primary hover:underline",children:[s.jsx(eL,{className:"h-3 w-3"}),y.places.website]})]})]})}),s.jsx(zr,{children:(_=y.places)!=null&&_.formatted_address?s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(Pd,{className:"h-4 w-4"}),s.jsx("span",{className:"max-w-xs truncate",children:y.places.formatted_address})]}):s.jsx("span",{className:"text-muted-foreground",children:"-"})}),s.jsx(zr,{children:(k=y.places)!=null&&k.types&&y.places.types.length>0?s.jsx(Le,{variant:"secondary",children:y.places.types[0]}):s.jsx("span",{className:"text-muted-foreground",children:"-"})}),s.jsx(zr,{children:(O=y.places)!=null&&O.phone_number?s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(Cf,{className:"h-4 w-4"}),y.places.phone_number]}):s.jsx("span",{className:"text-muted-foreground",children:"-"})}),s.jsx(zr,{children:b(y.status)}),s.jsx(zr,{className:"text-right",children:y.status==="imported"?s.jsxs(Le,{className:"bg-emerald-500/10 text-emerald-600",children:[s.jsx(Yi,{className:"h-3 w-3 mr-1"}),"Importado"]}):s.jsx(Q,{variant:"outline",size:"sm",className:"group",onClick:()=>p(y),disabled:n===y.id,children:n===y.id?s.jsx(gt,{className:"h-3 w-3 animate-spin"}):s.jsxs(s.Fragment,{children:["Importar",s.jsx(Eb,{className:"ml-1 h-3 w-3 transition-transform group-hover:translate-x-1"})]})})})]},y.id)})})]})})]})})]})]})})]})}function V4e(e){const t=Pf(),r=bt({queryKey:["attendants",e],queryFn:async()=>{if(!e)return[];const{data:p,error:b}=await le.from("attendants").select(`
          *,
          profile:profiles(id, avatar_url, full_name)
        `).eq("org_id",e).order("created_at",{ascending:!1});if(b)throw b;return p},enabled:!!e}),n=bt({queryKey:["online-attendants",e],queryFn:async()=>{if(!e)return[];const{data:p,error:b}=await le.from("attendants").select(`
          *,
          profile:profiles(id, avatar_url, full_name)
        `).eq("org_id",e).in("status",["online","busy","away"]).order("status",{ascending:!0});if(b)throw b;return p},enabled:!!e,refetchInterval:3e4}),a=bt({queryKey:["unassigned-conversations",e],queryFn:async()=>{if(!e)return[];const{data:p,error:b}=await le.from("conversations").select(`
          *,
          contacts(id, full_name, email, phone_e164, external_id)
        `).eq("org_id",e).is("assigned_to",null).eq("status","open").order("created_at",{ascending:!1});if(b)throw b;return p},enabled:!!e,refetchInterval:15e3}),i=bt({queryKey:["active-assignments",e],queryFn:async()=>{if(!e)return[];const{data:p,error:b}=await le.from("conversation_assignments").select(`
          *,
          conversation:conversations(
            id,
            contact_id,
            status,
            last_message_at,
            channel_type,
            contacts(id, full_name, email, phone_e164)
          ),
          attendant:attendants(id, full_name, status, avatar_url)
        `).eq("org_id",e).eq("status","active").order("assigned_at",{ascending:!1});if(b)throw b;return p},enabled:!!e,refetchInterval:1e4}),o=bt({queryKey:["active-sessions",e],queryFn:async()=>{if(!e)return[];const{data:p,error:b}=await le.from("attendant_sessions").select(`
          *,
          attendant:attendants(id, full_name, status, avatar_url)
        `).eq("org_id",e).eq("status","active").order("started_at",{ascending:!1});if(b)throw b;return p},enabled:!!e,refetchInterval:3e4}),l=ua({mutationFn:async p=>{var b,x;const{data:y,error:w}=await le.auth.getUser();if(w)throw w;const{error:j}=await le.from("attendants").insert({...p,user_id:(b=y.user)==null?void 0:b.id,org_id:e,created_by:(x=y.user)==null?void 0:x.id});if(j)throw j},onSuccess:()=>{t.invalidateQueries({queryKey:["attendants",e]}),t.invalidateQueries({queryKey:["online-attendants",e]}),ae.success("Atendente criado com sucesso!")},onError:p=>{ae.error("Erro ao criar atendente: "+p.message)}}),c=ua({mutationFn:async({id:p,data:b})=>{const{error:x}=await le.from("attendants").update(b).eq("id",p);if(x)throw x},onSuccess:()=>{t.invalidateQueries({queryKey:["attendants",e]}),t.invalidateQueries({queryKey:["online-attendants",e]}),ae.success("Atendente atualizado com sucesso!")},onError:p=>{ae.error("Erro ao atualizar atendente: "+p.message)}}),u=ua({mutationFn:async({id:p,status:b})=>{const{error:x}=await le.from("attendants").update({status:b,last_activity_at:new Date().toISOString()}).eq("id",p);if(x)throw x},onSuccess:()=>{t.invalidateQueries({queryKey:["attendants",e]}),t.invalidateQueries({queryKey:["online-attendants",e]}),ae.success("Status atualizado com sucesso!")},onError:p=>{ae.error("Erro ao atualizar status: "+p.message)}}),d=ua({mutationFn:async({conversationId:p,attendantId:b,notes:x})=>{var y;const{data:w,error:j}=await le.auth.getUser();if(j)throw j;const{error:N}=await le.from("conversation_assignments").insert({conversation_id:p,attendant_id:b,org_id:e,assigned_by:(y=w.user)==null?void 0:y.id,notes:x,status:"assigned"});if(N)throw N;const{error:_}=await le.from("conversations").update({assigned_to:b,status:"assigned"}).eq("id",p);if(_)throw _},onSuccess:()=>{t.invalidateQueries({queryKey:["unassigned-conversations",e]}),t.invalidateQueries({queryKey:["active-assignments",e]}),t.invalidateQueries({queryKey:["online-attendants",e]}),ae.success("Conversa atribuída com sucesso!")},onError:p=>{ae.error("Erro ao atribuir conversa: "+p.message)}}),f=ua({mutationFn:async p=>{const{data:b,error:x}=await le.rpc("auto_assign_conversation",{p_conversation_id:p});if(x)throw x;return b},onSuccess:p=>{t.invalidateQueries({queryKey:["unassigned-conversations",e]}),t.invalidateQueries({queryKey:["active-assignments",e]}),t.invalidateQueries({queryKey:["online-attendants",e]}),p?ae.success("Conversa atribuída automaticamente!"):ae.warning("Nenhum atendente disponível no momento")},onError:p=>{ae.error("Erro na atribuição automática: "+p.message)}}),h=ua({mutationFn:async p=>{const{error:b}=await le.from("attendant_sessions").insert({attendant_id:p,org_id:e,status:"active"});if(b)throw b},onSuccess:()=>{t.invalidateQueries({queryKey:["active-sessions",e]}),t.invalidateQueries({queryKey:["online-attendants",e]}),ae.success("Sessão iniciada com sucesso!")},onError:p=>{ae.error("Erro ao iniciar sessão: "+p.message)}}),m=ua({mutationFn:async p=>{const{error:b}=await le.from("attendant_sessions").update({status:"ended",ended_at:new Date().toISOString()}).eq("id",p);if(b)throw b},onSuccess:()=>{t.invalidateQueries({queryKey:["active-sessions",e]}),t.invalidateQueries({queryKey:["online-attendants",e]}),ae.success("Sessão finalizada com sucesso!")},onError:p=>{ae.error("Erro ao finalizar sessão: "+p.message)}}),v=p=>{var b;const x=(b=n.data)==null?void 0:b.filter(y=>{var w;const j=((w=i.data)==null?void 0:w.filter(N=>N.attendant_id===y.id&&N.status==="active").length)||0;return y.status==="online"&&j<y.max_concurrent_chats});return!x||x.length===0?null:x.sort((y,w)=>{var j,N;const _=((j=i.data)==null?void 0:j.filter(O=>O.attendant_id===y.id&&O.status==="active").length)||0,k=((N=i.data)==null?void 0:N.filter(O=>O.attendant_id===w.id&&O.status==="active").length)||0;return _!==k?_-k:y.avg_response_time-w.avg_response_time})[0]};return{attendants:r.data||[],onlineAttendants:n.data||[],unassignedConversations:a.data||[],activeAssignments:i.data||[],activeSessions:o.data||[],isLoadingAttendants:r.isLoading,isLoadingOnline:n.isLoading,isLoadingUnassigned:a.isLoading,isLoadingAssignments:i.isLoading,isLoadingSessions:o.isLoading,createAttendant:l.mutate,updateAttendant:c.mutate,updateAttendantStatus:u.mutate,assignConversation:d.mutate,autoAssignConversation:f.mutate,startSession:h.mutate,endSession:m.mutate,isCreatingAttendant:l.isPending,isUpdatingAttendant:c.isPending,isUpdatingStatus:u.isPending,isAssigningConversation:d.isPending,isAutoAssigning:f.isPending,isStartingSession:h.isPending,isEndingSession:m.isPending,findBestAttendant:v,refetchAttendants:()=>{r.refetch(),n.refetch()},refetchConversations:()=>{a.refetch(),i.refetch()},refetchSessions:()=>{o.refetch()}}}function W4e(e,t){Pf();const r=bt({queryKey:["attendant-metrics",e,t],queryFn:async()=>{if(!e)return[];let a=le.from("attendant_metrics").select(`
          *,
          attendant:attendants(id, full_name)
        `).eq("org_id",e).gte("period_start",new Date(Date.now()-30*24*60*60*1e3).toISOString().split("T")[0]).order("period_start",{ascending:!1});const{data:i,error:o}=await a;if(o)throw o;return i},enabled:!!e}),n=bt({queryKey:["consolidated-metrics",e],queryFn:async()=>{if(!e)return null;const{data:a,error:i}=await le.from("attendant_metrics").select("*").eq("org_id",e).gte("period_start",new Date(Date.now()-30*24*60*60*1e3).toISOString().split("T")[0]);if(i)throw i;if(!a||a.length===0)return null;const o=a.reduce((l,c)=>({totalChats:l.totalChats+c.total_chats,resolvedChats:l.resolvedChats+c.resolved_chats,transferredChats:l.transferredChats+c.transferred_chats,abandonedChats:l.abandonedChats+c.abandoned_chats,totalResponseTime:l.totalResponseTime+c.avg_response_time,totalResolutionTime:l.totalResolutionTime+c.avg_resolution_time,totalWorkTime:l.totalWorkTime+c.total_work_time,totalSatisfaction:l.totalSatisfaction+c.satisfaction_avg,satisfactionCount:l.satisfactionCount+c.satisfaction_count,totalMessages:l.totalMessages+c.messages_sent,totalFCR:l.totalFCR+c.first_contact_resolution,count:l.count+1}),{totalChats:0,resolvedChats:0,transferredChats:0,abandonedChats:0,totalResponseTime:0,totalResolutionTime:0,totalWorkTime:0,totalSatisfaction:0,satisfactionCount:0,totalMessages:0,totalFCR:0,count:0});return{totalChats:o.totalChats,resolvedChats:o.resolvedChats,transferredChats:o.transferredChats,abandonedChats:o.abandonedChats,avgResponseTime:o.count>0?Math.round(o.totalResponseTime/o.count):0,avgResolutionTime:o.count>0?Math.round(o.totalResolutionTime/o.count):0,totalWorkTime:o.totalWorkTime,avgSatisfaction:o.satisfactionCount>0?o.totalSatisfaction/o.satisfactionCount:0,totalMessages:o.totalMessages,avgFCR:o.count>0?o.totalFCR/o.count:0,resolutionRate:o.totalChats>0?o.resolvedChats/o.totalChats*100:0}},enabled:!!e});return{metrics:r.data||[],consolidatedMetrics:n.data,isLoadingMetrics:r.isLoading,isLoadingConsolidated:n.isLoading,refetchMetrics:()=>{r.refetch(),n.refetch()}}}function H4e(){var e,t,r,n,a;const{currentOrg:i}=bn(),o=Pf(),[l,c]=g.useState("overview"),[u,d]=g.useState(""),[f,h]=g.useState("all"),[m,v]=g.useState("all"),[p,b]=g.useState(!1),[x,y]=g.useState(!1),[w,j]=g.useState(null),[N,_]=g.useState({full_name:"",email:"",phone:"",department:"",position:"",max_concurrent_chats:5,auto_accept:!1,skills:[],specializations:[]}),[k,O]=g.useState(!0),[E,T]=g.useState(null),[P,S]=g.useState(!1),[R,M]=g.useState(null),[B,U]=g.useState(!1),{data:F=[],isLoading:z}=V4e(i==null?void 0:i.id);W4e(i==null?void 0:i.id);const{data:I,isLoading:G}=bt({queryKey:["attendants-realtime",i==null?void 0:i.id],queryFn:async()=>{if(!i)return null;const Y=Do(new Date,1),{data:q}=await le.from("conversations").select("id, status, created_at, assigned_to").eq("org_id",i.id).gte("created_at",Y.toISOString()),{data:Z}=await le.from("messages").select("id, created_at, conversation_id").gte("created_at",Y.toISOString()),X=F.map(se=>{const Se=(q==null?void 0:q.filter(dr=>dr.assigned_to===se.id))||[],mt=(Z==null?void 0:Z.filter(dr=>Se.some(Wr=>Wr.id===dr.conversation_id)))||[],Vt=Se.filter(dr=>dr.status==="resolved").length,tr=Se.length,wn=L(mt);return{id:se.id,name:se.full_name,conversations:tr,resolved:Vt,resolutionRate:tr>0?Vt/tr*100:0,messages:mt.length,avgResponseTime:wn,currentStatus:se.status,satisfaction:se.satisfaction_score||0}}),xe=(q==null?void 0:q.length)||0,ye=(q==null?void 0:q.filter(se=>se.status==="resolved").length)||0,we=(Z==null?void 0:Z.length)||0,W=$(q);return{attendantStats:X,generalStats:{totalConversations:xe,totalResolved:ye,totalMessages:we,resolutionRate:xe>0?ye/xe*100:0,avgResolutionTime:W}}},enabled:!!(i!=null&&i.id),refetchInterval:3e4}),L=Y=>{if(Y.length<2)return 0;let q=0,Z=0;for(let X=1;X<Y.length;X++){const xe=new Date(Y[X-1].created_at),ye=new Date(Y[X].created_at).getTime()-xe.getTime();ye>0&&ye<3e5&&(q+=ye,Z++)}return Z>0?Math.round(q/Z/1e3):0},$=Y=>{if(!Y)return 0;const q=Y.filter(X=>X.status==="resolved");if(q.length===0)return 0;let Z=0;return q.forEach(X=>{const xe=new Date(X.created_at);Z+=new Date().getTime()-xe.getTime()}),Math.round(Z/q.length/1e3/60)},{data:J=[]}=bt({queryKey:["unassigned-conversations",i==null?void 0:i.id],queryFn:async()=>{const{data:Y,error:q}=await le.from("conversations").select(`
          *,
          contacts(id, full_name, email, phone_e164)
        `).eq("org_id",i==null?void 0:i.id).is("assigned_agent_id",null).eq("status","active").order("last_message_at",{ascending:!1});if(q)throw q;return Y},enabled:!!(i!=null&&i.id),refetchInterval:5e3}),K=Y=>{switch(Y){case"online":return s.jsx(ks,{className:"h-4 w-4 text-green-500"});case"busy":return s.jsx(cl,{className:"h-4 w-4 text-yellow-500"});case"away":return s.jsx($a,{className:"h-4 w-4 text-orange-500"});case"offline":return s.jsx(YE,{className:"h-4 w-4 text-gray-500"});case"break":return s.jsx(ma,{className:"h-4 w-4 text-blue-500"});case"training":return s.jsx(qr,{className:"h-4 w-4 text-purple-500"});default:return s.jsx(YE,{className:"h-4 w-4 text-gray-500"})}},D=Y=>{const q={online:"default",busy:"secondary",away:"outline",offline:"destructive",break:"secondary",training:"outline"},Z={online:"Online",busy:"Ocupado",away:"Ausente",offline:"Offline",break:"Pausa",training:"Treinamento"};return s.jsxs(Le,{variant:q[Y],children:[K(Y),s.jsx("span",{className:"ml-1",children:Z[Y]})]})},oe=Y=>{switch(Y){case"whatsapp":return s.jsx(At,{className:"h-4 w-4 text-green-500"});case"instagram":return s.jsx(At,{className:"h-4 w-4 text-pink-500"});case"telegram":return s.jsx(At,{className:"h-4 w-4 text-blue-500"});default:return s.jsx(At,{className:"h-4 w-4 text-gray-500"})}},V=F.filter(Y=>{const q=Y.full_name.toLowerCase().includes(u.toLowerCase())||Y.email.toLowerCase().includes(u.toLowerCase()),Z=f==="all"||Y.status===f,X=m==="all"||Y.department===m;return q&&Z&&X}),de={total:F.length,totalOnline:F.filter(Y=>Y.status==="online").length,totalBusy:F.filter(Y=>Y.status==="busy").length,totalAway:F.filter(Y=>Y.status==="away").length,totalOffline:F.filter(Y=>Y.status==="offline").length,unassignedConversations:J.length,avgResponseTime:((e=I==null?void 0:I.generalStats)==null?void 0:e.avgResolutionTime)||0,resolutionRate:((t=I==null?void 0:I.generalStats)==null?void 0:t.resolutionRate)||0,totalConversations24h:((r=I==null?void 0:I.generalStats)==null?void 0:r.totalConversations)||0,totalMessages24h:((n=I==null?void 0:I.generalStats)==null?void 0:n.totalMessages)||0},te=ua({mutationFn:async Y=>{const{data:q,error:Z}=await le.from("attendants").insert([{...Y,org_id:i==null?void 0:i.id,status:"offline"}]).select().single();if(Z)throw Z;return q},onSuccess:()=>{o.invalidateQueries({queryKey:["attendants"]}),b(!1),_({full_name:"",email:"",phone:"",department:"",position:"",max_concurrent_chats:5,auto_accept:!1,skills:[],specializations:[]}),ae.success("Atendente criado com sucesso!")},onError:Y=>{ae.error(`Erro ao criar atendente: ${Y.message}`)}}),ce=ua({mutationFn:async({id:Y,updates:q})=>{const{data:Z,error:X}=await le.from("attendants").update(q).eq("id",Y).select().single();if(X)throw X;return Z},onSuccess:()=>{o.invalidateQueries({queryKey:["attendants"]}),y(!1),j(null),ae.success("Atendente atualizado com sucesso!")},onError:Y=>{ae.error(`Erro ao atualizar atendente: ${Y.message}`)}}),ne=ua({mutationFn:async Y=>{const{error:q}=await le.from("attendants").delete().eq("id",Y);if(q)throw q},onSuccess:()=>{o.invalidateQueries({queryKey:["attendants"]}),ae.success("Atendente removido com sucesso!")},onError:Y=>{ae.error(`Erro ao remover atendente: ${Y.message}`)}}),ee=()=>{te.mutate(N)},Be=Y=>{j(Y),y(!0)},Ie=()=>{w&&ce.mutate({id:w.id,updates:w})},ut=Y=>{confirm("Tem certeza que deseja remover este atendente?")&&ne.mutate(Y)},it=Y=>{M(Y),S(!0)},Xe=async Y=>{U(!0);try{ae.success("Sessão iniciada com sucesso!")}catch{ae.error("Erro ao iniciar sessão")}finally{U(!1)}};return z?s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Qn,{className:"h-4 w-4 animate-spin"}),s.jsx("span",{children:"Carregando atendentes..."})]})}):s.jsx(Rz,{permission:"canManageAttendants",children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:s.jsx("div",{className:"flex h-16 items-center px-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ir,{className:"h-5 w-5 text-muted-foreground"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Gestão"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"/"}),s.jsx("span",{className:"text-sm font-medium",children:"Atendentes"})]})})}),s.jsx("div",{className:"flex-1 overflow-auto",children:s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Gestão de Atendentes"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Gerencie sua equipe de atendimento e monitore performance"})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(za,{id:"auto-assign",checked:k,onCheckedChange:O}),s.jsxs(fe,{htmlFor:"auto-assign",className:"flex items-center space-x-1",children:[s.jsx(H1,{className:"h-4 w-4"}),s.jsx("span",{children:"Atribuição Automática"})]})]}),s.jsxs(Q,{onClick:()=>b(!0),children:[s.jsx(wr,{className:"h-4 w-4 mr-2"}),"Novo Atendente"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[s.jsxs(ie,{className:"hover:shadow-md transition-shadow",children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Total Atendentes"}),s.jsx(ir,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-2xl font-bold",children:de.total}),s.jsx("p",{className:"text-xs text-muted-foreground",children:de.total===1?"atendente cadastrado":"atendentes cadastrados"}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx(xt,{className:"h-3 w-3 text-green-500 mr-1"}),s.jsx("span",{className:"text-xs text-green-600",children:"+2 esta semana"})]})]})]}),s.jsxs(ie,{className:"hover:shadow-md transition-shadow",children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Online"}),s.jsx(ks,{className:"h-4 w-4 text-green-500"})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:de.totalOnline}),s.jsx("p",{className:"text-xs text-muted-foreground",children:de.totalOnline===1?"atendente disponível":"atendentes disponíveis"}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-1 animate-pulse"}),s.jsx("span",{className:"text-xs text-green-600",children:"em tempo real"})]})]})]}),s.jsxs(ie,{className:"hover:shadow-md transition-shadow",children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Conversas 24h"}),s.jsx(At,{className:"h-4 w-4 text-blue-500"})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:de.totalConversations24h}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"últimas 24 horas"}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx(xt,{className:"h-3 w-3 text-blue-500 mr-1"}),s.jsx("span",{className:"text-xs text-blue-600",children:"+15% vs ontem"})]})]})]}),s.jsxs(ie,{className:"hover:shadow-md transition-shadow",children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Taxa de Resolução"}),s.jsx(ai,{className:"h-4 w-4 text-green-500"})]}),s.jsxs(ue,{children:[s.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[de.resolutionRate.toFixed(1),"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"conversas resolvidas"}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx(xt,{className:"h-3 w-3 text-green-500 mr-1"}),s.jsx("span",{className:"text-xs text-green-600",children:"+5% vs ontem"})]})]})]}),s.jsxs(ie,{className:"hover:shadow-md transition-shadow",children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Tempo Médio"}),s.jsx($a,{className:"h-4 w-4 text-purple-500"})]}),s.jsxs(ue,{children:[s.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[de.avgResponseTime,"min"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"para resolver"}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx(xt,{className:"h-3 w-3 text-green-500 mr-1"}),s.jsx("span",{className:"text-xs text-green-600",children:"-2min vs ontem"})]})]})]}),s.jsxs(ie,{className:"hover:shadow-md transition-shadow",children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Não Atribuídas"}),s.jsx(cl,{className:"h-4 w-4 text-orange-500"})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:de.unassignedConversations}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"aguardando atribuição"}),s.jsx("div",{className:"flex items-center mt-1",children:de.unassignedConversations>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full mr-1 animate-pulse"}),s.jsx("span",{className:"text-xs text-orange-600",children:"precisa atenção"})]}):s.jsxs(s.Fragment,{children:[s.jsx(ks,{className:"h-3 w-3 text-green-500 mr-1"}),s.jsx("span",{className:"text-xs text-green-600",children:"todas atribuídas"})]})})]})]})]}),s.jsxs(Na,{value:l,onValueChange:c,className:"space-y-4",children:[s.jsxs(Jn,{className:"grid w-full grid-cols-5",children:[s.jsxs(et,{value:"overview",className:"flex items-center space-x-2",children:[s.jsx(Hn,{className:"h-4 w-4"}),s.jsx("span",{children:"Visão Geral"})]}),s.jsxs(et,{value:"attendants",className:"flex items-center space-x-2",children:[s.jsx(ir,{className:"h-4 w-4"}),s.jsx("span",{children:"Atendentes"})]}),s.jsxs(et,{value:"conversations",className:"flex items-center space-x-2",children:[s.jsx(At,{className:"h-4 w-4"}),s.jsx("span",{children:"Conversas"})]}),s.jsxs(et,{value:"sessions",className:"flex items-center space-x-2",children:[s.jsx(ri,{className:"h-4 w-4"}),s.jsx("span",{children:"Sessões"})]}),s.jsxs(et,{value:"metrics",className:"flex items-center space-x-2",children:[s.jsx(xt,{className:"h-4 w-4"}),s.jsx("span",{children:"Métricas"})]})]}),s.jsx(dt,{value:"overview",className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center space-x-2",children:[s.jsx(fl,{className:"h-5 w-5"}),s.jsx("span",{children:"Atendentes Online"})]}),s.jsx(De,{children:"Equipe disponível para atendimento"})]}),s.jsx(ue,{children:s.jsx(tl,{className:"h-[300px]",children:s.jsxs("div",{className:"space-y-3",children:[F.filter(Y=>Y.status==="online").map(Y=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs(bs,{className:"h-8 w-8",children:[s.jsx(ws,{src:Y.avatar_url}),s.jsx(js,{children:Y.full_name.split(" ").map(q=>q[0]).join("")})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:Y.full_name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:Y.department})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[D(Y.status),s.jsx(Q,{size:"sm",onClick:()=>Xe(Y.id),children:s.jsx(Ac,{className:"h-3 w-3"})})]})]},Y.id)),F.filter(Y=>Y.status==="online").length===0&&s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Nenhum atendente online no momento"})]})})})]}),s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center space-x-2",children:[s.jsx(At,{className:"h-5 w-5"}),s.jsx("span",{children:"Conversas Não Atribuídas"})]}),s.jsx(De,{children:"Aguardando atribuição a um atendente"})]}),s.jsx(ue,{children:s.jsx(tl,{className:"h-[300px]",children:s.jsxs("div",{className:"space-y-3",children:[J.slice(0,10).map(Y=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[oe(Y.channel_type||"whatsapp"),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:Y.contacts.full_name||"Contato sem nome"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:vc(new Date(Y.last_message_at),{addSuffix:!0,locale:Yo})})]})]}),s.jsx(Q,{size:"sm",variant:"outline",onClick:()=>it(Y),children:"Atribuir"})]},Y.id)),J.length===0&&s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Todas as conversas foram atribuídas"})]})})})]})]})}),s.jsxs(dt,{value:"attendants",className:"space-y-4",children:[s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsx(pe,{className:"text-lg",children:"Filtros e Busca"}),s.jsx(De,{children:"Encontre atendentes específicos usando os filtros abaixo"})]}),s.jsx(ue,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(qa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),s.jsx(qe,{placeholder:"Buscar por nome ou email...",value:u,onChange:Y=>d(Y.target.value),className:"pl-10"})]})}),s.jsxs(ot,{value:f,onValueChange:h,children:[s.jsx(nt,{className:"w-[180px]",children:s.jsx(lt,{placeholder:"Status"})}),s.jsxs(at,{children:[s.jsx(re,{value:"all",children:"Todos os Status"}),s.jsx(re,{value:"online",children:"Online"}),s.jsx(re,{value:"busy",children:"Ocupado"}),s.jsx(re,{value:"away",children:"Ausente"}),s.jsx(re,{value:"offline",children:"Offline"}),s.jsx(re,{value:"break",children:"Pausa"}),s.jsx(re,{value:"training",children:"Treinamento"})]})]}),s.jsxs(ot,{value:m,onValueChange:v,children:[s.jsx(nt,{className:"w-[180px]",children:s.jsx(lt,{placeholder:"Departamento"})}),s.jsxs(at,{children:[s.jsx(re,{value:"all",children:"Todos os Departamentos"}),s.jsx(re,{value:"atendimento",children:"Atendimento"}),s.jsx(re,{value:"vendas",children:"Vendas"}),s.jsx(re,{value:"suporte",children:"Suporte"}),s.jsx(re,{value:"técnico",children:"Técnico"})]})]})]})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:V.map(Y=>s.jsxs(ie,{className:"hover:shadow-md transition-shadow",children:[s.jsx(me,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs(bs,{className:"h-10 w-10",children:[s.jsx(ws,{src:Y.avatar_url}),s.jsx(js,{children:Y.full_name.split(" ").map(q=>q[0]).join("")})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:Y.full_name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:Y.email})]})]}),s.jsxs(iO,{children:[s.jsx(oO,{asChild:!0,children:s.jsx(Q,{variant:"ghost",size:"sm",children:s.jsx(RS,{className:"h-4 w-4"})})}),s.jsxs(L0,{align:"end",children:[s.jsxs(ps,{onClick:()=>Be(Y),children:[s.jsx(dl,{className:"h-4 w-4 mr-2"}),"Editar"]}),s.jsxs(ps,{onClick:()=>ut(Y.id),className:"text-destructive",children:[s.jsx(no,{className:"h-4 w-4 mr-2"}),"Remover"]})]})]})]})}),s.jsxs(ue,{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Status:"}),D(Y.status)]}),Y.department&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Departamento:"}),s.jsx("span",{className:"text-sm font-medium",children:Y.department})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Chats Simultâneos:"}),s.jsx("span",{className:"text-sm font-medium",children:Y.max_concurrent_chats})]}),Y.skills&&Y.skills.length>0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Habilidades:"}),s.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[Y.skills.slice(0,3).map((q,Z)=>s.jsx(Le,{variant:"secondary",className:"text-xs",children:q},Z)),Y.skills.length>3&&s.jsxs(Le,{variant:"secondary",className:"text-xs",children:["+",Y.skills.length-3]})]})]})]})]},Y.id))}),V.length===0&&s.jsx(ie,{children:s.jsxs(ue,{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(ir,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Nenhum atendente encontrado"}),s.jsx("p",{className:"text-muted-foreground text-center mb-4",children:u||f!=="all"||m!=="all"?"Tente ajustar os filtros de busca":"Comece criando seu primeiro atendente"}),s.jsxs(Q,{onClick:()=>b(!0),children:[s.jsx(wr,{className:"h-4 w-4 mr-2"}),"Novo Atendente"]})]})})]}),s.jsx(dt,{value:"conversations",className:"space-y-4",children:s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center space-x-2",children:[s.jsx(At,{className:"h-5 w-5"}),s.jsx("span",{children:"Conversas Não Atribuídas"})]}),s.jsx(De,{children:"Lista completa de conversas aguardando atribuição"})]}),s.jsx(ue,{children:s.jsxs("div",{className:"space-y-4",children:[J.map(Y=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[oe(Y.channel_type||"whatsapp"),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:Y.contacts.full_name||Y.contacts.email||"Contato sem nome"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:Y.contacts.phone_e164||Y.contacts.email}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Última mensagem: ",vc(new Date(Y.last_message_at),{addSuffix:!0,locale:Yo})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Le,{variant:"outline",children:Y.channel_type||"whatsapp"}),s.jsx(Q,{size:"sm",onClick:()=>it(Y),children:"Atribuir"})]})]},Y.id)),J.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(At,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Todas as conversas foram atribuídas"}),s.jsx("p",{className:"text-muted-foreground",children:"Não há conversas aguardando atribuição no momento"})]})]})})]})}),s.jsx(dt,{value:"sessions",className:"space-y-4",children:s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center space-x-2",children:[s.jsx(ri,{className:"h-5 w-5"}),s.jsx("span",{children:"Sessões Ativas"})]}),s.jsx(De,{children:"Atendentes com sessões de trabalho ativas"})]}),s.jsx(ue,{children:s.jsxs("div",{className:"space-y-4",children:[F.filter(Y=>Y.status==="online"||Y.status==="busy").map(Y=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(bs,{className:"h-10 w-10",children:[s.jsx(ws,{src:Y.avatar_url}),s.jsx(js,{children:Y.full_name.split(" ").map(q=>q[0]).join("")})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:Y.full_name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:Y.department}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Sessão iniciada: ",vc(new Date(Y.updated_at),{addSuffix:!0,locale:Yo})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[D(Y.status),s.jsxs(Q,{size:"sm",variant:"outline",children:[s.jsx(Im,{className:"h-3 w-3 mr-1"}),"Pausar"]}),s.jsxs(Q,{size:"sm",variant:"destructive",children:[s.jsx(nL,{className:"h-3 w-3 mr-1"}),"Finalizar"]})]})]},Y.id)),F.filter(Y=>Y.status==="online"||Y.status==="busy").length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ri,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Nenhuma sessão ativa"}),s.jsx("p",{className:"text-muted-foreground",children:"Não há atendentes com sessões de trabalho ativas no momento"})]})]})})]})}),s.jsx(dt,{value:"metrics",className:"space-y-4",children:G?s.jsxs("div",{className:"flex items-center justify-center py-12",children:[s.jsx(Qn,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("span",{className:"ml-2 text-muted-foreground",children:"Carregando métricas em tempo real..."})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(Hn,{className:"h-5 w-5 text-primary"}),"Performance Geral (24h)"]}),s.jsx(De,{children:"Métricas consolidadas da equipe de atendimento"})]}),s.jsx(ue,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-blue-50 to-white rounded-lg border",children:[s.jsx("div",{className:"text-3xl font-bold text-blue-600",children:de.totalConversations24h}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Conversas"}),s.jsx("div",{className:"text-xs text-blue-600 mt-1",children:"+15% vs ontem"})]}),s.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-green-50 to-white rounded-lg border",children:[s.jsxs("div",{className:"text-3xl font-bold text-green-600",children:[de.resolutionRate.toFixed(1),"%"]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Taxa de Resolução"}),s.jsx("div",{className:"text-xs text-green-600 mt-1",children:"+5% vs ontem"})]}),s.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-purple-50 to-white rounded-lg border",children:[s.jsxs("div",{className:"text-3xl font-bold text-purple-600",children:[de.avgResponseTime,"min"]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Tempo Médio"}),s.jsx("div",{className:"text-xs text-green-600 mt-1",children:"-2min vs ontem"})]}),s.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-orange-50 to-white rounded-lg border",children:[s.jsx("div",{className:"text-3xl font-bold text-orange-600",children:de.totalMessages24h}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Mensagens"}),s.jsx("div",{className:"text-xs text-blue-600 mt-1",children:"+22% vs ontem"})]})]})})]}),s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(xt,{className:"h-5 w-5 text-primary"}),"Performance Individual (24h)"]}),s.jsx(De,{children:"Métricas detalhadas de cada atendente"})]}),s.jsx(ue,{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:(a=I==null?void 0:I.attendantStats)==null?void 0:a.map(Y=>{const q=F.find(Z=>Z.id===Y.id);return q?s.jsxs(ie,{className:"p-4 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[s.jsxs(bs,{className:"h-10 w-10",children:[s.jsx(ws,{src:q.avatar_url}),s.jsx(js,{children:q.full_name.split(" ").map(Z=>Z[0]).join("")})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium",children:q.full_name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:q.department}),s.jsx("div",{className:"mt-1",children:D(q.status)})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Conversas:"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm font-bold",children:Y.conversations}),s.jsxs(Le,{variant:"outline",className:"text-xs",children:[Y.resolved,"/",Y.conversations]})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex justify-between items-center text-xs",children:[s.jsx("span",{className:"text-green-600 font-medium",children:"Resolução"}),s.jsxs("span",{className:"font-semibold",children:[Y.resolutionRate.toFixed(1),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-500",style:{width:`${Math.min(Y.resolutionRate,100)}%`}})})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Tempo Médio:"}),s.jsxs("span",{className:"text-sm font-medium text-purple-600",children:[Y.avgResponseTime,"s"]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Satisfação:"}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Lm,{className:"h-3 w-3 text-yellow-500 fill-current"}),s.jsx("span",{className:"text-sm font-medium",children:Y.satisfaction.toFixed(1)})]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Mensagens:"}),s.jsx("span",{className:"text-sm font-medium text-blue-600",children:Y.messages})]})]}),s.jsxs("div",{className:"mt-4 pt-3 border-t",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:`w-3 h-3 rounded-full ${Y.resolutionRate>=80?"bg-green-500":Y.resolutionRate>=60?"bg-yellow-500":"bg-red-500"}`})}),s.jsx("div",{className:"text-xs text-center mt-1 text-muted-foreground",children:Y.resolutionRate>=80?"Excelente":Y.resolutionRate>=60?"Bom":"Melhorar"})]})]},Y.id):null})})})]}),s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(Pi,{className:"h-5 w-5 text-purple-600"}),"Insights Inteligentes"]}),s.jsx(De,{children:"Análise automatizada e recomendações para melhoria"})]}),s.jsx(ue,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 bg-gradient-to-r from-green-50 to-blue-50 rounded-lg border border-green-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.jsx(xt,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"font-medium text-green-800",children:"Pontos Fortes"})]}),s.jsxs("ul",{className:"space-y-2 text-sm text-green-700",children:[s.jsxs("li",{className:"flex items-start space-x-2",children:[s.jsx("span",{className:"text-green-500 mt-1",children:"✓"}),s.jsxs("span",{children:["Taxa de resolução de ",de.resolutionRate.toFixed(1),"% está acima da média"]})]}),s.jsxs("li",{className:"flex items-start space-x-2",children:[s.jsx("span",{className:"text-green-500 mt-1",children:"✓"}),s.jsxs("span",{children:["Tempo médio de ",de.avgResponseTime,"min é eficiente"]})]}),s.jsxs("li",{className:"flex items-start space-x-2",children:[s.jsx("span",{className:"text-green-500 mt-1",children:"✓"}),s.jsxs("span",{children:[de.totalOnline," atendentes online garantem boa cobertura"]})]})]})]}),s.jsxs("div",{className:"p-4 bg-gradient-to-r from-orange-50 to-red-50 rounded-lg border border-orange-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.jsx(ai,{className:"h-4 w-4 text-orange-600"}),s.jsx("span",{className:"font-medium text-orange-800",children:"Oportunidades"})]}),s.jsxs("ul",{className:"space-y-2 text-sm text-orange-700",children:[s.jsxs("li",{className:"flex items-start space-x-2",children:[s.jsx("span",{className:"text-orange-500 mt-1",children:"⚡"}),s.jsxs("span",{children:[de.unassignedConversations," conversas não atribuídas precisam de atenção"]})]}),s.jsxs("li",{className:"flex items-start space-x-2",children:[s.jsx("span",{className:"text-orange-500 mt-1",children:"⚡"}),s.jsx("span",{children:"Considere aumentar o número de atendentes online"})]}),s.jsxs("li",{className:"flex items-start space-x-2",children:[s.jsx("span",{className:"text-orange-500 mt-1",children:"⚡"}),s.jsx("span",{children:"Implementar atribuição automática para melhorar eficiência"})]})]})]})]})})]})]})})]}),s.jsx(Qt,{open:p,onOpenChange:b,children:s.jsxs(Ut,{className:"max-w-2xl",children:[s.jsxs(Jt,{children:[s.jsx(er,{children:"Novo Atendente"}),s.jsx(or,{children:"Adicione um novo membro à sua equipe de atendimento"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"full_name",children:"Nome Completo"}),s.jsx(qe,{id:"full_name",value:N.full_name,onChange:Y=>_({...N,full_name:Y.target.value}),placeholder:"João Silva"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"email",children:"Email"}),s.jsx(qe,{id:"email",type:"email",value:N.email,onChange:Y=>_({...N,email:Y.target.value}),placeholder:"joao@empresa.com"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"phone",children:"Telefone"}),s.jsx(qe,{id:"phone",value:N.phone,onChange:Y=>_({...N,phone:Y.target.value}),placeholder:"(11) 99999-9999"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"department",children:"Departamento"}),s.jsxs(ot,{value:N.department,onValueChange:Y=>_({...N,department:Y}),children:[s.jsx(nt,{children:s.jsx(lt,{placeholder:"Selecione o departamento"})}),s.jsxs(at,{children:[s.jsx(re,{value:"atendimento",children:"Atendimento"}),s.jsx(re,{value:"vendas",children:"Vendas"}),s.jsx(re,{value:"suporte",children:"Suporte"}),s.jsx(re,{value:"técnico",children:"Técnico"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"position",children:"Cargo"}),s.jsx(qe,{id:"position",value:N.position,onChange:Y=>_({...N,position:Y.target.value}),placeholder:"Atendente Sênior"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"max_chats",children:"Chats Simultâneos"}),s.jsx(qe,{id:"max_chats",type:"number",min:"1",max:"20",value:N.max_concurrent_chats,onChange:Y=>_({...N,max_concurrent_chats:parseInt(Y.target.value)})})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(za,{id:"auto_accept",checked:N.auto_accept,onCheckedChange:Y=>_({...N,auto_accept:Y})}),s.jsx(fe,{htmlFor:"auto_accept",children:"Aceitar conversas automaticamente"})]}),s.jsxs(gn,{children:[s.jsx(Q,{variant:"outline",onClick:()=>b(!1),children:"Cancelar"}),s.jsx(Q,{onClick:ee,disabled:te.isPending,children:te.isPending?"Criando...":"Criar Atendente"})]})]})}),s.jsx(Qt,{open:x,onOpenChange:y,children:s.jsxs(Ut,{className:"max-w-2xl",children:[s.jsxs(Jt,{children:[s.jsx(er,{children:"Editar Atendente"}),s.jsx(or,{children:"Atualize as informações do atendente"})]}),w&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"edit_full_name",children:"Nome Completo"}),s.jsx(qe,{id:"edit_full_name",value:w.full_name,onChange:Y=>j({...w,full_name:Y.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"edit_email",children:"Email"}),s.jsx(qe,{id:"edit_email",type:"email",value:w.email,onChange:Y=>j({...w,email:Y.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"edit_phone",children:"Telefone"}),s.jsx(qe,{id:"edit_phone",value:w.phone||"",onChange:Y=>j({...w,phone:Y.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"edit_department",children:"Departamento"}),s.jsxs(ot,{value:w.department||"",onValueChange:Y=>j({...w,department:Y}),children:[s.jsx(nt,{children:s.jsx(lt,{placeholder:"Selecione o departamento"})}),s.jsxs(at,{children:[s.jsx(re,{value:"atendimento",children:"Atendimento"}),s.jsx(re,{value:"vendas",children:"Vendas"}),s.jsx(re,{value:"suporte",children:"Suporte"}),s.jsx(re,{value:"técnico",children:"Técnico"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"edit_position",children:"Cargo"}),s.jsx(qe,{id:"edit_position",value:w.position||"",onChange:Y=>j({...w,position:Y.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"edit_max_chats",children:"Chats Simultâneos"}),s.jsx(qe,{id:"edit_max_chats",type:"number",min:"1",max:"20",value:w.max_concurrent_chats,onChange:Y=>j({...w,max_concurrent_chats:parseInt(Y.target.value)})})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(za,{id:"edit_auto_accept",checked:(w==null?void 0:w.auto_accept)||!1,onCheckedChange:Y=>j({...w,auto_accept:Y})}),s.jsx(fe,{htmlFor:"edit_auto_accept",children:"Aceitar conversas automaticamente"})]}),s.jsxs(gn,{children:[s.jsx(Q,{variant:"outline",onClick:()=>y(!1),children:"Cancelar"}),s.jsx(Q,{onClick:Ie,disabled:ce.isPending,children:ce.isPending?"Salvando...":"Salvar Alterações"})]})]})}),s.jsx(Qt,{open:P,onOpenChange:S,children:s.jsxs(Ut,{children:[s.jsxs(Jt,{children:[s.jsx(er,{children:"Atribuir Conversa"}),s.jsx(or,{children:"Selecione um atendente para atribuir esta conversa"})]}),R&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-3 border rounded-lg",children:[s.jsx("h4",{className:"font-medium",children:R.contacts.full_name||"Contato sem nome"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:R.contacts.phone_e164||R.contacts.email})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Atendente Disponível"}),s.jsxs(ot,{children:[s.jsx(nt,{children:s.jsx(lt,{placeholder:"Selecione um atendente"})}),s.jsx(at,{children:F.filter(Y=>Y.status==="online").map(Y=>s.jsxs(re,{value:Y.id,children:[Y.full_name," - ",Y.department]},Y.id))})]})]})]}),s.jsxs(gn,{children:[s.jsx(Q,{variant:"outline",onClick:()=>S(!1),children:"Cancelar"}),s.jsx(Q,{children:"Atribuir"})]})]})})]})})]})})}const Co=[{id:"lead",label:"Leads",color:"bg-gray-500",icon:nr},{id:"contacted",label:"Contactados",color:"bg-blue-500",icon:Cf},{id:"qualified",label:"Qualificados",color:"bg-purple-500",icon:Yi},{id:"proposal",label:"Proposta",color:"bg-yellow-500",icon:Ad},{id:"negotiation",label:"Negociação",color:"bg-orange-500",icon:xt},{id:"won",label:"Ganhos",color:"bg-green-500",icon:Ec}];function K4e({prospects:e,onRefresh:t}){var r,n,a,i,o;const[l,c]=g.useState(null),[u,d]=g.useState(null),[f,h]=g.useState(!1),[m,v]=g.useState(null),[p,b]=g.useState(null),x=S=>e.filter(R=>R.pipeline_stage===S),y=async(S,R)=>{var M;c(S);try{const{error:B}=await le.from("prospects").update({pipeline_stage:R,last_activity:new Date().toISOString()}).eq("id",S);if(B)throw B;ae.success(`Prospect movido para ${(M=Co.find(U=>U.id===R))==null?void 0:M.label}`),t()}catch(B){console.error("Error moving prospect:",B),ae.error("Erro ao mover prospect")}finally{c(null)}},w=async S=>{var R,M,B,U;try{const{data:{user:F}}=await le.auth.getUser();if(!F){ae.error("Usuário não autenticado");return}const{data:z}=await le.from("members").select("org_id").eq("user_id",F.id).single();if(!z){ae.error("Organização não encontrada");return}const I=e.find($=>$.id===S);if(!I)return;const{error:G}=await le.from("contacts").insert({org_id:z.org_id,full_name:((R=I.places)==null?void 0:R.name)||"Sem nome",phone_e164:((M=I.places)==null?void 0:M.phone_number)||null,tags:((U=(B=I.places)==null?void 0:B.types)==null?void 0:U.slice(0,3))||[]});if(G)throw G;const{error:L}=await le.from("prospects").update({status:"imported"}).eq("id",S);if(L)throw L;ae.success("Prospect exportado para Contatos!"),t()}catch(F){console.error("Error:",F),ae.error("Erro ao exportar prospect")}},j=S=>{d(S),v({...S}),h(!0)},N=()=>{h(!1),d(null),v(null)},_=async()=>{if(m)try{const{error:S}=await le.from("prospects").update({pipeline_stage:m.pipeline_stage,expected_revenue:m.expected_revenue,probability:m.probability,notes:m.notes,updated_at:new Date().toISOString()}).eq("id",m.id);if(S)throw S;ae.success("Prospect atualizado com sucesso!"),t(),N()}catch(S){console.error("Error updating prospect:",S),ae.error("Erro ao atualizar prospect")}},k=async()=>{if(m)try{const{error:S}=await le.from("prospects").delete().eq("id",m.id);if(S)throw S;ae.success("Prospect excluído com sucesso!"),t(),N()}catch(S){console.error("Error deleting prospect:",S),ae.error("Erro ao excluir prospect")}},O=(S,R)=>{b(R),S.dataTransfer.effectAllowed="move"},E=S=>{S.preventDefault(),S.dataTransfer.dropEffect="move"},T=async(S,R)=>{if(S.preventDefault(),!p)return;const M=e.find(B=>B.id===p);if(!M||M.pipeline_stage===R){b(null);return}await y(p,R),b(null)},P=()=>{b(null)};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-6 gap-6",children:Co.map((S,R)=>{const M=x(S.id),B=S.icon;return s.jsxs("div",{className:`space-y-3 relative ${R<Co.length-1?"lg:border-r lg:border-gray-200 lg:pr-6":""}`,onDragOver:E,onDrop:U=>T(U,S.id),children:[s.jsxs("div",{className:"flex flex-col items-center space-y-2 mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(B,{className:`h-5 w-5 ${S.color.replace("bg-","text-")}`}),s.jsx("h3",{className:"font-semibold text-sm text-center",children:S.label})]}),s.jsx(Le,{className:`${S.color} text-white`,children:M.length})]}),s.jsx("div",{className:"space-y-3 min-h-[200px] p-2",children:M.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground text-sm",children:[s.jsx(B,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"Nenhum prospect"}),s.jsx("p",{className:"text-xs mt-1",children:"Arraste um prospect aqui"})]}):M.map(U=>s.jsx(G4e,{prospect:U,currentStage:S.id,onMove:y,onExport:w,onOpenModal:j,onDragStart:F=>O(F,U.id),onDragEnd:P,isMoving:l===U.id,isDragging:p===U.id},U.id))})]},S.id)})}),s.jsx(Qt,{open:f,onOpenChange:N,children:s.jsxs(Ut,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Jt,{children:[s.jsxs(er,{className:"flex items-center gap-2",children:[s.jsx(nr,{className:"h-5 w-5 text-primary"}),((r=m==null?void 0:m.places)==null?void 0:r.name)||"Detalhes do Prospect"]}),s.jsx(or,{children:"Visualize e edite as informações do prospect"})]}),m&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"name",children:"Nome do Negócio"}),s.jsx(qe,{id:"name",value:((n=m.places)==null?void 0:n.name)||"",disabled:!0,className:"bg-gray-50"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"address",children:"Endereço"}),s.jsx(qe,{id:"address",value:((a=m.places)==null?void 0:a.formatted_address)||"",disabled:!0,className:"bg-gray-50"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"phone",children:"Telefone"}),s.jsx(qe,{id:"phone",value:((i=m.places)==null?void 0:i.phone_number)||"",disabled:!0,className:"bg-gray-50"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"website",children:"Website"}),s.jsx(qe,{id:"website",value:((o=m.places)==null?void 0:o.website)||"",disabled:!0,className:"bg-gray-50"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"stage",children:"Estágio do Pipeline"}),s.jsxs(ot,{value:m.pipeline_stage,onValueChange:S=>v({...m,pipeline_stage:S}),children:[s.jsx(nt,{children:s.jsx(lt,{})}),s.jsx(at,{children:Co.map(S=>s.jsx(re,{value:S.id,children:S.label},S.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"revenue",children:"Receita Esperada (R$)"}),s.jsx(qe,{id:"revenue",type:"number",value:m.expected_revenue||"",onChange:S=>v({...m,expected_revenue:Number(S.target.value)}),placeholder:"0"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"probability",children:"Probabilidade (%)"}),s.jsx(qe,{id:"probability",type:"number",min:"0",max:"100",value:m.probability||"",onChange:S=>v({...m,probability:Number(S.target.value)}),placeholder:"0"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"notes",children:"Notas"}),s.jsx(Gn,{id:"notes",value:m.notes||"",onChange:S=>v({...m,notes:S.target.value}),placeholder:"Adicione observações sobre este prospect...",rows:4})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[m.pipeline_stage!=="won"&&s.jsxs(Q,{onClick:()=>{const S=Co.findIndex(M=>M.id===m.pipeline_stage),R=Co[S+1];R&&v({...m,pipeline_stage:R.id})},variant:"outline",size:"sm",children:[s.jsx(Eb,{className:"h-4 w-4 mr-2"}),"Próximo Estágio"]}),m.pipeline_stage==="won"&&s.jsxs(Q,{onClick:()=>w(m.id),variant:"outline",size:"sm",children:[s.jsx(Yi,{className:"h-4 w-4 mr-2"}),"Exportar para Contatos"]})]}),s.jsxs(Q,{onClick:k,variant:"destructive",size:"sm",children:[s.jsx(no,{className:"h-4 w-4 mr-2"}),"Excluir"]})]})]}),s.jsxs(gn,{children:[s.jsxs(Q,{variant:"outline",onClick:N,children:[s.jsx(Ab,{className:"h-4 w-4 mr-2"}),"Fechar"]}),s.jsxs(Q,{onClick:_,children:[s.jsx(Dm,{className:"h-4 w-4 mr-2"}),"Salvar Alterações"]})]})]})})]})}function G4e({prospect:e,currentStage:t,onMove:r,onExport:n,onOpenModal:a,onDragStart:i,onDragEnd:o,isMoving:l,isDragging:c=!1}){var u,d,f;const h=Co.findIndex(p=>p.id===t),m=Co[h+1],v=m&&m.id!=="won";return s.jsx(ie,{className:`p-3 hover:shadow-md transition-all cursor-pointer group select-none ${c?"opacity-50 rotate-2 scale-105":""}`,draggable:!0,onDragStart:i,onDragEnd:o,onClick:()=>a(e),children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-semibold text-sm line-clamp-2 group-hover:text-primary transition-colors",children:((u=e.places)==null?void 0:u.name)||"Sem nome"}),((d=e.places)==null?void 0:d.types)&&e.places.types.length>0&&s.jsx(Le,{variant:"secondary",className:"text-xs mt-1",children:e.places.types[0].replace(/_/g," ")})]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:s.jsx(dl,{className:"h-3 w-3"})})]}),((f=e.places)==null?void 0:f.formatted_address)&&s.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1",children:e.places.formatted_address}),e.expected_revenue&&s.jsxs("div",{className:"flex items-center gap-1 text-xs font-medium text-green-600",children:[s.jsx(Ec,{className:"h-3 w-3"}),"R$ ",e.expected_revenue.toLocaleString("pt-BR")]}),e.probability&&s.jsxs("div",{className:"flex items-center gap-1 text-xs text-blue-600",children:[s.jsx(xt,{className:"h-3 w-3"}),e.probability,"% chance"]}),s.jsxs("div",{className:"flex gap-1 pt-2 border-t",onClick:p=>p.stopPropagation(),children:[v&&s.jsxs(Q,{size:"sm",variant:"outline",className:"flex-1 h-7 text-xs",onClick:()=>r(e.id,m.id),disabled:l,children:[s.jsx(Eb,{className:"h-3 w-3 mr-1"}),m.label]}),t==="won"&&s.jsxs(Q,{size:"sm",variant:"default",className:"flex-1 h-7 text-xs",onClick:()=>n(e.id),disabled:l,children:[s.jsx(Yi,{className:"h-3 w-3 mr-1"}),"Exportar"]})]})]})})}function Z4e(){var e,t,r,n,a,i,o,l,c,u,d,f,h,m,v,p,b,x,y,w,j,N,_,k,O,E,T,P,S;const{currentOrg:R}=bn(),[M,B]=g.useState("pipeline"),[U,F]=g.useState(!1),[z,I]=g.useState(null),[G,L]=g.useState({period:"30d",source:"all",stage:"all",assignee:"all"}),{data:$=[],isLoading:J,refetch:K}=bt({queryKey:["prospects-crm",R==null?void 0:R.id],queryFn:async()=>{if(!R)return[];const{data:ne,error:ee}=await le.from("prospects").select(`
          *,
          places (
            name,
            formatted_address,
            phone_number,
            website,
            types
          )
        `).eq("org_id",R.id).order("created_at",{ascending:!1});return ee?(console.error("Error fetching prospects:",ee),[]):ne||[]},enabled:!!(R!=null&&R.id)}),{data:D,isLoading:oe}=bt({queryKey:["crm-analytics",R==null?void 0:R.id,G],queryFn:async()=>{if(!R)return null;const ne=new Date,ee=Do(ne,{"7d":7,"30d":30,"90d":90,"1y":365}[G.period]),Be=ne;let Ie=le.from("prospects").select(`
          *,
          places (
            name,
            formatted_address,
            phone_number,
            website,
            types
          )
        `).eq("org_id",R.id).gte("created_at",ee.toISOString()).lte("created_at",Be.toISOString());G.stage!=="all"&&(Ie=Ie.eq("pipeline_stage",G.stage));const{data:ut,error:it}=await Ie;if(it)return console.error("Error fetching analytics data:",it),null;const Xe=ut||[],Y={leadToContacted:Xe.filter(X=>X.pipeline_stage==="contacted").length/Math.max(Xe.filter(X=>X.pipeline_stage==="lead").length,1),contactedToQualified:Xe.filter(X=>X.pipeline_stage==="qualified").length/Math.max(Xe.filter(X=>X.pipeline_stage==="contacted").length,1),qualifiedToProposal:Xe.filter(X=>X.pipeline_stage==="proposal").length/Math.max(Xe.filter(X=>X.pipeline_stage==="qualified").length,1),proposalToWon:Xe.filter(X=>X.pipeline_stage==="won").length/Math.max(Xe.filter(X=>X.pipeline_stage==="proposal").length,1)},q=[];for(let X=6;X>=0;X--){const xe=Do(ne,X),ye=new Date(xe.setHours(0,0,0,0)),we=new Date(xe.setHours(23,59,59,999)),W=Xe.filter(se=>{const Se=new Date(se.created_at);return Se>=ye&&Se<=we});q.push({date:pa(xe,"yyyy-MM-dd"),leads:W.filter(se=>se.pipeline_stage==="lead").length,contacted:W.filter(se=>se.pipeline_stage==="contacted").length,qualified:W.filter(se=>se.pipeline_stage==="qualified").length,proposal:W.filter(se=>se.pipeline_stage==="proposal").length,negotiation:W.filter(se=>se.pipeline_stage==="negotiation").length,won:W.filter(se=>se.pipeline_stage==="won").length,revenue:W.filter(se=>se.pipeline_stage==="won").reduce((se,Se)=>se+(Se.expected_revenue||0),0)})}const Z={avgDealSize:Xe.length>0?Xe.reduce((X,xe)=>X+(xe.expected_revenue||0),0)/Xe.length:0,totalPipelineValue:Xe.reduce((X,xe)=>X+(xe.expected_revenue||0),0),closedWonValue:Xe.filter(X=>X.pipeline_stage==="won").reduce((X,xe)=>X+(xe.expected_revenue||0),0),avgSalesCycle:V(Xe),winRate:Xe.length>0?Xe.filter(X=>X.pipeline_stage==="won").length/Xe.length*100:0};return{prospects:Xe,conversionMetrics:Y,dailyStats:q,performanceMetrics:Z}},enabled:!!(R!=null&&R.id)}),V=ne=>{const ee=ne.filter(Ie=>Ie.pipeline_stage==="won");if(ee.length===0)return 0;const Be=ee.reduce((Ie,ut)=>{const it=new Date(ut.created_at),Xe=new Date(ut.updated_at);return Ie+Math.ceil((Xe.getTime()-it.getTime())/(1e3*60*60*24))},0);return Math.round(Be/ee.length)},de={total:$.length,leads:$.filter(ne=>ne.pipeline_stage==="lead").length,contacted:$.filter(ne=>ne.pipeline_stage==="contacted").length,qualified:$.filter(ne=>ne.pipeline_stage==="qualified").length,proposal:$.filter(ne=>ne.pipeline_stage==="proposal").length,negotiation:$.filter(ne=>ne.pipeline_stage==="negotiation").length,won:$.filter(ne=>ne.pipeline_stage==="won").length,totalRevenue:$.filter(ne=>ne.expected_revenue).reduce((ne,ee)=>ne+(ee.expected_revenue||0),0),avgProbability:$.length>0?Math.round($.reduce((ne,ee)=>ne+(ee.probability||0),0)/$.length):0},te=()=>{I(null),F(!0)},ce=()=>{K()};return s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:s.jsx("div",{className:"flex h-16 items-center px-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(xt,{className:"h-5 w-5 text-muted-foreground"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Gestão"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"/"}),s.jsx("span",{className:"text-sm font-medium",children:"CRM"})]})})}),s.jsx("div",{className:"flex-1 overflow-auto",children:s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"CRM - Pipeline de Vendas"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Gerencie seu pipeline de vendas e acompanhe oportunidades"})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(Q,{variant:"outline",children:[s.jsx($i,{className:"h-4 w-4 mr-2"}),"Exportar"]}),s.jsxs(Q,{onClick:te,children:[s.jsx(wr,{className:"h-4 w-4 mr-2"}),"Nova Oportunidade"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(ie,{children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Total Prospects"}),s.jsx(nr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-2xl font-bold",children:de.total}),s.jsx("p",{className:"text-xs text-muted-foreground",children:de.total===1?"prospect no pipeline":"prospects no pipeline"})]})]}),s.jsxs(ie,{children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Oportunidades Ganhas"}),s.jsx(xt,{className:"h-4 w-4 text-green-500"})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:de.won}),s.jsx("p",{className:"text-xs text-muted-foreground",children:de.won===1?"oportunidade ganha":"oportunidades ganhas"})]})]}),s.jsxs(ie,{children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Receita Potencial"}),s.jsx(Ec,{className:"h-4 w-4 text-blue-500"})]}),s.jsxs(ue,{children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:["R$ ",de.totalRevenue.toLocaleString("pt-BR")]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"valor total estimado"})]})]}),s.jsxs(ie,{children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Probabilidade Média"}),s.jsx(Hn,{className:"h-4 w-4 text-purple-500"})]}),s.jsxs(ue,{children:[s.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[de.avgProbability,"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"taxa de conversão média"})]})]})]}),s.jsxs(Na,{value:M,onValueChange:B,className:"space-y-4",children:[s.jsxs(Jn,{className:"grid w-full grid-cols-2",children:[s.jsxs(et,{value:"pipeline",className:"flex items-center space-x-2",children:[s.jsx(xt,{className:"h-4 w-4"}),s.jsx("span",{children:"Pipeline Kanban"})]}),s.jsxs(et,{value:"analytics",className:"flex items-center space-x-2",children:[s.jsx(Hn,{className:"h-4 w-4"}),s.jsx("span",{children:"Analytics"})]})]}),s.jsx(dt,{value:"pipeline",className:"space-y-4",children:s.jsx(K4e,{prospects:$,onRefresh:K})}),s.jsx(dt,{value:"analytics",className:"space-y-4",children:oe?s.jsxs("div",{className:"flex items-center justify-center py-12",children:[s.jsx(Qn,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("span",{className:"ml-2 text-muted-foreground",children:"Carregando analytics..."})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(IS,{className:"h-5 w-5"}),"Filtros de Analytics"]}),s.jsx(De,{children:"Configure os filtros para análise específica"})]}),s.jsx(ue,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Período"}),s.jsxs(ot,{value:G.period,onValueChange:ne=>L({...G,period:ne}),children:[s.jsx(nt,{children:s.jsx(lt,{})}),s.jsxs(at,{children:[s.jsx(re,{value:"7d",children:"Últimos 7 dias"}),s.jsx(re,{value:"30d",children:"Últimos 30 dias"}),s.jsx(re,{value:"90d",children:"Últimos 90 dias"}),s.jsx(re,{value:"1y",children:"Último ano"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Fonte"}),s.jsxs(ot,{value:G.source,onValueChange:ne=>L({...G,source:ne}),children:[s.jsx(nt,{children:s.jsx(lt,{})}),s.jsxs(at,{children:[s.jsx(re,{value:"all",children:"Todas as fontes"}),s.jsx(re,{value:"google",children:"Google Places"}),s.jsx(re,{value:"referral",children:"Indicação"}),s.jsx(re,{value:"organic",children:"Orgânico"}),s.jsx(re,{value:"paid",children:"Pago"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Estágio"}),s.jsxs(ot,{value:G.stage,onValueChange:ne=>L({...G,stage:ne}),children:[s.jsx(nt,{children:s.jsx(lt,{})}),s.jsxs(at,{children:[s.jsx(re,{value:"all",children:"Todos os estágios"}),s.jsx(re,{value:"lead",children:"Leads"}),s.jsx(re,{value:"contacted",children:"Contactados"}),s.jsx(re,{value:"qualified",children:"Qualificados"}),s.jsx(re,{value:"proposal",children:"Proposta"}),s.jsx(re,{value:"negotiation",children:"Negociação"}),s.jsx(re,{value:"won",children:"Ganhos"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Atribuição"}),s.jsxs(ot,{value:G.assignee,onValueChange:ne=>L({...G,assignee:ne}),children:[s.jsx(nt,{children:s.jsx(lt,{})}),s.jsxs(at,{children:[s.jsx(re,{value:"all",children:"Todos"}),s.jsx(re,{value:"unassigned",children:"Não atribuídos"}),s.jsx(re,{value:"assigned",children:"Atribuídos"})]})]})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[s.jsxs(ie,{className:"hover:shadow-md transition-shadow",children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Total Prospects"}),s.jsx(nr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-2xl font-bold",children:((e=D==null?void 0:D.prospects)==null?void 0:e.length)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"no período selecionado"}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx(xt,{className:"h-3 w-3 text-green-500 mr-1"}),s.jsx("span",{className:"text-xs text-green-600",children:"+15% vs período anterior"})]})]})]}),s.jsxs(ie,{className:"hover:shadow-md transition-shadow",children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Taxa de Conversão"}),s.jsx(ai,{className:"h-4 w-4 text-green-500"})]}),s.jsxs(ue,{children:[s.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[((r=(t=D==null?void 0:D.performanceMetrics)==null?void 0:t.winRate)==null?void 0:r.toFixed(1))||0,"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"leads para ganhos"}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx(xt,{className:"h-3 w-3 text-green-500 mr-1"}),s.jsx("span",{className:"text-xs text-green-600",children:"+3% vs período anterior"})]})]})]}),s.jsxs(ie,{className:"hover:shadow-md transition-shadow",children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Valor do Pipeline"}),s.jsx(Ec,{className:"h-4 w-4 text-blue-500"})]}),s.jsxs(ue,{children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:["R$ ",((a=(n=D==null?void 0:D.performanceMetrics)==null?void 0:n.totalPipelineValue)==null?void 0:a.toLocaleString("pt-BR"))||0]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"valor total estimado"}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx(xt,{className:"h-3 w-3 text-green-500 mr-1"}),s.jsx("span",{className:"text-xs text-green-600",children:"+8% vs período anterior"})]})]})]}),s.jsxs(ie,{className:"hover:shadow-md transition-shadow",children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Ticket Médio"}),s.jsx(Hn,{className:"h-4 w-4 text-purple-500"})]}),s.jsxs(ue,{children:[s.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:["R$ ",((o=(i=D==null?void 0:D.performanceMetrics)==null?void 0:i.avgDealSize)==null?void 0:o.toLocaleString("pt-BR"))||0]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"valor médio por deal"}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx(xt,{className:"h-3 w-3 text-green-500 mr-1"}),s.jsx("span",{className:"text-xs text-green-600",children:"+5% vs período anterior"})]})]})]}),s.jsxs(ie,{className:"hover:shadow-md transition-shadow",children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Ciclo de Vendas"}),s.jsx($a,{className:"h-4 w-4 text-orange-500"})]}),s.jsxs(ue,{children:[s.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[((l=D==null?void 0:D.performanceMetrics)==null?void 0:l.avgSalesCycle)||0," dias"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"tempo médio para fechar"}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx(xt,{className:"h-3 w-3 text-green-500 mr-1"}),s.jsx("span",{className:"text-xs text-green-600",children:"-2 dias vs período anterior"})]})]})]})]}),s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(xt,{className:"h-5 w-5 text-primary"}),"Funil de Conversão"]}),s.jsx(De,{children:"Taxa de conversão entre cada estágio do pipeline"})]}),s.jsx(ue,{children:s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-gray-50 to-white rounded-lg border",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-600",children:((c=D==null?void 0:D.prospects)==null?void 0:c.filter(ne=>ne.pipeline_stage==="lead").length)||0}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Leads"}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:s.jsx("div",{className:"bg-gray-500 h-2 rounded-full",style:{width:"100%"}})})]}),s.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-blue-50 to-white rounded-lg border",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:((u=D==null?void 0:D.prospects)==null?void 0:u.filter(ne=>ne.pipeline_stage==="contacted").length)||0}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Contactados"}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:s.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-500",style:{width:`${(((d=D==null?void 0:D.conversionMetrics)==null?void 0:d.leadToContacted)||0)*100}%`}})}),s.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:[((((f=D==null?void 0:D.conversionMetrics)==null?void 0:f.leadToContacted)||0)*100).toFixed(1),"% conversão"]})]}),s.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-purple-50 to-white rounded-lg border",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:((h=D==null?void 0:D.prospects)==null?void 0:h.filter(ne=>ne.pipeline_stage==="qualified").length)||0}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Qualificados"}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:s.jsx("div",{className:"bg-purple-500 h-2 rounded-full transition-all duration-500",style:{width:`${(((m=D==null?void 0:D.conversionMetrics)==null?void 0:m.contactedToQualified)||0)*100}%`}})}),s.jsxs("div",{className:"text-xs text-purple-600 mt-1",children:[((((v=D==null?void 0:D.conversionMetrics)==null?void 0:v.contactedToQualified)||0)*100).toFixed(1),"% conversão"]})]}),s.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-green-50 to-white rounded-lg border",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:((p=D==null?void 0:D.prospects)==null?void 0:p.filter(ne=>ne.pipeline_stage==="won").length)||0}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Ganhos"}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:s.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-500",style:{width:`${(((b=D==null?void 0:D.conversionMetrics)==null?void 0:b.proposalToWon)||0)*100}%`}})}),s.jsxs("div",{className:"text-xs text-green-600 mt-1",children:[((((x=D==null?void 0:D.conversionMetrics)==null?void 0:x.proposalToWon)||0)*100).toFixed(1),"% conversão"]})]})]})})})]}),s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(Hn,{className:"h-5 w-5 text-primary"}),"Tendência dos Últimos 7 Dias"]}),s.jsx(De,{children:"Evolução do pipeline nos últimos dias"})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-7 gap-3",children:(y=D==null?void 0:D.dailyStats)==null?void 0:y.map((ne,ee)=>{const Be=ne.leads+ne.contacted+ne.qualified+ne.proposal+ne.negotiation+ne.won,Ie=Be>0?ne.won/Be*100:0;return s.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-white p-4 rounded-lg border hover:shadow-md transition-all",children:[s.jsxs("div",{className:"text-center mb-3",children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900",children:pa(new Date(ne.date),"EEE",{locale:Yo})}),s.jsx("div",{className:"text-xs text-muted-foreground",children:pa(new Date(ne.date),"dd/MM")})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-gray-900",children:Be}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"prospects"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex justify-between items-center text-xs",children:[s.jsx("span",{className:"text-green-600 font-medium",children:"Ganhos"}),s.jsx("span",{className:"font-semibold",children:ne.won})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-500",style:{width:`${Math.min(Ie*2,100)}%`}})})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-sm font-bold text-green-600",children:["R$ ",ne.revenue.toLocaleString("pt-BR")]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"receita"})]})]}),s.jsxs("div",{className:"mt-3 pt-3 border-t",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:`w-2 h-2 rounded-full ${Ie>=20?"bg-green-500":Ie>=10?"bg-yellow-500":"bg-red-500"}`})}),s.jsx("div",{className:"text-xs text-center mt-1 text-muted-foreground",children:Ie>=20?"Excelente":Ie>=10?"Bom":"Melhorar"})]})]},ee)})}),s.jsx("div",{className:"mt-6 pt-6 border-t",children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:((w=D==null?void 0:D.dailyStats)==null?void 0:w.reduce((ne,ee)=>ne+ee.leads+ee.contacted+ee.qualified+ee.proposal+ee.negotiation+ee.won,0))||0}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Prospects"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:((j=D==null?void 0:D.dailyStats)==null?void 0:j.reduce((ne,ee)=>ne+ee.won,0))||0}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Ganhos"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:["R$ ",((N=D==null?void 0:D.dailyStats)==null?void 0:N.reduce((ne,ee)=>ne+ee.revenue,0).toLocaleString("pt-BR"))||0]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Receita Total"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[(_=D==null?void 0:D.dailyStats)!=null&&_.length?(D.dailyStats.reduce((ne,ee)=>{const Be=ee.leads+ee.contacted+ee.qualified+ee.proposal+ee.negotiation+ee.won;return ne+(Be>0?ee.won/Be*100:0)},0)/D.dailyStats.length).toFixed(1):0,"%"]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Taxa Média"})]})]})})]})]}),s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(Pi,{className:"h-5 w-5 text-purple-600"}),"Insights Inteligentes"]}),s.jsx(De,{children:"Análise automatizada do seu pipeline de vendas"})]}),s.jsx(ue,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 bg-gradient-to-r from-green-50 to-blue-50 rounded-lg border border-green-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.jsx(xt,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"font-medium text-green-800",children:"Pontos Fortes"})]}),s.jsxs("ul",{className:"space-y-2 text-sm text-green-700",children:[s.jsxs("li",{className:"flex items-start space-x-2",children:[s.jsx("span",{className:"text-green-500 mt-1",children:"✓"}),s.jsxs("span",{children:["Taxa de conversão de ",((O=(k=D==null?void 0:D.performanceMetrics)==null?void 0:k.winRate)==null?void 0:O.toFixed(1))||0,"% está acima da média"]})]}),s.jsxs("li",{className:"flex items-start space-x-2",children:[s.jsx("span",{className:"text-green-500 mt-1",children:"✓"}),s.jsxs("span",{children:["Ciclo de vendas de ",((E=D==null?void 0:D.performanceMetrics)==null?void 0:E.avgSalesCycle)||0," dias é eficiente"]})]}),s.jsxs("li",{className:"flex items-start space-x-2",children:[s.jsx("span",{className:"text-green-500 mt-1",children:"✓"}),s.jsxs("span",{children:["Pipeline saudável com R$ ",((P=(T=D==null?void 0:D.performanceMetrics)==null?void 0:T.totalPipelineValue)==null?void 0:P.toLocaleString("pt-BR"))||0," em oportunidades"]})]})]})]}),s.jsxs("div",{className:"p-4 bg-gradient-to-r from-orange-50 to-red-50 rounded-lg border border-orange-200",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.jsx(ai,{className:"h-4 w-4 text-orange-600"}),s.jsx("span",{className:"font-medium text-orange-800",children:"Oportunidades"})]}),s.jsxs("ul",{className:"space-y-2 text-sm text-orange-700",children:[s.jsxs("li",{className:"flex items-start space-x-2",children:[s.jsx("span",{className:"text-orange-500 mt-1",children:"⚡"}),s.jsxs("span",{children:["Melhore conversão de leads para contatados: ",((((S=D==null?void 0:D.conversionMetrics)==null?void 0:S.leadToContacted)||0)*100).toFixed(1),"%"]})]}),s.jsxs("li",{className:"flex items-start space-x-2",children:[s.jsx("span",{className:"text-orange-500 mt-1",children:"⚡"}),s.jsx("span",{children:"Acelere qualificação de prospects contactados"})]}),s.jsxs("li",{className:"flex items-start space-x-2",children:[s.jsx("span",{className:"text-orange-500 mt-1",children:"⚡"}),s.jsx("span",{children:"Foque em oportunidades de maior valor para aumentar ticket médio"})]})]})]})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-center",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(Q,{variant:"outline",size:"sm",children:[s.jsx(py,{className:"h-4 w-4 mr-2"}),"Agendar Relatório"]}),s.jsxs(Q,{variant:"outline",size:"sm",children:[s.jsx(qr,{className:"h-4 w-4 mr-2"}),"Configurar Alertas"]})]}),s.jsxs(Q,{className:"bg-gradient-to-r from-primary to-primary-glow",children:[s.jsx($i,{className:"h-4 w-4 mr-2"}),"Exportar Relatório Completo"]})]})]})})]})]})}),s.jsx($B,{open:U,onOpenChange:F,prospect:z,onSuccess:ce})]})}function X4e(){var e,t;const{currentOrg:r}=bn(),{permissions:n}=kl();Pf();const[a,i]=g.useState("members"),[o,l]=g.useState(""),[c,u]=g.useState("all"),[d,f]=g.useState(!1),[h,m]=g.useState(!1),[v,p]=g.useState(null),[b,x]=g.useState({email:"",role:"viewer"}),{data:y,isLoading:w,refetch:j}=bt({queryKey:["organization-members",r==null?void 0:r.id],queryFn:async()=>{if(!r)return[];const{data:L,error:$}=await le.from("members").select(`
          *,
          profiles (
            id,
            email,
            full_name,
            avatar_url,
            phone,
            created_at,
            last_sign_in_at
          )
        `).eq("org_id",r.id).order("created_at",{ascending:!1});if($)throw $;return L||[]},enabled:!!(r!=null&&r.id)}),{data:N,isLoading:_,refetch:k}=bt({queryKey:["organization-invites",r==null?void 0:r.id],queryFn:async()=>r?[{id:"1",email:"novo.gerente@empresa.com",role:"manager",status:"pending",invited_by:"admin@empresa.com",invited_at:new Date(Date.now()-2*24*60*60*1e3).toISOString(),expires_at:new Date(Date.now()+5*24*60*60*1e3).toISOString()},{id:"2",email:"atendente@empresa.com",role:"agent",status:"pending",invited_by:"admin@empresa.com",invited_at:new Date(Date.now()-1*24*60*60*1e3).toISOString(),expires_at:new Date(Date.now()+6*24*60*60*1e3).toISOString()}]:[],enabled:!!(r!=null&&r.id)}),{data:O,isLoading:E}=bt({queryKey:["user-activity-logs",r==null?void 0:r.id],queryFn:async()=>r?[{id:"1",user_email:"admin@empresa.com",action:"Alterou role de usuário",target_user:"gerente@empresa.com",details:"Role alterado de 'agent' para 'manager'",timestamp:new Date(Date.now()-2*60*60*1e3).toISOString()},{id:"2",user_email:"manager@empresa.com",action:"Convidou novo usuário",target_user:"novo@empresa.com",details:"Convite enviado para role 'agent'",timestamp:new Date(Date.now()-4*60*60*1e3).toISOString()},{id:"3",user_email:"agent@empresa.com",action:"Fez login no sistema",target_user:null,details:"Login realizado às 09:30",timestamp:new Date(Date.now()-6*60*60*1e3).toISOString()}]:[],enabled:!!(r!=null&&r.id)}),T=ua({mutationFn:async({memberId:L,newRole:$})=>{const{error:J}=await le.from("members").update({role:$,updated_at:new Date().toISOString()}).eq("id",L);if(J)throw J},onSuccess:()=>{ae.success("Role do usuário atualizado com sucesso!"),j(),m(!1),p(null)},onError:L=>{ae.error("Erro ao atualizar role: "+L.message)}}),P=ua({mutationFn:async L=>{const{error:$}=await le.from("members").delete().eq("id",L);if($)throw $},onSuccess:()=>{ae.success("Usuário removido da organização!"),j()},onError:L=>{ae.error("Erro ao remover usuário: "+L.message)}}),S=ua({mutationFn:async L=>{await new Promise($=>setTimeout($,1e3)),console.log("Convite enviado:",L)},onSuccess:()=>{ae.success("Convite enviado com sucesso!"),x({email:"",role:"viewer"}),f(!1),k()},onError:L=>{ae.error("Erro ao enviar convite: "+L.message)}}),R=L=>{switch(L){case"admin":return Cc;case"manager":return ni;case"agent":return fl;case"viewer":return ul;default:return ir}},M=L=>{switch(L){case"admin":return"bg-red-500 text-white";case"manager":return"bg-blue-500 text-white";case"agent":return"bg-green-500 text-white";case"viewer":return"bg-gray-500 text-white";default:return"bg-gray-200 text-gray-700"}},B=L=>{switch(L){case"admin":return"Administrador";case"manager":return"Gerente";case"agent":return"Atendente";case"viewer":return"Visualizador";default:return L}},U=(y==null?void 0:y.filter(L=>{var $,J,K;const D=(($=L.profiles)==null?void 0:$.email.toLowerCase().includes(o.toLowerCase()))||((K=(J=L.profiles)==null?void 0:J.full_name)==null?void 0:K.toLowerCase().includes(o.toLowerCase())),oe=c==="all"||L.role===c;return D&&oe}))||[],F=L=>{p(L),m(!0)},z=()=>{var L;if(!v)return;const $=(L=document.getElementById("edit-role"))==null?void 0:L.value;$&&$!==v.role&&T.mutate({memberId:v.id,newRole:$})},I=L=>{confirm("Tem certeza que deseja remover este usuário da organização?")&&P.mutate(L)},G=()=>{if(!b.email||!b.role){ae.error("Preencha todos os campos obrigatórios");return}S.mutate(b)};return n.canManageUsers?s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:s.jsx("div",{className:"flex h-16 items-center px-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ir,{className:"h-5 w-5 text-muted-foreground"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Gestão de Usuários"})]})})}),s.jsxs("div",{className:"flex-1 space-y-6 p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs(ie,{children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Total de Usuários"}),s.jsx(ir,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-2xl font-bold",children:(y==null?void 0:y.length)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"membros ativos"})]})]}),s.jsxs(ie,{children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Administradores"}),s.jsx(Cc,{className:"h-4 w-4 text-red-500"})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:(y==null?void 0:y.filter(L=>L.role==="admin").length)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"acesso total"})]})]}),s.jsxs(ie,{children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Gerentes"}),s.jsx(ni,{className:"h-4 w-4 text-blue-500"})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:(y==null?void 0:y.filter(L=>L.role==="manager").length)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"gestão operacional"})]})]}),s.jsxs(ie,{children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Atendentes"}),s.jsx(fl,{className:"h-4 w-4 text-green-500"})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:(y==null?void 0:y.filter(L=>L.role==="agent").length)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"atendimento"})]})]})]}),s.jsxs(Na,{value:a,onValueChange:i,className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Jn,{children:[s.jsx(et,{value:"members",children:"Membros"}),s.jsx(et,{value:"invites",children:"Convites"}),s.jsx(et,{value:"logs",children:"Logs de Atividade"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Q,{variant:"outline",asChild:!0,children:s.jsxs("a",{href:"/settings?tab=permissions",children:[s.jsx(qr,{className:"h-4 w-4 mr-2"}),"Configurar Permissões"]})}),s.jsxs(Q,{onClick:()=>f(!0),children:[s.jsx(qQ,{className:"h-4 w-4 mr-2"}),"Convidar Usuário"]})]})]}),s.jsxs(dt,{value:"members",className:"space-y-4",children:[s.jsxs(ie,{children:[s.jsx(me,{children:s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(IS,{className:"h-5 w-5"}),"Filtros"]})}),s.jsx(ue,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Buscar"}),s.jsxs("div",{className:"relative",children:[s.jsx(qa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(qe,{placeholder:"Buscar por nome ou email...",value:o,onChange:L=>l(L.target.value),className:"pl-10"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Filtrar por Role"}),s.jsxs(ot,{value:c,onValueChange:u,children:[s.jsx(nt,{children:s.jsx(lt,{})}),s.jsxs(at,{children:[s.jsx(re,{value:"all",children:"Todos os roles"}),s.jsx(re,{value:"admin",children:"Administradores"}),s.jsx(re,{value:"manager",children:"Gerentes"}),s.jsx(re,{value:"agent",children:"Atendentes"}),s.jsx(re,{value:"viewer",children:"Visualizadores"})]})]})]})]})})]}),s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsx(pe,{children:"Membros da Organização"}),s.jsx(De,{children:"Gerencie usuários e suas permissões"})]}),s.jsx(ue,{children:w?s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx(Qn,{className:"h-4 w-4 animate-spin mr-2"}),s.jsx("span",{children:"Carregando membros..."})]}):U.length>0?s.jsx("div",{className:"space-y-3",children:U.map(L=>{var $,J,K,D,oe,V,de,te,ce;const ne=R(L.role);return s.jsxs("div",{className:"flex items-center space-x-4 p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsxs(bs,{className:"h-10 w-10",children:[s.jsx(ws,{src:($=L.profiles)==null?void 0:$.avatar_url}),s.jsx(js,{children:((K=(J=L.profiles)==null?void 0:J.full_name)==null?void 0:K.split(" ").map(ee=>ee[0]).join(""))||((oe=(D=L.profiles)==null?void 0:D.email)==null?void 0:oe.split("@")[0].substring(0,2).toUpperCase())||"U"})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-medium truncate",children:((V=L.profiles)==null?void 0:V.full_name)||"Nome não informado"}),s.jsx("p",{className:"text-sm text-muted-foreground truncate",children:(de=L.profiles)==null?void 0:de.email}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsxs(Le,{className:M(L.role),children:[s.jsx(ne,{className:"h-3 w-3 mr-1"}),B(L.role)]}),((te=L.profiles)==null?void 0:te.phone)&&s.jsx("span",{className:"text-xs text-muted-foreground",children:L.profiles.phone})]})]}),s.jsxs("div",{className:"text-right text-sm text-muted-foreground",children:[s.jsx("div",{children:"Membro desde"}),s.jsx("div",{children:pa(new Date(L.created_at),"dd/MM/yyyy",{locale:Yo})}),((ce=L.profiles)==null?void 0:ce.last_sign_in_at)&&s.jsxs("div",{className:"text-xs mt-1",children:["Último login: ",pa(new Date(L.profiles.last_sign_in_at),"dd/MM HH:mm")]})]}),s.jsxs(iO,{children:[s.jsx(oO,{asChild:!0,children:s.jsx(Q,{variant:"ghost",size:"sm",children:s.jsx(RS,{className:"h-4 w-4"})})}),s.jsxs(L0,{align:"end",children:[s.jsxs(ps,{onClick:()=>F(L),children:[s.jsx(dl,{className:"h-4 w-4 mr-2"}),"Editar Role"]}),s.jsxs(ps,{onClick:()=>I(L.id),className:"text-red-600",children:[s.jsx(no,{className:"h-4 w-4 mr-2"}),"Remover"]})]})]})]},L.id)})}):s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(ir,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Nenhum membro encontrado"}),s.jsx("p",{className:"text-sm mt-1",children:"Tente ajustar os filtros de busca"})]})})]})]}),s.jsx(dt,{value:"invites",className:"space-y-4",children:s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsx(pe,{children:"Convites Pendentes"}),s.jsx(De,{children:"Convites enviados aguardando aceitação"})]}),s.jsx(ue,{children:_?s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx(Qn,{className:"h-4 w-4 animate-spin mr-2"}),s.jsx("span",{children:"Carregando convites..."})]}):N&&N.length>0?s.jsx("div",{className:"space-y-3",children:N.map(L=>{const $=R(L.role),J=new Date(L.expires_at)<new Date;return s.jsxs("div",{className:"flex items-center space-x-4 p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:"font-medium",children:L.email}),s.jsx(Le,{variant:J?"destructive":"secondary",children:J?"Expirado":"Pendente"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx($,{className:"h-3 w-3"}),s.jsxs("span",{children:["Role: ",B(L.role)]}),s.jsx("span",{children:"•"}),s.jsxs("span",{children:["Enviado em ",pa(new Date(L.invited_at),"dd/MM/yyyy HH:mm")]}),s.jsx("span",{children:"•"}),s.jsxs("span",{children:["Expira em ",pa(new Date(L.expires_at),"dd/MM/yyyy")]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Q,{size:"sm",variant:"outline",children:"Reenviar"}),s.jsx(Q,{size:"sm",variant:"destructive",children:"Cancelar"})]})]},L.id)})}):s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Ad,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Nenhum convite pendente"}),s.jsx("p",{className:"text-sm mt-1",children:"Todos os convites foram aceitos ou expiraram"})]})})]})}),s.jsx(dt,{value:"logs",className:"space-y-4",children:s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsx(pe,{children:"Logs de Atividade"}),s.jsx(De,{children:"Histórico de ações realizadas pelos usuários"})]}),s.jsx(ue,{children:E?s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx(Qn,{className:"h-4 w-4 animate-spin mr-2"}),s.jsx("span",{children:"Carregando logs..."})]}):O&&O.length>0?s.jsx(tl,{className:"h-96",children:s.jsx("div",{className:"space-y-3",children:O.map(L=>s.jsxs("div",{className:"flex items-start space-x-3 p-3 border rounded-lg",children:[s.jsx(ri,{className:"h-4 w-4 text-blue-500 mt-1"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"font-medium",children:L.user_email}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"•"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:pa(new Date(L.timestamp),"dd/MM/yyyy HH:mm")})]}),s.jsx("p",{className:"text-sm font-medium",children:L.action}),L.target_user&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Usuário: ",L.target_user]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:L.details})]})]},L.id))})}):s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(NQ,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Nenhum log de atividade encontrado"}),s.jsx("p",{className:"text-sm mt-1",children:"Os logs aparecerão conforme as ações forem realizadas"})]})})]})})]}),s.jsx(Qt,{open:d,onOpenChange:f,children:s.jsxs(Ut,{children:[s.jsxs(Jt,{children:[s.jsx(er,{children:"Convidar Novo Usuário"}),s.jsx(or,{children:"Envie um convite para um novo usuário se juntar à organização"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"invite-email",children:"Email do Usuário"}),s.jsx(qe,{id:"invite-email",type:"email",placeholder:"usuario@empresa.com",value:b.email,onChange:L=>x({...b,email:L.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"invite-role",children:"Role"}),s.jsxs(ot,{value:b.role,onValueChange:L=>x({...b,role:L}),children:[s.jsx(nt,{children:s.jsx(lt,{})}),s.jsxs(at,{children:[s.jsx(re,{value:"viewer",children:"Visualizador - Apenas visualização"}),s.jsx(re,{value:"agent",children:"Atendente - Atendimento ao cliente"}),s.jsx(re,{value:"manager",children:"Gerente - Gestão operacional"}),s.jsx(re,{value:"admin",children:"Administrador - Acesso total"})]})]})]})]}),s.jsxs(gn,{children:[s.jsx(Q,{variant:"outline",onClick:()=>f(!1),children:"Cancelar"}),s.jsx(Q,{onClick:G,disabled:S.isPending,children:S.isPending?"Enviando...":"Enviar Convite"})]})]})}),s.jsx(Qt,{open:h,onOpenChange:m,children:s.jsxs(Ut,{children:[s.jsxs(Jt,{children:[s.jsx(er,{children:"Editar Role do Usuário"}),s.jsx(or,{children:"Alterar o nível de acesso do usuário"})]}),v&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[s.jsx("h4",{className:"font-medium",children:((e=v.profiles)==null?void 0:e.full_name)||"Nome não informado"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(t=v.profiles)==null?void 0:t.email})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"edit-role",children:"Novo Role"}),s.jsxs(ot,{defaultValue:v.role,children:[s.jsx(nt,{children:s.jsx(lt,{})}),s.jsxs(at,{children:[s.jsx(re,{value:"viewer",children:"Visualizador - Apenas visualização"}),s.jsx(re,{value:"agent",children:"Atendente - Atendimento ao cliente"}),s.jsx(re,{value:"manager",children:"Gerente - Gestão operacional"}),s.jsx(re,{value:"admin",children:"Administrador - Acesso total"})]})]})]})]}),s.jsxs(gn,{children:[s.jsx(Q,{variant:"outline",onClick:()=>m(!1),children:"Cancelar"}),s.jsx(Q,{onClick:z,disabled:T.isPending,children:T.isPending?"Salvando...":"Salvar Alterações"})]})]})})]})]}):s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsxs(ie,{className:"w-full max-w-md",children:[s.jsxs(me,{className:"text-center",children:[s.jsx(rL,{className:"h-12 w-12 mx-auto text-orange-500 mb-4"}),s.jsx(pe,{children:"Acesso Negado"}),s.jsx(De,{children:"Você não tem permissão para gerenciar usuários."})]}),s.jsxs(ue,{className:"text-center",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Apenas administradores podem gerenciar usuários da organização."}),s.jsx(Q,{variant:"outline",onClick:()=>window.history.back(),children:"Voltar"})]})]})})}const Y4e={admin:[{label:"Gestão de Atendentes",description:"Criar, editar e excluir atendentes",category:"Gestão"},{label:"Gestão de Campanhas",description:"Criar, editar e excluir campanhas",category:"Marketing"},{label:"Gestão de CRM",description:"Gerenciar pipeline e prospects",category:"Vendas"},{label:"Gestão de Contatos",description:"Gerenciar base de contatos",category:"Contatos"},{label:"Gestão de Integrações",description:"Conectar canais e webhooks",category:"Integrações"},{label:"Configurações do Sistema",description:"Acessar configurações críticas",category:"Sistema"},{label:"Gestão de Usuários",description:"Gerenciar usuários e permissões",category:"Sistema"},{label:"Gestão de Faturamento",description:"Acessar informações de cobrança",category:"Sistema"},{label:"Relatórios Avançados",description:"Visualizar e exportar relatórios",category:"Analytics"},{label:"Agentes IA",description:"Configurar e gerenciar IA",category:"IA"}],manager:[{label:"Gestão de Atendentes",description:"Criar e editar atendentes",category:"Gestão"},{label:"Gestão de Campanhas",description:"Criar, editar e excluir campanhas",category:"Marketing"},{label:"Gestão de CRM",description:"Gerenciar pipeline e prospects",category:"Vendas"},{label:"Gestão de Contatos",description:"Gerenciar base de contatos",category:"Contatos"},{label:"Conectar Canais",description:"Conectar novos canais",category:"Integrações"},{label:"Relatórios Avançados",description:"Visualizar e exportar relatórios",category:"Analytics"},{label:"Agentes IA",description:"Configurar e gerenciar IA",category:"IA"}],agent:[{label:"Criar Contatos",description:"Adicionar novos contatos",category:"Contatos"},{label:"Editar Contatos",description:"Modificar informações de contatos",category:"Contatos"},{label:"Criar Prospects",description:"Adicionar novos prospects",category:"Vendas"},{label:"Editar Prospects",description:"Modificar informações de prospects",category:"Vendas"},{label:"Relatórios Básicos",description:"Visualizar relatórios pessoais",category:"Analytics"}],viewer:[{label:"Visualizar Relatórios",description:"Apenas visualização de dados",category:"Analytics"},{label:"Visualizar Métricas",description:"Ver métricas de atendentes",category:"Gestão"},{label:"Visualizar Campanhas",description:"Ver campanhas existentes",category:"Marketing"},{label:"Visualizar CRM",description:"Ver pipeline e prospects",category:"Vendas"}]},Q4e=[{id:"Gestão",label:"Gestão",color:"bg-blue-100 text-blue-800"},{id:"Marketing",label:"Marketing",color:"bg-purple-100 text-purple-800"},{id:"Vendas",label:"Vendas",color:"bg-green-100 text-green-800"},{id:"Contatos",label:"Contatos",color:"bg-orange-100 text-orange-800"},{id:"Integrações",label:"Integrações",color:"bg-cyan-100 text-cyan-800"},{id:"Sistema",label:"Sistema",color:"bg-red-100 text-red-800"},{id:"Analytics",label:"Analytics",color:"bg-indigo-100 text-indigo-800"},{id:"IA",label:"IA",color:"bg-pink-100 text-pink-800"}];function J4e({onSave:e,readOnly:t=!1}){const[r,n]=g.useState("admin"),[a,i]=g.useState({}),[o,l]=g.useState(!1),c={admin:{icon:Cc,color:"text-red-600",label:"Administrador"},manager:{icon:ni,color:"text-blue-600",label:"Gerente"},agent:{icon:fl,color:"text-green-600",label:"Atendente"},viewer:{icon:ul,color:"text-gray-600",label:"Visualizador"}},u=(m,v)=>{t||(i(p=>({...p,[m]:v})),l(!0))},d=()=>{e&&(e(a),l(!1))},f=()=>{i({}),l(!1)},h=m=>{const v=(Y4e[m]||[]).reduce((p,b)=>(p[b.category]||(p[b.category]=[]),p[b.category].push(b),p),{});return Q4e.map(p=>({...p,permissions:v[p.id]||[]})).filter(p=>p.permissions.length>0)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(qr,{className:"h-5 w-5"}),"Configuração de Permissões"]}),s.jsx(De,{children:"Configure as permissões específicas para cada nível de usuário"})]}),s.jsx(ue,{children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries(c).map(([m,v])=>{const p=v.icon;return s.jsxs(Q,{variant:r===m?"default":"outline",onClick:()=>n(m),className:"flex flex-col items-center gap-2 h-auto p-4",children:[s.jsx(p,{className:`h-5 w-5 ${v.color}`}),s.jsx("span",{className:"text-sm",children:v.label})]},m)})})})]}),s.jsxs(ie,{children:[s.jsx(me,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[C.createElement(c[r].icon,{className:`h-5 w-5 ${c[r].color}`}),"Permissões - ",c[r].label]}),s.jsx(De,{children:"Configure as permissões específicas para este nível de usuário"})]}),!t&&o&&s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Q,{variant:"outline",size:"sm",onClick:f,children:[s.jsx(nL,{className:"h-4 w-4 mr-2"}),"Desfazer"]}),s.jsxs(Q,{size:"sm",onClick:d,children:[s.jsx(Dm,{className:"h-4 w-4 mr-2"}),"Salvar"]})]})]})}),s.jsx(ue,{children:s.jsx(tl,{className:"h-96",children:s.jsxs("div",{className:"space-y-6",children:[h(r).map(m=>s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Le,{className:m.color,children:m.label}),s.jsx(xr,{className:"flex-1"})]}),s.jsx("div",{className:"grid gap-3",children:m.permissions.map((v,p)=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(fe,{className:"font-medium",children:v.label}),a[`${r}-${v.label}`]&&s.jsx(ks,{className:"h-4 w-4 text-green-500"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:v.description})]}),s.jsx(za,{checked:a[`${r}-${v.label}`]||!1,onCheckedChange:b=>u(`${r}-${v.label}`,b),disabled:t})]},`${m.id}-${p}`))})]},m.id)),h(r).length===0&&s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(vy,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Nenhuma permissão configurada para este role"}),s.jsx("p",{className:"text-sm mt-1",children:"Use as permissões padrão ou configure permissões personalizadas"})]})]})})})]}),s.jsxs(ie,{children:[s.jsx(me,{children:s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(tL,{className:"h-5 w-5"}),"Informações Importantes"]})}),s.jsx(ue,{children:s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(vy,{className:"h-4 w-4 text-orange-500 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Alterações em Tempo Real"}),s.jsx("p",{className:"text-muted-foreground",children:"As alterações de permissões são aplicadas imediatamente aos usuários."})]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(ks,{className:"h-4 w-4 text-green-500 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Permissões Hierárquicas"}),s.jsx("p",{className:"text-muted-foreground",children:"Administradores sempre mantêm acesso total, independente das configurações."})]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(qr,{className:"h-4 w-4 text-blue-500 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Configuração Personalizada"}),s.jsx("p",{className:"text-muted-foreground",children:"Você pode criar configurações específicas para cada organização."})]})]})]})})]})]})}function eRe(){const{currentOrg:e}=bn(),{permissions:t}=kl(),[r,n]=g.useState("matrix"),{data:a,isLoading:i}=bt({queryKey:["organization-permissions",e==null?void 0:e.id],queryFn:async()=>e?{customPermissions:{"manager-can-delete-attendants":!1,"agent-can-export-data":!1,"viewer-can-see-billing":!1},auditLog:[{id:"1",action:"Alterou permissão de Manager",details:"Permissão 'canDeleteAttendants' alterada para false",user:"admin@empresa.com",timestamp:new Date(Date.now()-2*60*60*1e3).toISOString()},{id:"2",action:"Criou role personalizado",details:"Novo role 'supervisor' criado com permissões específicas",user:"admin@empresa.com",timestamp:new Date(Date.now()-4*60*60*1e3).toISOString()}]}:null,enabled:!!(e!=null&&e.id)}),o=async l=>{try{await new Promise(c=>setTimeout(c,1e3)),ae.success("Permissões salvas com sucesso!"),console.log("Permissões salvas:",l)}catch{ae.error("Erro ao salvar permissões")}};return t.canManageUsers?s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:s.jsx("div",{className:"flex h-16 items-center px-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(qr,{className:"h-5 w-5 text-muted-foreground"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Configurações de Permissões"})]})})}),s.jsxs("div",{className:"flex-1 space-y-6 p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs(ie,{children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Administradores"}),s.jsx(Cc,{className:"h-4 w-4 text-red-500"})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:"Acesso Total"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Todas as funcionalidades"})]})]}),s.jsxs(ie,{children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Gerentes"}),s.jsx(ni,{className:"h-4 w-4 text-blue-500"})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"Gestão"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Operacional + Analytics"})]})]}),s.jsxs(ie,{children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Atendentes"}),s.jsx(fl,{className:"h-4 w-4 text-green-500"})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:"Operacional"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Atendimento + Básico"})]})]}),s.jsxs(ie,{children:[s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Visualizadores"}),s.jsx(ul,{className:"h-4 w-4 text-gray-500"})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-2xl font-bold text-gray-600",children:"Somente Leitura"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Relatórios + Visualização"})]})]})]}),s.jsxs(Na,{value:r,onValueChange:n,className:"space-y-4",children:[s.jsxs(Jn,{children:[s.jsx(et,{value:"matrix",children:"Matriz de Permissões"}),s.jsx(et,{value:"custom",children:"Permissões Personalizadas"}),s.jsx(et,{value:"audit",children:"Log de Auditoria"})]}),s.jsx(dt,{value:"matrix",className:"space-y-4",children:s.jsx(J4e,{onSave:o})}),s.jsx(dt,{value:"custom",className:"space-y-4",children:s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(qr,{className:"h-5 w-5"}),"Permissões Personalizadas"]}),s.jsx(De,{children:"Configure permissões específicas além das configurações padrão"})]}),s.jsx(ue,{children:i?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"Gerentes podem excluir atendentes"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Permitir que gerentes excluam atendentes da organização"})]}),s.jsx(Le,{variant:"secondary",children:"Desabilitado"})]}),s.jsx(Q,{size:"sm",variant:"outline",children:"Alterar"})]}),s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"Atendentes podem exportar dados"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Permitir que atendentes exportem relatórios e dados"})]}),s.jsx(Le,{variant:"secondary",children:"Desabilitado"})]}),s.jsx(Q,{size:"sm",variant:"outline",children:"Alterar"})]}),s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"Visualizadores podem ver faturamento"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Permitir que visualizadores vejam informações de cobrança"})]}),s.jsx(Le,{variant:"secondary",children:"Desabilitado"})]}),s.jsx(Q,{size:"sm",variant:"outline",children:"Alterar"})]}),s.jsx("div",{className:"flex items-center justify-center py-8 border-2 border-dashed rounded-lg",children:s.jsxs("div",{className:"text-center",children:[s.jsx(qr,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhuma permissão personalizada ativa"}),s.jsx(Q,{variant:"outline",size:"sm",className:"mt-2",children:"Adicionar Permissão"})]})})]})})]})}),s.jsx(dt,{value:"audit",className:"space-y-4",children:s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(ri,{className:"h-5 w-5"}),"Log de Auditoria"]}),s.jsx(De,{children:"Histórico de alterações nas configurações de permissões"})]}),s.jsx(ue,{children:i?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):a!=null&&a.auditLog&&a.auditLog.length>0?s.jsx("div",{className:"space-y-3",children:a.auditLog.map(l=>s.jsxs("div",{className:"flex items-start space-x-3 p-3 border rounded-lg",children:[s.jsx(ri,{className:"h-4 w-4 text-blue-500 mt-1"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"font-medium",children:l.user}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"•"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(l.timestamp).toLocaleString("pt-BR")})]}),s.jsx("p",{className:"text-sm font-medium",children:l.action}),s.jsx("p",{className:"text-sm text-muted-foreground",children:l.details})]})]},l.id))}):s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(ri,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Nenhum log de auditoria encontrado"}),s.jsx("p",{className:"text-sm mt-1",children:"Os logs aparecerão conforme as configurações forem alteradas"})]})})]})})]}),s.jsxs(ie,{className:"border-orange-200 bg-orange-50",children:[s.jsx(me,{children:s.jsxs(pe,{className:"flex items-center gap-2 text-orange-800",children:[s.jsx(vy,{className:"h-5 w-5"}),"Informações Importantes"]})}),s.jsx(ue,{children:s.jsxs("div",{className:"space-y-3 text-sm text-orange-700",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(tL,{className:"h-4 w-4 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Alterações Imediatas"}),s.jsx("p",{children:"As alterações de permissões são aplicadas imediatamente a todos os usuários."})]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(ks,{className:"h-4 w-4 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Backup Automático"}),s.jsx("p",{children:"O sistema mantém backup das configurações anteriores para rollback."})]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(ni,{className:"h-4 w-4 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Segurança"}),s.jsx("p",{children:"Todas as alterações são registradas no log de auditoria para compliance."})]})]})]})})]})]})]}):s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsxs(ie,{className:"w-full max-w-md",children:[s.jsxs(me,{className:"text-center",children:[s.jsx(ni,{className:"h-12 w-12 mx-auto text-orange-500 mb-4"}),s.jsx(pe,{children:"Acesso Negado"}),s.jsx(De,{children:"Você não tem permissão para configurar permissões."})]}),s.jsxs(ue,{className:"text-center",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Apenas administradores podem configurar permissões do sistema."}),s.jsx(Q,{variant:"outline",onClick:()=>window.history.back(),children:"Voltar"})]})]})})}function tRe(){var e,t;const[r,n]=g.useState(!0),[a,i]=g.useState(!0),[o,l]=g.useState(!1),[c,u]=g.useState(!1),[d]=Pte(),[f,h]=g.useState("profile"),{clearRememberMe:m,isRemembered:v}=VS(),{currentOrg:p,organizations:b}=bn(),{permissions:x}=kl(),[y,w]=g.useState({full_name:"",avatar_url:""}),{data:j,isLoading:N,refetch:_}=bt({queryKey:["user-profile"],queryFn:async()=>{var S,R,M;const{data:{user:B}}=await le.auth.getUser();if(!B)throw new Error("Usuário não autenticado");try{const{data:U,error:F}=await le.from("profiles").select("*").eq("id",B.id).single();if(!F&&U)return{type:"profile",data:U,user:B}}catch{console.log("Tabela profiles não disponível, usando user metadata")}return{type:"user",data:{id:B.id,full_name:((S=B.user_metadata)==null?void 0:S.full_name)||((R=B.email)==null?void 0:R.split("@")[0])||"",avatar_url:((M=B.user_metadata)==null?void 0:M.avatar_url)||""},user:B}}});g.useEffect(()=>{j&&w({full_name:j.data.full_name||"",avatar_url:j.data.avatar_url||""})},[j]),g.useEffect(()=>{const S=d.get("tab");S&&["profile","organization","notifications","users","permissions"].includes(S)&&((S==="users"||S==="permissions")&&!x.canManageUsers?h("profile"):h(S))},[d,x.canManageUsers]);const k=async()=>{u(!0);try{const{data:{user:S}}=await le.auth.getUser();if(!S){Nn({title:"Erro",description:"Usuário não autenticado"});return}if((j==null?void 0:j.type)==="profile")try{const{error:M}=await le.from("profiles").update({full_name:y.full_name,avatar_url:y.avatar_url}).eq("id",S.id);if(!M){Nn({title:"Sucesso",description:"Configurações salvas com sucesso!"}),_();return}}catch{console.log("Erro ao salvar na tabela profiles, tentando user metadata")}const{error:R}=await le.auth.updateUser({data:{full_name:y.full_name,avatar_url:y.avatar_url}});if(R)throw R;Nn({title:"Sucesso",description:"Configurações salvas com sucesso!"}),_()}catch(S){console.error("Erro ao salvar configurações:",S),Nn({title:"Erro",description:"Erro ao salvar configurações. Tente novamente."})}finally{u(!1)}},O=()=>{m(),Nn({title:"Sucesso",description:"Configuração 'Permanecer logado' removida. Você precisará fazer login novamente na próxima vez."})},E=S=>{switch(S){case"admin":return s.jsx(Cc,{className:"h-4 w-4 text-yellow-500"});case"member":return s.jsx(fl,{className:"h-4 w-4 text-blue-500"});case"viewer":return s.jsx(ul,{className:"h-4 w-4 text-gray-500"});default:return s.jsx(qi,{className:"h-4 w-4 text-gray-500"})}},T=S=>{switch(S){case"admin":return"default";case"member":return"secondary";case"viewer":return"outline";default:return"secondary"}},P=S=>{switch(S){case"admin":return"Administrador";case"member":return"Membro";case"viewer":return"Visualizador";default:return S}};return s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:s.jsx("div",{className:"flex h-16 items-center px-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(qr,{className:"h-5 w-5 text-muted-foreground"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Sistema"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"/"}),s.jsx("span",{className:"text-sm font-medium",children:"Configurações"})]})})}),s.jsx("div",{className:"flex-1 overflow-auto",children:s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Configurações"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Gerencie suas preferências e configurações da conta"})]})}),s.jsxs(Na,{value:f,onValueChange:h,className:"space-y-4",children:[s.jsxs(Jn,{className:`grid w-full ${x.canManageUsers?"grid-cols-5":"grid-cols-3"}`,children:[s.jsxs(et,{value:"profile",className:"flex items-center space-x-2",children:[s.jsx(qi,{className:"h-4 w-4"}),s.jsx("span",{children:"Perfil"})]}),s.jsxs(et,{value:"organization",className:"flex items-center space-x-2",children:[s.jsx(nr,{className:"h-4 w-4"}),s.jsx("span",{children:"Organização"})]}),s.jsxs(et,{value:"notifications",className:"flex items-center space-x-2",children:[s.jsx(Ed,{className:"h-4 w-4"}),s.jsx("span",{children:"Notificações"})]}),x.canManageUsers&&s.jsxs(s.Fragment,{children:[s.jsxs(et,{value:"users",className:"flex items-center space-x-2",children:[s.jsx($Q,{className:"h-4 w-4"}),s.jsx("span",{children:"Usuários"})]}),s.jsxs(et,{value:"permissions",className:"flex items-center space-x-2",children:[s.jsx(SQ,{className:"h-4 w-4"}),s.jsx("span",{children:"Permissões"})]})]})]}),s.jsx(dt,{value:"profile",className:"space-y-4",children:N?s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsx(gt,{className:"h-8 w-8 animate-spin text-primary"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(qi,{className:"h-5 w-5"}),"Informações do Perfil"]}),s.jsx(De,{children:"Atualize suas informações pessoais e foto de perfil"})]}),s.jsxs(ue,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(bs,{className:"h-20 w-20",children:[s.jsx(ws,{src:y.avatar_url}),s.jsx(js,{className:"text-lg",children:y.full_name?y.full_name.split(" ").map(S=>S[0]).join("").toUpperCase():"U"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("h3",{className:"text-lg font-medium",children:y.full_name||"Usuário"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(e=j==null?void 0:j.user)==null?void 0:e.email}),s.jsxs(Q,{variant:"outline",size:"sm",children:[s.jsx(dl,{className:"h-4 w-4 mr-2"}),"Alterar Foto"]})]})]}),s.jsx(xr,{}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"full_name",children:"Nome Completo"}),s.jsx(qe,{id:"full_name",value:y.full_name,onChange:S=>w(R=>({...R,full_name:S.target.value})),placeholder:"Seu nome completo"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"email",children:"Email"}),s.jsx(qe,{id:"email",value:((t=j==null?void 0:j.user)==null?void 0:t.email)||"",disabled:!0,className:"bg-muted"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"O email não pode ser alterado"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"avatar_url",children:"URL da Foto"}),s.jsx(qe,{id:"avatar_url",value:y.avatar_url,onChange:S=>w(R=>({...R,avatar_url:S.target.value})),placeholder:"https://exemplo.com/foto.jpg"})]})]})]}),s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(ni,{className:"h-5 w-5"}),"Configurações de Sessão"]}),s.jsx(De,{children:"Gerencie suas preferências de login e segurança"})]}),s.jsxs(ue,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(fe,{htmlFor:"remember-me-status",children:"Permanecer Logado"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:v?"Você está configurado para permanecer logado neste dispositivo":"Você precisará fazer login a cada sessão"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${v?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}`,children:v?"Ativo":"Inativo"}),v&&s.jsx(Q,{variant:"outline",size:"sm",onClick:O,children:"Desativar"})]})]}),s.jsx(xr,{}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Informações de Segurança"}),s.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[s.jsx("p",{children:"• Sua sessão é protegida por autenticação segura"}),s.jsx("p",{children:"• Os dados são criptografados durante a transmissão"}),s.jsx("p",{children:'• Você pode desativar "Permanecer logado" a qualquer momento'})]})]})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs(Q,{onClick:k,disabled:c,className:"bg-gradient-to-r from-primary to-primary/80",children:[c?s.jsx(gt,{className:"mr-2 h-4 w-4 animate-spin"}):s.jsx(Dm,{className:"mr-2 h-4 w-4"}),"Salvar Alterações"]})})]})}),s.jsx(dt,{value:"organization",className:"space-y-4",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(nr,{className:"h-5 w-5"}),"Organização Atual"]}),s.jsx(De,{children:"Informações sobre a organização selecionada"})]}),s.jsx(ue,{children:p?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"h-12 w-12 rounded-lg bg-gradient-to-br from-primary to-primary/60 flex items-center justify-center",children:s.jsx(nr,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold",children:p.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Slug: ",p.slug]}),p.plan&&s.jsxs(Le,{variant:"outline",className:"mt-1",children:["Plano: ",p.plan]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[E(p.role),s.jsx(Le,{variant:T(p.role),children:P(p.role)})]})]}),s.jsx(xr,{}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center p-4 rounded-lg bg-muted/50",children:[s.jsx(ir,{className:"h-6 w-6 mx-auto mb-2 text-primary"}),s.jsx("p",{className:"text-sm font-medium",children:"Membros"}),s.jsx("p",{className:"text-2xl font-bold",children:b.length})]}),s.jsxs("div",{className:"text-center p-4 rounded-lg bg-muted/50",children:[s.jsx(nr,{className:"h-6 w-6 mx-auto mb-2 text-primary"}),s.jsx("p",{className:"text-sm font-medium",children:"Status"}),s.jsx("p",{className:"text-sm font-medium text-green-600",children:"Ativa"})]}),s.jsxs("div",{className:"text-center p-4 rounded-lg bg-muted/50",children:[s.jsx(Cc,{className:"h-6 w-6 mx-auto mb-2 text-primary"}),s.jsx("p",{className:"text-sm font-medium",children:"Seu Cargo"}),s.jsx("p",{className:"text-sm font-medium",children:P(p.role)})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Q,{variant:"outline",size:"sm",children:[s.jsx(dl,{className:"h-4 w-4 mr-2"}),"Editar Organização"]}),s.jsxs(Q,{variant:"outline",size:"sm",children:[s.jsx(ir,{className:"h-4 w-4 mr-2"}),"Gerenciar Membros"]})]})]}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(nr,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Nenhuma organização selecionada"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Selecione uma organização para ver as informações"}),s.jsxs(Q,{children:[s.jsx(wr,{className:"h-4 w-4 mr-2"}),"Criar Organização"]})]})})]}),s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(ir,{className:"h-5 w-5"}),"Todas as Organizações"]}),s.jsx(De,{children:"Organizações das quais você faz parte"})]}),s.jsx(ue,{children:b.length>0?s.jsx("div",{className:"space-y-3",children:b.map(S=>s.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border transition-colors ${S.id===(p==null?void 0:p.id)?"border-primary bg-primary/5":"border-border hover:bg-muted/50"}`,children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`h-10 w-10 rounded-lg flex items-center justify-center ${S.id===(p==null?void 0:p.id)?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"}`,children:s.jsx(nr,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:S.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Slug: ",S.slug]}),S.plan&&s.jsx(Le,{variant:"outline",className:"text-xs mt-1",children:S.plan})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[E(S.role),s.jsx(Le,{variant:T(S.role),className:"text-xs",children:P(S.role)})]}),S.id===(p==null?void 0:p.id)&&s.jsx(Le,{variant:"default",className:"text-xs",children:"Ativa"})]})]},S.id))}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(ir,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Nenhuma organização encontrada"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Você não faz parte de nenhuma organização ainda"}),s.jsxs(Q,{children:[s.jsx(wr,{className:"h-4 w-4 mr-2"}),"Criar Primeira Organização"]})]})})]})]})}),s.jsx(dt,{value:"notifications",className:"space-y-4",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(Ed,{className:"h-5 w-5"}),"Preferências de Notificação"]}),s.jsx(De,{children:"Configure como deseja receber notificações"})]}),s.jsxs(ue,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(fe,{htmlFor:"email-notifications",children:"Notificações por Email"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba atualizações sobre novas mensagens e atividades"})]}),s.jsx(za,{id:"email-notifications",checked:r,onCheckedChange:n})]}),s.jsx(xr,{}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(fe,{htmlFor:"push-notifications",children:"Notificações Push"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba notificações em tempo real no navegador"})]}),s.jsx(za,{id:"push-notifications",checked:a,onCheckedChange:i})]}),s.jsx(xr,{}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(fe,{htmlFor:"marketing-emails",children:"Emails de Marketing"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba novidades, dicas e atualizações do produto"})]}),s.jsx(za,{id:"marketing-emails",checked:o,onCheckedChange:l})]}),s.jsx(xr,{}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Configurações de Canal"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"h-8 w-8 rounded bg-green-100 flex items-center justify-center",children:s.jsx("span",{className:"text-green-600 text-sm",children:"💬"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"WhatsApp"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Mensagens e status"})]})]}),s.jsx(za,{defaultChecked:!0})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"h-8 w-8 rounded bg-pink-100 flex items-center justify-center",children:s.jsx("span",{className:"text-pink-600 text-sm",children:"📸"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Instagram"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Comentários e DMs"})]})]}),s.jsx(za,{defaultChecked:!0})]})]})]})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsxs(Q,{onClick:()=>Nn({title:"Sucesso",description:"Configurações de notificação salvas!"}),className:"bg-gradient-to-r from-primary to-primary/80",children:[s.jsx(Dm,{className:"mr-2 h-4 w-4"}),"Salvar Configurações"]})})]})}),x.canManageUsers&&s.jsx(dt,{value:"users",className:"space-y-4",children:s.jsx(X4e,{})}),x.canManageUsers&&s.jsx(dt,{value:"permissions",className:"space-y-4",children:s.jsx(eRe,{})})]})]})})]})}function rRe(){const[e,t]=g.useState([]),[r,n]=g.useState(""),[a,i]=g.useState(""),[o,l]=g.useState(""),[c,u]=g.useState(!1),[d,f]=g.useState(!1),h=async()=>{f(!0);try{const{data:b,error:x}=await le.from("ai_agents").select("id, name, type, status").eq("status","ativo").order("name");if(x)throw x;t(b||[]),b&&b.length>0&&!r&&n(b[0].id)}catch(b){console.error("Error loading agents:",b),ae.error("Erro ao carregar agentes")}finally{f(!1)}},m=async()=>{if(!r||!a.trim()){ae.error("Selecione um agente e digite uma mensagem");return}u(!0),l("");try{const{data:b,error:x}=await le.functions.invoke("ai-agent-chat",{body:{agentId:r,message:a.trim()}});if(x)throw x;if(b.error)throw new Error(b.error);l(b.response);const y=b.contextUsed?`Resposta gerada com contexto de ${b.historyMessages} mensagens anteriores!`:"Resposta gerada com sucesso!";ae.success(y)}catch(b){console.error("Error testing agent:",b);const x=b instanceof Error?b.message:"Erro ao testar agente";ae.error(x),l("❌ Erro ao gerar resposta. Verifique os logs.")}finally{u(!1)}},v=()=>{i(""),l("")},p={atendimento:["Olá! Qual é o horário de funcionamento?","Como faço para entrar em contato com vocês?","Preciso de ajuda com meu pedido"],vendas:["Gostaria de saber mais sobre seus produtos","Quanto custa o plano empresarial?","Vocês oferecem período de teste gratuito?"],suporte:["Não consigo fazer login na minha conta","A mensagem não está sendo enviada, o que fazer?","Como faço para conectar meu WhatsApp?"]};return s.jsxs(ie,{className:"w-full",children:[s.jsx(me,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(mn,{className:"h-5 w-5 text-primary"}),"Testar Agentes de IA"]}),s.jsx(De,{children:"Teste as respostas dos seus agentes de IA em tempo real"})]}),s.jsx(Q,{variant:"outline",size:"sm",onClick:h,disabled:d,children:d?s.jsxs(s.Fragment,{children:[s.jsx(gt,{className:"h-4 w-4 mr-2 animate-spin"}),"Carregando..."]}):"Carregar Agentes"})]})}),s.jsxs(ue,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Selecionar Agente"}),s.jsxs(ot,{value:r,onValueChange:n,children:[s.jsx(nt,{children:s.jsx(lt,{placeholder:"Escolha um agente para testar"})}),s.jsx(at,{children:e.map(b=>s.jsx(re,{value:b.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(mn,{className:"h-4 w-4"}),b.name,s.jsx(Le,{variant:"secondary",className:"ml-2 capitalize",children:b.type})]})},b.id))})]}),e.length===0&&!d&&s.jsx("p",{className:"text-sm text-muted-foreground",children:'Nenhum agente ativo encontrado. Clique em "Carregar Agentes" ou crie um novo agente.'})]}),r&&e.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Exemplos de Mensagens"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:(()=>{const b=e.find(x=>x.id===r);return(b?p[b.type]||[]:[]).map((x,y)=>s.jsx(Q,{variant:"outline",size:"sm",onClick:()=>i(x),className:"text-xs",children:x},y))})()})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Mensagem do Usuário"}),s.jsx(Gn,{placeholder:"Digite a mensagem do cliente aqui...",value:a,onChange:b=>i(b.target.value),rows:4,className:"resize-none"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Q,{onClick:m,disabled:c||!r||!a.trim(),className:"flex-1",children:c?s.jsxs(s.Fragment,{children:[s.jsx(gt,{className:"h-4 w-4 mr-2 animate-spin"}),"Gerando resposta..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ms,{className:"h-4 w-4 mr-2"}),"Testar Agente"]})}),s.jsx(Q,{variant:"outline",onClick:v,disabled:c,children:"Limpar"})]}),o&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(ha,{className:"h-4 w-4 text-primary"}),"Resposta do Agente"]}),s.jsx("div",{className:"p-4 rounded-lg bg-primary/5 border border-primary/20",children:s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:o})})]})]})]})}const nRe=()=>{const[e,t]=g.useState([]),[r,n]=g.useState(!0),[a,i]=g.useState(!1),[o,l]=g.useState(null),[c,u]=g.useState(!1),[d,f]=g.useState(!1),[h,m]=g.useState(!1),[v,p]=g.useState(!1),[b,x]=g.useState(""),[y,w]=g.useState(""),[j,N]=g.useState("profissional"),[_,k]=g.useState("engajamento"),[O,E]=g.useState(""),[T,P]=g.useState("bullets"),[S,R]=g.useState({name:"",description:"",type:"suporte",status:"ativo",system_prompt:"",model:"google/gemini-2.5-flash",temperature:.7,max_tokens:1e3}),M=()=>{R({name:"",description:"",type:"suporte",status:"ativo",system_prompt:"",model:"google/gemini-2.5-flash",temperature:.7,max_tokens:1e3}),l(null)},B=async()=>{try{const{data:K,error:D}=await le.from("ai_agents").select("*").order("created_at",{ascending:!1});if(D)throw D;t(K||[])}catch(K){console.error("Error loading agents:",K),ae.error("Erro ao carregar agentes")}finally{n(!1)}};g.useEffect(()=>{B()},[]);const U=async()=>{if(!S.name||!S.system_prompt){ae.error("Nome e prompt do sistema são obrigatórios");return}try{const{data:{user:K}}=await le.auth.getUser();if(!K){ae.error("Você precisa estar autenticado");return}if(o){const{error:D}=await le.from("ai_agents").update(S).eq("id",o.id);if(D)throw D;ae.success("Agente atualizado com sucesso!")}else{const{error:D}=await le.from("ai_agents").insert([{...S,created_by:K.id}]);if(D)throw D;ae.success("Agente criado com sucesso!")}i(!1),M(),B()}catch(K){console.error("Error:",K),ae.error(K.message||"Erro ao salvar agente")}},F=K=>{l(K),R({name:K.name,description:K.description||"",type:K.type,status:K.status,system_prompt:K.system_prompt,model:K.model,temperature:K.temperature,max_tokens:K.max_tokens}),i(!0)},z=async K=>{if(confirm("Tem certeza que deseja excluir este agente?"))try{const{error:D}=await le.from("ai_agents").delete().eq("id",K);if(D)throw D;ae.success("Agente excluído com sucesso!"),B()}catch(D){console.error("Error:",D),ae.error(D.message||"Erro ao excluir agente")}},I=K=>({vendas:"bg-green-500/10 text-green-500 border-green-500/20",suporte:"bg-blue-500/10 text-blue-500 border-blue-500/20",sdr:"bg-purple-500/10 text-purple-500 border-purple-500/20",atendimento:"bg-orange-500/10 text-orange-500 border-orange-500/20",outros:"bg-gray-500/10 text-gray-500 border-gray-500/20"})[K],G=K=>({ativo:"bg-green-500/10 text-green-500",inativo:"bg-red-500/10 text-red-500",treinamento:"bg-yellow-500/10 text-yellow-500"})[K],L=async()=>{p(!0),x("");try{const{data:K,error:D}=await le.functions.invoke("ai-generate-message",{body:{context:y,tone:j,objective:_}});if(D)throw D;x(K.message),ae.success("Mensagem gerada!")}catch(K){ae.error(K.message||"Erro ao gerar mensagem")}finally{p(!1)}},$=async()=>{p(!0),x("");try{const{data:K,error:D}=await le.functions.invoke("ai-summarize",{body:{text:O,format:T}});if(D)throw D;x(K.summary),ae.success("Resumo criado!")}catch(K){ae.error(K.message||"Erro ao criar resumo")}finally{p(!1)}},J=async()=>{p(!0),x("");try{const{data:K,error:D}=await le.functions.invoke("ai-optimize-campaign",{body:{campaignData:{name:"Campanha",sent:1234,deliveryRate:97}}});if(D)throw D;x(K.recommendations),ae.success("Análise concluída!")}catch(K){ae.error(K.message||"Erro")}finally{p(!1)}};return r?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx(gt,{className:"h-8 w-8 animate-spin"})}):s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:s.jsx("div",{className:"flex h-16 items-center px-6",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(mn,{className:"h-5 w-5 text-muted-foreground"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Sistema"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"/"}),s.jsx("span",{className:"text-sm font-medium",children:"Agentes de IA"})]})})}),s.jsx("div",{className:"flex-1 overflow-auto",children:s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Agentes de IA"}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("p",{className:"text-muted-foreground",children:"Crie agentes especializados e utilize ferramentas de IA"}),s.jsxs(Le,{variant:"outline",className:"text-xs",children:[s.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2 animate-pulse"}),"IA Ativa"]})]})]})}),s.jsxs(Na,{defaultValue:"agents",className:"space-y-6",children:[s.jsxs(Jn,{className:"grid w-full grid-cols-3 max-w-2xl",children:[s.jsxs(et,{value:"agents",children:[s.jsx(mn,{className:"h-4 w-4 mr-2"}),"Meus Agentes"]}),s.jsxs(et,{value:"test",children:[s.jsx(ha,{className:"h-4 w-4 mr-2"}),"Testar Agentes"]}),s.jsxs(et,{value:"tools",children:[s.jsx(At,{className:"h-4 w-4 mr-2"}),"Ferramentas IA"]})]}),s.jsxs(dt,{value:"agents",className:"space-y-6",children:[s.jsx("div",{className:"flex justify-end",children:s.jsxs(Qt,{open:a,onOpenChange:K=>{i(K),K||M()},children:[s.jsx(mz,{asChild:!0,children:s.jsxs(Q,{className:"bg-gradient-to-r from-primary to-purple-500",children:[s.jsx(wr,{className:"h-4 w-4 mr-2"}),"Criar Agente"]})}),s.jsxs(Ut,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Jt,{children:[s.jsx(er,{children:o?"Editar Agente":"Criar Novo Agente"}),s.jsx(or,{children:"Configure um agente de IA"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(fe,{children:"Nome do Agente"}),s.jsx(qe,{value:S.name,onChange:K=>R({...S,name:K.target.value})})]}),s.jsxs("div",{children:[s.jsx(fe,{children:"Descrição"}),s.jsx(Gn,{value:S.description,onChange:K=>R({...S,description:K.target.value}),rows:2})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(fe,{children:"Tipo"}),s.jsxs(ot,{value:S.type,onValueChange:K=>R({...S,type:K}),children:[s.jsx(nt,{children:s.jsx(lt,{})}),s.jsxs(at,{children:[s.jsx(re,{value:"vendas",children:"Vendas"}),s.jsx(re,{value:"suporte",children:"Suporte"}),s.jsx(re,{value:"sdr",children:"SDR"}),s.jsx(re,{value:"atendimento",children:"Atendimento"}),s.jsx(re,{value:"outros",children:"Outros"})]})]})]}),s.jsxs("div",{children:[s.jsx(fe,{children:"Status"}),s.jsxs(ot,{value:S.status,onValueChange:K=>R({...S,status:K}),children:[s.jsx(nt,{children:s.jsx(lt,{})}),s.jsxs(at,{children:[s.jsx(re,{value:"ativo",children:"Ativo"}),s.jsx(re,{value:"inativo",children:"Inativo"}),s.jsx(re,{value:"treinamento",children:"Treinamento"})]})]})]})]}),s.jsxs("div",{children:[s.jsx(fe,{children:"Prompt do Sistema"}),s.jsx(Gn,{value:S.system_prompt,onChange:K=>R({...S,system_prompt:K.target.value}),rows:6})]}),s.jsxs(Q,{onClick:U,className:"w-full",children:[o?"Atualizar":"Criar"," Agente"]})]})]})]})}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[s.jsxs(ie,{className:"relative overflow-hidden border-2 hover:border-primary/50 transition-all duration-300 hover:shadow-lg group",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-blue-500/5 to-transparent rounded-full -mr-16 -mt-16 group-hover:scale-110 transition-transform"}),s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium text-muted-foreground",children:"Total de Agentes"}),s.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-500/10 flex items-center justify-center group-hover:bg-blue-500/20 transition-colors",children:s.jsx(mn,{className:"h-5 w-5 text-blue-600"})})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-3xl font-bold tracking-tight",children:e.length}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[e.filter(K=>K.status==="ativo").length," ativos"]})]})]}),s.jsxs(ie,{className:"relative overflow-hidden border-2 hover:border-primary/50 transition-all duration-300 hover:shadow-lg group",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-green-500/5 to-transparent rounded-full -mr-16 -mt-16 group-hover:scale-110 transition-transform"}),s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium text-muted-foreground",children:"Agentes Ativos"}),s.jsx("div",{className:"h-10 w-10 rounded-full bg-green-500/10 flex items-center justify-center group-hover:bg-green-500/20 transition-colors",children:s.jsx(mn,{className:"h-5 w-5 text-green-600"})})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-3xl font-bold tracking-tight",children:e.filter(K=>K.status==="ativo").length}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Prontos para atender"})]})]}),s.jsxs(ie,{className:"relative overflow-hidden border-2 hover:border-primary/50 transition-all duration-300 hover:shadow-lg group",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-purple-500/5 to-transparent rounded-full -mr-16 -mt-16 group-hover:scale-110 transition-transform"}),s.jsxs(me,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium text-muted-foreground",children:"Modelo IA"}),s.jsx("div",{className:"h-10 w-10 rounded-full bg-purple-500/10 flex items-center justify-center group-hover:bg-purple-500/20 transition-colors",children:s.jsx(ha,{className:"h-5 w-5 text-purple-600"})})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-3xl font-bold tracking-tight",children:"Gemini 2.5"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Google Flash"})]})]})]}),e.length===0?s.jsxs(ie,{className:"p-12 text-center",children:[s.jsx(mn,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Nenhum agente criado"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Crie seu primeiro agente de IA"}),s.jsxs(Q,{onClick:()=>i(!0),children:[s.jsx(wr,{className:"h-4 w-4 mr-2"}),"Criar Primeiro Agente"]})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(K=>s.jsxs(ie,{className:"border-2 hover:border-primary/50 transition-all duration-300 hover:shadow-lg group",children:[s.jsx(me,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(pe,{className:"text-lg",children:K.name}),K.description&&s.jsx(De,{className:"mt-1",children:K.description})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>F(K),children:s.jsx(dl,{className:"h-4 w-4"})}),s.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>z(K.id),children:s.jsx(no,{className:"h-4 w-4 text-destructive"})})]})]})}),s.jsxs(ue,{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Le,{variant:"outline",className:I(K.type),children:K.type}),s.jsx(Le,{className:G(K.status),children:K.status})]}),s.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[s.jsxs("p",{children:["Modelo: ",K.model]}),s.jsxs("p",{children:["Temperatura: ",K.temperature]})]})]})]},K.id))})]}),s.jsx(dt,{value:"test",className:"space-y-6 mt-6",children:s.jsx(rRe,{})}),s.jsxs(dt,{value:"tools",className:"space-y-6",children:[s.jsxs(ie,{className:"border-2 hover:border-primary/30 transition-all shadow-lg",children:[s.jsxs(me,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(ha,{className:"h-5 w-5 text-primary"}),"Ferramentas de IA"]}),s.jsx(De,{children:"Utilize ferramentas inteligentes para otimizar seu trabalho"})]}),s.jsx(ue,{children:s.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[s.jsx(ie,{className:"cursor-pointer hover:border-primary/50 transition-all duration-300 hover:shadow-lg group",onClick:()=>u(!0),children:s.jsxs(me,{children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:s.jsx(At,{className:"h-6 w-6 text-white"})}),s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(ha,{className:"h-4 w-4 text-blue-600"}),"Gerar Mensagem"]}),s.jsx(De,{children:"Mensagens persuasivas com IA"})]})}),s.jsx(ie,{className:"cursor-pointer hover:border-primary/50 transition-all duration-300 hover:shadow-lg group",onClick:()=>f(!0),children:s.jsxs(me,{children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:s.jsx(wQ,{className:"h-6 w-6 text-white"})}),s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(ha,{className:"h-4 w-4 text-purple-600"}),"Resumir"]}),s.jsx(De,{children:"Resumos inteligentes"})]})}),s.jsx(ie,{className:"cursor-pointer hover:border-primary/50 transition-all duration-300 hover:shadow-lg group",onClick:()=>m(!0),children:s.jsxs(me,{children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-br from-orange-500 to-orange-600 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform",children:s.jsx(xt,{className:"h-6 w-6 text-white"})}),s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(ha,{className:"h-4 w-4 text-orange-600"}),"Otimizar"]}),s.jsx(De,{children:"Melhore campanhas"})]})})]})})]}),s.jsx(Qt,{open:c,onOpenChange:u,children:s.jsxs(Ut,{className:"max-w-2xl",children:[s.jsxs(Jt,{children:[s.jsx(er,{children:"Gerar Mensagem com IA"}),s.jsx(or,{children:"Configure e gere sua mensagem"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(fe,{children:"Contexto"}),s.jsx(Gn,{value:y,onChange:K=>w(K.target.value),rows:4})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(fe,{children:"Tom"}),s.jsxs(ot,{value:j,onValueChange:N,children:[s.jsx(nt,{children:s.jsx(lt,{})}),s.jsxs(at,{children:[s.jsx(re,{value:"profissional",children:"Profissional"}),s.jsx(re,{value:"amigavel",children:"Amigável"}),s.jsx(re,{value:"urgente",children:"Urgente"})]})]})]}),s.jsxs("div",{children:[s.jsx(fe,{children:"Objetivo"}),s.jsxs(ot,{value:_,onValueChange:k,children:[s.jsx(nt,{children:s.jsx(lt,{})}),s.jsxs(at,{children:[s.jsx(re,{value:"engajamento",children:"Engajamento"}),s.jsx(re,{value:"conversao",children:"Conversão"}),s.jsx(re,{value:"informativo",children:"Informativo"})]})]})]})]}),s.jsx(Q,{onClick:L,disabled:v||!y,className:"w-full",children:v?"Gerando...":"Gerar Mensagem"}),b&&s.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[s.jsx(fe,{className:"font-semibold mb-2 block",children:"Resultado:"}),s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:b})]})]})]})}),s.jsx(Qt,{open:d,onOpenChange:f,children:s.jsxs(Ut,{className:"max-w-2xl",children:[s.jsxs(Jt,{children:[s.jsx(er,{children:"Resumir com IA"}),s.jsx(or,{children:"Cole o texto para resumir"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(fe,{children:"Texto"}),s.jsx(Gn,{value:O,onChange:K=>E(K.target.value),rows:6})]}),s.jsxs("div",{children:[s.jsx(fe,{children:"Formato"}),s.jsxs(ot,{value:T,onValueChange:P,children:[s.jsx(nt,{children:s.jsx(lt,{})}),s.jsxs(at,{children:[s.jsx(re,{value:"bullets",children:"Bullet Points"}),s.jsx(re,{value:"paragraph",children:"Parágrafo"})]})]})]}),s.jsx(Q,{onClick:$,disabled:v||!O,className:"w-full",children:v?"Resumindo...":"Criar Resumo"}),b&&s.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[s.jsx(fe,{className:"font-semibold mb-2 block",children:"Resumo:"}),s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:b})]})]})]})}),s.jsx(Qt,{open:h,onOpenChange:m,children:s.jsxs(Ut,{className:"max-w-2xl",children:[s.jsxs(Jt,{children:[s.jsx(er,{children:"Otimizar Campanha"}),s.jsx(or,{children:"Análise de campanha"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[s.jsxs("p",{className:"text-sm",children:[s.jsx("strong",{children:"Campanha:"})," Lançamento"]}),s.jsxs("p",{className:"text-sm",children:[s.jsx("strong",{children:"Taxa de entrega:"})," 97%"]})]}),s.jsx(Q,{onClick:J,disabled:v,className:"w-full",children:v?"Analisando...":"Analisar"}),b&&s.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[s.jsx(fe,{className:"font-semibold mb-2 block",children:"Recomendações:"}),s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:b})]})]})]})})]})]})]})})]})},aRe=Yc("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),yd=g.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:ve(aRe({variant:t}),e),...r}));yd.displayName="Alert";const sRe=g.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:ve("mb-1 font-medium leading-none tracking-tight",e),...t}));sRe.displayName="AlertTitle";const xd=g.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ve("text-sm [&_p]:leading-relaxed",e),...t}));xd.displayName="AlertDescription";function iRe({open:e,onOpenChange:t,onSuccess:r}){const{currentOrg:n}=bn(),[a,i]=g.useState(!1),[o,l]=g.useState("qr"),[c,u]=g.useState(""),[d,f]=g.useState(""),[h,m]=g.useState(""),[v,p]=g.useState(""),[b,x]=g.useState(""),[y,w]=g.useState("waiting"),[j,N]=g.useState(null);g.useEffect(()=>{console.log("WhatsApp QR Effect:",{open:e,hasQrCodeData:!!h,currentOrg:n==null?void 0:n.name}),e&&!h&&n?(console.log("Gerando QR Code automaticamente..."),_()):e&&!n&&console.warn("Modal aberto mas currentOrg não está definida ainda")},[e,n]);const _=async()=>{var S,R,M;console.log("generateQRCodeNow chamada! currentOrg:",n),i(!0);try{if(!n){console.error("Erro: currentOrg não definida"),Nn({title:"Organização não encontrada",description:"Por favor, selecione uma organização antes de conectar o WhatsApp",variant:"destructive"}),i(!1);return}const B=`wa_${Date.now()}_${Math.random().toString(36).substring(2,9)}`;x(B);const{data:U,error:F}=await le.functions.invoke("whatsapp-qr-connect",{body:{action:"save_qr_connection",orgId:n.id,sessionId:B,name:d||"WhatsApp",credentials:{phone_number:c||"pending"}}});if(F)throw F;if(!U.success)throw new Error(U.error||"Erro ao gerar QR Code");m(U.qrCodeText),p(`data:image/png;base64,${U.qrCode}`),w("waiting"),Nn({title:"QR Code Gerado!",description:"Escaneie com seu WhatsApp"}),k(B)}catch(B){console.error("Error generating QR Code:",B),(S=B.message)!=null&&S.includes("fetch")||(R=B.message)!=null&&R.includes("Evolution")||(M=B.message)!=null&&M.includes("EVOLUTION")?Nn({title:"Evolution API não configurada",description:"Para usar QR Code real, configure a Evolution API. Por enquanto, use conexão manual.",variant:"destructive"}):Nn({title:"Erro ao gerar QR Code",description:B.message||"Erro desconhecido. Verifique se a Evolution API está rodando.",variant:"destructive"}),w("failed")}finally{i(!1)}},k=S=>{const R="http://localhost:8080",M="minha-chave-123",B=setInterval(async()=>{try{(await(await fetch(`${R}/instance/connectionState/${S}`,{headers:{apikey:M}})).json()).state==="open"&&(clearInterval(B),w("connected"),await le.from("channel_accounts").update({status:"active"}).eq("credentials->>session_id",S),l("success"),Nn({title:"Conectado!",description:"WhatsApp conectado com sucesso"}),r&&r())}catch(U){console.error("Error:",U)}},3e3);N(B),setTimeout(()=>{clearInterval(B),y==="waiting"&&(w("failed"),Nn({title:"Timeout",description:"Tempo limite excedido"}))},3e5)},O=()=>{j&&(clearInterval(j),N(null)),l("qr"),u(""),f(""),m(""),p(""),x(""),w("waiting"),t(!1)},E=()=>{j&&(clearInterval(j),N(null)),w("waiting"),_()},T=async()=>{try{await navigator.clipboard.writeText(h),Nn({title:"Copiado!",description:"Dados do QR Code copiados para a área de transferência"})}catch{Nn({title:"Erro",description:"Não foi possível copiar os dados"})}},P=()=>{if(v){const S=document.createElement("a");S.download=`whatsapp-qr-${b}.png`,S.href=v,S.click()}};return g.useEffect(()=>()=>{j&&clearInterval(j)},[j]),s.jsx(Qt,{open:e,onOpenChange:O,children:s.jsxs(Ut,{className:"max-w-lg",children:[s.jsxs(Jt,{children:[s.jsxs(er,{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-10 w-10 rounded-lg bg-gradient-to-br from-green-500 to-green-600 flex items-center justify-center text-white font-bold",children:o==="qr"?s.jsx(IQ,{className:"h-6 w-6"}):s.jsx(Cf,{className:"h-6 w-6"})}),o==="qr"&&"Conectar WhatsApp via QR Code",o==="success"&&"WhatsApp Conectado!"]}),s.jsxs(or,{children:[o==="qr"&&"Escaneie o QR Code com seu WhatsApp para conectar",o==="success"&&"Sua conta foi conectada com sucesso"]})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[o==="qr"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-center space-y-4",children:[s.jsxs("div",{className:"relative inline-block",children:[v?s.jsx("img",{src:v,alt:"QR Code WhatsApp",className:"border-2 border-gray-200 rounded-lg shadow-lg w-64 h-64"}):s.jsx("div",{className:"w-64 h-64 border-2 border-gray-200 rounded-lg flex items-center justify-center",children:s.jsx("p",{className:"text-sm text-gray-400",children:"QR Code aparecerá aqui"})}),a&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/90 rounded-lg",children:s.jsxs("div",{className:"text-center",children:[s.jsx(gt,{className:"h-8 w-8 animate-spin mx-auto mb-2 text-green-600"}),s.jsx("p",{className:"text-sm font-medium",children:"Gerando QR Code..."})]})}),y==="waiting"&&!a&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/90 rounded-lg",children:s.jsxs("div",{className:"text-center",children:[s.jsx(gt,{className:"h-8 w-8 animate-spin mx-auto mb-2 text-green-600"}),s.jsx("p",{className:"text-sm font-medium",children:"Aguardando conexão..."})]})}),y==="connected"&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-green-50 rounded-lg",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ks,{className:"h-8 w-8 mx-auto mb-2 text-green-600"}),s.jsx("p",{className:"text-sm font-medium text-green-600",children:"Conectado!"})]})}),y==="failed"&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-red-50 rounded-lg",children:s.jsxs("div",{className:"text-center",children:[s.jsx(cl,{className:"h-8 w-8 mx-auto mb-2 text-red-600"}),s.jsx("p",{className:"text-sm font-medium text-red-600",children:"Falha na conexão"})]})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-medium",children:"Instruções:"}),s.jsxs("ol",{className:"text-sm text-muted-foreground space-y-1 text-left",children:[s.jsx("li",{children:"1. Abra o WhatsApp no seu celular"}),s.jsx("li",{children:'2. Toque em "Menu" → "Dispositivos conectados"'}),s.jsx("li",{children:'3. Toque em "Conectar um dispositivo"'}),s.jsx("li",{children:"4. Escaneie o QR Code acima"})]})]}),s.jsxs("div",{className:"flex gap-2 justify-center",children:[s.jsxs(Q,{variant:"outline",size:"sm",onClick:T,disabled:!h,children:[s.jsx(Iu,{className:"h-4 w-4 mr-2"}),"Copiar Dados"]}),s.jsxs(Q,{variant:"outline",size:"sm",onClick:P,disabled:!h,children:[s.jsx($i,{className:"h-4 w-4 mr-2"}),"Baixar QR"]}),y==="failed"&&s.jsxs(Q,{variant:"outline",size:"sm",onClick:E,children:[s.jsx(Qn,{className:"h-4 w-4 mr-2"}),"Tentar Novamente"]})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[s.jsx(Q,{variant:"outline",onClick:O,children:"Cancelar"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:a?"Gerando QR Code...":h?"QR Code ativo":"Aguardando..."})]})]}),o==="success"&&s.jsxs(s.Fragment,{children:[s.jsxs(yd,{className:"bg-green-500/10 border-green-500/20",children:[s.jsx(ks,{className:"h-4 w-4 text-green-500"}),s.jsxs(xd,{children:[s.jsx("strong",{children:"WhatsApp Conectado!"}),s.jsx("br",{}),"Sua conta ",c," foi conectada com sucesso e está pronta para uso."]})]}),s.jsx(yd,{children:s.jsxs(xd,{className:"text-sm",children:[s.jsx("strong",{children:"O que você pode fazer agora:"}),s.jsx("br",{}),"• Enviar e receber mensagens",s.jsx("br",{}),"• Gerenciar conversas no Inbox",s.jsx("br",{}),"• Configurar respostas automáticas",s.jsx("br",{}),"• Acessar estatísticas de uso"]})}),s.jsx("div",{className:"flex justify-end pt-4 border-t",children:s.jsx(Q,{onClick:O,className:"bg-gradient-to-r from-green-500 to-green-600",children:"Concluir"})})]})]})]})})}function oRe({open:e,onOpenChange:t,onSuccess:r}){const{currentOrg:n}=bn(),{toast:a}=Sb(),[i,o]=g.useState(!1),[l,c]=g.useState(!1),[u,d]=g.useState("idle"),[f,h]=g.useState(""),m="https://bjsuujkbrhjhuyzydxbr.supabase.co/functions/v1/whatsapp-webhook";g.useEffect(()=>{e&&console.log("WhatsApp Business Connect Modal aberto",{currentOrg:n==null?void 0:n.name})},[e,n]);const v=async()=>{var b,x;c(!0),d("idle");try{const y=await fetch(m,{method:"GET"});if(y.status===403||y.ok)console.log("Webhook response status:",y.status),d("success"),a({title:"Webhook acessível!",description:"O webhook do WhatsApp está respondendo. Configure o verify_token no Meta for Developers."});else throw new Error(`Status inesperado: ${y.status}`)}catch(y){console.error("Erro ao testar webhook:",y),(b=y.message)!=null&&b.includes("fetch")||(x=y.message)!=null&&x.includes("network")?(d("success"),a({title:"Webhook provavelmente funcionando",description:"Não foi possível testar completamente devido a CORS, mas o endpoint existe."})):(d("error"),a({title:"Erro no webhook",description:y.message||"Não foi possível conectar ao webhook.",variant:"destructive"}))}finally{c(!1)}},p=async()=>{if(!n){a({title:"Erro",description:"Organização não encontrada. Recarregue a página.",variant:"destructive"});return}if(!f.trim()){a({title:"Erro",description:"Por favor, digite um número de telefone para teste.",variant:"destructive"});return}o(!0);try{const{data:b,error:x}=await le.from("channel_accounts").insert({org_id:n.id,name:"WhatsApp Business API",channel_type:"whatsapp",status:"active",credentials_json:{phone_number:f,api_type:"business_api",connected_at:new Date().toISOString(),webhook_url:m}}).select().single();if(x)throw console.error("Erro ao salvar canal:",x),new Error(x.message);console.log("Canal WhatsApp Business API salvo:",b),a({title:"WhatsApp conectado!",description:"WhatsApp Business API configurado com sucesso."}),r&&r(),t(!1)}catch(b){console.error("Erro ao conectar WhatsApp Business API:",b),a({title:"Erro ao conectar",description:b.message||"Não foi possível conectar o WhatsApp Business API.",variant:"destructive"})}finally{o(!1)}};return s.jsx(Qt,{open:e,onOpenChange:t,children:s.jsxs(Ut,{className:"sm:max-w-[600px]",children:[s.jsxs(Jt,{children:[s.jsxs(er,{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-8 w-8 rounded-lg bg-gradient-to-br from-green-600 to-green-700 flex items-center justify-center text-white font-bold text-sm",children:"W"}),"Conectar WhatsApp Business API"]}),s.jsx(or,{children:"Configure o WhatsApp Business API oficial da Meta"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(fe,{children:"Status do Webhook"}),s.jsxs("div",{className:"p-4 rounded-lg border bg-muted/50 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-medium",children:"URL do Webhook"}),s.jsx("code",{className:"text-xs text-muted-foreground break-all",children:m})]}),s.jsx(Q,{variant:"outline",size:"sm",onClick:v,disabled:l,children:l?s.jsxs(s.Fragment,{children:[s.jsx(gt,{className:"h-4 w-4 mr-2 animate-spin"}),"Testando..."]}):"Testar"})]}),u==="success"&&s.jsxs(yd,{className:"bg-green-50 border-green-200 dark:bg-green-900/20 dark:border-green-800",children:[s.jsx(gs,{className:"h-4 w-4 text-green-600"}),s.jsx(xd,{className:"text-green-800 dark:text-green-200",children:"Webhook funcionando corretamente!"})]}),u==="error"&&s.jsxs(yd,{className:"bg-red-50 border-red-200 dark:bg-red-900/20 dark:border-red-800",children:[s.jsx(cl,{className:"h-4 w-4 text-red-600"}),s.jsx(xd,{className:"text-red-800 dark:text-red-200",children:"Erro ao conectar ao webhook. Verifique a configuração."})]})]})]}),s.jsxs(yd,{children:[s.jsx(cl,{className:"h-4 w-4"}),s.jsxs(xd,{children:[s.jsx("p",{className:"font-medium mb-2",children:"Antes de conectar, certifique-se de:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm",children:[s.jsx("li",{children:"Configurar o app no Meta for Developers"}),s.jsx("li",{children:"Adicionar o webhook no painel do WhatsApp"}),s.jsx("li",{children:"Configurar as variáveis de ambiente no Supabase"})]}),s.jsxs("a",{href:"/docs/WHATSAPP_BUSINESS_API_SETUP.md",target:"_blank",className:"text-primary hover:underline flex items-center gap-1 mt-2 text-sm",children:["Ver guia completo ",s.jsx(J6,{className:"h-3 w-3"})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(fe,{htmlFor:"phone",children:"Número de Telefone (para teste)"}),s.jsx(qe,{id:"phone",placeholder:"Ex: +5511999999999",value:f,onChange:b=>h(b.target.value),disabled:i}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Digite um número para associar a esta conexão"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(Q,{variant:"outline",onClick:()=>t(!1),disabled:i,className:"flex-1",children:"Cancelar"}),s.jsx(Q,{onClick:p,disabled:i||!f.trim(),className:"flex-1",children:i?s.jsxs(s.Fragment,{children:[s.jsx(gt,{className:"h-4 w-4 mr-2 animate-spin"}),"Conectando..."]}):"Conectar"})]})]})]})})}function lRe({open:e,onOpenChange:t,channel:r,onDisconnect:n}){if(!r)return null;const a=()=>{n(r.id),t(!1)};return s.jsx(Qt,{open:e,onOpenChange:t,children:s.jsxs(Ut,{className:"sm:max-w-[500px]",children:[s.jsxs(Jt,{children:[s.jsxs(er,{className:"flex items-center gap-2",children:[s.jsx(qr,{className:"h-5 w-5"}),"Configurações do Canal"]}),s.jsx(or,{children:"Gerencie as configurações e credenciais do canal conectado"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(fe,{className:"text-sm font-medium",children:"Nome do Canal"}),s.jsx(qe,{value:r.name,disabled:!0,className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(fe,{className:"text-sm font-medium",children:"Tipo"}),s.jsx("div",{className:"mt-1",children:s.jsx(Le,{variant:"secondary",className:"capitalize",children:r.channel_type})})]}),s.jsxs("div",{children:[s.jsx(fe,{className:"text-sm font-medium",children:"Status"}),s.jsx("div",{className:"mt-1",children:s.jsx(Le,{variant:r.status==="active"?"default":"secondary",className:"capitalize",children:r.status})})]})]}),s.jsx(xr,{}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium",children:"Ações do Canal"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Gerencie a conexão do canal"})]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Q,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>{console.log("Refresh token for channel:",r.id)},children:[s.jsx(Qn,{className:"h-4 w-4 mr-2"}),"Renovar Token"]}),s.jsxs(Q,{variant:"destructive",size:"sm",className:"flex-1",onClick:a,children:[s.jsx(no,{className:"h-4 w-4 mr-2"}),"Desconectar"]})]})]}),s.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[s.jsxs("p",{children:["Conectado em: ",new Date(r.created_at).toLocaleString("pt-BR")]}),s.jsxs("p",{children:["Última atualização: ",new Date(r.updated_at).toLocaleString("pt-BR")]})]})]})]})})}function cRe(){const{currentOrg:e}=bn(),[t,r]=g.useState([]),[n,a]=g.useState(!0),[i,o]=g.useState(null),[l,c]=g.useState([]),[u,d]=g.useState(!1),[f,h]=g.useState(!1),[m,v]=g.useState(!1),[p,b]=g.useState(null),[x,y]=g.useState({email:"",password:"",smtp_server:"",smtp_port:""}),{toast:w}=Sb();g.useEffect(()=>{e&&(_(),j())},[e]);const j=()=>{try{const F=localStorage.getItem("localChannels");if(F){const z=JSON.parse(F);c(z),console.log("📱 Canais locais carregados do localStorage:",z)}}catch(F){console.error("Erro ao carregar canais locais:",F)}},N=F=>{try{localStorage.setItem("localChannels",JSON.stringify(F)),console.log("💾 Canais locais salvos no localStorage:",F)}catch(z){console.error("Erro ao salvar canais locais:",z)}},_=async()=>{try{const{data:{user:F},error:z}=await le.auth.getUser();if(!F){o(null),r([]),a(!1);return}e?(o(e.id),k(e.id)):(o(null),r([]),a(!1))}catch(F){console.error("Error fetching user:",F),o(null),r([]),a(!1)}},k=async F=>{try{a(!0),console.log("🔄 Buscando canais para orgId:",F);const{data:z,error:I}=await le.from("channel_accounts").select("*").eq("org_id",F);console.log("📊 Todos os canais (sem filtro status):",{allData:z,allError:I});const{data:G,error:L}=await le.from("channel_accounts").select("*").eq("org_id",F).eq("status","active");if(console.log("📊 Busca direta da tabela:",{directData:G,directError:L}),!L&&G&&G.length>0){console.log("✅ Usando dados diretos da tabela (ativos):",G),r(G),a(!1);return}if(!I&&z&&z.length>0){console.log("⚠️ Nenhum canal ativo, mas há canais no total:",z);const $=z.filter(J=>J.status!=="inactive"&&J.status!=="disconnected");$.length>0?(console.log("📋 Usando canais não-desconectados:",$),r($)):(console.log("📋 Nenhum canal válido encontrado, limpando lista"),r([])),a(!1);return}try{console.log("🔄 Tentando Edge Function...");const{data:$,error:J}=await le.functions.invoke("get-channels",{body:{org_id:F}});if(console.log("📡 Resposta Edge Function:",{data:$,error:J}),J){console.log("⚠️ Edge Function falhou, usando dados diretos"),r(G||[]);return}console.log("✅ Usando dados da Edge Function:",$==null?void 0:$.channels),r(($==null?void 0:$.channels)||[])}catch($){console.log("⚠️ Edge Function não disponível:",$),r(G||[])}}catch(z){console.error("❌ Error fetching channels:",z),w({title:"Erro",description:"Erro ao carregar integrações"}),r([])}finally{a(!1)}},O=F=>[...t,...l].some(z=>z.channel_type===F),E=F=>{b(F),v(!0)},T=async F=>{var z;try{const I="670209849105494",G=((z={instagram:["pages_show_list","pages_messaging","instagram_basic","instagram_manage_messages"],facebook:["pages_show_list","pages_messaging"],messenger:["pages_show_list","pages_messaging"]}[F])==null?void 0:z.join(","))||"pages_show_list,pages_messaging",L=`${window.location.origin}/auth/callback`,$=`https://www.facebook.com/v18.0/dialog/oauth?client_id=${I}&redirect_uri=${encodeURIComponent(L)}&scope=${G}&response_type=code&state=${F}`,J=600,K=700,D=window.screen.width/2-J/2,oe=window.screen.height/2-K/2,V=window.open($,"MetaLogin",`width=${J},height=${K},left=${D},top=${oe},scrollbars=yes,resizable=yes`);if(!V){w({title:"Popup bloqueado",description:"Por favor, permita popups para este site e tente novamente."});return}const de=setInterval(()=>{try{if(V!=null&&V.closed&&(clearInterval(de),w({title:"Conexão cancelada",description:"A janela de autenticação foi fechada."})),V!=null&&V.location.search){const te=new URLSearchParams(V.location.search),ce=te.get("code");te.get("error")?(clearInterval(de),V.close(),w({title:"Erro na autenticação",description:"Não foi possível conectar com o Meta. Tente novamente."})):ce&&(clearInterval(de),V.close(),P(ce,F))}}catch{}},1e3);setTimeout(()=>{V.closed||(clearInterval(de),V.close(),w({title:"Timeout",description:"Tempo limite excedido. Tente novamente."}))},3e5)}catch(I){console.error("Error connecting:",I),w({title:"Erro ao conectar",description:I.message||"Não foi possível conectar. Tente novamente."})}},P=async(F,z)=>{try{const{data:I,error:G}=await le.functions.invoke("meta-oauth-exchange",{body:{code:F,channel_type:z,redirect_uri:`${window.location.origin}/auth/callback`}});if(G)throw G;if(!I.success)throw new Error(I.error||"Não foi possível obter token de acesso");const{access_token:L,pages:$}=I;if(!$||$.length===0){w({title:"Nenhuma página encontrada",description:"Você não tem páginas do Facebook. Crie uma página primeiro."});return}let J=$;if(z==="instagram"){const K=[];for(const D of $)try{(await(await fetch(`https://graph.facebook.com/v18.0/${D.id}?fields=instagram_business_account&access_token=${D.access_token}`)).json()).instagram_business_account&&K.push(D)}catch{}J=K}if(J.length===0){w({title:"Nenhuma página compatível",description:`Nenhuma página com ${z==="instagram"?"Instagram Business":"Messenger"} foi encontrada.`});return}J.length===1?await S(J[0],z):R(J,z)}catch(I){console.error("Error processing auth code:",I),w({title:"Erro ao processar autenticação",description:I.message||"Não foi possível processar a autenticação."})}},S=async(F,z)=>{try{let I={access_token:F.access_token,page_id:F.id,verify_token:M()};if(z==="instagram"){const K=await(await fetch(`https://graph.facebook.com/v18.0/${F.id}?fields=instagram_business_account&access_token=${F.access_token}`)).json();K.instagram_business_account&&(I.instagram_business_account_id=K.instagram_business_account.id)}const{data:G,error:L}=await le.functions.invoke("channel-connect",{body:{channel_type:z,name:`${F.name} - ${z}`,credentials:I,org_id:"00000000-0000-0000-0000-000000000000"}});if(L)throw L;const $={id:`local-${z}-${Date.now()}`,name:`${F.name} - ${z}`,channel_type:z,status:"active",credentials_json:I,created_at:new Date().toISOString()},J=[...l,$];c(J),localStorage.setItem("localChannels",JSON.stringify(J)),w({title:"Conectado com sucesso!",description:`${F.name} foi conectado ao ${z}.`})}catch(I){console.error("Error connecting to page:",I),w({title:"Erro ao conectar página",description:I.message||"Não foi possível conectar à página selecionada."})}},R=(F,z)=>{S(F[0],z)},M=()=>`verify_${Math.random().toString(36).substring(2,15)}`,B=async(F,z,I)=>{if(F==="whatsapp"){h(!0);return}if(F==="whatsapp-qr"){d(!0);return}if(F==="instagram"||F==="facebook"){await T(F);return}if(F==="email"){const G=prompt("Digite seu email:"),L=prompt("Digite sua senha do email:"),$=prompt("Servidor SMTP (ex: smtp.gmail.com):")||"smtp.gmail.com",J=prompt("Porta SMTP (ex: 587):")||"587";if(!G||!L){w({title:"Erro",description:"Email e senha são obrigatórios"});return}try{const K={email:G,password:L,smtp_server:$,smtp_port:J};if(i){const{data:D,error:oe}=await le.from("channel_accounts").insert({org_id:i,name:`Email - ${G}`,channel_type:"messenger",status:"active",credentials_json:K});if(oe){console.log("Erro ao salvar no Supabase, salvando localmente:",oe);const V={id:`local-email-${Date.now()}`,name:`Email - ${G}`,channel_type:"messenger",status:"active",credentials_json:K,created_at:new Date().toISOString()};r(de=>[...de,V])}else console.log("Email salvo no Supabase com sucesso:",D),k(i)}else{const D={id:`local-email-${Date.now()}`,name:`Email - ${G}`,channel_type:"email",status:"active",credentials_json:K,created_at:new Date().toISOString()};r(oe=>[...oe,D])}w({title:"Sucesso",description:`${z} conectado com sucesso!`})}catch(K){console.error("Error connecting:",K),w({title:"Erro",description:"Erro ao conectar integração"})}return}w({title:"Em breve",description:`${z} será implementado em breve!`})},U=async F=>{try{if(console.log("🗑️ [handleDisconnectChannel] Iniciando desconexão do canal:",F),F.startsWith("local-")){console.log("📱 Canal local detectado, removendo do localStorage"),c(G=>{const L=G.filter($=>$.id!==F);return N(L),console.log("✅ Canal local removido. Canais restantes:",L),L}),w({title:"Sucesso",description:"Canal desconectado com sucesso!"});return}console.log("🌐 Canal do banco de dados detectado, tentando deletar...");const{data:z,error:I}=await le.from("channel_accounts").delete().eq("id",F).select();if(console.log("📊 Resultado da deleção:",{deleteData:z,dbError:I}),I){console.error("❌ Erro ao deletar do banco:",I),console.log("🔄 Tentando desativar ao invés de deletar...");const{data:G,error:L}=await le.from("channel_accounts").update({status:"inactive"}).eq("id",F).select();if(console.log("📊 Resultado da desativação:",{updateData:G,updateError:L}),L)throw console.error("❌ Erro ao desativar:",L),new Error(`Não foi possível desconectar: ${L.message}`);w({title:"Sucesso",description:"Canal desativado com sucesso!"})}else console.log("✅ Canal deletado com sucesso!"),w({title:"Sucesso",description:"Canal desconectado com sucesso!"});console.log("🔄 Recarregando lista de canais..."),i?await k(i):await _(),console.log("✅ [handleDisconnectChannel] Processo concluído!")}catch(z){console.error("❌ [handleDisconnectChannel] Erro:",z),w({title:"Erro",description:z.message||"Erro ao desconectar canal"})}};return s.jsxs("div",{className:"p-8 space-y-8 bg-gradient-to-br from-background via-background to-primary/5 min-h-screen",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold tracking-tight bg-gradient-to-r from-primary to-primary/60 bg-clip-text text-transparent",children:"Integrações"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Conecte suas ferramentas favoritas e automatize seus processos"})]}),s.jsx("div",{className:"space-y-6",children:s.jsx("div",{children:s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[s.jsxs(ie,{className:"hover:shadow-lg transition-shadow",children:[s.jsx(me,{children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-12 w-12 rounded-lg bg-gradient-to-br from-pink-600 via-purple-600 to-orange-500 flex items-center justify-center",children:s.jsx(kQ,{className:"h-6 w-6 text-white"})}),s.jsx("div",{children:s.jsxs(pe,{className:"flex items-center gap-2",children:["Instagram",O("instagram")?s.jsxs(Le,{variant:"secondary",className:"bg-green-500/10 text-green-700",children:[s.jsx(gs,{className:"h-3 w-3 mr-1"}),"Conectado"]}):s.jsx(Le,{variant:"outline",children:"Disponível"})]})})]})})}),s.jsxs(ue,{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Conecte sua conta do Instagram"}),s.jsx(xr,{}),O("instagram")?s.jsxs("div",{className:"space-y-3",children:[(()=>{var F;const z=[...t,...l].find(I=>I.channel_type==="instagram");return z?s.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(gs,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:"Conectado"})]}),((F=z.credentials_json)==null?void 0:F.username)&&s.jsxs("p",{className:"text-xs text-green-700 dark:text-green-300",children:["@",z.credentials_json.username]}),s.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400",children:["Conectado em ",new Date(z.created_at).toLocaleDateString("pt-BR")]})]}):null})(),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Q,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>{const F=[...t,...l].find(z=>z.channel_type==="instagram");F&&E(F)},children:[s.jsx(qr,{className:"h-4 w-4 mr-2"}),"Configurar"]}),s.jsx(Q,{variant:"destructive",size:"sm",onClick:async()=>{const F=[...t,...l].find(z=>z.channel_type==="instagram");F&&await U(F.id)},children:"Desconectar"})]})]}):s.jsx(Q,{className:"w-full",onClick:()=>B("instagram","Instagram"),children:"Conectar"})]})]}),s.jsxs(ie,{className:"hover:shadow-lg transition-shadow",children:[s.jsx(me,{children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-12 w-12 rounded-lg bg-gradient-to-br from-blue-600 to-blue-700 flex items-center justify-center",children:s.jsx(Ad,{className:"h-6 w-6 text-white"})}),s.jsx("div",{children:s.jsxs(pe,{className:"flex items-center gap-2",children:["Email",O("email")?s.jsxs(Le,{variant:"secondary",className:"bg-green-500/10 text-green-700",children:[s.jsx(gs,{className:"h-3 w-3 mr-1"}),"Conectado"]}):s.jsx(Le,{variant:"outline",children:"Disponível"})]})})]})})}),s.jsxs(ue,{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Conecte sua conta de email"}),s.jsx(xr,{}),O("email")?s.jsxs("div",{className:"space-y-3",children:[(()=>{var F,z;const I=[...t,...l].find(G=>G.channel_type==="email");return I?s.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(gs,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:"Conectado"})]}),((F=I.credentials_json)==null?void 0:F.email)&&s.jsxs("p",{className:"text-xs text-green-700 dark:text-green-300",children:["📧 ",I.credentials_json.email]}),((z=I.credentials_json)==null?void 0:z.smtp_server)&&s.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400",children:["SMTP: ",I.credentials_json.smtp_server]}),s.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400",children:["Conectado em ",new Date(I.created_at).toLocaleDateString("pt-BR")]})]}):null})(),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Q,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>{const F=[...t,...l].find(z=>z.channel_type==="email");F&&E(F)},children:[s.jsx(qr,{className:"h-4 w-4 mr-2"}),"Configurar"]}),s.jsx(Q,{variant:"destructive",size:"sm",onClick:async()=>{const F=[...t,...l].find(z=>z.channel_type==="email");F&&await U(F.id)},children:"Desconectar"})]})]}):s.jsx(Q,{className:"w-full",onClick:()=>B("email","Email (SMTP)"),children:"Conectar"})]})]})]})})}),s.jsx(iRe,{open:u,onOpenChange:d,onSuccess:()=>{console.log("WhatsApp QR connect success");const F={id:`local-whatsapp-${Date.now()}`,org_id:"00000000-0000-0000-0000-000000000000",name:"WhatsApp Business",channel_type:"whatsapp",status:"active",credentials_json:{phone_number:"WhatsApp conectado",connected_at:new Date().toISOString()},created_at:new Date().toISOString(),updated_at:new Date().toISOString()};c(z=>{const I=[...z,F];return N(I),I}),setTimeout(()=>{i?(console.log("🔄 Recarregando canais após WhatsApp..."),k(i)):(console.log("🔄 Buscando orgId e canais após WhatsApp..."),_())},500),setTimeout(()=>{i&&(console.log("🔄 Segunda tentativa WhatsApp..."),k(i))},2e3),setTimeout(()=>{i&&(console.log("🔄 Terceira tentativa WhatsApp..."),k(i))},5e3)}}),s.jsx(oRe,{open:f,onOpenChange:h,onSuccess:()=>{console.log("WhatsApp Business API connect success"),i?k(i):_()}}),s.jsx(lRe,{open:m,onOpenChange:v,channel:p,onDisconnect:async()=>{p&&await U(p.id)}})]})}const ER=wB({email:Ws().email("Email inválido").max(255),password:Ws().min(6,"Senha deve ter no mínimo 6 caracteres").max(100),fullName:Ws().min(2,"Nome deve ter no mínimo 2 caracteres").max(100).optional()});function uRe(){const[e,t]=g.useState(""),[r,n]=g.useState(""),[a,i]=g.useState(""),[o,l]=g.useState(!1),[c,u]=g.useState(!1),d=Zp(),{toast:f}=Sb();g.useEffect(()=>{const v=localStorage.getItem("rememberMe"),p=localStorage.getItem("userEmail");v==="true"&&p&&(u(!0),t(p))},[]);const h=async v=>{v.preventDefault(),l(!0);try{const p=ER.parse({email:e,password:r,fullName:a}),b=`${window.location.origin}/`,{error:x}=await le.auth.signUp({email:p.email,password:p.password,options:{emailRedirectTo:b,data:{full_name:p.fullName}}});f(x?{title:"Erro no cadastro",description:x.message,variant:"destructive"}:{title:"Cadastro realizado!",description:"Verifique seu email para confirmar a conta."})}catch(p){p instanceof As&&f({title:"Dados inválidos",description:p.errors[0].message,variant:"destructive"})}finally{l(!1)}},m=async v=>{v.preventDefault(),l(!0);try{const p=ER.parse({email:e,password:r}),{error:b}=await le.auth.signInWithPassword({email:p.email,password:p.password});b?f({title:"Erro no login",description:b.message,variant:"destructive"}):(c?(localStorage.setItem("rememberMe","true"),localStorage.setItem("userEmail",p.email)):(localStorage.removeItem("rememberMe"),localStorage.removeItem("userEmail")),f({title:"Login realizado!",description:c?"Você permanecerá logado neste dispositivo.":"Login realizado com sucesso."}),d("/"))}catch(p){p instanceof As&&f({title:"Dados inválidos",description:p.errors[0].message,variant:"destructive"})}finally{l(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-background to-primary/5",children:s.jsxs(ie,{className:"w-full max-w-md mx-4",children:[s.jsxs(me,{children:[s.jsx(pe,{className:"text-2xl",children:"Omnichat IA"}),s.jsx(De,{children:"Entre ou crie sua conta para continuar"})]}),s.jsxs(ue,{children:[s.jsxs(Na,{defaultValue:"signin",className:"w-full",children:[s.jsxs(Jn,{className:"grid w-full grid-cols-2",children:[s.jsx(et,{value:"signin",children:"Entrar"}),s.jsx(et,{value:"signup",children:"Cadastrar"})]}),s.jsx(dt,{value:"signin",children:s.jsxs("form",{onSubmit:m,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"signin-email",children:"Email"}),s.jsx(qe,{id:"signin-email",type:"email",placeholder:"seu@email.com",value:e,onChange:v=>t(v.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"signin-password",children:"Senha"}),s.jsx(qe,{id:"signin-password",type:"password",placeholder:"••••••",value:r,onChange:v=>n(v.target.value),required:!0})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(qc,{id:"remember-me",checked:c,onCheckedChange:v=>u(v)}),s.jsx(fe,{htmlFor:"remember-me",className:"text-sm font-normal",children:"Permanecer logado"})]}),s.jsx(Q,{type:"submit",className:"w-full",disabled:o,children:o?"Entrando...":"Entrar"})]})}),s.jsx(dt,{value:"signup",children:s.jsxs("form",{onSubmit:h,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"signup-name",children:"Nome completo"}),s.jsx(qe,{id:"signup-name",type:"text",placeholder:"Seu nome",value:a,onChange:v=>i(v.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"signup-email",children:"Email"}),s.jsx(qe,{id:"signup-email",type:"email",placeholder:"seu@email.com",value:e,onChange:v=>t(v.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"signup-password",children:"Senha"}),s.jsx(qe,{id:"signup-password",type:"password",placeholder:"••••••",value:r,onChange:v=>n(v.target.value),required:!0})]}),s.jsx(Q,{type:"submit",className:"w-full",disabled:o,children:o?"Cadastrando...":"Cadastrar"})]})})]}),s.jsx("div",{className:"mt-6 pt-4 border-t text-center",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Ao continuar, você concorda com nossa"," ",s.jsx("a",{href:"/privacy-policy",className:"text-primary hover:underline",target:"_blank",rel:"noopener noreferrer",children:"Política de Privacidade"})]})})]})]})})}function dRe(){return s.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsx(pe,{className:"text-3xl font-bold",children:"Política de Privacidade"}),s.jsxs(De,{children:["Última atualização: ",new Date().toLocaleDateString("pt-BR")]})]}),s.jsxs(ue,{className:"space-y-6",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"1. Informações Gerais"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:'Esta Política de Privacidade descreve como o Omnichat IA ("nós", "nosso" ou "a empresa") coleta, usa, armazena e protege suas informações pessoais quando você utiliza nossos serviços.'})]}),s.jsx(xr,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"2. Informações que Coletamos"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium mb-2",children:"2.1 Informações Pessoais"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1",children:[s.jsx("li",{children:"Nome completo"}),s.jsx("li",{children:"Endereço de e-mail"}),s.jsx("li",{children:"Informações de perfil (quando fornecidas)"}),s.jsx("li",{children:"Credenciais de integração com plataformas sociais"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium mb-2",children:"2.2 Informações Técnicas"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1",children:[s.jsx("li",{children:"Endereço IP"}),s.jsx("li",{children:"Tipo de navegador e versão"}),s.jsx("li",{children:"Sistema operacional"}),s.jsx("li",{children:"Data e hora de acesso"}),s.jsx("li",{children:"Páginas visitadas"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium mb-2",children:"2.3 Dados de Integração"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1",children:[s.jsx("li",{children:"Tokens de acesso das plataformas sociais (Instagram, WhatsApp, Facebook)"}),s.jsx("li",{children:"IDs de páginas e perfis conectados"}),s.jsx("li",{children:"Configurações de canais de comunicação"})]})]})]})]}),s.jsx(xr,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"3. Como Utilizamos Suas Informações"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-2",children:[s.jsx("li",{children:"Fornecer e melhorar nossos serviços de comunicação omnichannel"}),s.jsx("li",{children:"Gerenciar suas integrações com plataformas sociais"}),s.jsx("li",{children:"Processar e enviar mensagens através dos canais conectados"}),s.jsx("li",{children:"Autenticar sua identidade e manter a segurança da conta"}),s.jsx("li",{children:"Comunicar atualizações importantes sobre nossos serviços"}),s.jsx("li",{children:"Fornecer suporte técnico quando necessário"}),s.jsx("li",{children:"Analisar o uso da plataforma para melhorias"})]})]}),s.jsx(xr,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"4. Compartilhamento de Informações"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"Não vendemos, alugamos ou compartilhamos suas informações pessoais com terceiros, exceto nas seguintes circunstâncias:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Prestadores de serviços:"})," Empresas que nos ajudam a operar nossa plataforma (ex: Supabase, Vercel)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Plataformas sociais:"})," Quando você conecta suas contas (Instagram, WhatsApp, Facebook)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Obrigação legal:"})," Quando exigido por lei ou processo legal"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Proteção de direitos:"})," Para proteger nossos direitos, propriedade ou segurança"]})]})]}),s.jsx(xr,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"5. Segurança dos Dados"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Implementamos medidas de segurança técnicas e organizacionais para proteger suas informações:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1",children:[s.jsx("li",{children:"Criptografia de dados em trânsito e em repouso"}),s.jsx("li",{children:"Autenticação segura e controle de acesso"}),s.jsx("li",{children:"Monitoramento regular de segurança"}),s.jsx("li",{children:"Backup seguro e recuperação de dados"}),s.jsx("li",{children:"Treinamento de equipe em práticas de segurança"})]})]})]}),s.jsx(xr,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"6. Seus Direitos"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:"Você tem os seguintes direitos em relação às suas informações pessoais:"}),s.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-1",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Acesso:"})," Solicitar uma cópia dos dados que temos sobre você"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Retificação:"})," Corrigir informações incorretas ou incompletas"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Exclusão:"})," Solicitar a remoção de seus dados pessoais"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Portabilidade:"})," Receber seus dados em formato estruturado"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Oposição:"})," Opor-se ao processamento de seus dados"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Restrição:"})," Limitar como processamos suas informações"]})]})]}),s.jsx(xr,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"7. Retenção de Dados"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Mantemos suas informações pessoais apenas pelo tempo necessário para cumprir os propósitos descritos nesta política, a menos que um período de retenção mais longo seja exigido por lei. Dados de integração são mantidos enquanto sua conta estiver ativa e você mantiver as conexões com as plataformas sociais."})]}),s.jsx(xr,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"8. Cookies e Tecnologias Similares"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Utilizamos cookies e tecnologias similares para melhorar sua experiência, analisar o uso da plataforma e personalizar conteúdo. Você pode controlar o uso de cookies através das configurações do seu navegador."})]}),s.jsx(xr,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"9. Alterações nesta Política"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Podemos atualizar esta Política de Privacidade periodicamente. Notificaremos sobre mudanças significativas através de e-mail ou aviso em nossa plataforma. A data da última atualização está indicada no início deste documento."})]}),s.jsx(xr,{}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"10. Contato"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Se você tiver dúvidas sobre esta Política de Privacidade ou sobre como tratamos suas informações pessoais, entre em contato conosco:"}),s.jsxs("div",{className:"mt-4 p-4 bg-muted rounded-lg",children:[s.jsx("p",{className:"font-medium",children:"Omnichat IA"}),s.jsx("p",{children:"E-mail: privacidade@omnichat-ia.com"}),s.jsx("p",{children:"Suporte: suporte@omnichat-ia.com"})]})]})]})]})})}const fRe=()=>{const e=Nl();return g.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),s.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),s.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},hRe=new hee({defaultOptions:{queries:{staleTime:60*1e3}}}),mRe=()=>s.jsx(mee,{client:hRe,children:s.jsx(jL,{children:s.jsxs(bne,{children:[s.jsx(NJ,{}),s.jsx(_te,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:s.jsxs(pte,{children:[s.jsx(Fn,{path:"/auth",element:s.jsx(uRe,{})}),s.jsx(Fn,{path:"/privacy-policy",element:s.jsx(dRe,{})}),s.jsx(Fn,{path:"/",element:s.jsx(zs,{children:s.jsx(Ls,{children:s.jsx(aTe,{})})})}),s.jsx(Fn,{path:"/inbox",element:s.jsx(zs,{children:s.jsx(Ls,{children:s.jsx(rMe,{})})})}),s.jsx(Fn,{path:"/contacts",element:s.jsx(zs,{children:s.jsx(Ls,{children:s.jsx(bo,{permission:"canManageContacts",children:s.jsx(A4e,{})})})})}),s.jsx(Fn,{path:"/campaigns",element:s.jsx(zs,{children:s.jsx(Ls,{children:s.jsx(bo,{permission:"canManageCampaigns",children:s.jsx(L4e,{})})})})}),s.jsx(Fn,{path:"/prospects",element:s.jsx(zs,{children:s.jsx(Ls,{children:s.jsx(bo,{permission:"canCreateProspects",children:s.jsx(U4e,{})})})})}),s.jsx(Fn,{path:"/attendants",element:s.jsx(zs,{children:s.jsx(Ls,{children:s.jsx(bo,{permission:"canManageAttendants",children:s.jsx(H4e,{})})})})}),s.jsx(Fn,{path:"/crm",element:s.jsx(zs,{children:s.jsx(Ls,{children:s.jsx(bo,{permission:"canManageCRM",children:s.jsx(Z4e,{})})})})}),s.jsx(Fn,{path:"/settings",element:s.jsx(zs,{children:s.jsx(Ls,{children:s.jsx(bo,{permission:"canManageSettings",children:s.jsx(tRe,{})})})})}),s.jsx(Fn,{path:"/agents",element:s.jsx(zs,{children:s.jsx(Ls,{children:s.jsx(bo,{permission:"canManageAIAgents",children:s.jsx(nRe,{})})})})}),s.jsx(Fn,{path:"/integrations",element:s.jsx(zs,{children:s.jsx(Ls,{children:s.jsx(bo,{permission:"canManageIntegrations",children:s.jsx(cRe,{})})})})}),s.jsx(Fn,{path:"*",element:s.jsx(fRe,{})})]})})]})})});E6(document.getElementById("root")).render(s.jsx(g.StrictMode,{children:s.jsx(mRe,{})}));
